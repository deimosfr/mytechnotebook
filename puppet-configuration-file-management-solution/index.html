<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A comprehensive guide to installing and configuring Puppet, a powerful configuration management tool that helps automate system administration tasks."><link href=https://wiki.deimos.fr/puppet-configuration-file-management-solution/ rel=canonical><link href=../mcollective-run-actions-in-parallel-on-remote-machines/ rel=prev><link href=../puppet-dashboard-setting-up-a-graphical-interface-for-puppet/ rel=next><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.14"><title>Puppet: Configuration File Management Solution - My Tech Notebook</title><link rel=stylesheet href=../assets/stylesheets/main.342714a4.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><script src=https://unpkg.com/iframe-worker/shim></script><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Lato:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Lato";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../stylesheets/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-4EGFC89L7K"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-4EGFC89L7K",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-4EGFC89L7K",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=blue> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#introduction class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../index.html title="My Tech Notebook" class="md-header__button md-logo" aria-label="My Tech Notebook" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> My Tech Notebook </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Puppet: Configuration File Management Solution </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=blue aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/deimosfr/mytechnotebook title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../index.html title="My Tech Notebook" class="md-nav__button md-logo" aria-label="My Tech Notebook" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> My Tech Notebook </label> <div class=md-nav__source> <a href=https://github.com/deimosfr/mytechnotebook title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg> </div> <div class=md-source__repository> GitHub </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../index.html class=md-nav__link> <span class=md-ellipsis> cd ~ </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <div class="md-nav__link md-nav__container"> <a href=../BSD/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13.695 1.653c-.202.47-.146 1.02-.293 1.509-.034.112-.146.452-.308.429-.333-.048-.16-.688-.545-.7l.12.934c-.577.073-.498-.829-.733-1.195-.27-.423-.335.192-.317.38.011.122.036.242.05.363.026.21.032.393.005.603-.552-.007-.35-.733-.754-.844l.03.874c-.612-.005-.89-.557-1.159-1.025-.112-.196-.261-.574-.53-.453.126.544.423 1.064.454 1.63.007.145-.13.516-.333.448-.469-.158-.406-1.008-.796-1.231-.08-.045-.204-.006-.29-.002 0 .45.198.996.356 1.418.034.09.129.41-.069.403-.353-.01-.441-.695-.8-.615.044.185.153.335.215.513.037.109.106.219.126.332.044.247-.269.267-.432.22-.384-.114-.66-.428-.935-.703-.076-.076-.277-.344-.404-.222-.141.135.136.373.215.464.234.271.488.589.6.935.049.148.058.36-.09.462-.146.1-.384-.083-.502-.16-.362-.239-.721-.654-1.176-.664l-.107.271.29.392.752.845-.875-.362c.035.229.583.506.475.742-.064.14-.38.142-.505.124-.446-.064-.762-.396-1.177-.515-.366-.105-.298.18-.09.343q.107.086.211.177.187.161.362.336c.183.183.343.378.513.573l-.875-.03v.06l.845.392-.151.603c-.244 0-.442-.067-.664-.163-.151-.066-.31-.175-.482-.163-.206.014-.328.202-.19.377.206.263.62.412.883.617.1.078.247.212.133.345-.225.264-.832-.074-1.128.013v.06c.275.161.839.253 1 .549.128.231-.232.756-.487.736-.227-.019-.436-.275-.603-.41-.401-.322-.83-.7-1.298-.923-.801-.38-1.597.226-2.232.622.081.256.402-.017.603.029.271.061.477.313.651.513.84.968 1.543 2.064 1.857 3.319.083.33.224.725-.023 1.021-.066.08-.165.09-.238.155-.055.05-.052.118.023.141.138.043.34-.021.475-.054.443-.107.949-.346 1.15-.78.125-.271.169-.797.48-.905.068.29.394.673.363.965-.029.259-.302.56-.461.751-.057.068-.193.217-.112.315.082.097.25-.112.3-.16.229-.216.73-.558.865-.062.118.432-.261 1.13-.45 1.509-.054.105-.297.435-.202.553.11.135.338-.218.387-.282.19-.249.856-.987 1.21-.722.431.324.282.555.119.994-.046.123-.216.433-.1.55.111.114.258.01.315-.098.104-.197.383-.78.661-.631.175.093.441.251.543.425.158.272.02.815-.022 1.111-.024.17-.207.702-.055.825.14.113.254-.228.296-.312.149-.295.32-.597.54-.845.08-.089.192-.237.327-.212.7.131-.015.829.273 1.185.058.072.215.067.3.083l.362-.935c.184.07.455.095.591.248.114.128.137.344.17.506.092.454.142.896.084 1.357.057.042.148.138.225.088.097-.062.11-.315.143-.42.106-.332.269-.65.42-.965.099-.207.37-.427.565-.142.2.292.12.804.246 1.138.32-.158.355-.825.362-1.147l.415.061.25.513.45 1.297c.234-.09.16-.538.187-.754.035-.293.103-.882.318-1.1.086-.087.258-.095.37-.137.129.312.199.666.354.965.06.116.198.242.337.17.133-.068.128-.224.111-.35-.042-.313-.113-.62-.138-.936.598-.042.95.441 1.325.845.145.155.271.362.485.422l-.31-.905-.172-.845c.217-.09.676-.534.905-.47.34.097.6 1.046 1.023.823.18-.095.088-.257.003-.383-.126-.188-.506-.639-.465-.874.03-.175.324-.379.494-.377.391.006 1.071.304 1.297.618l.272-.03c-.04-.54-.85-.787-.966-1.328a.4.4 0 0 1 .004-.172c.086-.347.294-.195.51-.102.067.029.213.103.269.02.06-.091-.048-.212-.087-.289-.082-.156-.156-.337-.122-.513.282.074.455.242.694.4.056.038.18.131.251.08.075-.056-.036-.167-.071-.208-.106-.123-.432-.42-.4-.6.022-.122.227-.252.31-.335.276-.276.59-.556.815-.875h.03c.532.621 2.203.186 1.99-.754-.132.019-.256.123-.392.077-.594-.205-.45-1.157-1.116-1.163-.049-.62-.298-1.24-.599-1.78-.138-.247-.424-.473-.525-.725-.055-.14-.046-.36-.052-.512.349-.054.177-.407.05-.603-.142-.218-.292-.477-.475-.66-.226-.227-.562-.374-.533-.758.027-.357.642-.311.747-.633-.183.008-.363.053-.543.083-.449.075-.527-.076-.317-.475.183-.349.474-.613.73-.905.083-.093.336-.306.205-.441-.107-.112-.286.058-.377.119-.333.22-.705.384-1.086.502-.113.035-.448.166-.486-.035-.051-.272.463-.322.395-.628-.205.049-.61.374-.807.223-.238-.18.111-.643.149-.856.038-.216-.136-.224-.258-.09q-.063.074-.12.15c-.07.087-.126.17-.17.271-.494-.288.44-.623.265-.89-.063-.095-.179 0-.235.05-.117.102-.558.61-.654.237-.106-.412.108-.908.22-1.297.028-.102.159-.376.032-.449-.185-.106-.266.253-.31.359a2.3 2.3 0 0 1-.615.839c-.086.077-.232.225-.36.19-.187-.051-.188-.57-.182-.728.003-.075.045-.205-.028-.26-.096-.071-.147.072-.16.14-.048.222-.186.856-.515.44-.298-.376.163-1.157-.444-1.315l-.332 1.056c-.398-.087-.31-.656-.211-.966l-.181-.06a3 3 0 0 1-.112.362c-.16.451-.375.539-.541.03-.127-.388-.082-.807-.145-1.207-.025-.159-.04-.32-.198-.392m.03.905c.153.364-.008.82.237 1.176.25.364.716.168 1.02.397.108.081.022.256-.007.358-.1.347-.278.604-.465.905.655-.335.875-1.29.965-1.96h.03c-.026.596-.007 1.182 0 1.779.003.27-.037.582.272.633V4.46c.323.093.808.502 1.159.381.179-.061.342-.277.467-.411q.14-.152.244-.332h.03l-.12.965-.302-.06.663.473.261.226-.2.294-.875.636c.637-.094.958-.564 1.418-.935-.15.63-.491 1.262-.332 1.93h.03l.362-1.448c.274.13.37.476.633.633.383.228.919-.204 1.267-.331-.227.322-.57.548-.633.965l-.272-.12c.236.606.519 1.19.62 1.84.093.594-.024 1.183.016 1.78.02.275.133.517.179.784-.563.191-.666.98-1.207 1.236.043-.188.11-.377.11-.573 0-.14-.066-.282-.03-.422.073-.277.314-.508.412-.784.152-.43.05-.835-.009-1.267l.301.03-.758-1.177-.376-.573.139-.392c-.762.586-1.867 1.188-1.87 2.293l.271-.091.09.664-.422.06v.06c.353.1.722.149 1.056.306.244.114.514.265.682.479.56.71.112 1.818-.31 2.473-.213.33-.594.634-.734.996.382-.092.577-.457.792-.754.091-.127.17-.303.325-.362.24-.09.32.354.371.512.065.2.218.546.18.755-.071.401-.415.662-.34 1.116.166-.202.217-.604.482-.702.17-.062.347.095.513.12.36.053.73-.082.996-.326.285-.263.48-.686.408-1.083-.043-.24-.177-.476-.16-.724.012-.2.148-.362.22-.543.173-.427.152-.912-.257-1.189a.86.86 0 0 0-.362-.138c.033-.222.264-.706.53-.418.188.202.29.558.396.81.389.918.392 2.006-.163 2.865-.394.61-1.02 1.11-1.548 1.6l-.21-.604h-.061c-.07.36.185.772.332 1.086-.33-.075-.645-.415-.996-.362.099.17.748.572.242.754.003.148-.11.25-.2.362-.201.248-.454.618-.766.724l-.573-1.508h-.03c.084.661.314 1.305.61 1.9.154.307.403.611.506.935-.187-.159-.306-.413-.466-.603a6.3 6.3 0 0 0-.952-.892c-.227-.177-.45-.376-.754-.345.345.31.868.475.835 1.056-.01.165-.193.237-.322.296-.339.155-.67.322-1.026.438-.098.032-.279.12-.382.087-.11-.037-.097-.277-.109-.369-.037-.285.121-1.028-.172-1.146-.128 1.01.132 1.929.21 2.926h-.03c-.17-.737-.439-1.558-.838-2.202-.11-.177-.343-.597-.579-.543l.62 1.086.013.46-.452.08-1.297.033c.047-.373.13-.746.2-1.116.014-.081.074-.326-.078-.326-.14 0-.169.408-.189.507-.108.542-.204 1.106-.205 1.66h-.03c0-.913-.41-1.73-.784-2.535-.104.155.041.377.086.543.099.371.113.737.065 1.116-.612-.118-1.275-.278-1.84-.543.149-.357.576-.889.573-1.267-.554.556-.804 1.335-1.086 2.052h-.03l.12-1.448-.21-1.237c-.132.133-.06.399-.04.573.033.275.015.688-.188.9-.112.117-.226.014-.346-.034-.335-.136-.582-.36-.875-.564-.104-.072-.293-.15-.28-.302.032-.433.656-.638.672-1.026-.72.31-1.062 1.088-1.629 1.57.186-.785.782-1.703.634-2.535-.152.084-.145.295-.185.453a4.3 4.3 0 0 1-.388.965c-.4-.231-.72-.623-.983-.996-.073-.102-.233-.26-.235-.392-.002-.128.145-.274.225-.362.244-.265.54-.465.872-.603-.237-.147-.706.2-.965.272.175-.37.65-.732.513-1.177-.393.307-.66.97-.935 1.388h-.03l-.574-1.267.754.271c.023-.27-.36-.373-.573-.422.126-.328.476-.578.392-.965h-.06c-.087.28-.269.759-.573.844l-.09-.482h-.03c-.119.253.029.447-.04.687-.037.125-.217.106-.28.222-.085.158-.092.37-.164.539-.172.407-.5.706-.904.874l-.037-.54.459-.515-.483.361c-.062-.161-.203-.465-.12-.633.073-.145.254-.24.362-.362l-.483.241c-.163-.422.135-.3.302-.603-.122.07-.325.2-.471.133-.187-.085-.384-.64-.464-.827l.512-.09v-.03c-.242.03-.626.12-.663-.211h.633v-.03l-.712-.08-.194-.252-.421-.543a2 2 0 0 1 .935 0c-.368-.387-1.024.182-1.327-.453l.754-.15v-.03c-.234 0-.67.135-.874.028-.054-.028-.094-.075-.134-.12-.388-.438.48-.478.766-.44.55.076.975.452 1.358.833.194.193.473.538.754.595.278.055.51-.122.724-.263 0 .212-.022.422.15.573 0-.416.005-.857.07-1.267.023-.152.083-.352.263-.38.225-.034.531.309.693.44.002-.234-.175-.432-.319-.603-.396-.47-1.025-.914-1.58-1.177v-.03c.823.142 1.442.625 2.322.392v-.06l-1.026-.15c.043-.321.276-.734.203-1.057-.1-.44-.568-.644-.746-1.025.306.118.63.29.966.297.188.005.336-.098.512-.14.485-.113.766.123 1.086.446.088-.305-.15-.559-.334-.784-.186-.229-.35-.46-.57-.659-.267-.24-.662-.52-.815-.85.25.049.49.256.694.402.359.255.715.503 1.116.691.211.1.578.265.754.054l-.965-.362c.07-.101.17-.188.221-.302.138-.307-.104-.568-.191-.844.185.068.345.227.543.26.464.078.734-.47 1.086-.653L9.11 6.45c.201-.168.112-.494.078-.724-.099-.664-.493-1.251-.59-1.9h.03c.381.816.835 1.696 1.598 2.201l-.277-.363-.477-.723a1 1 0 0 0 .269-.142c.528-.423.078-1.012.002-1.517h.03c.065.155.14.314.235.453.441.638 1.023.536 1.696.482l-.18 1.328h.03c.089-.283.258-.516.318-.815.11-.544-.006-1.084-.017-1.629h.03c.048.322.179.63.282.936.162.482.293 1.01.653 1.387l-.331-1.357c.958-.001 1.219-.647 1.236-1.509m-.271 2.082-.483 2.172c.372-.227.45-1.053.483-1.448h.03c.065.348.096.696.238 1.025.056.13.117.305.275.302l-.386-1.357zm-2.956.392c.006.771.387 1.473.24 2.262.146-.088.15-.295.152-.452.004-.365-.06-.723-.06-1.086h.03c.105.364.39 1.09.814 1.146-.05-.196-.211-.344-.319-.513-.238-.374-.472-1.13-.857-1.357m6.184.332c-.336.526-.736 1.245-1.237 1.629v.03c.38-.068.791-.549.905-.905h.03c-.005.536-.251 1.105-.03 1.629h.03c.16-.543.077-1.184.215-1.75.043-.177.203-.473.087-.633M14.69 6.57c-.178.402-.265.775-.634 1.056v.06c.265.07.45-.262.513-.482h.03c.026.203.05.624.272.694l-.149-.694zm-6.456.03c.065.743 1.063 1.244.935 2.052.16-.094.119-.269.065-.423-.112-.317-.298-.596-.427-.905.289.264.716.562 1.117.393l-.633-.263zm4.163.242c-.091.3-.347.886-.241 1.176h.06l.211-.724h.03c.075.273.153.687.483.724l-.483-1.176zm-2.021.754.15 1.267h.061l-.03-.905c.197.137.463.474.724.362-.1-.11-.247-.129-.362-.222-.187-.151-.286-.482-.543-.502m6.636.18c-.318.32-.584.539-1.025.664v.061c.261.075.514-.07.724-.211-.035.177-.26.64-.09.754l.289-.875zm1.539.624c.138.01.242.186.323.282.239.279.508.575.612.935-.697-.144-1.452-.045-2.142.12.154-.405.446-.834.785-1.1.115-.092.258-.25.422-.237m-6.697.07-.181.936c.151-.115.187-.481.211-.664l.272.302a1.06 1.06 0 0 0-.302-.573zm2.956.091-.573.573.543-.392.09.543c.106-.154.05-.578-.06-.724m-6.334.078a.3.3 0 0 0-.06.013v.03c.253.256.463.61.621.935.088.179.063.376.253.483-.015-.353-.166-.62-.302-.935.214.124.5.31.754.24v-.06c-.342-.152-.607-.281-.905-.518-.11-.088-.224-.2-.361-.188m-2.082.284c.029.255.237.35.422.49a3.5 3.5 0 0 1 .687.657c.127.166.205.452.37.573-.036-.444-.298-.966-.725-1.147v-.03c.434.084.867.246 1.297.06v-.06l-.513-.02zm14.027.09c.296.115.613.522.724.815l-.664-.09zm-7.3.03-.271.514.301-.332.181.302zm5.95.712a.5.5 0 0 1 .172.031c.365.143.267.9.19 1.188-.061.234-.17.495-.4.604-.167-.3-.415-.496-.724-.64-.154-.073-.41-.101-.517-.243-.103-.137-.208-.646-.068-.78.152-.147.57-.117.766-.117.163 0 .392-.051.581-.043m-3.054.013-.513.392.453-.241-.06.362c.128-.09.175-.371.12-.513m4.404.18c.136.011.37-.002.47.1.331.34.145 1.25-.259 1.44l-.12-.695q.048.002.09-.003v.003h.09l-.04-.013c.356-.085.295-.577-.051-.59l-.09-.03.049.032-.018.001v-.003h-.06l.01.011a.4.4 0 0 0-.071.02zm-1.538.122c-.062.063-.152.11-.198.187-.318.545.886.559.546-.03-.039-.068-.108-.111-.167-.157l-.121.06h-.06zm-6.335.12c0 .154-.03.31.12.392v-.301l.363.12zm-1.676.086q-.07.004-.134.005c.053.194.137.36.302.482l-.181-.392.362.03c-.07-.127-.211-.131-.349-.125m3.685.011c-.09.01-.168.168-.169.325l.15-.271.182.12c-.05-.132-.109-.18-.163-.174m-4.845.084-.513.09.423.513-.241-.422.361-.06zm-2.655.42c-.307.013-.66.365-.904.515v.06l.875.302c-.018-.229-.315-.297-.513-.331l.603-.544a.4.4 0 0 0-.06-.002zm1.6.063-1.237.332v.06l.663.238.393.275c-.043-.32-.383-.375-.604-.543.28-.053.66-.058.785-.362m3.107.332c-.129.02-.23.12-.091.21zm.995.18-.03.212c.094-.056.11-.105.09-.211zm1.357 0c-.117.035-.214.118-.09.212zm1.117.302-.302.09v.121zm1.146.03v.362c.113-.11.113-.25 0-.362m4.272.179c.425.004.846.395.75.847-.062.29-.242.605-.528.718-.149.06-.486.04-.498-.175-.01-.2.388-.478.468-.694-.558.427-.9.79-1.659.694v-.03c.447-.331.634-.895 1.059-1.224a.65.65 0 0 1 .408-.136m-9.943.032c-.146.076-.235.236-.272.393l.362.09-.2-.193zm-4.585.061-1.147.603c.04.225.262.104.423.093.23-.015.657.06.784.27l.211-.03c-.054-.342-.546-.342-.814-.363.197-.2.48-.259.543-.573m5.822.241-.332.423.422.15-.302-.18c.063-.132.31-.247.212-.393m-2.625.09-.362.333c.142.047.468.233.573.09l-.392-.15zm7.813 0 .422.333v.06l-.392.211a.94.94 0 0 0 .543-.211.88.88 0 0 0-.573-.392zm-9.683.121c-.183.41-.464.743-.784 1.056-.184.179-.471.346-.543.603L7.45 13.8l.694-.14c-.414-.296-1.14.033-1.539.21.275-.55.813-.769.935-1.418l-.03-.03zm5.701.03c-.13.043-.146.149-.18.272l.18.03zm1.237.212.03.332a.5.5 0 0 0 .272-.332l-.212.15zm-4.193.422c-.13.038-.2.131-.06.211zm5.34.181-.031.422-.271-.18c.028.182.156.27.332.3l.03-.542zm-6.758.03c-.22.069-.596.692-.694.905.2-.008.895.018.996-.12l-.664-.091zm3.7.059c-.166.01-.327.105-.502.105-.507 0-1.34-.252-1.775.092-.396.314-.42.734-.669 1.132-.121.194-.336.325-.512.465-.065.052-.184.127-.159.227.03.122.238.187.34.233.228.105.477.187.724.238.131.027.328.022.44.103.204.148.135.653.163.876.227-.13.524-.52.633-.755-.241.073-.347.31-.513.483l-.09-.633c.705-.062 1.015-.833 1.43-1.296.253-.282.57-.405.893-.575-.19-.227-.455.013-.634.15-.479.37-.755.816-1.176 1.238l.241-.633h-.03c-.131.314-.288.65-.603.814l.12-.422h-.03c-.127.303-.27.452-.603.452l.301-.694h-.03l-.392.664-.12-.03.301-.573h-.03c-.152.244-.313.59-.633.512l.27-.512c-.15.118-.216.4-.394.471-.081.032-.235-.027-.202-.135.042-.14.272-.278.363-.397.31-.405.56-1.067 1.018-1.316.376-.205.947.054 1.358.05.235-.004.503-.084.573-.333a.4.4 0 0 0-.072-.001zm-7.591.092-.03.181.12-.181zm14.875.029c.228.004.48.037.61.214.133.18.101.427.17.632.052-.216.046-1.024.477-.57.349.367.256 1.162-.087 1.502-.216.213-.735.343-.992.144-.393-.303-.494-.926-.608-1.378-.027-.109-.154-.36-.084-.461.058-.086.209-.08.3-.082q.099-.001.214-.001m2.65.182c.569.103.615.907 1.117 1.147v.06c-.285.143-.38-.002-.573-.211l.211.392c-.233-.036-.283-.262-.422-.423l.21.453c-.346 0-.493-.057-.633-.392h-.03l.06.271-.214-.152.114-.39zm-4.735.03c-.123.036-.188.105-.09.212zm-4.163.242.332.362.15-.362-.15.241zm3.047 0-.03.452-.302-.18c-.017.198.288.424.453.512l-.06-.784zm-8.175.512c-.094.452-.417.859-.707 1.207-.138.166-.35.333-.41.543.5-.144 1.063-.652 1.6-.603-.138-.268-.783.103-1.026.15.196-.29.463-.542.59-.874.052-.14.086-.327-.047-.423m6.998.272c-.23.036-.218.264-.271.452-.128-.127-.258-.303-.452-.271l.573.694zm-2.805.03-.302.272-.03-.151h-.09l.03.392c.176-.03.358-.347.392-.513m.815.483-.151.392h-.03l-.242-.332.211.694h.03c.08-.202.365-.572.182-.754m3.348.18-.09.031.18.995c-.192-.168-.785-.942-1.025-.663.555.177.786.825 1.267 1.116l-.15-.573zm1.508.242c-.153.374.22.775.362 1.116-.392-.202-.74-.539-1.207-.543v.12c.672.06 1.03.747 1.569 1.057-.005-.563-.488-1.21-.664-1.75zm-6.123.453-.212.03c.072.169.197.306.256.482.065.196.023.466.227.573.095-.212.327-.557.271-.784-.17.085-.252.268-.27.453h-.031zm-2.806.03c0 .592-.08 1.148-.241 1.72.21.007.32-.211.433-.363.225-.299.45-.628.804-.784v-.03c-.359-.047-.807.49-.935.784h-.03c.106-.41.2-.924.03-1.327zm5.31.03c-.244.093-.182.42-.182.633l-.693-.482c.038.123.136.16.228.245.18.167.337.557.586.6zm1.538.573c-.213.377.097 1.154.15 1.569h-.03c-.168-.355-.492-.649-.754-.935-.037-.04-.228-.301-.296-.192-.071.114.278.385.343.463a6 6 0 0 1 .642.935c.105.189.197.44.397.543-.15-.778-.39-1.586-.392-2.383zm-10.045.302c.223.066.35.219.362.452l-.694.483zm5.007.24-.03.031c.147.405.293.742.364 1.177.034.202.013.465.179.603.17-.322.23-.695.385-1.026.09-.19.234-.356.188-.573-.29.143-.461.787-.543 1.086-.15-.399-.104-1.092-.543-1.297zm2.051.303c.341.677.594 1.314.785 2.05.212-.118.183-.329.18-.542-.005-.497.186-.99.152-1.478-.143.048-.168.194-.193.332-.06.329-.06.669-.14.995-.163-.38-.293-1.279-.784-1.357m6.365.24.453.665-.664-.302zM8.657 19.18c.647.057.205.652-.06.935zm8.296.724.272.845c-.224-.157-.488-.414-.604-.664zm-5.502.455.344.058-.272.965h-.03l-.06-.754zm2.85.174c.062 0 .121.013.169.053.163.138-.067.805-.141.977l-.332-.965c.086-.022.2-.063.304-.065"/></svg> <span class=md-ellipsis> BSD </span> </a> <label class="md-nav__link " for=__nav_2 id=__nav_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> BSD </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_1> <div class="md-nav__link md-nav__container"> <a href=../BSD/Filesystems/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6 2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m6 2a6 6 0 0 0-6 6c0 3.31 2.69 6 6.1 6l-.88-2.23a1.01 1.01 0 0 1 .37-1.37l.86-.5a1.01 1.01 0 0 1 1.37.37l1.92 2.42A5.98 5.98 0 0 0 18 10a6 6 0 0 0-6-6m0 5a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-5 9a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1m5.09-4.73 2.49 6.31 2.59-1.5-4.22-5.31z"/></svg> <span class=md-ellipsis> Filesystems </span> </a> <label class="md-nav__link " for=__nav_2_1 id=__nav_2_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_1_label aria-expanded=false> <label class=md-nav__title for=__nav_2_1> <span class="md-nav__icon md-icon"></span> Filesystems </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../mfs-using-a-ram-filesystem/ class=md-nav__link> <span class=md-ellipsis> MFS: Using a RAM Filesystem </span> </a> </li> <li class=md-nav__item> <a href=../mounting-a-filesystem-in-multiple-places-simultaneously/ class=md-nav__link> <span class=md-ellipsis> Mounting a Filesystem in Multiple Places Simultaneously </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_2> <div class="md-nav__link md-nav__container"> <a href=../BSD/Kernel/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4.725 6.664C5.6 6.91 6.353 7.684 6.6 8.556c.27.95-.032 1.905-.671 2.633.783.432 1.44 1.083 1.704 1.956.244.807.185 1.739-.224 2.483-.446.812-1.3 1.457-2.203 1.65-.496.106-1.02.07-1.524.07H.602c-.393 0-.602-.28-.602-.638V9.476C0 5.81 3.889 6.428 4.725 6.664M1.051 9.63v1.367h3.228c1.258 0 1.461-1.761 1.285-2.272-.184-.533-.687-.893-1.2-1.056-.426-.097-3.313-.784-3.313 1.961m0 2.357v4.297c0 .116-.006.099.116.099H3.57c.67 0 1.364.022 1.98-.284.782-.387 1.24-1.422 1.158-2.263-.084-.849-.667-1.43-1.44-1.72-.387-.147-.927-.129-1.339-.129zm14.791-4.77c0-.47.28-.706.854-.706h2.916c2.9 0 4.388 2.797 4.388 5.492 0 2.754-1.797 5.404-4.683 5.404h-2.856c-.471 0-.619-.088-.619-.603V7.218zm1.09.369v8.746h2.311c2.342 0 3.594-2.15 3.594-4.329 0-2.238-1.134-4.417-3.387-4.417zm-5.506.017c-.948 0-1.824.776-1.824 1.796 0 .918 1.235 1.45 2.456 2.11 1.292.704 2.67 1.408 2.67 2.902 0 2.054-1.536 3.116-3.518 3.116a4.5 4.5 0 0 1-2.47-.718c-.258-.173-.388-.388-.388-.632 0-.33.159-.488.488-.488.159 0 .33.057.504.172.56.345 1.277.546 1.91.546 1.25 0 2.311-.546 2.311-1.925 0-.861-1.033-1.407-2.153-1.996-1.408-.732-2.988-1.536-2.988-3.03 0-1.882 1.436-2.973 3.232-2.973.775 0 1.622.215 2.441.66a.77.77 0 0 1 .402.661c0 .287-.201.56-.502.56-.173 0-.345-.129-.546-.258-.46-.287-1.279-.503-2.025-.503"/></svg> <span class=md-ellipsis> Kernel </span> </a> <label class="md-nav__link " for=__nav_2_2 id=__nav_2_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_2> <span class="md-nav__icon md-icon"></span> Kernel </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../activating-the-serial-port-on-freebsd/ class=md-nav__link> <span class=md-ellipsis> Activating the Serial Port on FreeBSD </span> </a> </li> <li class=md-nav__item> <a href=../activating-kernel-modules/ class=md-nav__link> <span class=md-ellipsis> Activating Kernel Modules </span> </a> </li> <li class=md-nav__item> <a href=../modifying-your-generic-kernel/ class=md-nav__link> <span class=md-ellipsis> Modifying Your Generic Kernel </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3> <div class="md-nav__link md-nav__container"> <a href=../BSD/Misc/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.83 13.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17z"/></svg> <span class=md-ellipsis> Misc </span> </a> <label class="md-nav__link " for=__nav_2_3 id=__nav_2_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../migration-migrating-linux-accounts-to-bsd/ class=md-nav__link> <span class=md-ellipsis> Migration: Migrating Linux accounts to BSD </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_2> <div class="md-nav__link md-nav__container"> <a href=../BSD/Misc/FreeBSD/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M23.682 2.406c-.001-.149-.097-.187-.24-.189h-.25v.659h.108v-.282h.102l.17.282h.122l-.184-.29c.102-.012.175-.065.172-.18m-.382.096v-.193h.13c.06-.002.145.011.143.089.005.09-.08.107-.153.103zM21.851 1.49c1.172 1.171-2.077 6.319-2.626 6.869-.549.548-1.944.044-3.115-1.128s-1.676-2.566-1.127-3.115S20.68.318 21.851 1.49M1.652 6.61C.626 4.818-.544 2.215.276 1.395c.81-.81 3.355.319 5.144 1.334A11 11 0 0 0 1.652 6.61m18.95.418a10.6 10.6 0 0 1 1.368 5.218c0 5.874-4.762 10.636-10.637 10.636C5.459 22.882.697 18.12.697 12.246.697 6.371 5.459 1.61 11.333 1.61c1.771 0 3.441.433 4.909 1.199-.361.201-.69.398-.969.574-.428-.077-.778-.017-.998.202-.402.402-.269 1.245.263 2.2.273.539.701 1.124 1.25 1.674q.154.155.315.297c1.519 1.446 3.205 2.111 3.829 1.486.267-.267.297-.728.132-1.287.167-.27.35-.584.538-.927m2.814-5.088c-.322 0-.584.266-.584.595s.261.595.584.595.584-.266.584-.595-.261-.595-.584-.595m0 1.087c-.252 0-.457-.22-.457-.492s.204-.492.457-.492c.252 0 .457.22.457.492s-.204.492-.457.492"/></svg> <span class=md-ellipsis> FreeBSD </span> </a> <label class="md-nav__link " for=__nav_2_3_2 id=__nav_2_3_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_2> <span class="md-nav__icon md-icon"></span> FreeBSD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../creating-an-apple-time-machine-network-on-freebsd/ class=md-nav__link> <span class=md-ellipsis> Creating an Apple Time Machine Network on FreeBSD </span> </a> </li> <li class=md-nav__item> <a href=../installing-freebsd-on-zfs/ class=md-nav__link> <span class=md-ellipsis> Installing FreeBSD on ZFS </span> </a> </li> <li class=md-nav__item> <a href=../monitoring-cpu-temperature-on-freebsd/ class=md-nav__link> <span class=md-ellipsis> Monitoring CPU Temperature on FreeBSD </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_3_3> <div class="md-nav__link md-nav__container"> <a href=../BSD/Misc/OpenBSD/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13.695 1.653c-.202.47-.146 1.02-.293 1.509-.034.112-.146.452-.308.429-.333-.048-.16-.688-.545-.7l.12.934c-.577.073-.498-.829-.733-1.195-.27-.423-.335.192-.317.38.011.122.036.242.05.363.026.21.032.393.005.603-.552-.007-.35-.733-.754-.844l.03.874c-.612-.005-.89-.557-1.159-1.025-.112-.196-.261-.574-.53-.453.126.544.423 1.064.454 1.63.007.145-.13.516-.333.448-.469-.158-.406-1.008-.796-1.231-.08-.045-.204-.006-.29-.002 0 .45.198.996.356 1.418.034.09.129.41-.069.403-.353-.01-.441-.695-.8-.615.044.185.153.335.215.513.037.109.106.219.126.332.044.247-.269.267-.432.22-.384-.114-.66-.428-.935-.703-.076-.076-.277-.344-.404-.222-.141.135.136.373.215.464.234.271.488.589.6.935.049.148.058.36-.09.462-.146.1-.384-.083-.502-.16-.362-.239-.721-.654-1.176-.664l-.107.271.29.392.752.845-.875-.362c.035.229.583.506.475.742-.064.14-.38.142-.505.124-.446-.064-.762-.396-1.177-.515-.366-.105-.298.18-.09.343q.107.086.211.177.187.161.362.336c.183.183.343.378.513.573l-.875-.03v.06l.845.392-.151.603c-.244 0-.442-.067-.664-.163-.151-.066-.31-.175-.482-.163-.206.014-.328.202-.19.377.206.263.62.412.883.617.1.078.247.212.133.345-.225.264-.832-.074-1.128.013v.06c.275.161.839.253 1 .549.128.231-.232.756-.487.736-.227-.019-.436-.275-.603-.41-.401-.322-.83-.7-1.298-.923-.801-.38-1.597.226-2.232.622.081.256.402-.017.603.029.271.061.477.313.651.513.84.968 1.543 2.064 1.857 3.319.083.33.224.725-.023 1.021-.066.08-.165.09-.238.155-.055.05-.052.118.023.141.138.043.34-.021.475-.054.443-.107.949-.346 1.15-.78.125-.271.169-.797.48-.905.068.29.394.673.363.965-.029.259-.302.56-.461.751-.057.068-.193.217-.112.315.082.097.25-.112.3-.16.229-.216.73-.558.865-.062.118.432-.261 1.13-.45 1.509-.054.105-.297.435-.202.553.11.135.338-.218.387-.282.19-.249.856-.987 1.21-.722.431.324.282.555.119.994-.046.123-.216.433-.1.55.111.114.258.01.315-.098.104-.197.383-.78.661-.631.175.093.441.251.543.425.158.272.02.815-.022 1.111-.024.17-.207.702-.055.825.14.113.254-.228.296-.312.149-.295.32-.597.54-.845.08-.089.192-.237.327-.212.7.131-.015.829.273 1.185.058.072.215.067.3.083l.362-.935c.184.07.455.095.591.248.114.128.137.344.17.506.092.454.142.896.084 1.357.057.042.148.138.225.088.097-.062.11-.315.143-.42.106-.332.269-.65.42-.965.099-.207.37-.427.565-.142.2.292.12.804.246 1.138.32-.158.355-.825.362-1.147l.415.061.25.513.45 1.297c.234-.09.16-.538.187-.754.035-.293.103-.882.318-1.1.086-.087.258-.095.37-.137.129.312.199.666.354.965.06.116.198.242.337.17.133-.068.128-.224.111-.35-.042-.313-.113-.62-.138-.936.598-.042.95.441 1.325.845.145.155.271.362.485.422l-.31-.905-.172-.845c.217-.09.676-.534.905-.47.34.097.6 1.046 1.023.823.18-.095.088-.257.003-.383-.126-.188-.506-.639-.465-.874.03-.175.324-.379.494-.377.391.006 1.071.304 1.297.618l.272-.03c-.04-.54-.85-.787-.966-1.328a.4.4 0 0 1 .004-.172c.086-.347.294-.195.51-.102.067.029.213.103.269.02.06-.091-.048-.212-.087-.289-.082-.156-.156-.337-.122-.513.282.074.455.242.694.4.056.038.18.131.251.08.075-.056-.036-.167-.071-.208-.106-.123-.432-.42-.4-.6.022-.122.227-.252.31-.335.276-.276.59-.556.815-.875h.03c.532.621 2.203.186 1.99-.754-.132.019-.256.123-.392.077-.594-.205-.45-1.157-1.116-1.163-.049-.62-.298-1.24-.599-1.78-.138-.247-.424-.473-.525-.725-.055-.14-.046-.36-.052-.512.349-.054.177-.407.05-.603-.142-.218-.292-.477-.475-.66-.226-.227-.562-.374-.533-.758.027-.357.642-.311.747-.633-.183.008-.363.053-.543.083-.449.075-.527-.076-.317-.475.183-.349.474-.613.73-.905.083-.093.336-.306.205-.441-.107-.112-.286.058-.377.119-.333.22-.705.384-1.086.502-.113.035-.448.166-.486-.035-.051-.272.463-.322.395-.628-.205.049-.61.374-.807.223-.238-.18.111-.643.149-.856.038-.216-.136-.224-.258-.09q-.063.074-.12.15c-.07.087-.126.17-.17.271-.494-.288.44-.623.265-.89-.063-.095-.179 0-.235.05-.117.102-.558.61-.654.237-.106-.412.108-.908.22-1.297.028-.102.159-.376.032-.449-.185-.106-.266.253-.31.359a2.3 2.3 0 0 1-.615.839c-.086.077-.232.225-.36.19-.187-.051-.188-.57-.182-.728.003-.075.045-.205-.028-.26-.096-.071-.147.072-.16.14-.048.222-.186.856-.515.44-.298-.376.163-1.157-.444-1.315l-.332 1.056c-.398-.087-.31-.656-.211-.966l-.181-.06a3 3 0 0 1-.112.362c-.16.451-.375.539-.541.03-.127-.388-.082-.807-.145-1.207-.025-.159-.04-.32-.198-.392m.03.905c.153.364-.008.82.237 1.176.25.364.716.168 1.02.397.108.081.022.256-.007.358-.1.347-.278.604-.465.905.655-.335.875-1.29.965-1.96h.03c-.026.596-.007 1.182 0 1.779.003.27-.037.582.272.633V4.46c.323.093.808.502 1.159.381.179-.061.342-.277.467-.411q.14-.152.244-.332h.03l-.12.965-.302-.06.663.473.261.226-.2.294-.875.636c.637-.094.958-.564 1.418-.935-.15.63-.491 1.262-.332 1.93h.03l.362-1.448c.274.13.37.476.633.633.383.228.919-.204 1.267-.331-.227.322-.57.548-.633.965l-.272-.12c.236.606.519 1.19.62 1.84.093.594-.024 1.183.016 1.78.02.275.133.517.179.784-.563.191-.666.98-1.207 1.236.043-.188.11-.377.11-.573 0-.14-.066-.282-.03-.422.073-.277.314-.508.412-.784.152-.43.05-.835-.009-1.267l.301.03-.758-1.177-.376-.573.139-.392c-.762.586-1.867 1.188-1.87 2.293l.271-.091.09.664-.422.06v.06c.353.1.722.149 1.056.306.244.114.514.265.682.479.56.71.112 1.818-.31 2.473-.213.33-.594.634-.734.996.382-.092.577-.457.792-.754.091-.127.17-.303.325-.362.24-.09.32.354.371.512.065.2.218.546.18.755-.071.401-.415.662-.34 1.116.166-.202.217-.604.482-.702.17-.062.347.095.513.12.36.053.73-.082.996-.326.285-.263.48-.686.408-1.083-.043-.24-.177-.476-.16-.724.012-.2.148-.362.22-.543.173-.427.152-.912-.257-1.189a.86.86 0 0 0-.362-.138c.033-.222.264-.706.53-.418.188.202.29.558.396.81.389.918.392 2.006-.163 2.865-.394.61-1.02 1.11-1.548 1.6l-.21-.604h-.061c-.07.36.185.772.332 1.086-.33-.075-.645-.415-.996-.362.099.17.748.572.242.754.003.148-.11.25-.2.362-.201.248-.454.618-.766.724l-.573-1.508h-.03c.084.661.314 1.305.61 1.9.154.307.403.611.506.935-.187-.159-.306-.413-.466-.603a6.3 6.3 0 0 0-.952-.892c-.227-.177-.45-.376-.754-.345.345.31.868.475.835 1.056-.01.165-.193.237-.322.296-.339.155-.67.322-1.026.438-.098.032-.279.12-.382.087-.11-.037-.097-.277-.109-.369-.037-.285.121-1.028-.172-1.146-.128 1.01.132 1.929.21 2.926h-.03c-.17-.737-.439-1.558-.838-2.202-.11-.177-.343-.597-.579-.543l.62 1.086.013.46-.452.08-1.297.033c.047-.373.13-.746.2-1.116.014-.081.074-.326-.078-.326-.14 0-.169.408-.189.507-.108.542-.204 1.106-.205 1.66h-.03c0-.913-.41-1.73-.784-2.535-.104.155.041.377.086.543.099.371.113.737.065 1.116-.612-.118-1.275-.278-1.84-.543.149-.357.576-.889.573-1.267-.554.556-.804 1.335-1.086 2.052h-.03l.12-1.448-.21-1.237c-.132.133-.06.399-.04.573.033.275.015.688-.188.9-.112.117-.226.014-.346-.034-.335-.136-.582-.36-.875-.564-.104-.072-.293-.15-.28-.302.032-.433.656-.638.672-1.026-.72.31-1.062 1.088-1.629 1.57.186-.785.782-1.703.634-2.535-.152.084-.145.295-.185.453a4.3 4.3 0 0 1-.388.965c-.4-.231-.72-.623-.983-.996-.073-.102-.233-.26-.235-.392-.002-.128.145-.274.225-.362.244-.265.54-.465.872-.603-.237-.147-.706.2-.965.272.175-.37.65-.732.513-1.177-.393.307-.66.97-.935 1.388h-.03l-.574-1.267.754.271c.023-.27-.36-.373-.573-.422.126-.328.476-.578.392-.965h-.06c-.087.28-.269.759-.573.844l-.09-.482h-.03c-.119.253.029.447-.04.687-.037.125-.217.106-.28.222-.085.158-.092.37-.164.539-.172.407-.5.706-.904.874l-.037-.54.459-.515-.483.361c-.062-.161-.203-.465-.12-.633.073-.145.254-.24.362-.362l-.483.241c-.163-.422.135-.3.302-.603-.122.07-.325.2-.471.133-.187-.085-.384-.64-.464-.827l.512-.09v-.03c-.242.03-.626.12-.663-.211h.633v-.03l-.712-.08-.194-.252-.421-.543a2 2 0 0 1 .935 0c-.368-.387-1.024.182-1.327-.453l.754-.15v-.03c-.234 0-.67.135-.874.028-.054-.028-.094-.075-.134-.12-.388-.438.48-.478.766-.44.55.076.975.452 1.358.833.194.193.473.538.754.595.278.055.51-.122.724-.263 0 .212-.022.422.15.573 0-.416.005-.857.07-1.267.023-.152.083-.352.263-.38.225-.034.531.309.693.44.002-.234-.175-.432-.319-.603-.396-.47-1.025-.914-1.58-1.177v-.03c.823.142 1.442.625 2.322.392v-.06l-1.026-.15c.043-.321.276-.734.203-1.057-.1-.44-.568-.644-.746-1.025.306.118.63.29.966.297.188.005.336-.098.512-.14.485-.113.766.123 1.086.446.088-.305-.15-.559-.334-.784-.186-.229-.35-.46-.57-.659-.267-.24-.662-.52-.815-.85.25.049.49.256.694.402.359.255.715.503 1.116.691.211.1.578.265.754.054l-.965-.362c.07-.101.17-.188.221-.302.138-.307-.104-.568-.191-.844.185.068.345.227.543.26.464.078.734-.47 1.086-.653L9.11 6.45c.201-.168.112-.494.078-.724-.099-.664-.493-1.251-.59-1.9h.03c.381.816.835 1.696 1.598 2.201l-.277-.363-.477-.723a1 1 0 0 0 .269-.142c.528-.423.078-1.012.002-1.517h.03c.065.155.14.314.235.453.441.638 1.023.536 1.696.482l-.18 1.328h.03c.089-.283.258-.516.318-.815.11-.544-.006-1.084-.017-1.629h.03c.048.322.179.63.282.936.162.482.293 1.01.653 1.387l-.331-1.357c.958-.001 1.219-.647 1.236-1.509m-.271 2.082-.483 2.172c.372-.227.45-1.053.483-1.448h.03c.065.348.096.696.238 1.025.056.13.117.305.275.302l-.386-1.357zm-2.956.392c.006.771.387 1.473.24 2.262.146-.088.15-.295.152-.452.004-.365-.06-.723-.06-1.086h.03c.105.364.39 1.09.814 1.146-.05-.196-.211-.344-.319-.513-.238-.374-.472-1.13-.857-1.357m6.184.332c-.336.526-.736 1.245-1.237 1.629v.03c.38-.068.791-.549.905-.905h.03c-.005.536-.251 1.105-.03 1.629h.03c.16-.543.077-1.184.215-1.75.043-.177.203-.473.087-.633M14.69 6.57c-.178.402-.265.775-.634 1.056v.06c.265.07.45-.262.513-.482h.03c.026.203.05.624.272.694l-.149-.694zm-6.456.03c.065.743 1.063 1.244.935 2.052.16-.094.119-.269.065-.423-.112-.317-.298-.596-.427-.905.289.264.716.562 1.117.393l-.633-.263zm4.163.242c-.091.3-.347.886-.241 1.176h.06l.211-.724h.03c.075.273.153.687.483.724l-.483-1.176zm-2.021.754.15 1.267h.061l-.03-.905c.197.137.463.474.724.362-.1-.11-.247-.129-.362-.222-.187-.151-.286-.482-.543-.502m6.636.18c-.318.32-.584.539-1.025.664v.061c.261.075.514-.07.724-.211-.035.177-.26.64-.09.754l.289-.875zm1.539.624c.138.01.242.186.323.282.239.279.508.575.612.935-.697-.144-1.452-.045-2.142.12.154-.405.446-.834.785-1.1.115-.092.258-.25.422-.237m-6.697.07-.181.936c.151-.115.187-.481.211-.664l.272.302a1.06 1.06 0 0 0-.302-.573zm2.956.091-.573.573.543-.392.09.543c.106-.154.05-.578-.06-.724m-6.334.078a.3.3 0 0 0-.06.013v.03c.253.256.463.61.621.935.088.179.063.376.253.483-.015-.353-.166-.62-.302-.935.214.124.5.31.754.24v-.06c-.342-.152-.607-.281-.905-.518-.11-.088-.224-.2-.361-.188m-2.082.284c.029.255.237.35.422.49a3.5 3.5 0 0 1 .687.657c.127.166.205.452.37.573-.036-.444-.298-.966-.725-1.147v-.03c.434.084.867.246 1.297.06v-.06l-.513-.02zm14.027.09c.296.115.613.522.724.815l-.664-.09zm-7.3.03-.271.514.301-.332.181.302zm5.95.712a.5.5 0 0 1 .172.031c.365.143.267.9.19 1.188-.061.234-.17.495-.4.604-.167-.3-.415-.496-.724-.64-.154-.073-.41-.101-.517-.243-.103-.137-.208-.646-.068-.78.152-.147.57-.117.766-.117.163 0 .392-.051.581-.043m-3.054.013-.513.392.453-.241-.06.362c.128-.09.175-.371.12-.513m4.404.18c.136.011.37-.002.47.1.331.34.145 1.25-.259 1.44l-.12-.695q.048.002.09-.003v.003h.09l-.04-.013c.356-.085.295-.577-.051-.59l-.09-.03.049.032-.018.001v-.003h-.06l.01.011a.4.4 0 0 0-.071.02zm-1.538.122c-.062.063-.152.11-.198.187-.318.545.886.559.546-.03-.039-.068-.108-.111-.167-.157l-.121.06h-.06zm-6.335.12c0 .154-.03.31.12.392v-.301l.363.12zm-1.676.086q-.07.004-.134.005c.053.194.137.36.302.482l-.181-.392.362.03c-.07-.127-.211-.131-.349-.125m3.685.011c-.09.01-.168.168-.169.325l.15-.271.182.12c-.05-.132-.109-.18-.163-.174m-4.845.084-.513.09.423.513-.241-.422.361-.06zm-2.655.42c-.307.013-.66.365-.904.515v.06l.875.302c-.018-.229-.315-.297-.513-.331l.603-.544a.4.4 0 0 0-.06-.002zm1.6.063-1.237.332v.06l.663.238.393.275c-.043-.32-.383-.375-.604-.543.28-.053.66-.058.785-.362m3.107.332c-.129.02-.23.12-.091.21zm.995.18-.03.212c.094-.056.11-.105.09-.211zm1.357 0c-.117.035-.214.118-.09.212zm1.117.302-.302.09v.121zm1.146.03v.362c.113-.11.113-.25 0-.362m4.272.179c.425.004.846.395.75.847-.062.29-.242.605-.528.718-.149.06-.486.04-.498-.175-.01-.2.388-.478.468-.694-.558.427-.9.79-1.659.694v-.03c.447-.331.634-.895 1.059-1.224a.65.65 0 0 1 .408-.136m-9.943.032c-.146.076-.235.236-.272.393l.362.09-.2-.193zm-4.585.061-1.147.603c.04.225.262.104.423.093.23-.015.657.06.784.27l.211-.03c-.054-.342-.546-.342-.814-.363.197-.2.48-.259.543-.573m5.822.241-.332.423.422.15-.302-.18c.063-.132.31-.247.212-.393m-2.625.09-.362.333c.142.047.468.233.573.09l-.392-.15zm7.813 0 .422.333v.06l-.392.211a.94.94 0 0 0 .543-.211.88.88 0 0 0-.573-.392zm-9.683.121c-.183.41-.464.743-.784 1.056-.184.179-.471.346-.543.603L7.45 13.8l.694-.14c-.414-.296-1.14.033-1.539.21.275-.55.813-.769.935-1.418l-.03-.03zm5.701.03c-.13.043-.146.149-.18.272l.18.03zm1.237.212.03.332a.5.5 0 0 0 .272-.332l-.212.15zm-4.193.422c-.13.038-.2.131-.06.211zm5.34.181-.031.422-.271-.18c.028.182.156.27.332.3l.03-.542zm-6.758.03c-.22.069-.596.692-.694.905.2-.008.895.018.996-.12l-.664-.091zm3.7.059c-.166.01-.327.105-.502.105-.507 0-1.34-.252-1.775.092-.396.314-.42.734-.669 1.132-.121.194-.336.325-.512.465-.065.052-.184.127-.159.227.03.122.238.187.34.233.228.105.477.187.724.238.131.027.328.022.44.103.204.148.135.653.163.876.227-.13.524-.52.633-.755-.241.073-.347.31-.513.483l-.09-.633c.705-.062 1.015-.833 1.43-1.296.253-.282.57-.405.893-.575-.19-.227-.455.013-.634.15-.479.37-.755.816-1.176 1.238l.241-.633h-.03c-.131.314-.288.65-.603.814l.12-.422h-.03c-.127.303-.27.452-.603.452l.301-.694h-.03l-.392.664-.12-.03.301-.573h-.03c-.152.244-.313.59-.633.512l.27-.512c-.15.118-.216.4-.394.471-.081.032-.235-.027-.202-.135.042-.14.272-.278.363-.397.31-.405.56-1.067 1.018-1.316.376-.205.947.054 1.358.05.235-.004.503-.084.573-.333a.4.4 0 0 0-.072-.001zm-7.591.092-.03.181.12-.181zm14.875.029c.228.004.48.037.61.214.133.18.101.427.17.632.052-.216.046-1.024.477-.57.349.367.256 1.162-.087 1.502-.216.213-.735.343-.992.144-.393-.303-.494-.926-.608-1.378-.027-.109-.154-.36-.084-.461.058-.086.209-.08.3-.082q.099-.001.214-.001m2.65.182c.569.103.615.907 1.117 1.147v.06c-.285.143-.38-.002-.573-.211l.211.392c-.233-.036-.283-.262-.422-.423l.21.453c-.346 0-.493-.057-.633-.392h-.03l.06.271-.214-.152.114-.39zm-4.735.03c-.123.036-.188.105-.09.212zm-4.163.242.332.362.15-.362-.15.241zm3.047 0-.03.452-.302-.18c-.017.198.288.424.453.512l-.06-.784zm-8.175.512c-.094.452-.417.859-.707 1.207-.138.166-.35.333-.41.543.5-.144 1.063-.652 1.6-.603-.138-.268-.783.103-1.026.15.196-.29.463-.542.59-.874.052-.14.086-.327-.047-.423m6.998.272c-.23.036-.218.264-.271.452-.128-.127-.258-.303-.452-.271l.573.694zm-2.805.03-.302.272-.03-.151h-.09l.03.392c.176-.03.358-.347.392-.513m.815.483-.151.392h-.03l-.242-.332.211.694h.03c.08-.202.365-.572.182-.754m3.348.18-.09.031.18.995c-.192-.168-.785-.942-1.025-.663.555.177.786.825 1.267 1.116l-.15-.573zm1.508.242c-.153.374.22.775.362 1.116-.392-.202-.74-.539-1.207-.543v.12c.672.06 1.03.747 1.569 1.057-.005-.563-.488-1.21-.664-1.75zm-6.123.453-.212.03c.072.169.197.306.256.482.065.196.023.466.227.573.095-.212.327-.557.271-.784-.17.085-.252.268-.27.453h-.031zm-2.806.03c0 .592-.08 1.148-.241 1.72.21.007.32-.211.433-.363.225-.299.45-.628.804-.784v-.03c-.359-.047-.807.49-.935.784h-.03c.106-.41.2-.924.03-1.327zm5.31.03c-.244.093-.182.42-.182.633l-.693-.482c.038.123.136.16.228.245.18.167.337.557.586.6zm1.538.573c-.213.377.097 1.154.15 1.569h-.03c-.168-.355-.492-.649-.754-.935-.037-.04-.228-.301-.296-.192-.071.114.278.385.343.463a6 6 0 0 1 .642.935c.105.189.197.44.397.543-.15-.778-.39-1.586-.392-2.383zm-10.045.302c.223.066.35.219.362.452l-.694.483zm5.007.24-.03.031c.147.405.293.742.364 1.177.034.202.013.465.179.603.17-.322.23-.695.385-1.026.09-.19.234-.356.188-.573-.29.143-.461.787-.543 1.086-.15-.399-.104-1.092-.543-1.297zm2.051.303c.341.677.594 1.314.785 2.05.212-.118.183-.329.18-.542-.005-.497.186-.99.152-1.478-.143.048-.168.194-.193.332-.06.329-.06.669-.14.995-.163-.38-.293-1.279-.784-1.357m6.365.24.453.665-.664-.302zM8.657 19.18c.647.057.205.652-.06.935zm8.296.724.272.845c-.224-.157-.488-.414-.604-.664zm-5.502.455.344.058-.272.965h-.03l-.06-.754zm2.85.174c.062 0 .121.013.169.053.163.138-.067.805-.141.977l-.332-.965c.086-.022.2-.063.304-.065"/></svg> <span class=md-ellipsis> OpenBSD </span> </a> <label class="md-nav__link " for=__nav_2_3_3 id=__nav_2_3_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_2_3_3> <span class="md-nav__icon md-icon"></span> OpenBSD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../modifying-boot-parameters/ class=md-nav__link> <span class=md-ellipsis> Modifying Boot Parameters </span> </a> </li> <li class=md-nav__item> <a href=../openbsd-configuration-guide-very-complete/ class=md-nav__link> <span class=md-ellipsis> OpenBSD Configuration Guide (Very Complete) </span> </a> </li> <li class=md-nav__item> <a href=../openbsd-package-system/ class=md-nav__link> <span class=md-ellipsis> OpenBSD Package System </span> </a> </li> <li class=md-nav__item> <a href=../recovering-your-openbsd-after-a-bad-manipulation/ class=md-nav__link> <span class=md-ellipsis> Recovering your OpenBSD after a bad manipulation </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4> <div class="md-nav__link md-nav__container"> <a href=../BSD/Network/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v2h1a1 1 0 0 1 1 1h7v2h-7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1H2v-2h7a1 1 0 0 1 1-1h1v-2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/></svg> <span class=md-ellipsis> Network </span> </a> <label class="md-nav__link " for=__nav_2_4 id=__nav_2_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_4_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4> <span class="md-nav__icon md-icon"></span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../bandwidth-usage-statistics/ class=md-nav__link> <span class=md-ellipsis> Bandwidth Usage Statistics </span> </a> </li> <li class=md-nav__item> <a href=../configure-network-on-netbsd/ class=md-nav__link> <span class=md-ellipsis> Configure Network on NetBSD </span> </a> </li> <li class=md-nav__item> <a href=../configure-network-on-openbsd/ class=md-nav__link> <span class=md-ellipsis> Configure Network on OpenBSD </span> </a> </li> <li class=md-nav__item> <a href=../configuring-network-on-freebsd/ class=md-nav__link> <span class=md-ellipsis> Configuring Network on FreeBSD </span> </a> </li> <li class=md-nav__item> <a href=../qos-quality-of-service-with-pf/ class=md-nav__link> <span class=md-ellipsis> QoS (Quality Of Service) with PF </span> </a> </li> <li class=md-nav__item> <a href=../trunking-creating-trunking-bonding-on-openbsd/ class=md-nav__link> <span class=md-ellipsis> Trunking: Creating Trunking (bonding) on OpenBSD </span> </a> </li> <li class=md-nav__item> <a href=../ufs-disk-usage-in-ufs/ class=md-nav__link> <span class=md-ellipsis> UFS: Disk usage in UFS </span> </a> </li> <li class=md-nav__item> <a href=../vlan-creating-a-vlan-interface-on-openbsd/ class=md-nav__link> <span class=md-ellipsis> VLAN: Creating a VLAN Interface on OpenBSD </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_4_9> <div class="md-nav__link md-nav__container"> <a href=../BSD/Network/Firewalls/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 11c0 5.55-3.84 10.74-9 12-5.16-1.26-9-6.45-9-12V5l9-4 9 4zm-9 10c3.75-1 7-5.46 7-9.78V6.3l-7-3.12L5 6.3v4.92C5 15.54 8.25 20 12 21m-2-4-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9"/></svg> <span class=md-ellipsis> Firewalls </span> </a> <label class="md-nav__link " for=__nav_2_4_9 id=__nav_2_4_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_2_4_9_label aria-expanded=false> <label class=md-nav__title for=__nav_2_4_9> <span class="md-nav__icon md-icon"></span> Firewalls </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ip-filter-using-the-firewall-on-solaris/ class=md-nav__link> <span class=md-ellipsis> IP Filter: Using the Firewall on Solaris </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <div class="md-nav__link md-nav__container"> <a href=../BSD/Packages/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 10.96a.985.985 0 0 1-.37-1.37L3.13 7c.11-.2.28-.34.47-.42l7.83-4.4c.16-.12.36-.18.57-.18s.41.06.57.18l7.9 4.44c.19.1.35.26.44.46l1.45 2.52c.28.48.11 1.09-.36 1.36l-1 .58v4.96c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18s-.41-.06-.57-.18l-7.9-4.44A.99.99 0 0 1 3 16.5v-5.54c-.3.17-.68.18-1 0m10-6.81v6.7l5.96-3.35zM5 15.91l6 3.38v-6.71L5 9.21zm14 0v-3.22l-5 2.9c-.33.18-.7.17-1 .01v3.69zm-5.15-2.55 6.28-3.63-.58-1.01-6.28 3.63z"/></svg> <span class=md-ellipsis> Packages </span> </a> <label class="md-nav__link " for=__nav_2_5 id=__nav_2_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Packages </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../freebsd-package-system/ class=md-nav__link> <span class=md-ellipsis> FreeBSD Package System </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <div class="md-nav__link md-nav__container"> <a href=../BSD/Security/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 12h7c-.53 4.11-3.28 7.78-7 8.92zH5V6.3l7-3.11M12 1 3 5v6c0 5.55 3.84 10.73 9 12 5.16-1.27 9-6.45 9-12V5z"/></svg> <span class=md-ellipsis> Security </span> </a> <label class="md-nav__link " for=__nav_2_6 id=__nav_2_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../encrypting-swap-partition/ class=md-nav__link> <span class=md-ellipsis> Encrypting Swap Partition </span> </a> </li> <li class=md-nav__item> <a href=../jailctl-creating-chroot-environments-jails/ class=md-nav__link> <span class=md-ellipsis> Jailctl: Creating Chroot Environments (Jails) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../Coding/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.75.75 0 0 1 .734.215m-6.56 0a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.75.75 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"/></svg> <span class=md-ellipsis> Coding </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Coding </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_1> <div class="md-nav__link md-nav__container"> <a href=../Coding/C/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.592 9.196s-.354-3.298-3.627-3.39c-3.274-.09-4.955 2.474-4.955 6.14s1.858 6.597 5.045 6.597c3.184 0 3.538-3.665 3.538-3.665l6.104.365s.36 3.31-2.196 5.836c-2.552 2.524-5.69 2.937-7.876 2.92-2.19-.016-5.226.035-8.16-2.97-2.938-3.01-3.436-5.93-3.436-8.8s.556-6.67 4.047-9.55C7.444.72 9.849 0 12.254 0c10.042 0 10.717 9.26 10.717 9.26z"/></svg> <span class=md-ellipsis> C </span> </a> <label class="md-nav__link " for=__nav_3_1 id=__nav_3_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_1_label aria-expanded=false> <label class=md-nav__title for=__nav_3_1> <span class="md-nav__icon md-icon"></span> C </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../better-understanding-and-using-the-c-language-preprocessor/ class=md-nav__link> <span class=md-ellipsis> Better Understanding and Using the C Language Preprocessor </span> </a> </li> <li class=md-nav__item> <a href=../introduction-to-c/ class=md-nav__link> <span class=md-ellipsis> Introduction to C </span> </a> </li> <li class=md-nav__item> <a href=../some-examples-of-cmake-usage/ class=md-nav__link> <span class=md-ellipsis> Some examples of CMake usage </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_2> <div class="md-nav__link md-nav__container"> <a href=../Coding/HTML/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M1.5 0h21l-1.91 21.563L11.977 24l-8.564-2.438zm7.031 9.75-.232-2.718 10.059.003.23-2.622L5.412 4.41l.698 8.01h9.126l-.326 3.426-2.91.804-2.955-.81-.188-2.11H6.248l.33 4.171L12 19.351l5.379-1.443.744-8.157z"/></svg> <span class=md-ellipsis> HTML </span> </a> <label class="md-nav__link " for=__nav_3_2 id=__nav_3_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_2_label aria-expanded=false> <label class=md-nav__title for=__nav_3_2> <span class="md-nav__icon md-icon"></span> HTML </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../css-style-sheets/ class=md-nav__link> <span class=md-ellipsis> CSS: Style Sheets </span> </a> </li> <li class=md-nav__item> <a href=../introduction-to-xhtml/ class=md-nav__link> <span class=md-ellipsis> Introduction to XHTML </span> </a> </li> <li class=md-nav__item> <a href=../special-characters/ class=md-nav__link> <span class=md-ellipsis> Special Characters </span> </a> </li> <li class=md-nav__item> <a href=../text-formatting/ class=md-nav__link> <span class=md-ellipsis> Text Formatting </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_3> <div class="md-nav__link md-nav__container"> <a href=../Coding/Java/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M277.74 312.9c9.8-6.7 23.4-12.5 23.4-12.5s-38.7 7-77.2 10.2c-47.1 3.9-97.7 4.7-123.1 1.3-60.1-8 33-30.1 33-30.1s-36.1-2.4-80.6 19c-52.5 25.4 130 37 224.5 12.1m-85.4-32.1c-19-42.7-83.1-80.2 0-145.8C296 53.2 242.84 0 242.84 0c21.5 84.5-75.6 110.1-110.7 162.6-23.9 35.9 11.7 74.4 60.2 118.2m114.6-176.2c.1 0-175.2 43.8-91.5 140.2 24.7 28.4-6.5 54-6.5 54s62.7-32.4 33.9-72.9c-26.9-37.8-47.5-56.6 64.1-121.3m-6.1 270.5a12.2 12.2 0 0 1-2 2.6c128.3-33.7 81.1-118.9 19.8-97.3a17.33 17.33 0 0 0-8.2 6.3 70.5 70.5 0 0 1 11-3c31-6.5 75.5 41.5-20.6 91.4M348 437.4s14.5 11.9-15.9 21.2c-57.9 17.5-240.8 22.8-291.6.7-18.3-7.9 16-19 26.8-21.3 11.2-2.4 17.7-2 17.7-2-20.3-14.3-131.3 28.1-56.4 40.2C232.84 509.4 401 461.3 348 437.4M124.44 396c-78.7 22 47.9 67.4 148.1 24.5a186 186 0 0 1-28.2-13.8c-44.7 8.5-65.4 9.1-106 4.5-33.5-3.8-13.9-15.2-13.9-15.2m179.8 97.2c-78.7 14.8-175.8 13.1-233.3 3.6 0-.1 11.8 9.7 72.4 13.6 92.2 5.9 233.8-3.3 237.1-46.9 0 0-6.4 16.5-76.2 29.7M260.64 353c-59.2 11.4-93.5 11.1-136.8 6.6-33.5-3.5-11.6-19.7-11.6-19.7-86.8 28.8 48.2 61.4 169.5 25.9a60.4 60.4 0 0 1-21.1-12.8"/></svg> <span class=md-ellipsis> Java </span> </a> <label class="md-nav__link " for=__nav_3_3 id=__nav_3_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3_3> <span class="md-nav__icon md-icon"></span> Java </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../debugging-a-jvm-crash/ class=md-nav__link> <span class=md-ellipsis> Debugging a JVM Crash </span> </a> </li> <li class=md-nav__item> <a href=../java-memory-management/ class=md-nav__link> <span class=md-ellipsis> Java Memory Management </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_4> <div class="md-nav__link md-nav__container"> <a href=../Coding/Misc/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.83 13.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17z"/></svg> <span class=md-ellipsis> Misc </span> </a> <label class="md-nav__link " for=__nav_3_4 id=__nav_3_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_4_label aria-expanded=false> <label class=md-nav__title for=__nav_3_4> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../introduction-to-powershell/ class=md-nav__link> <span class=md-ellipsis> Introduction to PowerShell </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_5> <div class="md-nav__link md-nav__container"> <a href=../Coding/PHP/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.01 10.207h-.944l-.515 2.648h.838q.834 0 1.242-.314.408-.315.55-1.049.137-.705-.124-.995-.262-.29-1.047-.29M12 5.688C5.373 5.688 0 8.514 0 12s5.373 6.313 12 6.313S24 15.486 24 12s-5.373-6.312-12-6.312m-3.26 7.451c-.261.25-.575.438-.917.551q-.505.163-1.285.164H5.357l-.327 1.681H3.652l1.23-6.326h2.65q1.195 0 1.744.628.549.627.33 1.752a2.8 2.8 0 0 1-.305.847q-.215.383-.561.703m4.024.715.543-2.799q.094-.478-.068-.651-.16-.174-.687-.174H11.46l-.704 3.625H9.388l1.23-6.327h1.367l-.327 1.682h1.218q1.15 0 1.586.401c.436.401.378.7.263 1.299l-.572 2.944zm7.597-2.265a2.8 2.8 0 0 1-.305.847q-.214.383-.561.703a2.44 2.44 0 0 1-.917.551q-.504.163-1.286.164h-1.18l-.327 1.682h-1.378l1.23-6.326h2.649q1.195 0 1.744.628.55.626.331 1.751m-2.595-1.382h-.943l-.516 2.648h.838q.835 0 1.242-.314.407-.315.551-1.049.137-.705-.125-.995c-.262-.29-.524-.29-1.047-.29"/></svg> <span class=md-ellipsis> PHP </span> </a> <label class="md-nav__link " for=__nav_3_5 id=__nav_3_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_5_label aria-expanded=false> <label class=md-nav__title for=__nav_3_5> <span class="md-nav__icon md-icon"></span> PHP </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../compile-your-php-scripts/ class=md-nav__link> <span class=md-ellipsis> Compile Your PHP Scripts </span> </a> </li> <li class=md-nav__item> <a href=../introduction-to-php/ class=md-nav__link> <span class=md-ellipsis> Introduction to PHP </span> </a> </li> <li class=md-nav__item> <a href=../securing-php-scripts/ class=md-nav__link> <span class=md-ellipsis> Securing PHP Scripts </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_6> <div class="md-nav__link md-nav__container"> <a href=../Coding/Perl/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0m.157 1.103a10.91 10.91 0 0 1 9.214 5.404c-1.962.152-3.156 1.698-5.132 3.553-2.81 2.637-4.562.582-5.288-.898-.447-1.004-.847-2.117-1.544-2.769A.4.4 0 0 1 9.3 6.02l.08-.37a.083.083 0 0 0-.074-.1c-.33-.022-.601.093-.84.368a2.5 2.5 0 0 0-.375-.064c-.863-.093-1.036.345-1.873.345H5.81c-.758 0-1.391.361-1.7.892-.248.424-.257.884.15.93-.126.445.292.62 1.224.192 0 0 .733.421 1.749.421.549 0 .712.087.914.967.486 2.138 2.404 5.655 6.282 5.655l.118.166c.659.934.86 2.113.48 3.184-.307.867-.697 1.531-.697 1.531q.01.178.01.349c0 .81-.175 1.553-.387 2.23a10.91 10.91 0 0 1-11.989-6.342A10.91 10.91 0 0 1 7.608 2.01a10.9 10.9 0 0 1 4.55-.907M7.524 6.47c.288 0 .575.231.477.272a.4.4 0 0 1-.1.02.38.38 0 0 1-.375.327.384.384 0 0 1-.378-.326.4.4 0 0 1-.101-.02c-.098-.042.19-.273.477-.273m10.193 10.49q.05 0 .101.007.326.054.694.096.135.01.269.026a13.4 13.4 0 0 0 2.846-.007 10.9 10.9 0 0 1-2.007 2.705c-.11-.23-.547-1.19-.573-2.196q-.156-.01-.313-.026-.13-.014-.256-.022a18 18 0 0 1-.735-.102h-.003c-.032 0-.06.01-.074.035l-.003.012q-.081.265-.182.544c.428 1.084.652 2.078.652 2.078.14.22.258.432.363.64a11 11 0 0 1-2.168 1.264 11 11 0 0 1-1.205.426 13.3 13.3 0 0 1 1.055-2.531s.678-1.445 1.027-2.564v-.004a.55.55 0 0 1 .512-.38"/></svg> <span class=md-ellipsis> Perl </span> </a> <label class="md-nav__link " for=__nav_3_6 id=__nav_3_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_6_label aria-expanded=false> <label class=md-nav__title for=__nav_3_6> <span class="md-nav__icon md-icon"></span> Perl </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../introduction-to-perl/ class=md-nav__link> <span class=md-ellipsis> Introduction to Perl </span> </a> </li> <li class=md-nav__item> <a href=../learning-perl-6/ class=md-nav__link> <span class=md-ellipsis> Learning Perl 6 </span> </a> </li> <li class=md-nav__item> <a href=../my-perl-scripts-that-can-serve-as-exercises/ class=md-nav__link> <span class=md-ellipsis> My Perl Scripts That Can Serve as Exercises </span> </a> </li> <li class=md-nav__item> <a href=../object-oriented-programming-in-perl/ class=md-nav__link> <span class=md-ellipsis> Object-Oriented Programming in Perl </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_7> <div class="md-nav__link md-nav__container"> <a href=../Coding/Python/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.25.18.9.2.73.26.59.3.45.32.34.34.25.34.16.33.1.3.04.26.02.2-.01.13V8.5l-.05.63-.13.55-.21.46-.26.38-.3.31-.33.25-.35.19-.35.14-.33.1-.3.07-.26.04-.21.02H8.77l-.69.05-.59.14-.5.22-.41.27-.33.32-.27.35-.2.36-.15.37-.1.35-.07.32-.04.27-.02.21v3.06H3.17l-.21-.03-.28-.07-.32-.12-.35-.18-.36-.26-.36-.36-.35-.46-.32-.59-.28-.73-.21-.88-.14-1.05-.05-1.23.06-1.22.16-1.04.24-.87.32-.71.36-.57.4-.44.42-.33.42-.24.4-.16.36-.1.32-.05.24-.01h.16l.06.01h8.16v-.83H6.18l-.01-2.75-.02-.37.05-.34.11-.31.17-.28.25-.26.31-.23.38-.2.44-.18.51-.15.58-.12.64-.1.71-.06.77-.04.84-.02 1.27.05zm-6.3 1.98-.23.33-.08.41.08.41.23.34.33.22.41.09.41-.09.33-.22.23-.34.08-.41-.08-.41-.23-.33-.33-.22-.41-.09-.41.09zm13.09 3.95.28.06.32.12.35.18.36.27.36.35.35.47.32.59.28.73.21.88.14 1.04.05 1.23-.06 1.23-.16 1.04-.24.86-.32.71-.36.57-.4.45-.42.33-.42.24-.4.16-.36.09-.32.05-.24.02-.16-.01h-8.22v.82h5.84l.01 2.76.02.36-.05.34-.11.31-.17.29-.25.25-.31.24-.38.2-.44.17-.51.15-.58.13-.64.09-.71.07-.77.04-.84.01-1.27-.04-1.07-.14-.9-.2-.73-.25-.59-.3-.45-.33-.34-.34-.25-.34-.16-.33-.1-.3-.04-.25-.02-.2.01-.13v-5.34l.05-.64.13-.54.21-.46.26-.38.3-.32.33-.24.35-.2.35-.14.33-.1.3-.06.26-.04.21-.02.13-.01h5.84l.69-.05.59-.14.5-.21.41-.28.33-.32.27-.35.2-.36.15-.36.1-.35.07-.32.04-.28.02-.21V6.07h2.09l.14.01zm-6.47 14.25-.23.33-.08.41.08.41.23.33.33.23.41.08.41-.08.33-.23.23-.33.08-.41-.08-.41-.23-.33-.33-.23-.41-.08-.41.08z"/></svg> <span class=md-ellipsis> Python </span> </a> <label class="md-nav__link " for=__nav_3_7 id=__nav_3_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_7_label aria-expanded=false> <label class=md-nav__title for=__nav_3_7> <span class="md-nav__icon md-icon"></span> Python </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../introduction-to-python/ class=md-nav__link> <span class=md-ellipsis> Introduction to Python </span> </a> </li> <li class=md-nav__item> <a href=../my-python-scripts-that-can-serve-as-exercises/ class=md-nav__link> <span class=md-ellipsis> My Python Scripts That Can Serve as Exercises </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_8> <div class="md-nav__link md-nav__container"> <a href=../Coding/SQL/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M23.157 4.412c-.676.284-.79.31-1.673.372-.65.045-.757.057-1.212.209-.75.246-1.395.75-2.02 1.59-.296.398-1.249 1.913-1.249 1.988 0 .057-.65.998-.915 1.32-.574.713-1.08 1.079-2.14 1.59-.77.36-1.224.524-4.102 1.477-1.073.353-2.133.738-2.367.864-.852.449-1.515 1.036-2.203 1.938-1.003 1.32-.972 1.313-3.042.947a12 12 0 0 0-.675-.063c-.644-.05-1.023.044-1.332.334L0 17.193l.177.088c.094.05.353.234.561.398.215.17.461.347.55.391.088.044.17.088.183.101s-.089.17-.228.353c-.435.581-.593.871-.574 1.048.019.164.032.17.43.17.517-.006.826-.056 1.261-.208.65-.233 2.058-.94 2.784-1.4.776-.5 1.717-.998 1.956-1.042.082-.02.354-.07.594-.114.58-.107 1.464-.095 2.587.05.108.013.373.045.6.064.227.025.43.057.454.076.026.012.474.037.998.056.934.026 1.104.007 1.3-.189.126-.133.385-.631.498-.985.209-.643.417-.921.366-.492-.113.966-.322 1.692-.713 2.411-.259.499-.663 1.092-.934 1.395-.322.347-.315.36.088.315.619-.063 1.471-.397 2.096-.82.827-.562 1.647-1.691 2.19-3.03.107-.27.22-.22.183.083-.013.094-.038.315-.057.498l-.031.328.353-.202c.833-.48 1.414-1.262 2.127-2.884.227-.518.877-2.922 1.073-3.976a10 10 0 0 1 .271-1.042c.127-.429.196-.555.48-.858.183-.19.625-.555.978-.808.72-.505.953-.75 1.187-1.205.208-.417.284-1.13.132-1.357-.132-.202-.284-.196-.763.006"/></svg> <span class=md-ellipsis> SQL </span> </a> <label class="md-nav__link " for=__nav_3_8 id=__nav_3_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_8_label aria-expanded=false> <label class=md-nav__title for=__nav_3_8> <span class="md-nav__icon md-icon"></span> SQL </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../introduction-to-sql/ class=md-nav__link> <span class=md-ellipsis> Introduction to SQL </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3_9> <div class="md-nav__link md-nav__container"> <a href=../Coding/ShellScript/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25ZM7.25 8a.75.75 0 0 1-.22.53l-2.25 2.25a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L5.44 8 3.72 6.28a.749.749 0 0 1 .326-1.275.75.75 0 0 1 .734.215l2.25 2.25c.141.14.22.331.22.53m1.5 1.5h3a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5"/></svg> <span class=md-ellipsis> ShellScript </span> </a> <label class="md-nav__link " for=__nav_3_9 id=__nav_3_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_3_9_label aria-expanded=false> <label class=md-nav__title for=__nav_3_9> <span class="md-nav__icon md-icon"></span> ShellScript </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../debugging-a-shell-script/ class=md-nav__link> <span class=md-ellipsis> Debugging a Shell Script </span> </a> </li> <li class=md-nav__item> <a href=../different-shell-script-loops/ class=md-nav__link> <span class=md-ellipsis> Different Shell Script Loops </span> </a> </li> <li class=md-nav__item> <a href=../Coding/ShellScript/introduction_to_shell_scripting.html class=md-nav__link> <span class=md-ellipsis> Introduction to shell scripting </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <div class="md-nav__link md-nav__container"> <a href=../Ethical%20Hacking/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M0 4.124q0-.305.06-.595l1.956 1.734 2.144-2.38L2.246 1.18c.259-.072.53-.114.812-.114a3.06 3.06 0 0 1 3.058 3.037v.021q0 .23-.033.45l2.385 2.112a6.7 6.7 0 0 0-2.013 2.54L3.982 7.037a3 3 0 0 1-.924.145A3.06 3.06 0 0 1 0 4.124m20.942 12.694q-.46.002-.88.129l-2.308-2.044a6.86 6.86 0 0 1-1.819 2.706l1.993 1.765a3 3 0 0 0-.044.502 3.06 3.06 0 0 0 3.935 2.929l-1.992-1.77 2.14-2.365 1.981 1.76q.051-.27.052-.554v-.026a3.057 3.057 0 0 0-3.058-3.032m-3.397-7.592 2.473-2.189c.292.093.601.145.924.145A3.06 3.06 0 0 0 23.94 3.53l-1.956 1.734-2.144-2.38 1.914-1.703a3 3 0 0 0-.812-.114 3.06 3.06 0 0 0-3.058 3.037v.021q0 .23.033.45l-2.385 2.112a6.7 6.7 0 0 1 2.013 2.54zm-11.3 5.677-2.307 2.044A3.057 3.057 0 0 0 0 19.85v.026q0 .284.052.554l1.982-1.76 2.14 2.365-1.993 1.77a3.06 3.06 0 0 0 3.935-2.929 3 3 0 0 0-.044-.502l1.993-1.765a6.86 6.86 0 0 1-1.82-2.706m8.971 2.657a1.076 1.076 0 1 1-1.961.424h-.192a1.076 1.076 0 1 1-2.127 0h-.15A1.105 1.105 0 0 1 9.7 19.23c-.604 0-1.094-.5-1.094-1.115 0-.21.057-.405.156-.572-1.493-1.142-2.474-3.051-2.474-5.213 0-3.497 2.559-6.332 5.713-6.332s5.713 2.835 5.713 6.332c0 2.173-.991 4.091-2.497 5.231zm-4.194-5.914a2 2 0 0 0-.559-.66 1.8 1.8 0 0 0-.918-.264 1.5 1.5 0 0 0-.319.036c-.405.05-.747.327-.983.647-.207.257-.368.569-.372.905-.032.278.024.556.075.828.066.322.293.584.55.774.119.095.29.226.44.116.1-.134.016-.33.107-.478a.5.5 0 0 1 .258-.326c.263-.132.527-.262.808-.355.228-.067.416-.219.61-.349.255-.197.424-.558.303-.874m.996 2.325c-.279-.007-.63 1.237-.574 1.78.175.72.237-.505.574-.506.323.014.275 1.255.53.504.078-.5-.224-1.77-.53-1.778m4.036-.833c.051-.272.107-.55.075-.828-.004-.336-.165-.648-.372-.905-.236-.32-.578-.596-.983-.647a1.5 1.5 0 0 0-.319-.036c-.32-.001-.644.1-.918.264-.235.171-.42.406-.559.66-.121.316.048.677.303.874.194.13.382.282.61.35.28.092.545.222.808.354a.5.5 0 0 1 .258.326c.091.147.007.344.106.478.151.11.322-.021.44-.116.258-.19.485-.452.551-.774"/></svg> <span class=md-ellipsis> Ethical Hacking </span> </a> <label class="md-nav__link " for=__nav_4 id=__nav_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Ethical Hacking </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_1> <div class="md-nav__link md-nav__container"> <a href=../Ethical%20Hacking/Database/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M23.157 4.412c-.676.284-.79.31-1.673.372-.65.045-.757.057-1.212.209-.75.246-1.395.75-2.02 1.59-.296.398-1.249 1.913-1.249 1.988 0 .057-.65.998-.915 1.32-.574.713-1.08 1.079-2.14 1.59-.77.36-1.224.524-4.102 1.477-1.073.353-2.133.738-2.367.864-.852.449-1.515 1.036-2.203 1.938-1.003 1.32-.972 1.313-3.042.947a12 12 0 0 0-.675-.063c-.644-.05-1.023.044-1.332.334L0 17.193l.177.088c.094.05.353.234.561.398.215.17.461.347.55.391.088.044.17.088.183.101s-.089.17-.228.353c-.435.581-.593.871-.574 1.048.019.164.032.17.43.17.517-.006.826-.056 1.261-.208.65-.233 2.058-.94 2.784-1.4.776-.5 1.717-.998 1.956-1.042.082-.02.354-.07.594-.114.58-.107 1.464-.095 2.587.05.108.013.373.045.6.064.227.025.43.057.454.076.026.012.474.037.998.056.934.026 1.104.007 1.3-.189.126-.133.385-.631.498-.985.209-.643.417-.921.366-.492-.113.966-.322 1.692-.713 2.411-.259.499-.663 1.092-.934 1.395-.322.347-.315.36.088.315.619-.063 1.471-.397 2.096-.82.827-.562 1.647-1.691 2.19-3.03.107-.27.22-.22.183.083-.013.094-.038.315-.057.498l-.031.328.353-.202c.833-.48 1.414-1.262 2.127-2.884.227-.518.877-2.922 1.073-3.976a10 10 0 0 1 .271-1.042c.127-.429.196-.555.48-.858.183-.19.625-.555.978-.808.72-.505.953-.75 1.187-1.205.208-.417.284-1.13.132-1.357-.132-.202-.284-.196-.763.006"/></svg> <span class=md-ellipsis> Database </span> </a> <label class="md-nav__link " for=__nav_4_1 id=__nav_4_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_1_label aria-expanded=false> <label class=md-nav__title for=__nav_4_1> <span class="md-nav__icon md-icon"></span> Database </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../sql-injections/ class=md-nav__link> <span class=md-ellipsis> SQL Injections </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <div class="md-nav__link md-nav__container"> <a href=../Ethical%20Hacking/Misc/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.83 13.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17z"/></svg> <span class=md-ellipsis> Misc </span> </a> <label class="md-nav__link " for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../address-space-protection-state-of-the-art-in-linux-and-openbsd/ class=md-nav__link> <span class=md-ellipsis> Address Space Protection: State of the Art in Linux and OpenBSD </span> </a> </li> <li class=md-nav__item> <a href=../penetration-testing/ class=md-nav__link> <span class=md-ellipsis> Penetration Testing </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <div class="md-nav__link md-nav__container"> <a href=../Ethical%20Hacking/Network/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v2h1a1 1 0 0 1 1 1h7v2h-7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1H2v-2h7a1 1 0 0 1 1-1h1v-2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/></svg> <span class=md-ellipsis> Network </span> </a> <label class="md-nav__link " for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../altering-arp-tables/ class=md-nav__link> <span class=md-ellipsis> Altering ARP Tables </span> </a> </li> <li class=md-nav__item> <a href=../arp-spoofing-in-a-switched-network/ class=md-nav__link> <span class=md-ellipsis> ARP Spoofing in a Switched Network </span> </a> </li> <li class=md-nav__item> <a href=../grimwepa-easy-wifi-hacking/ class=md-nav__link> <span class=md-ellipsis> Grimwepa: Easy WiFi Hacking </span> </a> </li> <li class=md-nav__item> <a href=../hidden-or-covert-channels/ class=md-nav__link> <span class=md-ellipsis> Hidden (or Covert) Channels </span> </a> </li> <li class=md-nav__item> <a href=../man-in-the-middle/ class=md-nav__link> <span class=md-ellipsis> Man in the Middle </span> </a> </li> <li class=md-nav__item> <a href=../psad-protection-against-nmap-type-scans/ class=md-nav__link> <span class=md-ellipsis> PSAD: Protection Against nmap-Type Scans </span> </a> </li> <li class=md-nav__item> <a href=../reverse-engineering-with-ld_preload/ class=md-nav__link> <span class=md-ellipsis> Reverse Engineering with LD_PRELOAD </span> </a> </li> <li class=md-nav__item> <a href=../scapy-data-frames-and-packets/ class=md-nav__link> <span class=md-ellipsis> Scapy: Data Frames and Packets </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <div class="md-nav__link md-nav__container"> <a href=../Ethical%20Hacking/Operating%20Systems/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12.778 5.943s-1.97-.13-5.327.92c-3.42 1.07-5.36 2.587-5.36 2.587s5.098-2.847 10.852-3.008zm7.351 3.095.257-.017s-1.468-1.78-4.278-2.648c1.58.642 2.954 1.493 4.021 2.665m.42.74c.039-.068.166.217.263.337.004.024.01.039-.045.027-.005-.025-.013-.032-.013-.032s-.135-.08-.177-.137-.049-.157-.028-.195m3.448 8.479s.312-3.578-5.31-4.403a18 18 0 0 0-2.524-.187c-4.506.06-4.67-5.197-1.275-5.462 1.407-.116 3.087.643 4.73 1.408-.007.204.002.385.136.552s.648.35.813.445c.164.094.691.43 1.014.85.07-.131.654-.512.654-.512s-.14.003-.465-.119c-.326-.122-.713-.49-.722-.511s-.015-.055.06-.07c.059-.049-.072-.207-.13-.265s-.445-.716-.454-.73c-.009-.016-.012-.031-.04-.05-.085-.027-.46.04-.46.04s-.575-.283-.774-.893c.003.107-.099.224 0 .469-.3-.127-.558-.344-.762-.88-.12.305 0 .499 0 .499s-.707-.198-.82-.85c-.124.293 0 .469 0 .469s-1.153-.602-3.069-.61c-1.283-.118-1.55-2.374-1.43-2.754 0 0-1.85-.975-5.493-1.406-3.642-.43-6.628-.065-6.628-.065s6.45-.31 11.617 1.783c.176.785.704 2.094.989 2.723-.815.563-1.733 1.092-1.876 2.97s1.472 3.53 3.474 3.58c1.9.102 3.214.116 4.806.942 1.52.84 2.766 3.4 2.89 5.703.132-1.709-.509-5.383-3.5-6.498 4.181.732 4.549 3.832 4.549 3.832M12.68 5.663l-.15-.485s-2.484-.441-5.822-.204S0 6.38 0 6.38s6.896-1.735 12.68-.717"/></svg> <span class=md-ellipsis> Operating Systems </span> </a> <label class="md-nav__link " for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Operating Systems </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../dns-protocol-security-audits/ class=md-nav__link> <span class=md-ellipsis> DNS Protocol Security Audits </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_2> <div class="md-nav__link md-nav__container"> <a href=../Ethical%20Hacking/Operating%20Systems/Linux/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12.504 0q-.232 0-.48.021c-4.226.333-3.105 4.807-3.17 6.298-.076 1.092-.3 1.953-1.05 3.02-.885 1.051-2.127 2.75-2.716 4.521-.278.832-.41 1.684-.287 2.489a.4.4 0 0 0-.11.135c-.26.268-.45.6-.663.839-.199.199-.485.267-.797.4-.313.136-.658.269-.864.68-.09.189-.136.394-.132.602 0 .199.027.4.055.536.058.399.116.728.04.97-.249.68-.28 1.145-.106 1.484.174.334.535.47.94.601.81.2 1.91.135 2.774.6.926.466 1.866.67 2.616.47.526-.116.97-.464 1.208-.946.587-.003 1.23-.269 2.26-.334.699-.058 1.574.267 2.577.2.025.134.063.198.114.333l.003.003c.391.778 1.113 1.132 1.884 1.071s1.592-.536 2.257-1.306c.631-.765 1.683-1.084 2.378-1.503.348-.199.629-.469.649-.853.023-.4-.2-.811-.714-1.376v-.097l-.003-.003c-.17-.2-.25-.535-.338-.926-.085-.401-.182-.786-.492-1.046h-.003c-.059-.054-.123-.067-.188-.135a.36.36 0 0 0-.19-.064c.431-1.278.264-2.55-.173-3.694-.533-1.41-1.465-2.638-2.175-3.483-.796-1.005-1.576-1.957-1.56-3.368.026-2.152.236-6.133-3.544-6.139m.529 3.405h.013c.213 0 .396.062.584.198.19.135.33.332.438.533.105.259.158.459.166.724 0-.02.006-.04.006-.06v.105l-.004-.021-.004-.024a1.8 1.8 0 0 1-.15.706.95.95 0 0 1-.213.335 1 1 0 0 0-.088-.042c-.104-.045-.198-.064-.284-.133a1.3 1.3 0 0 0-.22-.066c.05-.06.146-.133.183-.198q.08-.193.088-.402v-.02a1.2 1.2 0 0 0-.061-.4c-.045-.134-.101-.2-.183-.333-.084-.066-.167-.132-.267-.132h-.016c-.093 0-.176.03-.262.132a.8.8 0 0 0-.205.334 1.2 1.2 0 0 0-.09.4v.019q.002.134.02.267c-.193-.067-.438-.135-.607-.202a2 2 0 0 1-.018-.2v-.02a1.8 1.8 0 0 1 .15-.768 1.08 1.08 0 0 1 .43-.533 1 1 0 0 1 .594-.2zm-2.962.059h.036c.142 0 .27.048.399.135.146.129.264.288.344.465.09.199.14.4.153.667v.004c.007.134.006.2-.002.266v.08c-.03.007-.056.018-.083.024-.152.055-.274.135-.393.2q.018-.136.003-.267v-.015c-.012-.133-.04-.2-.082-.333a.6.6 0 0 0-.166-.267.25.25 0 0 0-.183-.064h-.021c-.071.006-.13.04-.186.132a.55.55 0 0 0-.12.27 1 1 0 0 0-.023.33v.015c.012.135.037.2.08.334.046.134.098.2.166.268q.014.014.034.024c-.07.057-.117.07-.176.136a.3.3 0 0 1-.131.068 2.6 2.6 0 0 1-.275-.402 1.8 1.8 0 0 1-.155-.667 1.8 1.8 0 0 1 .08-.668 1.4 1.4 0 0 1 .283-.535c.128-.133.26-.2.418-.2m1.37 1.706c.332 0 .733.065 1.216.399.293.2.523.269 1.052.468h.003c.255.136.405.266.478.399v-.131a.57.57 0 0 1 .016.47c-.123.31-.516.643-1.063.842v.002c-.268.135-.501.333-.775.465-.276.135-.588.292-1.012.267a1.1 1.1 0 0 1-.448-.067 4 4 0 0 1-.322-.198c-.195-.135-.363-.332-.612-.465v-.005h-.005c-.4-.246-.616-.512-.686-.71q-.104-.403.193-.6c.224-.135.38-.271.483-.336.104-.074.143-.102.176-.131h.002v-.003c.169-.202.436-.47.839-.601.139-.036.294-.065.466-.065zm2.8 2.142c.358 1.417 1.196 3.475 1.735 4.473.286.534.855 1.659 1.102 3.024.156-.005.33.018.513.064.646-1.671-.546-3.467-1.089-3.966-.22-.2-.232-.335-.123-.335.59.534 1.365 1.572 1.646 2.757.13.535.16 1.104.021 1.67.067.028.135.06.205.067 1.032.534 1.413.938 1.23 1.537v-.043c-.06-.003-.12 0-.18 0h-.016c.151-.467-.182-.825-1.065-1.224-.915-.4-1.646-.336-1.77.465-.008.043-.013.066-.018.135-.068.023-.139.053-.209.064-.43.268-.662.669-.793 1.187-.13.533-.17 1.156-.205 1.869v.003c-.02.334-.17.838-.319 1.35-1.5 1.072-3.58 1.538-5.348.334a2.7 2.7 0 0 0-.402-.533 1.5 1.5 0 0 0-.275-.333c.182 0 .338-.03.465-.067a.62.62 0 0 0 .314-.334c.108-.267 0-.697-.345-1.163s-.931-.995-1.788-1.521c-.63-.4-.986-.87-1.15-1.396-.165-.534-.143-1.085-.015-1.645.245-1.07.873-2.11 1.274-2.763.107-.065.037.135-.408.974-.396.751-1.14 2.497-.122 3.854a8.1 8.1 0 0 1 .647-2.876c.564-1.278 1.743-3.504 1.836-5.268.048.036.217.135.289.202.218.133.38.333.59.465.21.201.477.335.876.335q.058.005.11.006c.412 0 .73-.134.997-.268.29-.134.52-.334.74-.4h.005c.467-.135.835-.402 1.044-.7zm2.185 8.958c.037.6.343 1.245.882 1.377.588.134 1.434-.333 1.791-.765l.211-.01c.315-.007.577.01.847.268l.003.003c.208.199.305.53.391.876.085.4.154.78.409 1.066.486.527.645.906.636 1.14l.003-.007v.018l-.003-.012c-.015.262-.185.396-.498.595-.63.401-1.746.712-2.457 1.57-.618.737-1.37 1.14-2.036 1.191-.664.053-1.237-.2-1.574-.898l-.005-.003c-.21-.4-.12-1.025.056-1.69.176-.668.428-1.344.463-1.897.037-.714.076-1.335.195-1.814.12-.465.308-.797.641-.984l.045-.022zm-10.814.049h.01q.08 0 .157.014c.376.055.706.333 1.023.752l.91 1.664.003.003c.243.533.754 1.064 1.189 1.637.434.598.77 1.131.729 1.57v.006c-.057.744-.48 1.148-1.125 1.294-.645.135-1.52.002-2.395-.464-.968-.536-2.118-.469-2.857-.602q-.553-.1-.723-.4c-.11-.2-.113-.602.123-1.23v-.004l.002-.003c.117-.334.03-.752-.027-1.118-.055-.401-.083-.71.043-.94.16-.334.396-.4.69-.533.294-.135.64-.202.915-.47h.002v-.002c.256-.268.445-.601.668-.838.19-.201.38-.336.663-.336m7.159-9.074c-.435.201-.945.535-1.488.535-.542 0-.97-.267-1.28-.466-.154-.134-.28-.268-.373-.335-.164-.134-.144-.333-.074-.333.109.016.129.134.199.2.096.066.215.2.36.333.292.2.68.467 1.167.467.485 0 1.053-.267 1.398-.466.195-.135.445-.334.648-.467.156-.136.149-.267.279-.267.128.016.034.134-.147.332a8 8 0 0 1-.69.468zm-1.082-1.583V5.64c-.006-.02.013-.042.029-.05.074-.043.18-.027.26.004.063 0 .16.067.15.135-.006.049-.085.066-.135.066-.055 0-.092-.043-.141-.068-.052-.018-.146-.008-.163-.065m-.551 0c-.02.058-.113.049-.166.066-.047.025-.086.068-.14.068-.05 0-.13-.02-.136-.068-.01-.066.088-.133.15-.133.08-.031.184-.047.259-.005.019.009.036.03.03.05v.02h.003z"/></svg> <span class=md-ellipsis> Linux </span> </a> <label class="md-nav__link " for=__nav_4_4_2 id=__nav_4_4_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4_2> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../anti-forensics-on-ext2ext3-filesystems/ class=md-nav__link> <span class=md-ellipsis> Anti-forensics on ext2/ext3 Filesystems </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4_3> <div class="md-nav__link md-nav__container"> <a href=../Ethical%20Hacking/Operating%20Systems/Windows/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m0 93.7 183.6-25.3v177.4H0zm0 324.6 183.6 25.3V268.4H0zm203.8 28L448 480V268.4H203.8zm0-380.6v180.1H448V32z"/></svg> <span class=md-ellipsis> Windows </span> </a> <label class="md-nav__link " for=__nav_4_4_3 id=__nav_4_4_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_4_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4_3> <span class="md-nav__icon md-icon"></span> Windows </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../fuzzing-tutorial-on-using-and-customizing-a-fuzzer-for-vulnerability-research/ class=md-nav__link> <span class=md-ellipsis> Fuzzing - Tutorial on Using and Customizing a Fuzzer for Vulnerability Research </span> </a> </li> <li class=md-nav__item> <a href=../arbitrary-code-injection-and-execution-in-another-process-memory-space/ class=md-nav__link> <span class=md-ellipsis> Arbitrary Code Injection and Execution in Another Process Memory Space </span> </a> </li> <li class=md-nav__item> <a href=../download-and-execute-shellcode-optimized-and-detailed-code-of-a-downloadexecute-shellcode-for-windows/ class=md-nav__link> <span class=md-ellipsis> Download and Execute ShellCode: Optimized and Detailed Code of a Download/Execute ShellCode for Windows </span> </a> </li> <li class=md-nav__item> <a href=../finding-passwords-from-the-windows-sam-database/ class=md-nav__link> <span class=md-ellipsis> Finding passwords from the Windows SAM database </span> </a> </li> <li class=md-nav__item> <a href=../finding-the-base-address-of-kernel32dll-three-methods-peb-seh-and-topstack/ class=md-nav__link> <span class=md-ellipsis> Finding the base address of kernel32.dll: Three methods PEB, SEH and TopStack </span> </a> </li> <li class=md-nav__item> <a href=../shatter-attack-technique/ class=md-nav__link> <span class=md-ellipsis> Shatter Attack Technique </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_5> <div class="md-nav__link md-nav__container"> <a href=../Ethical%20Hacking/Theory/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.74 3.74 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574M8.755 4.75l-.004 7.322a3.75 3.75 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25"/></svg> <span class=md-ellipsis> Theory </span> </a> <label class="md-nav__link " for=__nav_4_5 id=__nav_4_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_5_label aria-expanded=false> <label class=md-nav__title for=__nav_4_5> <span class="md-nav__icon md-icon"></span> Theory </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cryptology-and-prime-numbers-the-rsa-algorithm/ class=md-nav__link> <span class=md-ellipsis> Cryptology and Prime Numbers: The RSA Algorithm </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <div class="md-nav__link md-nav__container"> <a href=../Linux/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13.88 12.685c-.4 0 .08.2.601.28.14-.1.27-.22.39-.33a3 3 0 0 1-.99.05m2.14-.53c.23-.33.4-.69.47-1.06-.06.27-.2.5-.33.73-.75.47-.07-.27 0-.56-.8 1.01-.11.6-.14.89m.781-2.05c.05-.721-.14-.501-.2-.221.07.04.13.5.2.22M12.38.31c.2.04.45.07.42.12.23-.05.28-.1-.43-.12m.43.12-.15.03.14-.01V.43m6.633 9.944c.02.64-.2.95-.38 1.5l-.35.181c-.28.54.03.35-.17.78-.44.39-1.34 1.22-1.62 1.301-.201 0 .14-.25.19-.34-.591.4-.481.6-1.371.85l-.03-.06c-2.221 1.04-5.303-1.02-5.253-3.842-.03.17-.07.13-.12.2a3.55 3.55 0 0 1 2.001-3.501 3.36 3.36 0 0 1 3.732.48 3.34 3.34 0 0 0-2.721-1.3c-1.18.01-2.281.76-2.651 1.57-.6.38-.67 1.47-.93 1.661-.361 2.601.66 3.722 2.38 5.042.27.19.08.21.12.35a4.7 4.7 0 0 1-1.53-1.16c.23.33.47.66.8.91-.55-.18-1.27-1.3-1.48-1.35.93 1.66 3.78 2.921 5.261 2.3a6.2 6.2 0 0 1-2.33-.28c-.33-.16-.77-.51-.7-.57a5.802 5.803 0 0 0 5.902-.84c.44-.35.93-.94 1.07-.95-.2.32.04.16-.12.44.44-.72-.2-.3.46-1.24l.24.33c-.09-.6.74-1.321.66-2.262.19-.3.2.3 0 .97.29-.74.08-.85.15-1.46.08.2.18.42.23.63-.18-.7.2-1.2.28-1.6-.09-.05-.28.3-.32-.53 0-.37.1-.2.14-.28-.08-.05-.26-.32-.38-.861.08-.13.22.33.34.34-.08-.42-.2-.75-.2-1.08-.34-.68-.12.1-.4-.3-.34-1.091.3-.25.34-.74.54.77.84 1.96.981 2.46-.1-.6-.28-1.2-.49-1.76.16.07-.26-1.241.21-.37A7.82 7.82 0 0 0 17.702 1.6c.18.17.42.39.33.42-.75-.45-.62-.48-.73-.67-.61-.25-.65.02-1.06 0C15.082.73 14.862.8 13.8.4l.05.23c-.77-.25-.9.1-1.73 0-.05-.04.27-.14.53-.18-.741.1-.701-.14-1.431.03.17-.13.36-.21.55-.32-.6.04-1.44.35-1.18.07C9.6.68 7.847 1.3 6.867 2.22L6.838 2c-.45.54-1.96 1.611-2.08 2.311l-.131.03c-.23.4-.38.85-.57 1.261-.3.52-.45.2-.4.28-.6 1.22-.9 2.251-1.16 3.102.18.27 0 1.65.07 2.76-.3 5.463 3.84 10.776 8.363 12.006.67.23 1.65.23 2.49.25-.99-.28-1.12-.15-2.08-.49-.7-.32-.85-.7-1.34-1.13l.2.35c-.971-.34-.57-.42-1.361-.67l.21-.27c-.31-.03-.83-.53-.97-.81l-.34.01c-.41-.501-.63-.871-.61-1.161l-.111.2c-.13-.21-1.52-1.901-.8-1.511-.13-.12-.31-.2-.5-.55l.14-.17c-.35-.44-.64-1.02-.62-1.2.2.24.32.3.45.33-.88-2.172-.93-.12-1.601-2.202l.15-.02c-.1-.16-.18-.34-.26-.51l.06-.6c-.63-.74-.18-3.102-.09-4.402.07-.54.53-1.1.88-1.981l-.21-.04c.4-.71 2.341-2.872 3.241-2.761.43-.55-.09 0-.18-.14.96-.991 1.26-.7 1.901-.88.7-.401-.6.16-.27-.151 1.2-.3.85-.7 2.421-.85.16.1-.39.14-.52.26 1-.49 3.151-.37 4.562.27 1.63.77 3.461 3.011 3.531 5.132l.08.02c-.04.85.13 1.821-.17 2.711l.2-.42M9.54 13.236l-.05.28c.26.35.47.73.8 1.01-.24-.47-.42-.66-.75-1.3m.62-.02c-.14-.15-.22-.34-.31-.52.08.32.26.6.43.88zm10.945-2.382-.07.15c-.1.76-.34 1.511-.69 2.212.4-.73.65-1.541.75-2.362M12.45.12c.27-.1.66-.05.95-.12-.37.03-.74.05-1.1.1zM3.006 5.142c.07.57-.43.8.11.42.3-.66-.11-.18-.1-.42m-.64 2.661c.12-.39.15-.62.2-.84-.35.44-.17.53-.2.83"/></svg> <span class=md-ellipsis> Linux </span> </a> <label class="md-nav__link " for=__nav_5 id=__nav_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Linux </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1> <div class="md-nav__link md-nav__container"> <a href=../Linux/Applications/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m8.809 14.92 6.11-11.037c.084-.152.168-.302.244-.459.069-.142.127-.285.165-.44.08-.326.058-.666-.066-.977a1.5 1.5 0 0 0-.62-.735 1.42 1.42 0 0 0-.922-.193c-.32.043-.613.194-.844.43-.11.11-.2.235-.283.368-.092.146-.175.298-.259.45l-.386.697-.387-.698c-.084-.151-.167-.303-.259-.449a2.2 2.2 0 0 0-.283-.369 1.45 1.45 0 0 0-.844-.429 1.42 1.42 0 0 0-.921.193 1.5 1.5 0 0 0-.62.735c-.125.311-.147.651-.066.977.038.155.096.298.164.44.076.157.16.307.244.459l1.248 2.254-4.862 8.782H2.03c-.168 0-.336 0-.503.01-.152.009-.3.028-.448.071-.31.09-.582.28-.778.548-.195.267-.301.593-.301.928s.106.661.3.928c.197.268.468.457.779.548.148.043.296.062.448.071.167.01.335.01.503.01h13.097c.017-.037.059-.13.1-.27.415-1.416-.616-2.844-2.035-2.844zm-5.696 3.622-.792 1.5c-.082.156-.165.31-.239.471a2.4 2.4 0 0 0-.16.452c-.08.335-.058.684.064 1.003.121.318.334.583.607.755s.589.242.901.197c.314-.044.6-.198.826-.44.108-.115.196-.242.278-.378.09-.15.171-.306.253-.462L6 19.464c-.09-.15-.947-1.47-2.887-.922m20.586-3.006a1.47 1.47 0 0 0-.779-.54 2 2 0 0 0-.448-.071c-.168-.01-.335-.01-.503-.01h-3.321L14.258 7.1a4.06 4.06 0 0 0-1.076 2.198 4.64 4.64 0 0 0 .546 3l5.274 9.393c.084.15.167.3.259.444.084.13.174.253.283.364.231.232.524.38.845.423s.643-.024.922-.19a1.5 1.5 0 0 0 .621-.726c.125-.307.146-.642.066-.964a2.2 2.2 0 0 0-.165-.434c-.075-.155-.16-.303-.244-.453l-1.216-2.166h1.596c.168 0 .335 0 .503-.009.152-.009.3-.028.448-.07a1.47 1.47 0 0 0 .78-.541 1.54 1.54 0 0 0 .3-.916 1.54 1.54 0 0 0-.3-.916"/></svg> <span class=md-ellipsis> Applications </span> </a> <label class="md-nav__link " for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../busybox-creation-and-usage-of-a-busybox/ class=md-nav__link> <span class=md-ellipsis> BusyBox: Creation and Usage of a BusyBox </span> </a> </li> <li class=md-nav__item> <a href=../cpuburn-stress-testing-your-cpu/ class=md-nav__link> <span class=md-ellipsis> CPUBurn: Stress Testing Your CPU </span> </a> </li> <li class=md-nav__item> <a href=../crontab-usage/ class=md-nav__link> <span class=md-ellipsis> Crontab: Usage </span> </a> </li> <li class=md-nav__item> <a href=../ftp-automate-transfers/ class=md-nav__link> <span class=md-ellipsis> FTP: Automate Transfers </span> </a> </li> <li class=md-nav__item> <a href=../gnuplot-graph-data-easily/ class=md-nav__link> <span class=md-ellipsis> Gnuplot: Graph Data Easily </span> </a> </li> <li class=md-nav__item> <a href=../linux-unix-cheat-sheets-the-ultimate-collection/ class=md-nav__link> <span class=md-ellipsis> Linux-Unix Cheat Sheets - The Ultimate Collection </span> </a> </li> <li class=md-nav__item> <a href=../mfi-install-a-ubiquiti-server-to-manage-powerstrips/ class=md-nav__link> <span class=md-ellipsis> MFi: Install a Ubiquiti server to manage powerstrips </span> </a> </li> <li class=md-nav__item> <a href=../mirroring-a-website/ class=md-nav__link> <span class=md-ellipsis> Mirroring a Website </span> </a> </li> <li class=md-nav__item> <a href=../restarting-difficult-services/ class=md-nav__link> <span class=md-ellipsis> Restarting difficult services </span> </a> </li> <li class=md-nav__item> <a href=../task-scheduling/ class=md-nav__link> <span class=md-ellipsis> Task Scheduling </span> </a> </li> <li class=md-nav__item> <a href=../weechat-a-user-friendly-irc-client/ class=md-nav__link> <span class=md-ellipsis> Weechat: A User Friendly IRC Client </span> </a> </li> <li class=md-nav__item> <a href=../yubikey-configure-your-yubikey-with-pam/ class=md-nav__link> <span class=md-ellipsis> Yubikey: Configure Your Yubikey with PAM </span> </a> </li> <li class=md-nav__item> <a href=../znc-use-a-bouncer-to-get-history/ class=md-nav__link> <span class=md-ellipsis> ZNC: Use a Bouncer to Get History </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1_14> <div class="md-nav__link md-nav__container"> <a href=../Linux/Applications/Shell/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M0 2.75C0 1.784.784 1 1.75 1h12.5c.966 0 1.75.784 1.75 1.75v10.5A1.75 1.75 0 0 1 14.25 15H1.75A1.75 1.75 0 0 1 0 13.25Zm1.75-.25a.25.25 0 0 0-.25.25v10.5c0 .138.112.25.25.25h12.5a.25.25 0 0 0 .25-.25V2.75a.25.25 0 0 0-.25-.25ZM7.25 8a.75.75 0 0 1-.22.53l-2.25 2.25a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L5.44 8 3.72 6.28a.749.749 0 0 1 .326-1.275.75.75 0 0 1 .734.215l2.25 2.25c.141.14.22.331.22.53m1.5 1.5h3a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5"/></svg> <span class=md-ellipsis> Shell </span> </a> <label class="md-nav__link " for=__nav_5_1_14 id=__nav_5_1_14_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_1_14_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1_14> <span class="md-nav__icon md-icon"></span> Shell </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../batch-renaming-elements/ class=md-nav__link> <span class=md-ellipsis> Batch Renaming Elements </span> </a> </li> <li class=md-nav__item> <a href=../chat-with-users-on-the-same-machine-via-terminal/ class=md-nav__link> <span class=md-ellipsis> Chat with Users on the Same Machine via Terminal </span> </a> </li> <li class=md-nav__item> <a href=../command-line-burning/ class=md-nav__link> <span class=md-ellipsis> Command-line Burning </span> </a> </li> <li class=md-nav__item> <a href=../console-colorization/ class=md-nav__link> <span class=md-ellipsis> Console Colorization </span> </a> </li> <li class=md-nav__item> <a href=../cpulimit-limit-cpu-usage/ class=md-nav__link> <span class=md-ellipsis> Cpulimit: Limit CPU Usage </span> </a> </li> <li class=md-nav__item> <a href=../date-advanced-usage-of-the-date-command/ class=md-nav__link> <span class=md-ellipsis> Date: Advanced Usage of the Date Command </span> </a> </li> <li class=md-nav__item> <a href=../differences-between-du-and-df/ class=md-nav__link> <span class=md-ellipsis> Differences between du and df </span> </a> </li> <li class=md-nav__item> <a href=../environment-variables/ class=md-nav__link> <span class=md-ellipsis> Environment Variables </span> </a> </li> <li class=md-nav__item> <a href=../execute-commands-at-logout/ class=md-nav__link> <span class=md-ellipsis> Execute Commands at Logout </span> </a> </li> <li class=md-nav__item> <a href=../fifo-and-cat-share-a-session-with-multiple-users/ class=md-nav__link> <span class=md-ellipsis> Fifo and Cat: Share a Session with Multiple Users </span> </a> </li> <li class=md-nav__item> <a href=../locate-large-files-and-directories/ class=md-nav__link> <span class=md-ellipsis> Locate Large Files and Directories </span> </a> </li> <li class=md-nav__item> <a href=../find-all-dependencies-related-to-a-package/ class=md-nav__link> <span class=md-ellipsis> Find all dependencies related to a package </span> </a> </li> <li class=md-nav__item> <a href=../finding-broken-symbolic-links/ class=md-nav__link> <span class=md-ellipsis> Finding Broken Symbolic Links </span> </a> </li> <li class=md-nav__item> <a href=../how-to-kill-a-crashed-application-or-handle-a-frozen-screen/ class=md-nav__link> <span class=md-ellipsis> How to Kill a Crashed Application or Handle a Frozen Screen </span> </a> </li> <li class=md-nav__item> <a href=../ivconv-text-transcoding-to-any-character-set/ class=md-nav__link> <span class=md-ellipsis> Ivconv: Text Transcoding to Any Character Set </span> </a> </li> <li class=md-nav__item> <a href=../jobs-how-to-use-jobs/ class=md-nav__link> <span class=md-ellipsis> Jobs: How to Use Jobs </span> </a> </li> <li class=md-nav__item> <a href=../kill-and-lsof-killing-the-process-listening-on-a-specific-port/ class=md-nav__link> <span class=md-ellipsis> Kill and lsof: Killing the process listening on a specific port </span> </a> </li> <li class=md-nav__item> <a href=../most-used-commands-list/ class=md-nav__link> <span class=md-ellipsis> Most Used Commands List </span> </a> </li> <li class=md-nav__item> <a href=../motd-modifying-the-console-opening-message/ class=md-nav__link> <span class=md-ellipsis> MOTD: Modifying the Console Opening Message </span> </a> </li> <li class=md-nav__item> <a href=../pstree-list-processes-as-a-tree/ class=md-nav__link> <span class=md-ellipsis> Pstree: List Processes as a Tree </span> </a> </li> <li class=md-nav__item> <a href=../redirect-a-service-output-to-a-file/ class=md-nav__link> <span class=md-ellipsis> Redirect a Service Output to a File </span> </a> </li> <li class=md-nav__item> <a href=../removing-superfluous-elements-in-text-files/ class=md-nav__link> <span class=md-ellipsis> Removing Superfluous Elements in Text Files </span> </a> </li> <li class=md-nav__item> <a href=../screen-most-used-commands/ class=md-nav__link> <span class=md-ellipsis> Screen: Most Used Commands </span> </a> </li> <li class=md-nav__item> <a href=../sed-awk-some-examples-of-these-wonders/ class=md-nav__link> <span class=md-ellipsis> Sed & Awk: Some Examples of These Wonders </span> </a> </li> <li class=md-nav__item> <a href=../shell-batch-renaming-with-counter/ class=md-nav__link> <span class=md-ellipsis> Shell: Batch Renaming with Counter </span> </a> </li> <li class=md-nav__item> <a href=../sipcalc-subnet-calculator/ class=md-nav__link> <span class=md-ellipsis> Sipcalc: Subnet Calculator </span> </a> </li> <li class=md-nav__item> <a href=../the-find-command-or-the-power-of-search/ class=md-nav__link> <span class=md-ellipsis> The find command or the power of search </span> </a> </li> <li class=md-nav__item> <a href=../tmux-the-terminal-multiplexer-replacing-screen/ class=md-nav__link> <span class=md-ellipsis> Tmux: The Terminal Multiplexer Replacing Screen </span> </a> </li> <li class=md-nav__item> <a href=../unix-toolbox-all-useful-commands/ class=md-nav__link> <span class=md-ellipsis> Unix Toolbox: All Useful Commands </span> </a> </li> <li class=md-nav__item> <a href=../xterm-customizing-the-display/ class=md-nav__link> <span class=md-ellipsis> Xterm: Customizing the Display </span> </a> </li> <li class=md-nav__item> <a href=../zsh-a-very-practical-shell/ class=md-nav__link> <span class=md-ellipsis> ZSH: A Very Practical Shell </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1_15> <div class="md-nav__link md-nav__container"> <a href=../Linux/Applications/TextEditors/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M24 11.986h-.027l-4.318-4.318 4.303-4.414V1.461l-.649-.648h-8.198l-.66.605v1.045L12.015.027V0L12 .014 11.986 0v.027l-1.29 1.291-.538-.539H2.035l-.638.692v1.885l.616.616h.72v5.31L.027 11.987H0L.014 12 0 12.014h.027l2.706 2.706v6.467l.907.523h2.322l1.857-1.904 4.166 4.166V24l.015-.014.014.014v-.028l2.51-2.509h.485c.111 0 .211-.07.25-.179l.146-.426a.26.26 0 0 0-.037-.239l1.462-1.462-.612 1.962a.265.265 0 0 0 .255.344h1.824a.27.27 0 0 0 .243-.163l.165-.394a.27.27 0 0 0-.247-.365h-.075l.84-2.644h1.232l-1.016 3.221a.266.266 0 0 0 .255.344h2.002c.11 0 .207-.066.248-.17l.164-.428a.266.266 0 0 0-.249-.358h-.145l1.131-3.673a.26.26 0 0 0-.039-.24l-.375-.504-.003-.005a.27.27 0 0 0-.209-.102h-1.436a.27.27 0 0 0-.19.081l-.4.439h-.624l-.042-.046 4.445-4.445H24L23.986 12zM9.838 21.139l1.579-4.509h-.501l.297-.304h1.659l-1.563 4.555h.623l-.079.258zm3.695-7.516.15.151-.269.922-.225.226h-.969l-.181-.181.311-.871.288-.247zM5.59 20.829H3.877l-.262-.15V3.091H2.379l-.1-.1V1.815l.143-.154h7.371l.213.214v1.108l-.142.173H8.785v8.688l8.807-8.688h-2.086l-.175-.188V1.805l.121-.111h7.49l.132.133v1.07L12.979 13.25h-.373q-.022-.001-.042.001l-.02.003a.26.26 0 0 0-.119.06l-.343.295-.004.003a.3.3 0 0 0-.073.111l-.296.83zm14.768-3.952.474-.519h1.334l.309.415-1.265 4.107h.493l-.08.209H19.84l1.124-3.564h-2.015l-1.077 3.391h.424l-.073.174h-1.605l1.107-3.548h-2.096l-1.062 3.339h.436l-.072.209H13.27l1.514-4.46h-.586l.091-.271h1.65l.519.537h.906l.491-.554h1.061l.489.535z"/></svg> <span class=md-ellipsis> TextEditors </span> </a> <label class="md-nav__link " for=__nav_5_1_15 id=__nav_5_1_15_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_1_15_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1_15> <span class="md-nav__icon md-icon"></span> TextEditors </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../emacs-quick-reference-card/ class=md-nav__link> <span class=md-ellipsis> Emacs: Quick Reference Card </span> </a> </li> <li class=md-nav__item> <a href=../introduction-to-vi/ class=md-nav__link> <span class=md-ellipsis> Introduction to Vi </span> </a> </li> <li class=md-nav__item> <a href=../vim-essential-commands-quick-reference-card/ class=md-nav__link> <span class=md-ellipsis> Vim: Essential Commands & Quick Reference Card </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <div class="md-nav__link md-nav__container"> <a href=../Linux/Coding%20And%20Debug/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.75.75 0 0 1 .734.215m-6.56 0a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.75.75 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"/></svg> <span class=md-ellipsis> Coding And Debug </span> </a> <label class="md-nav__link " for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Coding And Debug </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../failed-compilations/ class=md-nav__link> <span class=md-ellipsis> Failed Compilations </span> </a> </li> <li class=md-nav__item> <a href=../generate-a-configure-file-for-pre-make/ class=md-nav__link> <span class=md-ellipsis> Generate a Configure File for Pre-make </span> </a> </li> <li class=md-nav__item> <a href=../patches-creating-and-applying-patches/ class=md-nav__link> <span class=md-ellipsis> Patches: Creating and Applying Patches </span> </a> </li> <li class=md-nav__item> <a href=../perl-locale-issues/ class=md-nav__link> <span class=md-ellipsis> Perl Locale Issues </span> </a> </li> <li class=md-nav__item> <a href=../strace-and-ltrace-trace-system-and-library-calls/ class=md-nav__link> <span class=md-ellipsis> Strace and Ltrace: Trace System and Library Calls </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3> <div class="md-nav__link md-nav__container"> <a href=../Linux/Desktop/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13.785.813a2 2 0 0 0-.17.012c-.753.076-1.484.31-2.209.52-.742.221-1.459.52-2.148.888-.52.275-1.234.763-1.537 1.272-.193.31-.181.766.117.976.07.059.17.1.264.123.87.21 2.342-.794 3.002-1.115.846-.415 1.729-.732 2.587-1.117.328-.146 1.4-.484 1.407-.963.02-.521-.849-.61-1.313-.596m6.51.615c-.796-.006-1.606.104-2.37.162-1.395.106-2.816.584-4.048 1.168-.146.076-.297.145-.443.233-.34.193-.648.403-.881.666-.783.925-.295 1.598.54 1.988.284.132.605.231.932.297.38.076.766.109 1.102.092.11-.006.224-.018.336-.025l.004.02c.11.379.45.671.83.794s.794.117 1.185.094a13 13 0 0 0 4.147-.975c.269-.105.52-.223.713-.433.175-.216.273-.52.144-.778-.157-.31-.548-.39-.886-.402a5 5 0 0 0-.684.027q.047-.03.094-.062c.438-.321 1.43-.906 1.675-1.338.328-.578-.36-1.184-.986-1.354a5.6 5.6 0 0 0-1.404-.173Zm-9.51 3.627q-.041 0-.084.002C9.73 5.12 8.353 6.164 8.025 6.8c-.455.9.782 1.449 1.524 1.186.765-.263 1.91-1.196 2.039-2.043.04-.274-.052-.596-.297-.754a.9.9 0 0 0-.506-.133Zm-3.933.928c-.597.009-1.518.884-1.793 1.139-.485.444-.469.834.326.834.66-.012 1.349-.45 1.74-.922.146-.181.275-.403.21-.613-.074-.294-.229-.42-.427-.436zm6.187.184c-.175.838-.77 1.52-1.504 2.076-1.185.9-2.55 1.535-3.847 2.265-2.001 1.138-4.058 2.834-4.596 5.126a5 5 0 0 0-.137 1.376c.023.307.273.46.514.46a.6.6 0 0 0 .176-.028.41.41 0 0 0 .28-.431 5 5 0 0 1 .005-.489 4.4 4.4 0 0 1 .297-1.332c.237-.604.6-1.146 1.044-1.636a8 8 0 0 1 .47-.473q.246-.23.513-.442a12 12 0 0 1 .545-.414c.372-.266.76-.514 1.148-.748.047.03.1.057.166.07 2.269.474 4.626.158 6.672-.84q-.14.005-.28.003a9 9 0 0 1-.456-.022 6 6 0 0 1-.453-.053 1.36 1.36 0 0 1-.592-.246 9.3 9.3 0 0 1-3.793.368l.426-.237c1.75-.955 3.85-2.145 4.308-4.086a5 5 0 0 1-.718-.193 5 5 0 0 1-.188-.074m6.615 1.146c-1.57.024-3.16.415-4.527 1.21-.013.006-.024.017-.037.024a8.7 8.7 0 0 0-1.451.606c-.257.14-.543.374-.467.648.062.214.305.304.531.342q.042.01.082.016a7.6 7.6 0 0 0 2.037-.037 7.7 7.7 0 0 0 1.579-.409c.257-.093.52-.221.625-.478a.5.5 0 0 0 .03-.192 7.2 7.2 0 0 0 1.91-.87c.18-.117.378-.298.349-.52-.041-.263-.38-.352-.66-.34zm.655 2.256c-1.14.03-2.77.796-3.26 1.11-.263.169-.543.426-.484.73.052.327.444.479.783.52.823.105 4.672-.316 4.058-1.835-.162-.401-.58-.539-1.097-.525m-5.641 4.258a7 7 0 0 0-1.375.117c-1.022.204-1.997.583-3.014.752-.876.134-1.715-.139-2.615-.127-.942.014-1.886.167-2.8.424a4 4 0 0 0-.116.24 3.9 3.9 0 0 0-.322 1.756 1 1 0 0 1-.01.18.9.9 0 0 1-.312.578c-.324.273-.819.292-1.176.074a.97.97 0 0 1-.469-.748q0-.039-.002-.078a5 5 0 0 1 .01-.572q.02-.285.068-.569-.394.146-.795.281-.4.136-.795.28a59 59 0 0 0-.945.361l11.992 4.566 12.002-4.564.006-.002c-.053-.023-.094-.03-.146-.053-1.759-.671-3.463-1.285-5.215-1.974a19 19 0 0 0-.97-.356c-.976-.326-1.979-.552-3.001-.566M0 17.31v1.3l11.992 4.577 12.002-4.578v-1.297l-12.002 4.565z"/></svg> <span class=md-ellipsis> Desktop </span> </a> <label class="md-nav__link " for=__nav_5_3 id=__nav_5_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3> <span class="md-nav__icon md-icon"></span> Desktop </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../fluxbox-rounded-corners-for-all-windows/ class=md-nav__link> <span class=md-ellipsis> Fluxbox: Rounded Corners for All Windows </span> </a> </li> <li class=md-nav__item> <a href=../awesome-a-lightweight-and-powerful-desktop/ class=md-nav__link> <span class=md-ellipsis> Awesome: A Lightweight and Powerful Desktop </span> </a> </li> <li class=md-nav__item> <a href=../compiz-setting-up-a-3d-desktop/ class=md-nav__link> <span class=md-ellipsis> Compiz: Setting Up a 3D Desktop </span> </a> </li> <li class=md-nav__item> <a href=../disable-sound-in-gdm/ class=md-nav__link> <span class=md-ellipsis> Disable Sound in GDM </span> </a> </li> <li class=md-nav__item> <a href=../disable-the-pc-speaker-beep/ class=md-nav__link> <span class=md-ellipsis> Disable the PC Speaker Beep </span> </a> </li> <li class=md-nav__item> <a href=../export-a-display-or-forward-an-x11-connection/ class=md-nav__link> <span class=md-ellipsis> Export a Display or Forward an X11 Connection </span> </a> </li> <li class=md-nav__item> <a href=../gnome-locked-dashboards/ class=md-nav__link> <span class=md-ellipsis> Gnome: Locked Dashboards </span> </a> </li> <li class=md-nav__item> <a href=../gnome-shell-using-settings-to-configure-your-desktop/ class=md-nav__link> <span class=md-ellipsis> GNOME Shell: Using Settings to Configure Your Desktop </span> </a> </li> <li class=md-nav__item> <a href=../gnome-shell-automatic-wallpaper-change/ class=md-nav__link> <span class=md-ellipsis> Gnome-shell: Automatic Wallpaper Change </span> </a> </li> <li class=md-nav__item> <a href=../how-to-install-and-configure-a-monitoring-machine-for-supervision/ class=md-nav__link> <span class=md-ellipsis> How to install and configure a monitoring machine for supervision </span> </a> </li> <li class=md-nav__item> <a href=../infinality-fonts-for-retina-display/ class=md-nav__link> <span class=md-ellipsis> Infinality fonts for retina display </span> </a> </li> <li class=md-nav__item> <a href=../numlockx-enabling-the-numeric-keypad-at-boot/ class=md-nav__link> <span class=md-ellipsis> Numlockx: Enabling the numeric keypad at boot </span> </a> </li> <li class=md-nav__item> <a href=../restart-x/ class=md-nav__link> <span class=md-ellipsis> Restart X </span> </a> </li> <li class=md-nav__item> <a href=../synergy-multi-screen-setup-with-multiple-computers/ class=md-nav__link> <span class=md-ellipsis> Synergy: Multi-screen Setup with Multiple Computers </span> </a> </li> <li class=md-nav__item> <a href=../using-the-numeric-keypad-as-a-mouse-with-x/ class=md-nav__link> <span class=md-ellipsis> Using the Numeric Keypad as a Mouse with X </span> </a> </li> <li class=md-nav__item> <a href=../wacom-setting-up-the-wacom-bamboo/ class=md-nav__link> <span class=md-ellipsis> Wacom: Setting up the Wacom Bamboo </span> </a> </li> <li class=md-nav__item> <a href=../xmodmap-map-all-your-mouse-buttons/ class=md-nav__link> <span class=md-ellipsis> Xmodmap: Map All Your Mouse Buttons </span> </a> </li> <li class=md-nav__item> <a href=../zenity-gui-for-your-scripts-easily/ class=md-nav__link> <span class=md-ellipsis> Zenity: GUI for Your Scripts Easily </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_3_19> <div class="md-nav__link md-nav__container"> <a href=../Linux/Desktop/VNC/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7v2H8v2h8v-2h-2v-2h7a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2M3 4h18v12H3M15 5l-3.5 3.5L15 12l1.4-1.4-2.1-2.1 2.1-2.1M9 8 7.6 9.4l2.1 2.1-2.1 2.1L9 15l3.5-3.5"/></svg> <span class=md-ellipsis> VNC </span> </a> <label class="md-nav__link " for=__nav_5_3_19 id=__nav_5_3_19_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_3_19_label aria-expanded=false> <label class=md-nav__title for=__nav_5_3_19> <span class="md-nav__icon md-icon"></span> VNC </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../vino-the-vnc-server-of-excellence-for-gnome/ class=md-nav__link> <span class=md-ellipsis> Vino: The VNC Server of Excellence for GNOME </span> </a> </li> <li class=md-nav__item> <a href=../vnc-listen-mode-on-linux/ class=md-nav__link> <span class=md-ellipsis> VNC: Listen Mode on Linux </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4> <div class="md-nav__link md-nav__container"> <a href=../Linux/Filesystems%20And%20Storage/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6 2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m6 2a6 6 0 0 0-6 6c0 3.31 2.69 6 6.1 6l-.88-2.23a1.01 1.01 0 0 1 .37-1.37l.86-.5a1.01 1.01 0 0 1 1.37.37l1.92 2.42A5.98 5.98 0 0 0 18 10a6 6 0 0 0-6-6m0 5a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-5 9a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1m5.09-4.73 2.49 6.31 2.59-1.5-4.22-5.31z"/></svg> <span class=md-ellipsis> Filesystems And Storage </span> </a> <label class="md-nav__link " for=__nav_5_4 id=__nav_5_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4> <span class="md-nav__icon md-icon"></span> Filesystems And Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../acl-implementing-nt-type-permissions-on-linux/ class=md-nav__link> <span class=md-ellipsis> ACL: Implementing NT-type Permissions on Linux </span> </a> </li> <li class=md-nav__item> <a href=../anatomy-of-a-linux-filesystem/ class=md-nav__link> <span class=md-ellipsis> Anatomy of a Linux Filesystem </span> </a> </li> <li class=md-nav__item> <a href=../autofsck-changing-filesystem-checks-on-ubuntu/ class=md-nav__link> <span class=md-ellipsis> AutoFsck: Changing Filesystem Checks on Ubuntu </span> </a> </li> <li class=md-nav__item> <a href=../autossh-automatically-reconnect-ssh-tunnels/ class=md-nav__link> <span class=md-ellipsis> AutoSSH: Automatically Reconnect SSH Tunnels </span> </a> </li> <li class=md-nav__item> <a href=../btrfs-using-the-ext4-replacement/ class=md-nav__link> <span class=md-ellipsis> BTRFS: Using the Ext4 Replacement </span> </a> </li> <li class=md-nav__item> <a href=../clone-a-hard-drive/ class=md-nav__link> <span class=md-ellipsis> Clone a Hard Drive </span> </a> </li> <li class=md-nav__item> <a href=../filesystem-conversion/ class=md-nav__link> <span class=md-ellipsis> Filesystem Conversion </span> </a> </li> <li class=md-nav__item> <a href=../creating-blank-images-for-testing-filesystems/ class=md-nav__link> <span class=md-ellipsis> Creating Blank Images for Testing Filesystems </span> </a> </li> <li class=md-nav__item> <a href=../ext3-resize-partitions-without-data-loss/ class=md-nav__link> <span class=md-ellipsis> Ext3: Resize partitions without data loss </span> </a> </li> <li class=md-nav__item> <a href=../foremost-recover-deleted-data/ class=md-nav__link> <span class=md-ellipsis> Foremost: Recover Deleted Data </span> </a> </li> <li class=md-nav__item> <a href=../fuse-unable-to-mount-disks-due-to-devfuse/ class=md-nav__link> <span class=md-ellipsis> FUSE: Unable to Mount Disks Due to /dev/fuse </span> </a> </li> <li class=md-nav__item> <a href=../hdparm-optimizing-disk-access/ class=md-nav__link> <span class=md-ellipsis> Hdparm: Optimizing Disk Access </span> </a> </li> <li class=md-nav__item> <a href=../incron-execute-automatic-actions-when-file-states-change/ class=md-nav__link> <span class=md-ellipsis> Incron: Execute Automatic Actions When File States Change </span> </a> </li> <li class=md-nav__item> <a href=../limiting-io-usage-by-an-application/ class=md-nav__link> <span class=md-ellipsis> Limiting I/O usage by an application </span> </a> </li> <li class=md-nav__item> <a href=../no-space-left-on-device-while-there-is-space-available/ class=md-nav__link> <span class=md-ellipsis> No space left on device while there is space available </span> </a> </li> <li class=md-nav__item> <a href=../optimizing-hard-disk-performance-on-linux/ class=md-nav__link> <span class=md-ellipsis> Optimizing Hard Disk Performance on Linux </span> </a> </li> <li class=md-nav__item> <a href=../parted-solving-partitioning-problems-on-large-filesystems/ class=md-nav__link> <span class=md-ellipsis> Parted: Solving Partitioning Problems on Large Filesystems </span> </a> </li> <li class=md-nav__item> <a href=../scalpel-recovering-deleted-data/ class=md-nav__link> <span class=md-ellipsis> Scalpel: Recovering Deleted Data </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-quotas-on-linux/ class=md-nav__link> <span class=md-ellipsis> Setting up quotas on Linux </span> </a> </li> <li class=md-nav__item> <a href=../smartmontools-hard-drive-monitoring/ class=md-nav__link> <span class=md-ellipsis> Smartmontools: Hard Drive Monitoring </span> </a> </li> <li class=md-nav__item> <a href=../swap-creating-dynamic-swap/ class=md-nav__link> <span class=md-ellipsis> SWAP: Creating Dynamic Swap </span> </a> </li> <li class=md-nav__item> <a href=../testdisk-recovering-lost-data/ class=md-nav__link> <span class=md-ellipsis> TestDisk: Recovering Lost Data </span> </a> </li> <li class=md-nav__item> <a href=../tmpfs-ram-filesystem-or-how-to-write-to-ram/ class=md-nav__link> <span class=md-ellipsis> Tmpfs: RAM filesystem or how to write to RAM </span> </a> </li> <li class=md-nav__item> <a href=../zfs-on-linux-setting-up-zfs-on-linux/ class=md-nav__link> <span class=md-ellipsis> ZFS On Linux: Setting up ZFS on Linux </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4_25> <div class="md-nav__link md-nav__container"> <a href=../Linux/Filesystems%20And%20Storage/LVM/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 5c-1.11 0-2 .89-2 2v10c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V7c0-1.11-.89-2-2-2zm.5 2a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1M7 7h13v10H7zm1 1v8h3V8zm4 0v8h3V8zm4 0v8h3V8zM9 9h1v1H9zm4 0h1v1h-1zm4 0h1v1h-1z"/></svg> <span class=md-ellipsis> LVM </span> </a> <label class="md-nav__link " for=__nav_5_4_25 id=__nav_5_4_25_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_4_25_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4_25> <span class="md-nav__icon md-icon"></span> LVM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../lvm-working-with-logical-volume-management/ class=md-nav__link> <span class=md-ellipsis> LVM: Working with Logical Volume Management </span> </a> </li> <li class=md-nav__item> <a href=../resize-swap/ class=md-nav__link> <span class=md-ellipsis> Resize Swap </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4_26> <div class="md-nav__link md-nav__container"> <a href=../Linux/Filesystems%20And%20Storage/Raid/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1M9 5h1V3H9zm0 8h1v-2H9zm0 8h1v-2H9zM5 3v2h2V3zm0 8v2h2v-2zm0 8v2h2v-2z"/></svg> <span class=md-ellipsis> Raid </span> </a> <label class="md-nav__link " for=__nav_5_4_26 id=__nav_5_4_26_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_4_26_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4_26> <span class="md-nav__icon md-icon"></span> Raid </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../linux-raid-performance/ class=md-nav__link> <span class=md-ellipsis> Linux RAID Performance </span> </a> </li> <li class=md-nav__item> <a href=../optimization-of-extx-filesystems-and-raid-under-linux/ class=md-nav__link> <span class=md-ellipsis> Optimization of extX filesystems and RAID under Linux </span> </a> </li> <li class=md-nav__item> <a href=../recovering-data-from-a-raid1-lvm/ class=md-nav__link> <span class=md-ellipsis> Recovering Data from a RAID1 LVM </span> </a> </li> <li class=md-nav__item> <a href=../software-raid-configuration/ class=md-nav__link> <span class=md-ellipsis> Software RAID Configuration </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_4_27> <div class="md-nav__link md-nav__container"> <a href=../Linux/Filesystems%20And%20Storage/Storage%20Encryption/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11.991 0a.883.883 0 0 0-.871.817v3.02a.883.883 0 0 0 .88.884.883.883 0 0 0 .88-.88V.816A.883.883 0 0 0 11.991 0m7.705 3.109a.88.88 0 0 0-.521.174L16.8 5.231a.88.88 0 0 0 .559 1.563.88.88 0 0 0 .56-.2l2.37-1.951a.88.88 0 0 0-.594-1.534M4.32 3.122a.883.883 0 0 0-.611 1.52l2.37 1.951a.88.88 0 0 0 .56.2v-.002a.88.88 0 0 0 .56-1.56L4.828 3.283a.9.9 0 0 0-.508-.16zm7.66 3.228a5.046 5.046 0 0 0-5.026 5.045v1.488H5.787a.967.967 0 0 0-.965.964v9.189a.967.967 0 0 0 .965.964h12.426a.967.967 0 0 0 .964-.964v-9.19a.967.967 0 0 0-.964-.963h-1.168v-1.488A5.046 5.046 0 0 0 11.98 6.35m.012 2.893a2.15 2.15 0 0 1 2.16 2.152v1.488H9.847v-1.488a2.15 2.15 0 0 1 2.145-2.152zm7.382.503a.883.883 0 1 0 .07 1.763h3.027a.883.883 0 0 0 0-1.76h-3.027zM1.529 9.75a.883.883 0 0 0 0 1.76h2.999a.883.883 0 0 0 0-1.76zm10.46 6.774a1.28 1.28 0 0 1 .64 2.393v1.245a.63.63 0 0 1-1.259 0v-1.245a1.28 1.28 0 0 1 .619-2.393"/></svg> <span class=md-ellipsis> Storage Encryption </span> </a> <label class="md-nav__link " for=__nav_5_4_27 id=__nav_5_4_27_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_4_27_label aria-expanded=false> <label class=md-nav__title for=__nav_5_4_27> <span class="md-nav__icon md-icon"></span> Storage Encryption </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cryptoloop-setting-up-an-encrypted-folder/ class=md-nav__link> <span class=md-ellipsis> Cryptoloop: Setting Up an Encrypted Folder </span> </a> </li> <li class=md-nav__item> <a href=../encfs-setting-up-encfs-with-fuse/ class=md-nav__link> <span class=md-ellipsis> EncFS: Setting up EncFS with FUSE </span> </a> </li> <li class=md-nav__item> <a href=../luks-encrypting-your-partitions/ class=md-nav__link> <span class=md-ellipsis> LUKS: Encrypting Your Partitions </span> </a> </li> <li class=md-nav__item> <a href=../solutions-for-encrypted-lvm-system/ class=md-nav__link> <span class=md-ellipsis> Solutions for Encrypted LVM System </span> </a> </li> <li class=md-nav__item> <a href=../truecrypt-portable-data-encryption/ class=md-nav__link> <span class=md-ellipsis> TrueCrypt: Portable Data Encryption </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_5> <div class="md-nav__link md-nav__container"> <a href=../Linux/Kernel/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12.504 0q-.232 0-.48.021c-4.226.333-3.105 4.807-3.17 6.298-.076 1.092-.3 1.953-1.05 3.02-.885 1.051-2.127 2.75-2.716 4.521-.278.832-.41 1.684-.287 2.489a.4.4 0 0 0-.11.135c-.26.268-.45.6-.663.839-.199.199-.485.267-.797.4-.313.136-.658.269-.864.68-.09.189-.136.394-.132.602 0 .199.027.4.055.536.058.399.116.728.04.97-.249.68-.28 1.145-.106 1.484.174.334.535.47.94.601.81.2 1.91.135 2.774.6.926.466 1.866.67 2.616.47.526-.116.97-.464 1.208-.946.587-.003 1.23-.269 2.26-.334.699-.058 1.574.267 2.577.2.025.134.063.198.114.333l.003.003c.391.778 1.113 1.132 1.884 1.071s1.592-.536 2.257-1.306c.631-.765 1.683-1.084 2.378-1.503.348-.199.629-.469.649-.853.023-.4-.2-.811-.714-1.376v-.097l-.003-.003c-.17-.2-.25-.535-.338-.926-.085-.401-.182-.786-.492-1.046h-.003c-.059-.054-.123-.067-.188-.135a.36.36 0 0 0-.19-.064c.431-1.278.264-2.55-.173-3.694-.533-1.41-1.465-2.638-2.175-3.483-.796-1.005-1.576-1.957-1.56-3.368.026-2.152.236-6.133-3.544-6.139m.529 3.405h.013c.213 0 .396.062.584.198.19.135.33.332.438.533.105.259.158.459.166.724 0-.02.006-.04.006-.06v.105l-.004-.021-.004-.024a1.8 1.8 0 0 1-.15.706.95.95 0 0 1-.213.335 1 1 0 0 0-.088-.042c-.104-.045-.198-.064-.284-.133a1.3 1.3 0 0 0-.22-.066c.05-.06.146-.133.183-.198q.08-.193.088-.402v-.02a1.2 1.2 0 0 0-.061-.4c-.045-.134-.101-.2-.183-.333-.084-.066-.167-.132-.267-.132h-.016c-.093 0-.176.03-.262.132a.8.8 0 0 0-.205.334 1.2 1.2 0 0 0-.09.4v.019q.002.134.02.267c-.193-.067-.438-.135-.607-.202a2 2 0 0 1-.018-.2v-.02a1.8 1.8 0 0 1 .15-.768 1.08 1.08 0 0 1 .43-.533 1 1 0 0 1 .594-.2zm-2.962.059h.036c.142 0 .27.048.399.135.146.129.264.288.344.465.09.199.14.4.153.667v.004c.007.134.006.2-.002.266v.08c-.03.007-.056.018-.083.024-.152.055-.274.135-.393.2q.018-.136.003-.267v-.015c-.012-.133-.04-.2-.082-.333a.6.6 0 0 0-.166-.267.25.25 0 0 0-.183-.064h-.021c-.071.006-.13.04-.186.132a.55.55 0 0 0-.12.27 1 1 0 0 0-.023.33v.015c.012.135.037.2.08.334.046.134.098.2.166.268q.014.014.034.024c-.07.057-.117.07-.176.136a.3.3 0 0 1-.131.068 2.6 2.6 0 0 1-.275-.402 1.8 1.8 0 0 1-.155-.667 1.8 1.8 0 0 1 .08-.668 1.4 1.4 0 0 1 .283-.535c.128-.133.26-.2.418-.2m1.37 1.706c.332 0 .733.065 1.216.399.293.2.523.269 1.052.468h.003c.255.136.405.266.478.399v-.131a.57.57 0 0 1 .016.47c-.123.31-.516.643-1.063.842v.002c-.268.135-.501.333-.775.465-.276.135-.588.292-1.012.267a1.1 1.1 0 0 1-.448-.067 4 4 0 0 1-.322-.198c-.195-.135-.363-.332-.612-.465v-.005h-.005c-.4-.246-.616-.512-.686-.71q-.104-.403.193-.6c.224-.135.38-.271.483-.336.104-.074.143-.102.176-.131h.002v-.003c.169-.202.436-.47.839-.601.139-.036.294-.065.466-.065zm2.8 2.142c.358 1.417 1.196 3.475 1.735 4.473.286.534.855 1.659 1.102 3.024.156-.005.33.018.513.064.646-1.671-.546-3.467-1.089-3.966-.22-.2-.232-.335-.123-.335.59.534 1.365 1.572 1.646 2.757.13.535.16 1.104.021 1.67.067.028.135.06.205.067 1.032.534 1.413.938 1.23 1.537v-.043c-.06-.003-.12 0-.18 0h-.016c.151-.467-.182-.825-1.065-1.224-.915-.4-1.646-.336-1.77.465-.008.043-.013.066-.018.135-.068.023-.139.053-.209.064-.43.268-.662.669-.793 1.187-.13.533-.17 1.156-.205 1.869v.003c-.02.334-.17.838-.319 1.35-1.5 1.072-3.58 1.538-5.348.334a2.7 2.7 0 0 0-.402-.533 1.5 1.5 0 0 0-.275-.333c.182 0 .338-.03.465-.067a.62.62 0 0 0 .314-.334c.108-.267 0-.697-.345-1.163s-.931-.995-1.788-1.521c-.63-.4-.986-.87-1.15-1.396-.165-.534-.143-1.085-.015-1.645.245-1.07.873-2.11 1.274-2.763.107-.065.037.135-.408.974-.396.751-1.14 2.497-.122 3.854a8.1 8.1 0 0 1 .647-2.876c.564-1.278 1.743-3.504 1.836-5.268.048.036.217.135.289.202.218.133.38.333.59.465.21.201.477.335.876.335q.058.005.11.006c.412 0 .73-.134.997-.268.29-.134.52-.334.74-.4h.005c.467-.135.835-.402 1.044-.7zm2.185 8.958c.037.6.343 1.245.882 1.377.588.134 1.434-.333 1.791-.765l.211-.01c.315-.007.577.01.847.268l.003.003c.208.199.305.53.391.876.085.4.154.78.409 1.066.486.527.645.906.636 1.14l.003-.007v.018l-.003-.012c-.015.262-.185.396-.498.595-.63.401-1.746.712-2.457 1.57-.618.737-1.37 1.14-2.036 1.191-.664.053-1.237-.2-1.574-.898l-.005-.003c-.21-.4-.12-1.025.056-1.69.176-.668.428-1.344.463-1.897.037-.714.076-1.335.195-1.814.12-.465.308-.797.641-.984l.045-.022zm-10.814.049h.01q.08 0 .157.014c.376.055.706.333 1.023.752l.91 1.664.003.003c.243.533.754 1.064 1.189 1.637.434.598.77 1.131.729 1.57v.006c-.057.744-.48 1.148-1.125 1.294-.645.135-1.52.002-2.395-.464-.968-.536-2.118-.469-2.857-.602q-.553-.1-.723-.4c-.11-.2-.113-.602.123-1.23v-.004l.002-.003c.117-.334.03-.752-.027-1.118-.055-.401-.083-.71.043-.94.16-.334.396-.4.69-.533.294-.135.64-.202.915-.47h.002v-.002c.256-.268.445-.601.668-.838.19-.201.38-.336.663-.336m7.159-9.074c-.435.201-.945.535-1.488.535-.542 0-.97-.267-1.28-.466-.154-.134-.28-.268-.373-.335-.164-.134-.144-.333-.074-.333.109.016.129.134.199.2.096.066.215.2.36.333.292.2.68.467 1.167.467.485 0 1.053-.267 1.398-.466.195-.135.445-.334.648-.467.156-.136.149-.267.279-.267.128.016.034.134-.147.332a8 8 0 0 1-.69.468zm-1.082-1.583V5.64c-.006-.02.013-.042.029-.05.074-.043.18-.027.26.004.063 0 .16.067.15.135-.006.049-.085.066-.135.066-.055 0-.092-.043-.141-.068-.052-.018-.146-.008-.163-.065m-.551 0c-.02.058-.113.049-.166.066-.047.025-.086.068-.14.068-.05 0-.13-.02-.136-.068-.01-.066.088-.133.15-.133.08-.031.184-.047.259-.005.019.009.036.03.03.05v.02h.003z"/></svg> <span class=md-ellipsis> Kernel </span> </a> <label class="md-nav__link " for=__nav_5_5 id=__nav_5_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5_5> <span class="md-nav__icon md-icon"></span> Kernel </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../how-to-check-the-page-size-of-your-machine/ class=md-nav__link> <span class=md-ellipsis> How to Check the Page Size of Your Machine </span> </a> </li> <li class=md-nav__item> <a href=../initramfs-fixing-kernel-boot-issues-with-initramfs/ class=md-nav__link> <span class=md-ellipsis> Initramfs: Fixing Kernel Boot Issues with Initramfs </span> </a> </li> <li class=md-nav__item> <a href=../kernel-module-compilation/ class=md-nav__link> <span class=md-ellipsis> Kernel: Module Compilation </span> </a> </li> <li class=md-nav__item> <a href=../kexec-optimize-your-boot-times/ class=md-nav__link> <span class=md-ellipsis> Kexec: Optimize Your Boot Times </span> </a> </li> <li class=md-nav__item> <a href=../linux-memory-management/ class=md-nav__link> <span class=md-ellipsis> Linux Memory Management </span> </a> </li> <li class=md-nav__item> <a href=../linux-process-and-scheduler-management/ class=md-nav__link> <span class=md-ellipsis> Linux Process and Scheduler Management </span> </a> </li> <li class=md-nav__item> <a href=../managing-zombie-processes-in-linux/ class=md-nav__link> <span class=md-ellipsis> Managing Zombie Processes in Linux </span> </a> </li> <li class=md-nav__item> <a href=../memory-addressing-and-allocation/ class=md-nav__link> <span class=md-ellipsis> Memory Addressing and Allocation </span> </a> </li> <li class=md-nav__item> <a href=../memory-caches/ class=md-nav__link> <span class=md-ellipsis> Memory Caches </span> </a> </li> <li class=md-nav__item> <a href=../modifying-source-version/ class=md-nav__link> <span class=md-ellipsis> Modifying Source Version </span> </a> </li> <li class=md-nav__item> <a href=../oprofile-profile-your-system/ class=md-nav__link> <span class=md-ellipsis> OProfile: Profile Your System </span> </a> </li> <li class=md-nav__item> <a href=../process-latency-and-kernel-timing/ class=md-nav__link> <span class=md-ellipsis> Process Latency and Kernel Timing </span> </a> </li> <li class=md-nav__item> <a href=../queueing-theory/ class=md-nav__link> <span class=md-ellipsis> Queueing Theory </span> </a> </li> <li class=md-nav__item> <a href=../recompile-your-kernel/ class=md-nav__link> <span class=md-ellipsis> Recompile your kernel </span> </a> </li> <li class=md-nav__item> <a href=../securing-your-kernel-with-grsecurity-and-pax/ class=md-nav__link> <span class=md-ellipsis> Securing Your Kernel with Grsecurity and PaX </span> </a> </li> <li class=md-nav__item> <a href=../strengthening-linux-kernel-security-functions/ class=md-nav__link> <span class=md-ellipsis> Strengthening Linux Kernel Security Functions </span> </a> </li> <li class=md-nav__item> <a href=../sysctl-configuring-kernel-options-in-linux/ class=md-nav__link> <span class=md-ellipsis> Sysctl: Configuring Kernel Options in Linux </span> </a> </li> <li class=md-nav__item> <a href=../systemtap-profile-and-quickly-use-kernel-features/ class=md-nav__link> <span class=md-ellipsis> SystemTap: Profile and Quickly Use Kernel Features </span> </a> </li> <li class=md-nav__item> <a href=../udev-using-a-socket-to-communicate-with-kernel-devices/ class=md-nav__link> <span class=md-ellipsis> Udev: Using a Socket to Communicate with Kernel Devices </span> </a> </li> <li class=md-nav__item> <a href=../understanding-the-content-of-proc/ class=md-nav__link> <span class=md-ellipsis> Understanding the Content of /proc </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_6> <div class="md-nav__link md-nav__container"> <a href=../Linux/Misc/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.83 13.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17z"/></svg> <span class=md-ellipsis> Misc </span> </a> <label class="md-nav__link " for=__nav_5_6 id=__nav_5_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_6_label aria-expanded=false> <label class=md-nav__title for=__nav_5_6> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../converting-unix-timestamp-to-date/ class=md-nav__link> <span class=md-ellipsis> Converting Unix Timestamp to Date </span> </a> </li> <li class=md-nav__item> <a href=../activating-the-serial-port-on-linux/ class=md-nav__link> <span class=md-ellipsis> Activating the Serial Port on Linux </span> </a> </li> <li class=md-nav__item> <a href=../enabling-and-disabling-screen-savers-from-command-line/ class=md-nav__link> <span class=md-ellipsis> Enabling and Disabling Screen Savers from Command Line </span> </a> </li> <li class=md-nav__item> <a href=../how-to-check-bios-version-without-rebooting/ class=md-nav__link> <span class=md-ellipsis> How to Check BIOS Version Without Rebooting </span> </a> </li> <li class=md-nav__item> <a href=../connect-to-debian-via-serial-port/ class=md-nav__link> <span class=md-ellipsis> Connect to Debian via Serial Port </span> </a> </li> <li class=md-nav__item> <a href=../creating-an-iso-image/ class=md-nav__link> <span class=md-ellipsis> Creating an ISO Image </span> </a> </li> <li class=md-nav__item> <a href=../uncompress-for-different-formats/ class=md-nav__link> <span class=md-ellipsis> Uncompress for Different Formats </span> </a> </li> <li class=md-nav__item> <a href=../disable-screen-standby-on-debian/ class=md-nav__link> <span class=md-ellipsis> Disable Screen Standby on Debian </span> </a> </li> <li class=md-nav__item> <a href=../drawit-a-vim-extension-for-creating-ascii-diagrams/ class=md-nav__link> <span class=md-ellipsis> DrawIt: A VIM Extension for Creating ASCII Diagrams </span> </a> </li> <li class=md-nav__item> <a href=../gentoo-getting-started/ class=md-nav__link> <span class=md-ellipsis> Gentoo: Getting Started </span> </a> </li> <li class=md-nav__item> <a href=../gentoo-using-portage/ class=md-nav__link> <span class=md-ellipsis> Gentoo: Using Portage </span> </a> </li> <li class=md-nav__item> <a href=../getting-hardware-information-from-a-machine/ class=md-nav__link> <span class=md-ellipsis> Getting Hardware Information from a Machine </span> </a> </li> <li class=md-nav__item> <a href=../grub-using-a-bootloader/ class=md-nav__link> <span class=md-ellipsis> GRUB: Using a Bootloader </span> </a> </li> <li class=md-nav__item> <a href=../gs-merge-multiple-pdfs-into-one/ class=md-nav__link> <span class=md-ellipsis> GS: Merge Multiple PDFs Into One </span> </a> </li> <li class=md-nav__item> <a href=../installing-mac-os-x-and-ubuntu-in-dual-boot/ class=md-nav__link> <span class=md-ellipsis> Installing Mac OS X and Ubuntu in Dual Boot </span> </a> </li> <li class=md-nav__item> <a href=../irc-setting-up-an-irc-server-with-unrealircd-and-anope-services/ class=md-nav__link> <span class=md-ellipsis> IRC: Setting up an IRC server with UnrealIRCD and Anope Services </span> </a> </li> <li class=md-nav__item> <a href=../linux-boot-process/ class=md-nav__link> <span class=md-ellipsis> Linux Boot Process </span> </a> </li> <li class=md-nav__item> <a href=../linux-launching-daemons-at-boot/ class=md-nav__link> <span class=md-ellipsis> Linux: Launching Daemons at Boot </span> </a> </li> <li class=md-nav__item> <a href=../manipulating-images-via-command-line/ class=md-nav__link> <span class=md-ellipsis> Manipulating Images via Command Line </span> </a> </li> <li class=md-nav__item> <a href=../measuring-execution-time-of-one-or-multiple-commands/ class=md-nav__link> <span class=md-ellipsis> Measuring Execution Time of One or Multiple Commands </span> </a> </li> <li class=md-nav__item> <a href=../activating-the-numeric-keypad/ class=md-nav__link> <span class=md-ellipsis> Activating the Numeric Keypad </span> </a> </li> <li class=md-nav__item> <a href=../ram-information/ class=md-nav__link> <span class=md-ellipsis> RAM Information </span> </a> </li> <li class=md-nav__item> <a href=../replacing-an-installed-redhat-with-debian-without-formatting/ class=md-nav__link> <span class=md-ellipsis> Replacing an installed RedHat with Debian without formatting </span> </a> </li> <li class=md-nav__item> <a href=../sending-emails-from-command-line/ class=md-nav__link> <span class=md-ellipsis> Sending Emails from Command Line </span> </a> </li> <li class=md-nav__item> <a href=../sudo-running-commands-as-root-without-being-root/ class=md-nav__link> <span class=md-ellipsis> Sudo: Running commands as root without being root </span> </a> </li> <li class=md-nav__item> <a href=../sysstat-essential-tools-for-analyzing-performance-issues/ class=md-nav__link> <span class=md-ellipsis> Sysstat: Essential Tools for Analyzing Performance Issues </span> </a> </li> <li class=md-nav__item> <a href=../systemd-how-to-debug-on-boot-failure/ class=md-nav__link> <span class=md-ellipsis> Systemd: How to Debug on Boot Failure </span> </a> </li> <li class=md-nav__item> <a href=../understanding-time-management-in-linux/ class=md-nav__link> <span class=md-ellipsis> Understanding Time Management in Linux </span> </a> </li> <li class=md-nav__item> <a href=../understanding-load-average/ class=md-nav__link> <span class=md-ellipsis> Understanding Load Average </span> </a> </li> <li class=md-nav__item> <a href=../vagrant-quickly-deploy-virtual-machines/ class=md-nav__link> <span class=md-ellipsis> Vagrant: Quickly Deploy Virtual Machines </span> </a> </li> <li class=md-nav__item> <a href=../virtualbox-vmware-alternative/ class=md-nav__link> <span class=md-ellipsis> VirtualBox: VMware Alternative </span> </a> </li> <li class=md-nav__item> <a href=../wine-running-windows-applications-on-linux/ class=md-nav__link> <span class=md-ellipsis> Wine: Running Windows Applications on Linux </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_6_33> <div class="md-nav__link md-nav__container"> <a href=../Linux/Misc/Debian/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13.88 12.685c-.4 0 .08.2.601.28.14-.1.27-.22.39-.33a3 3 0 0 1-.99.05m2.14-.53c.23-.33.4-.69.47-1.06-.06.27-.2.5-.33.73-.75.47-.07-.27 0-.56-.8 1.01-.11.6-.14.89m.781-2.05c.05-.721-.14-.501-.2-.221.07.04.13.5.2.22M12.38.31c.2.04.45.07.42.12.23-.05.28-.1-.43-.12m.43.12-.15.03.14-.01V.43m6.633 9.944c.02.64-.2.95-.38 1.5l-.35.181c-.28.54.03.35-.17.78-.44.39-1.34 1.22-1.62 1.301-.201 0 .14-.25.19-.34-.591.4-.481.6-1.371.85l-.03-.06c-2.221 1.04-5.303-1.02-5.253-3.842-.03.17-.07.13-.12.2a3.55 3.55 0 0 1 2.001-3.501 3.36 3.36 0 0 1 3.732.48 3.34 3.34 0 0 0-2.721-1.3c-1.18.01-2.281.76-2.651 1.57-.6.38-.67 1.47-.93 1.661-.361 2.601.66 3.722 2.38 5.042.27.19.08.21.12.35a4.7 4.7 0 0 1-1.53-1.16c.23.33.47.66.8.91-.55-.18-1.27-1.3-1.48-1.35.93 1.66 3.78 2.921 5.261 2.3a6.2 6.2 0 0 1-2.33-.28c-.33-.16-.77-.51-.7-.57a5.802 5.803 0 0 0 5.902-.84c.44-.35.93-.94 1.07-.95-.2.32.04.16-.12.44.44-.72-.2-.3.46-1.24l.24.33c-.09-.6.74-1.321.66-2.262.19-.3.2.3 0 .97.29-.74.08-.85.15-1.46.08.2.18.42.23.63-.18-.7.2-1.2.28-1.6-.09-.05-.28.3-.32-.53 0-.37.1-.2.14-.28-.08-.05-.26-.32-.38-.861.08-.13.22.33.34.34-.08-.42-.2-.75-.2-1.08-.34-.68-.12.1-.4-.3-.34-1.091.3-.25.34-.74.54.77.84 1.96.981 2.46-.1-.6-.28-1.2-.49-1.76.16.07-.26-1.241.21-.37A7.82 7.82 0 0 0 17.702 1.6c.18.17.42.39.33.42-.75-.45-.62-.48-.73-.67-.61-.25-.65.02-1.06 0C15.082.73 14.862.8 13.8.4l.05.23c-.77-.25-.9.1-1.73 0-.05-.04.27-.14.53-.18-.741.1-.701-.14-1.431.03.17-.13.36-.21.55-.32-.6.04-1.44.35-1.18.07C9.6.68 7.847 1.3 6.867 2.22L6.838 2c-.45.54-1.96 1.611-2.08 2.311l-.131.03c-.23.4-.38.85-.57 1.261-.3.52-.45.2-.4.28-.6 1.22-.9 2.251-1.16 3.102.18.27 0 1.65.07 2.76-.3 5.463 3.84 10.776 8.363 12.006.67.23 1.65.23 2.49.25-.99-.28-1.12-.15-2.08-.49-.7-.32-.85-.7-1.34-1.13l.2.35c-.971-.34-.57-.42-1.361-.67l.21-.27c-.31-.03-.83-.53-.97-.81l-.34.01c-.41-.501-.63-.871-.61-1.161l-.111.2c-.13-.21-1.52-1.901-.8-1.511-.13-.12-.31-.2-.5-.55l.14-.17c-.35-.44-.64-1.02-.62-1.2.2.24.32.3.45.33-.88-2.172-.93-.12-1.601-2.202l.15-.02c-.1-.16-.18-.34-.26-.51l.06-.6c-.63-.74-.18-3.102-.09-4.402.07-.54.53-1.1.88-1.981l-.21-.04c.4-.71 2.341-2.872 3.241-2.761.43-.55-.09 0-.18-.14.96-.991 1.26-.7 1.901-.88.7-.401-.6.16-.27-.151 1.2-.3.85-.7 2.421-.85.16.1-.39.14-.52.26 1-.49 3.151-.37 4.562.27 1.63.77 3.461 3.011 3.531 5.132l.08.02c-.04.85.13 1.821-.17 2.711l.2-.42M9.54 13.236l-.05.28c.26.35.47.73.8 1.01-.24-.47-.42-.66-.75-1.3m.62-.02c-.14-.15-.22-.34-.31-.52.08.32.26.6.43.88zm10.945-2.382-.07.15c-.1.76-.34 1.511-.69 2.212.4-.73.65-1.541.75-2.362M12.45.12c.27-.1.66-.05.95-.12-.37.03-.74.05-1.1.1zM3.006 5.142c.07.57-.43.8.11.42.3-.66-.11-.18-.1-.42m-.64 2.661c.12-.39.15-.62.2-.84-.35.44-.17.53-.2.83"/></svg> <span class=md-ellipsis> Debian </span> </a> <label class="md-nav__link " for=__nav_5_6_33 id=__nav_5_6_33_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_6_33_label aria-expanded=false> <label class=md-nav__title for=__nav_5_6_33> <span class="md-nav__icon md-icon"></span> Debian </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../advanced-usage-of-debian-packages/ class=md-nav__link> <span class=md-ellipsis> Advanced Usage of Debian Packages </span> </a> </li> <li class=md-nav__item> <a href=../automate-debian-installation/ class=md-nav__link> <span class=md-ellipsis> Automate Debian Installation </span> </a> </li> <li class=md-nav__item> <a href=../broadcom-drivers-and-debian/ class=md-nav__link> <span class=md-ellipsis> Broadcom Drivers and Debian </span> </a> </li> <li class=md-nav__item> <a href=../checking-file-integrity-on-debian/ class=md-nav__link> <span class=md-ellipsis> Checking File Integrity on Debian </span> </a> </li> <li class=md-nav__item> <a href=../creating-a-debian-repository/ class=md-nav__link> <span class=md-ellipsis> Creating a Debian Repository </span> </a> </li> <li class=md-nav__item> <a href=../cron-apt-automatic-security-updates-installation/ class=md-nav__link> <span class=md-ellipsis> Cron-apt: Automatic Security Updates Installation </span> </a> </li> <li class=md-nav__item> <a href=../debian-changing-default-tools-eg-editor/ class=md-nav__link> <span class=md-ellipsis> Debian: Changing Default Tools (e.g., Editor) </span> </a> </li> <li class=md-nav__item> <a href=../debian-gpg-error-during-apt-get-update/ class=md-nav__link> <span class=md-ellipsis> Debian: GPG Error During apt-get update </span> </a> </li> <li class=md-nav__item> <a href=../debian-no-more-dependency-errors-when-configuring-from-source/ class=md-nav__link> <span class=md-ellipsis> Debian: No More Dependency Errors When Configuring From Source </span> </a> </li> <li class=md-nav__item> <a href=../debian-reinstalling-a-server-almost-identically/ class=md-nav__link> <span class=md-ellipsis> Debian: Reinstalling a Server Almost Identically </span> </a> </li> <li class=md-nav__item> <a href=../how-to-use-old-debian-repository-for-unmaintained-debian-versions/ class=md-nav__link> <span class=md-ellipsis> How to use old Debian repository for unmaintained Debian versions </span> </a> </li> <li class=md-nav__item> <a href=../installing-debian-on-a-mac-in-single-boot/ class=md-nav__link> <span class=md-ellipsis> Installing Debian on a Mac in Single Boot </span> </a> </li> <li class=md-nav__item> <a href=../integrit-add-an-integrity-control-tool-on-your-debian/ class=md-nav__link> <span class=md-ellipsis> Integrit: Add an integrity control tool on your Debian </span> </a> </li> <li class=md-nav__item> <a href=../modifying-cpu-frequency/ class=md-nav__link> <span class=md-ellipsis> Modifying CPU Frequency </span> </a> </li> <li class=md-nav__item> <a href=../recompile-a-software-the-debian-way/ class=md-nav__link> <span class=md-ellipsis> Recompile a Software the Debian Way </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_6_34> <div class="md-nav__link md-nav__container"> <a href=../Linux/Misc/RedHat/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.009 13.386c1.577 0 3.86-.326 3.86-2.202a1.8 1.8 0 0 0-.04-.431l-.94-4.08c-.216-.898-.406-1.305-1.982-2.093-1.223-.625-3.888-1.658-4.676-1.658-.733 0-.947.946-1.822.946-.842 0-1.467-.706-2.255-.706-.757 0-1.25.515-1.63 1.576 0 0-1.06 2.99-1.197 3.424a.8.8 0 0 0-.028.245c0 1.162 4.577 4.974 10.71 4.974m4.101-1.435c.218 1.032.218 1.14.218 1.277 0 1.765-1.984 2.745-4.593 2.745-5.895.004-11.06-3.451-11.06-5.734a2.3 2.3 0 0 1 .19-.925C2.746 9.415 0 9.794 0 12.217c0 3.969 9.405 8.861 16.851 8.861 5.71 0 7.149-2.582 7.149-4.62 0-1.605-1.387-3.425-3.887-4.512"/></svg> <span class=md-ellipsis> RedHat </span> </a> <label class="md-nav__link " for=__nav_5_6_34 id=__nav_5_6_34_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_6_34_label aria-expanded=false> <label class=md-nav__title for=__nav_5_6_34> <span class="md-nav__icon md-icon"></span> RedHat </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../creating-a-red-hat-kickstart-to-automate-installations/ class=md-nav__link> <span class=md-ellipsis> Creating a Red Hat Kickstart to Automate Installations </span> </a> </li> <li class=md-nav__item> <a href=../creating-a-redhat-dvd-from-cds/ class=md-nav__link> <span class=md-ellipsis> Creating a RedHat DVD from CDs </span> </a> </li> <li class=md-nav__item> <a href=../creating-a-redhat-package-from-a-tar-file/ class=md-nav__link> <span class=md-ellipsis> Creating a RedHat Package from a Tar File </span> </a> </li> <li class=md-nav__item> <a href=../restore-permissions-on-red-hat/ class=md-nav__link> <span class=md-ellipsis> Restore permissions on Red Hat </span> </a> </li> <li class=md-nav__item> <a href=../rpm-build-a-binary-rpm-package-from-sources-on-red-hat/ class=md-nav__link> <span class=md-ellipsis> RPM: Build a Binary RPM Package from Sources on Red Hat </span> </a> </li> <li class=md-nav__item> <a href=../sosreport-generate-and-analyze-machine-reports/ class=md-nav__link> <span class=md-ellipsis> SoSReport: Generate and analyze machine reports </span> </a> </li> <li class=md-nav__item> <a href=../yum-package-management-in-red-hat/ class=md-nav__link> <span class=md-ellipsis> Yum: Package Management in Red Hat </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_7> <div class="md-nav__link md-nav__container"> <a href=../Linux/Multimedia/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 13V5c0-1.1.9-2 2-2h9c1.1 0 2 .9 2 2v6h-3.43l-1.28-1.74a.14.14 0 0 0-.24 0L15.06 12c-.06.06-.18.07-.24 0l-1.43-1.75a.152.152 0 0 0-.23 0l-2.11 2.66c-.08.09-.01.24.11.24h6.34V15H11c-1.11 0-2-.89-2-2m-3 9v-1H4v1H2V2h2v1h2V2h2.39C7.54 2.74 7 3.8 7 5v8c0 2.21 1.79 4 4 4h4.7c-1.03.83-1.7 2.08-1.7 3.5 0 .53.11 1.03.28 1.5zM4 7h2V5H4zm0 4h2V9H4zm0 4h2v-2H4zm2 4v-2H4v2zm17-6v2h-2v5.5a2.5 2.5 0 0 1-5 0 2.5 2.5 0 0 1 3.5-2.29V13z"/></svg> <span class=md-ellipsis> Multimedia </span> </a> <label class="md-nav__link " for=__nav_5_7 id=__nav_5_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_7_label aria-expanded=false> <label class=md-nav__title for=__nav_5_7> <span class="md-nav__icon md-icon"></span> Multimedia </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../video-conversions/ class=md-nav__link> <span class=md-ellipsis> Video Conversions </span> </a> </li> <li class=md-nav__item> <a href=../converting-wma-to-mp3/ class=md-nav__link> <span class=md-ellipsis> Converting WMA to MP3 </span> </a> </li> <li class=md-nav__item> <a href=../advanced-usage-of-mediawiki/ class=md-nav__link> <span class=md-ellipsis> Advanced Usage of MediaWiki </span> </a> </li> <li class=md-nav__item> <a href=../newznab-setting-up-a-usenet-indexer/ class=md-nav__link> <span class=md-ellipsis> Newznab: Setting up a Usenet Indexer </span> </a> </li> <li class=md-nav__item> <a href=../sabnzbd-a-web-interface-for-managing-newsgroups/ class=md-nav__link> <span class=md-ellipsis> SABnzbd: A Web Interface for Managing Newsgroups </span> </a> </li> <li class=md-nav__item> <a href=../sick-beard-a-pvr-relying-on-sabnzbd/ class=md-nav__link> <span class=md-ellipsis> Sick-Beard: A PVR Relying on SABnzbd </span> </a> </li> <li class=md-nav__item> <a href=../switch-audio-output-to-another-usb-device/ class=md-nav__link> <span class=md-ellipsis> Switch audio output to another USB device </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_8> <div class="md-nav__link md-nav__container"> <a href=../Linux/Network/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v2h1a1 1 0 0 1 1 1h7v2h-7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1H2v-2h7a1 1 0 0 1 1-1h1v-2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/></svg> <span class=md-ellipsis> Network </span> </a> <label class="md-nav__link " for=__nav_5_8 id=__nav_5_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_8_label aria-expanded=false> <label class=md-nav__title for=__nav_5_8> <span class="md-nav__icon md-icon"></span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../bwm-ng-measure-bandwidth-consumption-in-real-time/ class=md-nav__link> <span class=md-ellipsis> Bwm-ng: Measure Bandwidth Consumption in Real Time </span> </a> </li> <li class=md-nav__item> <a href=../check-connections-per-ip/ class=md-nav__link> <span class=md-ellipsis> Check Connections Per IP </span> </a> </li> <li class=md-nav__item> <a href=../cisco-vpn-client-installation-on-red-hat-6/ class=md-nav__link> <span class=md-ellipsis> Cisco VPN Client: Installation on Red Hat 6 </span> </a> </li> <li class=md-nav__item> <a href=../configuring-a-local-network-on-debian-and-ubuntu/ class=md-nav__link> <span class=md-ellipsis> Configuring a Local Network on Debian and Ubuntu </span> </a> </li> <li class=md-nav__item> <a href=../dns-fqdn-name-resolution-in-local-network/ class=md-nav__link> <span class=md-ellipsis> DNS FQDN Name Resolution in Local Network </span> </a> </li> <li class=md-nav__item> <a href=../dnsmasq-and-dhclient-use-a-specific-dns-for-a-specific-domain/ class=md-nav__link> <span class=md-ellipsis> Dnsmasq and dhclient: use a specific DNS for a specific domain </span> </a> </li> <li class=md-nav__item> <a href=../ifrename-renaming-network-cards-without-using-udev/ class=md-nav__link> <span class=md-ellipsis> Ifrename: Renaming Network Cards Without Using Udev </span> </a> </li> <li class=md-nav__item> <a href=../ip-network-interface-management-command/ class=md-nav__link> <span class=md-ellipsis> IP: Network Interface Management Command </span> </a> </li> <li class=md-nav__item> <a href=../iperf-testing-end-to-end-bandwidth/ class=md-nav__link> <span class=md-ellipsis> Iperf: Testing End-to-End Bandwidth </span> </a> </li> <li class=md-nav__item> <a href=../ipv6-complete-removal-ipv4-only-on-debian/ class=md-nav__link> <span class=md-ellipsis> IPv6: Complete Removal, IPv4 Only on Debian </span> </a> </li> <li class=md-nav__item> <a href=../kernel-and-network-pushing-the-limits-of-connectivity/ class=md-nav__link> <span class=md-ellipsis> Kernel and Network: Pushing the Limits of Connectivity </span> </a> </li> <li class=md-nav__item> <a href=../make-network-card-leds-flash/ class=md-nav__link> <span class=md-ellipsis> Make Network Card LEDs Flash </span> </a> </li> <li class=md-nav__item> <a href=../network-creating-bonding/ class=md-nav__link> <span class=md-ellipsis> Network: Creating Bonding </span> </a> </li> <li class=md-nav__item> <a href=../proxychains-proxy-any-outbound-connection/ class=md-nav__link> <span class=md-ellipsis> Proxychains: Proxy Any Outbound Connection </span> </a> </li> <li class=md-nav__item> <a href=../rename-network-interfaces-to-ethx/ class=md-nav__link> <span class=md-ellipsis> Rename Network Interfaces to ethX </span> </a> </li> <li class=md-nav__item> <a href=../displaying-active-machines-on-the-current-network/ class=md-nav__link> <span class=md-ellipsis> Displaying Active Machines on the Current Network </span> </a> </li> <li class=md-nav__item> <a href=../trickle-limit-your-application-bandwidth/ class=md-nav__link> <span class=md-ellipsis> Trickle: Limit Your Application Bandwidth </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_8_18> <div class="md-nav__link md-nav__container"> <a href=../Linux/Network/Netcat/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12 8-1.33.09C9.81 7.07 7.4 4.5 5 4.5c0 0-1.97 2.96-.04 6.91-.55.83-.89 1.26-.96 2.25l-1.93.29.21.98 1.76-.26.14.71-1.57.94.47.89 1.45-.89C5.68 18.76 8.59 20 12 20s6.32-1.24 7.47-3.68l1.45.89.47-.89-1.57-.94.14-.71 1.76.26.21-.98-1.93-.29c-.07-.99-.41-1.42-.96-2.25C20.97 7.46 19 4.5 19 4.5c-2.4 0-4.81 2.57-5.67 3.59zm-3 3a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m6 0a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-4 3h2l-.7 1.39c.2.64.76 1.11 1.45 1.11a1.5 1.5 0 0 0 1.5-1.5h.5a2 2 0 0 1-2 2c-.75 0-1.4-.41-1.75-1-.35.59-1 1-1.75 1a2 2 0 0 1-2-2h.5a1.5 1.5 0 0 0 1.5 1.5c.69 0 1.25-.47 1.45-1.11z"/></svg> <span class=md-ellipsis> Netcat </span> </a> <label class="md-nav__link " for=__nav_5_8_18 id=__nav_5_8_18_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_8_18_label aria-expanded=false> <label class=md-nav__title for=__nav_5_8_18> <span class="md-nav__icon md-icon"></span> Netcat </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../netcat-creating-a-listening-port/ class=md-nav__link> <span class=md-ellipsis> Netcat: Creating a Listening Port </span> </a> </li> <li class=md-nav__item> <a href=../netcat-file-transfer/ class=md-nav__link> <span class=md-ellipsis> Netcat: File Transfer </span> </a> </li> <li class=md-nav__item> <a href=../netcat-remote-partition-backup/ class=md-nav__link> <span class=md-ellipsis> Netcat: Remote Partition Backup </span> </a> </li> <li class=md-nav__item> <a href=../netcat-usage/ class=md-nav__link> <span class=md-ellipsis> Netcat: Usage </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_8_19> <div class="md-nav__link md-nav__container"> <a href=../Linux/Network/OpenSSH/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13.695 1.653c-.202.47-.146 1.02-.293 1.509-.034.112-.146.452-.308.429-.333-.048-.16-.688-.545-.7l.12.934c-.577.073-.498-.829-.733-1.195-.27-.423-.335.192-.317.38.011.122.036.242.05.363.026.21.032.393.005.603-.552-.007-.35-.733-.754-.844l.03.874c-.612-.005-.89-.557-1.159-1.025-.112-.196-.261-.574-.53-.453.126.544.423 1.064.454 1.63.007.145-.13.516-.333.448-.469-.158-.406-1.008-.796-1.231-.08-.045-.204-.006-.29-.002 0 .45.198.996.356 1.418.034.09.129.41-.069.403-.353-.01-.441-.695-.8-.615.044.185.153.335.215.513.037.109.106.219.126.332.044.247-.269.267-.432.22-.384-.114-.66-.428-.935-.703-.076-.076-.277-.344-.404-.222-.141.135.136.373.215.464.234.271.488.589.6.935.049.148.058.36-.09.462-.146.1-.384-.083-.502-.16-.362-.239-.721-.654-1.176-.664l-.107.271.29.392.752.845-.875-.362c.035.229.583.506.475.742-.064.14-.38.142-.505.124-.446-.064-.762-.396-1.177-.515-.366-.105-.298.18-.09.343q.107.086.211.177.187.161.362.336c.183.183.343.378.513.573l-.875-.03v.06l.845.392-.151.603c-.244 0-.442-.067-.664-.163-.151-.066-.31-.175-.482-.163-.206.014-.328.202-.19.377.206.263.62.412.883.617.1.078.247.212.133.345-.225.264-.832-.074-1.128.013v.06c.275.161.839.253 1 .549.128.231-.232.756-.487.736-.227-.019-.436-.275-.603-.41-.401-.322-.83-.7-1.298-.923-.801-.38-1.597.226-2.232.622.081.256.402-.017.603.029.271.061.477.313.651.513.84.968 1.543 2.064 1.857 3.319.083.33.224.725-.023 1.021-.066.08-.165.09-.238.155-.055.05-.052.118.023.141.138.043.34-.021.475-.054.443-.107.949-.346 1.15-.78.125-.271.169-.797.48-.905.068.29.394.673.363.965-.029.259-.302.56-.461.751-.057.068-.193.217-.112.315.082.097.25-.112.3-.16.229-.216.73-.558.865-.062.118.432-.261 1.13-.45 1.509-.054.105-.297.435-.202.553.11.135.338-.218.387-.282.19-.249.856-.987 1.21-.722.431.324.282.555.119.994-.046.123-.216.433-.1.55.111.114.258.01.315-.098.104-.197.383-.78.661-.631.175.093.441.251.543.425.158.272.02.815-.022 1.111-.024.17-.207.702-.055.825.14.113.254-.228.296-.312.149-.295.32-.597.54-.845.08-.089.192-.237.327-.212.7.131-.015.829.273 1.185.058.072.215.067.3.083l.362-.935c.184.07.455.095.591.248.114.128.137.344.17.506.092.454.142.896.084 1.357.057.042.148.138.225.088.097-.062.11-.315.143-.42.106-.332.269-.65.42-.965.099-.207.37-.427.565-.142.2.292.12.804.246 1.138.32-.158.355-.825.362-1.147l.415.061.25.513.45 1.297c.234-.09.16-.538.187-.754.035-.293.103-.882.318-1.1.086-.087.258-.095.37-.137.129.312.199.666.354.965.06.116.198.242.337.17.133-.068.128-.224.111-.35-.042-.313-.113-.62-.138-.936.598-.042.95.441 1.325.845.145.155.271.362.485.422l-.31-.905-.172-.845c.217-.09.676-.534.905-.47.34.097.6 1.046 1.023.823.18-.095.088-.257.003-.383-.126-.188-.506-.639-.465-.874.03-.175.324-.379.494-.377.391.006 1.071.304 1.297.618l.272-.03c-.04-.54-.85-.787-.966-1.328a.4.4 0 0 1 .004-.172c.086-.347.294-.195.51-.102.067.029.213.103.269.02.06-.091-.048-.212-.087-.289-.082-.156-.156-.337-.122-.513.282.074.455.242.694.4.056.038.18.131.251.08.075-.056-.036-.167-.071-.208-.106-.123-.432-.42-.4-.6.022-.122.227-.252.31-.335.276-.276.59-.556.815-.875h.03c.532.621 2.203.186 1.99-.754-.132.019-.256.123-.392.077-.594-.205-.45-1.157-1.116-1.163-.049-.62-.298-1.24-.599-1.78-.138-.247-.424-.473-.525-.725-.055-.14-.046-.36-.052-.512.349-.054.177-.407.05-.603-.142-.218-.292-.477-.475-.66-.226-.227-.562-.374-.533-.758.027-.357.642-.311.747-.633-.183.008-.363.053-.543.083-.449.075-.527-.076-.317-.475.183-.349.474-.613.73-.905.083-.093.336-.306.205-.441-.107-.112-.286.058-.377.119-.333.22-.705.384-1.086.502-.113.035-.448.166-.486-.035-.051-.272.463-.322.395-.628-.205.049-.61.374-.807.223-.238-.18.111-.643.149-.856.038-.216-.136-.224-.258-.09q-.063.074-.12.15c-.07.087-.126.17-.17.271-.494-.288.44-.623.265-.89-.063-.095-.179 0-.235.05-.117.102-.558.61-.654.237-.106-.412.108-.908.22-1.297.028-.102.159-.376.032-.449-.185-.106-.266.253-.31.359a2.3 2.3 0 0 1-.615.839c-.086.077-.232.225-.36.19-.187-.051-.188-.57-.182-.728.003-.075.045-.205-.028-.26-.096-.071-.147.072-.16.14-.048.222-.186.856-.515.44-.298-.376.163-1.157-.444-1.315l-.332 1.056c-.398-.087-.31-.656-.211-.966l-.181-.06a3 3 0 0 1-.112.362c-.16.451-.375.539-.541.03-.127-.388-.082-.807-.145-1.207-.025-.159-.04-.32-.198-.392m.03.905c.153.364-.008.82.237 1.176.25.364.716.168 1.02.397.108.081.022.256-.007.358-.1.347-.278.604-.465.905.655-.335.875-1.29.965-1.96h.03c-.026.596-.007 1.182 0 1.779.003.27-.037.582.272.633V4.46c.323.093.808.502 1.159.381.179-.061.342-.277.467-.411q.14-.152.244-.332h.03l-.12.965-.302-.06.663.473.261.226-.2.294-.875.636c.637-.094.958-.564 1.418-.935-.15.63-.491 1.262-.332 1.93h.03l.362-1.448c.274.13.37.476.633.633.383.228.919-.204 1.267-.331-.227.322-.57.548-.633.965l-.272-.12c.236.606.519 1.19.62 1.84.093.594-.024 1.183.016 1.78.02.275.133.517.179.784-.563.191-.666.98-1.207 1.236.043-.188.11-.377.11-.573 0-.14-.066-.282-.03-.422.073-.277.314-.508.412-.784.152-.43.05-.835-.009-1.267l.301.03-.758-1.177-.376-.573.139-.392c-.762.586-1.867 1.188-1.87 2.293l.271-.091.09.664-.422.06v.06c.353.1.722.149 1.056.306.244.114.514.265.682.479.56.71.112 1.818-.31 2.473-.213.33-.594.634-.734.996.382-.092.577-.457.792-.754.091-.127.17-.303.325-.362.24-.09.32.354.371.512.065.2.218.546.18.755-.071.401-.415.662-.34 1.116.166-.202.217-.604.482-.702.17-.062.347.095.513.12.36.053.73-.082.996-.326.285-.263.48-.686.408-1.083-.043-.24-.177-.476-.16-.724.012-.2.148-.362.22-.543.173-.427.152-.912-.257-1.189a.86.86 0 0 0-.362-.138c.033-.222.264-.706.53-.418.188.202.29.558.396.81.389.918.392 2.006-.163 2.865-.394.61-1.02 1.11-1.548 1.6l-.21-.604h-.061c-.07.36.185.772.332 1.086-.33-.075-.645-.415-.996-.362.099.17.748.572.242.754.003.148-.11.25-.2.362-.201.248-.454.618-.766.724l-.573-1.508h-.03c.084.661.314 1.305.61 1.9.154.307.403.611.506.935-.187-.159-.306-.413-.466-.603a6.3 6.3 0 0 0-.952-.892c-.227-.177-.45-.376-.754-.345.345.31.868.475.835 1.056-.01.165-.193.237-.322.296-.339.155-.67.322-1.026.438-.098.032-.279.12-.382.087-.11-.037-.097-.277-.109-.369-.037-.285.121-1.028-.172-1.146-.128 1.01.132 1.929.21 2.926h-.03c-.17-.737-.439-1.558-.838-2.202-.11-.177-.343-.597-.579-.543l.62 1.086.013.46-.452.08-1.297.033c.047-.373.13-.746.2-1.116.014-.081.074-.326-.078-.326-.14 0-.169.408-.189.507-.108.542-.204 1.106-.205 1.66h-.03c0-.913-.41-1.73-.784-2.535-.104.155.041.377.086.543.099.371.113.737.065 1.116-.612-.118-1.275-.278-1.84-.543.149-.357.576-.889.573-1.267-.554.556-.804 1.335-1.086 2.052h-.03l.12-1.448-.21-1.237c-.132.133-.06.399-.04.573.033.275.015.688-.188.9-.112.117-.226.014-.346-.034-.335-.136-.582-.36-.875-.564-.104-.072-.293-.15-.28-.302.032-.433.656-.638.672-1.026-.72.31-1.062 1.088-1.629 1.57.186-.785.782-1.703.634-2.535-.152.084-.145.295-.185.453a4.3 4.3 0 0 1-.388.965c-.4-.231-.72-.623-.983-.996-.073-.102-.233-.26-.235-.392-.002-.128.145-.274.225-.362.244-.265.54-.465.872-.603-.237-.147-.706.2-.965.272.175-.37.65-.732.513-1.177-.393.307-.66.97-.935 1.388h-.03l-.574-1.267.754.271c.023-.27-.36-.373-.573-.422.126-.328.476-.578.392-.965h-.06c-.087.28-.269.759-.573.844l-.09-.482h-.03c-.119.253.029.447-.04.687-.037.125-.217.106-.28.222-.085.158-.092.37-.164.539-.172.407-.5.706-.904.874l-.037-.54.459-.515-.483.361c-.062-.161-.203-.465-.12-.633.073-.145.254-.24.362-.362l-.483.241c-.163-.422.135-.3.302-.603-.122.07-.325.2-.471.133-.187-.085-.384-.64-.464-.827l.512-.09v-.03c-.242.03-.626.12-.663-.211h.633v-.03l-.712-.08-.194-.252-.421-.543a2 2 0 0 1 .935 0c-.368-.387-1.024.182-1.327-.453l.754-.15v-.03c-.234 0-.67.135-.874.028-.054-.028-.094-.075-.134-.12-.388-.438.48-.478.766-.44.55.076.975.452 1.358.833.194.193.473.538.754.595.278.055.51-.122.724-.263 0 .212-.022.422.15.573 0-.416.005-.857.07-1.267.023-.152.083-.352.263-.38.225-.034.531.309.693.44.002-.234-.175-.432-.319-.603-.396-.47-1.025-.914-1.58-1.177v-.03c.823.142 1.442.625 2.322.392v-.06l-1.026-.15c.043-.321.276-.734.203-1.057-.1-.44-.568-.644-.746-1.025.306.118.63.29.966.297.188.005.336-.098.512-.14.485-.113.766.123 1.086.446.088-.305-.15-.559-.334-.784-.186-.229-.35-.46-.57-.659-.267-.24-.662-.52-.815-.85.25.049.49.256.694.402.359.255.715.503 1.116.691.211.1.578.265.754.054l-.965-.362c.07-.101.17-.188.221-.302.138-.307-.104-.568-.191-.844.185.068.345.227.543.26.464.078.734-.47 1.086-.653L9.11 6.45c.201-.168.112-.494.078-.724-.099-.664-.493-1.251-.59-1.9h.03c.381.816.835 1.696 1.598 2.201l-.277-.363-.477-.723a1 1 0 0 0 .269-.142c.528-.423.078-1.012.002-1.517h.03c.065.155.14.314.235.453.441.638 1.023.536 1.696.482l-.18 1.328h.03c.089-.283.258-.516.318-.815.11-.544-.006-1.084-.017-1.629h.03c.048.322.179.63.282.936.162.482.293 1.01.653 1.387l-.331-1.357c.958-.001 1.219-.647 1.236-1.509m-.271 2.082-.483 2.172c.372-.227.45-1.053.483-1.448h.03c.065.348.096.696.238 1.025.056.13.117.305.275.302l-.386-1.357zm-2.956.392c.006.771.387 1.473.24 2.262.146-.088.15-.295.152-.452.004-.365-.06-.723-.06-1.086h.03c.105.364.39 1.09.814 1.146-.05-.196-.211-.344-.319-.513-.238-.374-.472-1.13-.857-1.357m6.184.332c-.336.526-.736 1.245-1.237 1.629v.03c.38-.068.791-.549.905-.905h.03c-.005.536-.251 1.105-.03 1.629h.03c.16-.543.077-1.184.215-1.75.043-.177.203-.473.087-.633M14.69 6.57c-.178.402-.265.775-.634 1.056v.06c.265.07.45-.262.513-.482h.03c.026.203.05.624.272.694l-.149-.694zm-6.456.03c.065.743 1.063 1.244.935 2.052.16-.094.119-.269.065-.423-.112-.317-.298-.596-.427-.905.289.264.716.562 1.117.393l-.633-.263zm4.163.242c-.091.3-.347.886-.241 1.176h.06l.211-.724h.03c.075.273.153.687.483.724l-.483-1.176zm-2.021.754.15 1.267h.061l-.03-.905c.197.137.463.474.724.362-.1-.11-.247-.129-.362-.222-.187-.151-.286-.482-.543-.502m6.636.18c-.318.32-.584.539-1.025.664v.061c.261.075.514-.07.724-.211-.035.177-.26.64-.09.754l.289-.875zm1.539.624c.138.01.242.186.323.282.239.279.508.575.612.935-.697-.144-1.452-.045-2.142.12.154-.405.446-.834.785-1.1.115-.092.258-.25.422-.237m-6.697.07-.181.936c.151-.115.187-.481.211-.664l.272.302a1.06 1.06 0 0 0-.302-.573zm2.956.091-.573.573.543-.392.09.543c.106-.154.05-.578-.06-.724m-6.334.078a.3.3 0 0 0-.06.013v.03c.253.256.463.61.621.935.088.179.063.376.253.483-.015-.353-.166-.62-.302-.935.214.124.5.31.754.24v-.06c-.342-.152-.607-.281-.905-.518-.11-.088-.224-.2-.361-.188m-2.082.284c.029.255.237.35.422.49a3.5 3.5 0 0 1 .687.657c.127.166.205.452.37.573-.036-.444-.298-.966-.725-1.147v-.03c.434.084.867.246 1.297.06v-.06l-.513-.02zm14.027.09c.296.115.613.522.724.815l-.664-.09zm-7.3.03-.271.514.301-.332.181.302zm5.95.712a.5.5 0 0 1 .172.031c.365.143.267.9.19 1.188-.061.234-.17.495-.4.604-.167-.3-.415-.496-.724-.64-.154-.073-.41-.101-.517-.243-.103-.137-.208-.646-.068-.78.152-.147.57-.117.766-.117.163 0 .392-.051.581-.043m-3.054.013-.513.392.453-.241-.06.362c.128-.09.175-.371.12-.513m4.404.18c.136.011.37-.002.47.1.331.34.145 1.25-.259 1.44l-.12-.695q.048.002.09-.003v.003h.09l-.04-.013c.356-.085.295-.577-.051-.59l-.09-.03.049.032-.018.001v-.003h-.06l.01.011a.4.4 0 0 0-.071.02zm-1.538.122c-.062.063-.152.11-.198.187-.318.545.886.559.546-.03-.039-.068-.108-.111-.167-.157l-.121.06h-.06zm-6.335.12c0 .154-.03.31.12.392v-.301l.363.12zm-1.676.086q-.07.004-.134.005c.053.194.137.36.302.482l-.181-.392.362.03c-.07-.127-.211-.131-.349-.125m3.685.011c-.09.01-.168.168-.169.325l.15-.271.182.12c-.05-.132-.109-.18-.163-.174m-4.845.084-.513.09.423.513-.241-.422.361-.06zm-2.655.42c-.307.013-.66.365-.904.515v.06l.875.302c-.018-.229-.315-.297-.513-.331l.603-.544a.4.4 0 0 0-.06-.002zm1.6.063-1.237.332v.06l.663.238.393.275c-.043-.32-.383-.375-.604-.543.28-.053.66-.058.785-.362m3.107.332c-.129.02-.23.12-.091.21zm.995.18-.03.212c.094-.056.11-.105.09-.211zm1.357 0c-.117.035-.214.118-.09.212zm1.117.302-.302.09v.121zm1.146.03v.362c.113-.11.113-.25 0-.362m4.272.179c.425.004.846.395.75.847-.062.29-.242.605-.528.718-.149.06-.486.04-.498-.175-.01-.2.388-.478.468-.694-.558.427-.9.79-1.659.694v-.03c.447-.331.634-.895 1.059-1.224a.65.65 0 0 1 .408-.136m-9.943.032c-.146.076-.235.236-.272.393l.362.09-.2-.193zm-4.585.061-1.147.603c.04.225.262.104.423.093.23-.015.657.06.784.27l.211-.03c-.054-.342-.546-.342-.814-.363.197-.2.48-.259.543-.573m5.822.241-.332.423.422.15-.302-.18c.063-.132.31-.247.212-.393m-2.625.09-.362.333c.142.047.468.233.573.09l-.392-.15zm7.813 0 .422.333v.06l-.392.211a.94.94 0 0 0 .543-.211.88.88 0 0 0-.573-.392zm-9.683.121c-.183.41-.464.743-.784 1.056-.184.179-.471.346-.543.603L7.45 13.8l.694-.14c-.414-.296-1.14.033-1.539.21.275-.55.813-.769.935-1.418l-.03-.03zm5.701.03c-.13.043-.146.149-.18.272l.18.03zm1.237.212.03.332a.5.5 0 0 0 .272-.332l-.212.15zm-4.193.422c-.13.038-.2.131-.06.211zm5.34.181-.031.422-.271-.18c.028.182.156.27.332.3l.03-.542zm-6.758.03c-.22.069-.596.692-.694.905.2-.008.895.018.996-.12l-.664-.091zm3.7.059c-.166.01-.327.105-.502.105-.507 0-1.34-.252-1.775.092-.396.314-.42.734-.669 1.132-.121.194-.336.325-.512.465-.065.052-.184.127-.159.227.03.122.238.187.34.233.228.105.477.187.724.238.131.027.328.022.44.103.204.148.135.653.163.876.227-.13.524-.52.633-.755-.241.073-.347.31-.513.483l-.09-.633c.705-.062 1.015-.833 1.43-1.296.253-.282.57-.405.893-.575-.19-.227-.455.013-.634.15-.479.37-.755.816-1.176 1.238l.241-.633h-.03c-.131.314-.288.65-.603.814l.12-.422h-.03c-.127.303-.27.452-.603.452l.301-.694h-.03l-.392.664-.12-.03.301-.573h-.03c-.152.244-.313.59-.633.512l.27-.512c-.15.118-.216.4-.394.471-.081.032-.235-.027-.202-.135.042-.14.272-.278.363-.397.31-.405.56-1.067 1.018-1.316.376-.205.947.054 1.358.05.235-.004.503-.084.573-.333a.4.4 0 0 0-.072-.001zm-7.591.092-.03.181.12-.181zm14.875.029c.228.004.48.037.61.214.133.18.101.427.17.632.052-.216.046-1.024.477-.57.349.367.256 1.162-.087 1.502-.216.213-.735.343-.992.144-.393-.303-.494-.926-.608-1.378-.027-.109-.154-.36-.084-.461.058-.086.209-.08.3-.082q.099-.001.214-.001m2.65.182c.569.103.615.907 1.117 1.147v.06c-.285.143-.38-.002-.573-.211l.211.392c-.233-.036-.283-.262-.422-.423l.21.453c-.346 0-.493-.057-.633-.392h-.03l.06.271-.214-.152.114-.39zm-4.735.03c-.123.036-.188.105-.09.212zm-4.163.242.332.362.15-.362-.15.241zm3.047 0-.03.452-.302-.18c-.017.198.288.424.453.512l-.06-.784zm-8.175.512c-.094.452-.417.859-.707 1.207-.138.166-.35.333-.41.543.5-.144 1.063-.652 1.6-.603-.138-.268-.783.103-1.026.15.196-.29.463-.542.59-.874.052-.14.086-.327-.047-.423m6.998.272c-.23.036-.218.264-.271.452-.128-.127-.258-.303-.452-.271l.573.694zm-2.805.03-.302.272-.03-.151h-.09l.03.392c.176-.03.358-.347.392-.513m.815.483-.151.392h-.03l-.242-.332.211.694h.03c.08-.202.365-.572.182-.754m3.348.18-.09.031.18.995c-.192-.168-.785-.942-1.025-.663.555.177.786.825 1.267 1.116l-.15-.573zm1.508.242c-.153.374.22.775.362 1.116-.392-.202-.74-.539-1.207-.543v.12c.672.06 1.03.747 1.569 1.057-.005-.563-.488-1.21-.664-1.75zm-6.123.453-.212.03c.072.169.197.306.256.482.065.196.023.466.227.573.095-.212.327-.557.271-.784-.17.085-.252.268-.27.453h-.031zm-2.806.03c0 .592-.08 1.148-.241 1.72.21.007.32-.211.433-.363.225-.299.45-.628.804-.784v-.03c-.359-.047-.807.49-.935.784h-.03c.106-.41.2-.924.03-1.327zm5.31.03c-.244.093-.182.42-.182.633l-.693-.482c.038.123.136.16.228.245.18.167.337.557.586.6zm1.538.573c-.213.377.097 1.154.15 1.569h-.03c-.168-.355-.492-.649-.754-.935-.037-.04-.228-.301-.296-.192-.071.114.278.385.343.463a6 6 0 0 1 .642.935c.105.189.197.44.397.543-.15-.778-.39-1.586-.392-2.383zm-10.045.302c.223.066.35.219.362.452l-.694.483zm5.007.24-.03.031c.147.405.293.742.364 1.177.034.202.013.465.179.603.17-.322.23-.695.385-1.026.09-.19.234-.356.188-.573-.29.143-.461.787-.543 1.086-.15-.399-.104-1.092-.543-1.297zm2.051.303c.341.677.594 1.314.785 2.05.212-.118.183-.329.18-.542-.005-.497.186-.99.152-1.478-.143.048-.168.194-.193.332-.06.329-.06.669-.14.995-.163-.38-.293-1.279-.784-1.357m6.365.24.453.665-.664-.302zM8.657 19.18c.647.057.205.652-.06.935zm8.296.724.272.845c-.224-.157-.488-.414-.604-.664zm-5.502.455.344.058-.272.965h-.03l-.06-.754zm2.85.174c.062 0 .121.013.169.053.163.138-.067.805-.141.977l-.332-.965c.086-.022.2-.063.304-.065"/></svg> <span class=md-ellipsis> OpenSSH </span> </a> <label class="md-nav__link " for=__nav_5_8_19 id=__nav_5_8_19_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_8_19_label aria-expanded=false> <label class=md-nav__title for=__nav_5_8_19> <span class="md-nav__icon md-icon"></span> OpenSSH </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../belier-script-your-ssh-connection/ class=md-nav__link> <span class=md-ellipsis> Belier: Script Your SSH Connection </span> </a> </li> <li class=md-nav__item> <a href=../bypassing-https-proxies-for-ssh/ class=md-nav__link> <span class=md-ellipsis> Bypassing HTTPS Proxies for SSH </span> </a> </li> <li class=md-nav__item> <a href=../chroot-ssh-accounts/ class=md-nav__link> <span class=md-ellipsis> Chroot SSH Accounts </span> </a> </li> <li class=md-nav__item> <a href=../creating-a-vpn-with-openssh/ class=md-nav__link> <span class=md-ellipsis> Creating a VPN with OpenSSH </span> </a> </li> <li class=md-nav__item> <a href=../fanout-run-the-same-command-on-multiple-machines-simultaneously/ class=md-nav__link> <span class=md-ellipsis> Fanout: Run the Same Command on Multiple Machines Simultaneously </span> </a> </li> <li class=md-nav__item> <a href=../openssh-faq/ class=md-nav__link> <span class=md-ellipsis> OpenSSH FAQ </span> </a> </li> <li class=md-nav__item> <a href=../openssh-creating-an-ssh-socks-proxy/ class=md-nav__link> <span class=md-ellipsis> OpenSSH: Creating an SSH SOCKS Proxy </span> </a> </li> <li class=md-nav__item> <a href=../openssh-graphical-window-forwarding/ class=md-nav__link> <span class=md-ellipsis> OpenSSH: Graphical Window Forwarding </span> </a> </li> <li class=md-nav__item> <a href=../openssh-hpn-high-performance-implementation-and-installation/ class=md-nav__link> <span class=md-ellipsis> OpenSSH HPN (High Performance): Implementation and Installation </span> </a> </li> <li class=md-nav__item> <a href=../openssh-ssh-connection-multiplexing/ class=md-nav__link> <span class=md-ellipsis> OpenSSH: SSH Connection Multiplexing </span> </a> </li> <li class=md-nav__item> <a href=../openssh-ssh-key-exchange/ class=md-nav__link> <span class=md-ellipsis> OpenSSH: SSH Key Exchange </span> </a> </li> <li class=md-nav__item> <a href=../openssh-tunneling-vpn/ class=md-nav__link> <span class=md-ellipsis> OpenSSH : Tunneling VPN </span> </a> </li> <li class=md-nav__item> <a href=../openssh-using-stepstones/ class=md-nav__link> <span class=md-ellipsis> OpenSSH: Using Stepstones </span> </a> </li> <li class=md-nav__item> <a href=../reverse-tunneling-with-openssh/ class=md-nav__link> <span class=md-ellipsis> Reverse Tunneling with OpenSSH </span> </a> </li> <li class=md-nav__item> <a href=../securing-openssh/ class=md-nav__link> <span class=md-ellipsis> Securing OpenSSH </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-an-ssh-bouncer-server-for-your-ssh-connections/ class=md-nav__link> <span class=md-ellipsis> Setting up an SSH Bouncer Server for Your SSH Connections </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9> <div class="md-nav__link md-nav__container"> <a href=../Linux/Packages/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 10.96a.985.985 0 0 1-.37-1.37L3.13 7c.11-.2.28-.34.47-.42l7.83-4.4c.16-.12.36-.18.57-.18s.41.06.57.18l7.9 4.44c.19.1.35.26.44.46l1.45 2.52c.28.48.11 1.09-.36 1.36l-1 .58v4.96c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18s-.41-.06-.57-.18l-7.9-4.44A.99.99 0 0 1 3 16.5v-5.54c-.3.17-.68.18-1 0m10-6.81v6.7l5.96-3.35zM5 15.91l6 3.38v-6.71L5 9.21zm14 0v-3.22l-5 2.9c-.33.18-.7.17-1 .01v3.69zm-5.15-2.55 6.28-3.63-.58-1.01-6.28 3.63z"/></svg> <span class=md-ellipsis> Packages </span> </a> <label class="md-nav__link " for=__nav_5_9 id=__nav_5_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_9_label aria-expanded=false> <label class=md-nav__title for=__nav_5_9> <span class="md-nav__icon md-icon"></span> Packages </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9_1> <div class="md-nav__link md-nav__container"> <a href=../Linux/Packages/Debian/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13.88 12.685c-.4 0 .08.2.601.28.14-.1.27-.22.39-.33a3 3 0 0 1-.99.05m2.14-.53c.23-.33.4-.69.47-1.06-.06.27-.2.5-.33.73-.75.47-.07-.27 0-.56-.8 1.01-.11.6-.14.89m.781-2.05c.05-.721-.14-.501-.2-.221.07.04.13.5.2.22M12.38.31c.2.04.45.07.42.12.23-.05.28-.1-.43-.12m.43.12-.15.03.14-.01V.43m6.633 9.944c.02.64-.2.95-.38 1.5l-.35.181c-.28.54.03.35-.17.78-.44.39-1.34 1.22-1.62 1.301-.201 0 .14-.25.19-.34-.591.4-.481.6-1.371.85l-.03-.06c-2.221 1.04-5.303-1.02-5.253-3.842-.03.17-.07.13-.12.2a3.55 3.55 0 0 1 2.001-3.501 3.36 3.36 0 0 1 3.732.48 3.34 3.34 0 0 0-2.721-1.3c-1.18.01-2.281.76-2.651 1.57-.6.38-.67 1.47-.93 1.661-.361 2.601.66 3.722 2.38 5.042.27.19.08.21.12.35a4.7 4.7 0 0 1-1.53-1.16c.23.33.47.66.8.91-.55-.18-1.27-1.3-1.48-1.35.93 1.66 3.78 2.921 5.261 2.3a6.2 6.2 0 0 1-2.33-.28c-.33-.16-.77-.51-.7-.57a5.802 5.803 0 0 0 5.902-.84c.44-.35.93-.94 1.07-.95-.2.32.04.16-.12.44.44-.72-.2-.3.46-1.24l.24.33c-.09-.6.74-1.321.66-2.262.19-.3.2.3 0 .97.29-.74.08-.85.15-1.46.08.2.18.42.23.63-.18-.7.2-1.2.28-1.6-.09-.05-.28.3-.32-.53 0-.37.1-.2.14-.28-.08-.05-.26-.32-.38-.861.08-.13.22.33.34.34-.08-.42-.2-.75-.2-1.08-.34-.68-.12.1-.4-.3-.34-1.091.3-.25.34-.74.54.77.84 1.96.981 2.46-.1-.6-.28-1.2-.49-1.76.16.07-.26-1.241.21-.37A7.82 7.82 0 0 0 17.702 1.6c.18.17.42.39.33.42-.75-.45-.62-.48-.73-.67-.61-.25-.65.02-1.06 0C15.082.73 14.862.8 13.8.4l.05.23c-.77-.25-.9.1-1.73 0-.05-.04.27-.14.53-.18-.741.1-.701-.14-1.431.03.17-.13.36-.21.55-.32-.6.04-1.44.35-1.18.07C9.6.68 7.847 1.3 6.867 2.22L6.838 2c-.45.54-1.96 1.611-2.08 2.311l-.131.03c-.23.4-.38.85-.57 1.261-.3.52-.45.2-.4.28-.6 1.22-.9 2.251-1.16 3.102.18.27 0 1.65.07 2.76-.3 5.463 3.84 10.776 8.363 12.006.67.23 1.65.23 2.49.25-.99-.28-1.12-.15-2.08-.49-.7-.32-.85-.7-1.34-1.13l.2.35c-.971-.34-.57-.42-1.361-.67l.21-.27c-.31-.03-.83-.53-.97-.81l-.34.01c-.41-.501-.63-.871-.61-1.161l-.111.2c-.13-.21-1.52-1.901-.8-1.511-.13-.12-.31-.2-.5-.55l.14-.17c-.35-.44-.64-1.02-.62-1.2.2.24.32.3.45.33-.88-2.172-.93-.12-1.601-2.202l.15-.02c-.1-.16-.18-.34-.26-.51l.06-.6c-.63-.74-.18-3.102-.09-4.402.07-.54.53-1.1.88-1.981l-.21-.04c.4-.71 2.341-2.872 3.241-2.761.43-.55-.09 0-.18-.14.96-.991 1.26-.7 1.901-.88.7-.401-.6.16-.27-.151 1.2-.3.85-.7 2.421-.85.16.1-.39.14-.52.26 1-.49 3.151-.37 4.562.27 1.63.77 3.461 3.011 3.531 5.132l.08.02c-.04.85.13 1.821-.17 2.711l.2-.42M9.54 13.236l-.05.28c.26.35.47.73.8 1.01-.24-.47-.42-.66-.75-1.3m.62-.02c-.14-.15-.22-.34-.31-.52.08.32.26.6.43.88zm10.945-2.382-.07.15c-.1.76-.34 1.511-.69 2.212.4-.73.65-1.541.75-2.362M12.45.12c.27-.1.66-.05.95-.12-.37.03-.74.05-1.1.1zM3.006 5.142c.07.57-.43.8.11.42.3-.66-.11-.18-.1-.42m-.64 2.661c.12-.39.15-.62.2-.84-.35.44-.17.53-.2.83"/></svg> <span class=md-ellipsis> Debian </span> </a> <label class="md-nav__link " for=__nav_5_9_1 id=__nav_5_9_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_9_1_label aria-expanded=false> <label class=md-nav__title for=__nav_5_9_1> <span class="md-nav__icon md-icon"></span> Debian </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../apt-aptitude-useful-commands/ class=md-nav__link> <span class=md-ellipsis> Apt & Aptitude: Useful Commands </span> </a> </li> <li class=md-nav__item> <a href=../apt-cacher-ng-setting-up-a-proxy-for-apt/ class=md-nav__link> <span class=md-ellipsis> Apt-cacher-ng: Setting Up a Proxy for APT </span> </a> </li> <li class=md-nav__item> <a href=../apt-file-searching-for-files-that-prevent-compilation/ class=md-nav__link> <span class=md-ellipsis> Apt-file: Searching for Files That Prevent Compilation </span> </a> </li> <li class=md-nav__item> <a href=../apt-adding-release-preferences-for-specific-packages/ class=md-nav__link> <span class=md-ellipsis> APT: Adding Release Preferences for Specific Packages </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_9_2> <div class="md-nav__link md-nav__container"> <a href=../Linux/Packages/RedHat/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.009 13.386c1.577 0 3.86-.326 3.86-2.202a1.8 1.8 0 0 0-.04-.431l-.94-4.08c-.216-.898-.406-1.305-1.982-2.093-1.223-.625-3.888-1.658-4.676-1.658-.733 0-.947.946-1.822.946-.842 0-1.467-.706-2.255-.706-.757 0-1.25.515-1.63 1.576 0 0-1.06 2.99-1.197 3.424a.8.8 0 0 0-.028.245c0 1.162 4.577 4.974 10.71 4.974m4.101-1.435c.218 1.032.218 1.14.218 1.277 0 1.765-1.984 2.745-4.593 2.745-5.895.004-11.06-3.451-11.06-5.734a2.3 2.3 0 0 1 .19-.925C2.746 9.415 0 9.794 0 12.217c0 3.969 9.405 8.861 16.851 8.861 5.71 0 7.149-2.582 7.149-4.62 0-1.605-1.387-3.425-3.887-4.512"/></svg> <span class=md-ellipsis> RedHat </span> </a> <label class="md-nav__link " for=__nav_5_9_2 id=__nav_5_9_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_9_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_9_2> <span class="md-nav__icon md-icon"></span> RedHat </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../adding-red-hat-dvd-as-a-repository/ class=md-nav__link> <span class=md-ellipsis> Adding Red Hat DVD as a Repository </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_10> <div class="md-nav__link md-nav__container"> <a href=../Linux/Security/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 12h7c-.53 4.11-3.28 7.78-7 8.92zH5V6.3l7-3.11M12 1 3 5v6c0 5.55 3.84 10.73 9 12 5.16-1.27 9-6.45 9-12V5z"/></svg> <span class=md-ellipsis> Security </span> </a> <label class="md-nav__link " for=__nav_5_10 id=__nav_5_10_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_10_label aria-expanded=false> <label class=md-nav__title for=__nav_5_10> <span class="md-nav__icon md-icon"></span> Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../force-user-to-change-password-at-first-login/ class=md-nav__link> <span class=md-ellipsis> Force User to Change Password at First Login </span> </a> </li> <li class=md-nav__item> <a href=../acct-the-ultimate-keyfinder/ class=md-nav__link> <span class=md-ellipsis> Acct: The Ultimate Keyfinder </span> </a> </li> <li class=md-nav__item> <a href=../encrypt-and-decrypt-a-file-with-openssl/ class=md-nav__link> <span class=md-ellipsis> Encrypt and Decrypt a File with OpenSSL </span> </a> </li> <li class=md-nav__item> <a href=../encrypting-a-password-with-md5/ class=md-nav__link> <span class=md-ellipsis> Encrypting a Password with MD5 </span> </a> </li> <li class=md-nav__item> <a href=../fail2ban-implementing-automated-iptables-rules-to-counter-bruteforce-attacks/ class=md-nav__link> <span class=md-ellipsis> Fail2ban: Implementing automated iptables rules to counter bruteforce attacks </span> </a> </li> <li class=md-nav__item> <a href=../freeze-a-machine-by-cpu-overload/ class=md-nav__link> <span class=md-ellipsis> Freeze a Machine by CPU Overload </span> </a> </li> <li class=md-nav__item> <a href=../gnupg-encrypt-your-emails/ class=md-nav__link> <span class=md-ellipsis> GnuPG: Encrypt Your Emails </span> </a> </li> <li class=md-nav__item> <a href=../lshell-limiting-shell-capabilities/ class=md-nav__link> <span class=md-ellipsis> Lshell: Limiting Shell Capabilities </span> </a> </li> <li class=md-nav__item> <a href=../secure-your-architecture-with-selinux/ class=md-nav__link> <span class=md-ellipsis> Secure Your Architecture with SELinux </span> </a> </li> <li class=md-nav__item> <a href=../ulimit-using-system-limits/ class=md-nav__link> <span class=md-ellipsis> Ulimit: Using System Limits </span> </a> </li> <li class=md-nav__item> <a href=../xinetd-securing-services/ class=md-nav__link> <span class=md-ellipsis> Xinetd: Securing Services </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <div class="md-nav__link md-nav__container"> <a href=../MacOS/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12.152 6.896c-.948 0-2.415-1.078-3.96-1.04-2.04.027-3.91 1.183-4.961 3.014-2.117 3.675-.546 9.103 1.519 12.09 1.013 1.454 2.208 3.09 3.792 3.039 1.52-.065 2.09-.987 3.935-.987 1.831 0 2.35.987 3.96.948 1.637-.026 2.676-1.48 3.676-2.948 1.156-1.688 1.636-3.325 1.662-3.415-.039-.013-3.182-1.221-3.22-4.857-.026-3.04 2.48-4.494 2.597-4.559-1.429-2.09-3.623-2.324-4.39-2.376-2-.156-3.675 1.09-4.61 1.09zM15.53 3.83c.843-1.012 1.4-2.427 1.245-3.83-1.207.052-2.662.805-3.532 1.818-.78.896-1.454 2.338-1.273 3.714 1.338.104 2.715-.688 3.559-1.701"/></svg> <span class=md-ellipsis> MacOS </span> </a> <label class="md-nav__link " for=__nav_6 id=__nav_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> MacOS </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_1> <div class="md-nav__link md-nav__container"> <a href=../MacOS/Applications/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m8.809 14.92 6.11-11.037c.084-.152.168-.302.244-.459.069-.142.127-.285.165-.44.08-.326.058-.666-.066-.977a1.5 1.5 0 0 0-.62-.735 1.42 1.42 0 0 0-.922-.193c-.32.043-.613.194-.844.43-.11.11-.2.235-.283.368-.092.146-.175.298-.259.45l-.386.697-.387-.698c-.084-.151-.167-.303-.259-.449a2.2 2.2 0 0 0-.283-.369 1.45 1.45 0 0 0-.844-.429 1.42 1.42 0 0 0-.921.193 1.5 1.5 0 0 0-.62.735c-.125.311-.147.651-.066.977.038.155.096.298.164.44.076.157.16.307.244.459l1.248 2.254-4.862 8.782H2.03c-.168 0-.336 0-.503.01-.152.009-.3.028-.448.071-.31.09-.582.28-.778.548-.195.267-.301.593-.301.928s.106.661.3.928c.197.268.468.457.779.548.148.043.296.062.448.071.167.01.335.01.503.01h13.097c.017-.037.059-.13.1-.27.415-1.416-.616-2.844-2.035-2.844zm-5.696 3.622-.792 1.5c-.082.156-.165.31-.239.471a2.4 2.4 0 0 0-.16.452c-.08.335-.058.684.064 1.003.121.318.334.583.607.755s.589.242.901.197c.314-.044.6-.198.826-.44.108-.115.196-.242.278-.378.09-.15.171-.306.253-.462L6 19.464c-.09-.15-.947-1.47-2.887-.922m20.586-3.006a1.47 1.47 0 0 0-.779-.54 2 2 0 0 0-.448-.071c-.168-.01-.335-.01-.503-.01h-3.321L14.258 7.1a4.06 4.06 0 0 0-1.076 2.198 4.64 4.64 0 0 0 .546 3l5.274 9.393c.084.15.167.3.259.444.084.13.174.253.283.364.231.232.524.38.845.423s.643-.024.922-.19a1.5 1.5 0 0 0 .621-.726c.125-.307.146-.642.066-.964a2.2 2.2 0 0 0-.165-.434c-.075-.155-.16-.303-.244-.453l-1.216-2.166h1.596c.168 0 .335 0 .503-.009.152-.009.3-.028.448-.07a1.47 1.47 0 0 0 .78-.541 1.54 1.54 0 0 0 .3-.916 1.54 1.54 0 0 0-.3-.916"/></svg> <span class=md-ellipsis> Applications </span> </a> <label class="md-nav__link " for=__nav_6_1 id=__nav_6_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_1_label aria-expanded=false> <label class=md-nav__title for=__nav_6_1> <span class="md-nav__icon md-icon"></span> Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../hdiutil-creating-a-dvd-iso-from-a-video-ts-folder/ class=md-nav__link> <span class=md-ellipsis> Hdiutil: Creating a DVD ISO from a VIDEO TS folder </span> </a> </li> <li class=md-nav__item> <a href=../mount-disk-images-from-command-line/ class=md-nav__link> <span class=md-ellipsis> Mount Disk Images from Command Line </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_2> <div class="md-nav__link md-nav__container"> <a href=../MacOS/Coding/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.75.75 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.75.75 0 0 1 .734.215m-6.56 0a.75.75 0 0 1 1.042.018.75.75 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.75.75 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"/></svg> <span class=md-ellipsis> Coding </span> </a> <label class="md-nav__link " for=__nav_6_2 id=__nav_6_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_6_2> <span class="md-nav__icon md-icon"></span> Coding </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../compiling-with-gcc-on-multiple-architectures-eg-ppc-and-intel/ class=md-nav__link> <span class=md-ellipsis> Compiling with GCC on Multiple Architectures (e.g., PPC and Intel) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_3> <div class="md-nav__link md-nav__container"> <a href=../MacOS/Hardware/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M23.87 11.525c.071.013.13.084.13.157v3.033a.166.166 0 0 1-.13.157l-2.875.535a.24.24 0 0 0-.17.151l-.898 2.242a.25.25 0 0 0 .017.229l1.633 2.379a.17.17 0 0 1-.02.204l-2.144 2.144a.17.17 0 0 1-.203.019l-2.338-1.604a.23.23 0 0 0-.224-.008l-1.03.55a.12.12 0 0 1-.17-.062l-2.125-5.135a.16.16 0 0 1 .062-.192l.258-.158c.048-.03.113-.08.163-.125a3.354 3.354 0 1 0-3.612 0c.05.046.115.096.163.125l.258.158a.16.16 0 0 1 .062.192L8.552 21.65a.12.12 0 0 1-.17.063l-1.03-.55a.23.23 0 0 0-.224.007L4.79 22.775a.17.17 0 0 1-.204-.019l-2.145-2.144a.17.17 0 0 1-.019-.204l1.633-2.38a.25.25 0 0 0 .017-.228l-.897-2.242a.24.24 0 0 0-.17-.15L.13 14.871a.166.166 0 0 1-.13-.157v-3.032c0-.073.059-.144.13-.157l2.947-.548a.25.25 0 0 0 .175-.15l.903-2.108a.25.25 0 0 0-.014-.227L2.424 5.989a.17.17 0 0 1 .019-.203L4.587 3.64a.166.166 0 0 1 .204-.019L7.337 5.37c.06.041.163.048.229.016l2.043-.836c.07-.023.137-.1.15-.173l.567-3.047a.17.17 0 0 1 .157-.131h3.034c.073 0 .143.059.157.13l.567 3.048a.25.25 0 0 0 .15.173l2.043.836a.25.25 0 0 0 .23-.016l2.546-1.748a.166.166 0 0 1 .203.02l2.144 2.144c.052.051.06.143.02.203l-1.718 2.503a.25.25 0 0 0-.014.227l.903 2.108a.26.26 0 0 0 .175.15z"/></svg> <span class=md-ellipsis> Hardware </span> </a> <label class="md-nav__link " for=__nav_6_3 id=__nav_6_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_6_3> <span class="md-nav__icon md-icon"></span> Hardware </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../calibrating-your-laptop-battery/ class=md-nav__link> <span class=md-ellipsis> Calibrating Your Laptop Battery </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6_4> <div class="md-nav__link md-nav__container"> <a href=../MacOS/Misc/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.83 13.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17z"/></svg> <span class=md-ellipsis> Misc </span> </a> <label class="md-nav__link " for=__nav_6_4 id=__nav_6_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_6_4_label aria-expanded=false> <label class=md-nav__title for=__nav_6_4> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../clearing-dns-cache-on-mac-os-x/ class=md-nav__link> <span class=md-ellipsis> Clearing DNS Cache on Mac OS X </span> </a> </li> <li class=md-nav__item> <a href=../hide-an-open-application-from-the-dock-and-switcher/ class=md-nav__link> <span class=md-ellipsis> Hide an Open Application from the Dock and Switcher </span> </a> </li> <li class=md-nav__item> <a href=../installing-osx-from-an-external-drive/ class=md-nav__link> <span class=md-ellipsis> Installing OSX from an External Drive </span> </a> </li> <li class=md-nav__item> <a href=../macfuse-ntfs-3g-reading-and-writing-ntfs-partitions-on-mac-os-x/ class=md-nav__link> <span class=md-ellipsis> MacFuse + NTFS-3G: Reading and Writing NTFS Partitions on Mac OS X </span> </a> </li> <li class=md-nav__item> <a href=../switching-to-case-sensitive-file-system-on-mac-os-x/ class=md-nav__link> <span class=md-ellipsis> Switching to Case-Sensitive File System on Mac OS X </span> </a> </li> <li class=md-nav__item> <a href=../viewing-hidden-files-and-folders-in-mac-os-x/ class=md-nav__link> <span class=md-ellipsis> Viewing Hidden Files and Folders in Mac OS X </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <div class="md-nav__link md-nav__container"> <a href=../Misc/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.83 13.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17z"/></svg> <span class=md-ellipsis> Misc </span> </a> <label class="md-nav__link " for=__nav_7 id=__nav_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_1> <div class="md-nav__link md-nav__container"> <a href=../Misc/3D%20Print/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6a1 1 0 0 0 1-1 1 1 0 0 0-1-1 1 1 0 0 0-1 1 1 1 0 0 0 1 1m0-4a3 3 0 0 1 3 3v6h-4V7H6v4H2V5a3 3 0 0 1 3-3zm-1 16.25c0 .38-.21.71-.53.88l-4.9 2.69q-.255.18-.57.18c-.21 0-.41-.06-.57-.18l-4.9-2.69a.99.99 0 0 1-.53-.88V13c0-.38.21-.71.53-.88l4.9-2.44c.16-.12.36-.18.57-.18q.315 0 .57.18l4.9 2.44c.32.17.53.5.53.88zm-6-6.6L9.04 13 12 14.6l2.96-1.6zm-4 6.01 3 1.63v-2.96l-3-1.62zm8 0v-2.95l-3 1.62v2.96z"/></svg> <span class=md-ellipsis> 3D Print </span> </a> <label class="md-nav__link " for=__nav_7_1 id=__nav_7_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> 3D Print </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../octoprint-add-prusa-connect/ class=md-nav__link> <span class=md-ellipsis> OctoPrint: add Prusa Connect </span> </a> </li> <li class=md-nav__item> <a href=../prusa-maintenance/ class=md-nav__link> <span class=md-ellipsis> Prusa maintenance </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_2> <div class="md-nav__link md-nav__container"> <a href=../Misc/CAD/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12.51 13.214c.046-.8.438-1.506 1.03-2.006a3.42 3.42 0 0 1 2.212-.79c.85 0 1.631.3 2.211.79.592.5.983 1.206 1.028 2.005.045.823-.285 1.586-.865 2.153a3.4 3.4 0 0 1-2.374.938 3.4 3.4 0 0 1-2.376-.938c-.58-.567-.91-1.33-.865-2.152M7.35 14.831c.006.314.106.922.256 1.398a7.4 7.4 0 0 0 1.593 2.757 8.2 8.2 0 0 0 2.787 2.001 8.95 8.95 0 0 0 3.66.76 9 9 0 0 0 3.657-.772 8.3 8.3 0 0 0 2.785-2.01 7.4 7.4 0 0 0 1.592-2.762 7 7 0 0 0 .25-3.074 7.1 7.1 0 0 0-1.016-2.779 7.8 7.8 0 0 0-1.852-2.043h.002L13.566 2.55l-.02-.015c-.492-.378-1.319-.376-1.86.002-.547.382-.609 1.015-.123 1.415l-.001.001 3.126 2.543-9.53.01h-.013c-.788.001-1.545.518-1.695 1.172-.154.665.38 1.217 1.2 1.22V8.9l4.83-.01-8.62 6.617-.034.025c-.813.622-1.075 1.658-.563 2.313.52.667 1.625.668 2.447.004L7.414 14s-.069.52-.063.831zm12.09 1.741c-.97.988-2.326 1.548-3.795 1.55-1.47.004-2.827-.552-3.797-1.538a4.5 4.5 0 0 1-1.036-1.622 4.28 4.28 0 0 1 .282-3.519 4.7 4.7 0 0 1 1.153-1.371c.942-.768 2.141-1.183 3.396-1.185 1.256-.002 2.455.41 3.398 1.175.48.391.87.854 1.152 1.367a4.3 4.3 0 0 1 .522 1.706 4.2 4.2 0 0 1-.239 1.811 4.5 4.5 0 0 1-1.035 1.626"/></svg> <span class=md-ellipsis> CAD </span> </a> <label class="md-nav__link " for=__nav_7_2 id=__nav_7_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_7_2> <span class="md-nav__icon md-icon"></span> CAD </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../blender-useful-keyboard-shortcuts/ class=md-nav__link> <span class=md-ellipsis> Blender: useful keyboard shortcuts </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_3> <div class="md-nav__link md-nav__container"> <a href=../Misc/Fonera/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m12 21 3.6-4.8c-1-.75-2.25-1.2-3.6-1.2s-2.6.45-3.6 1.2zm0-18C7.95 3 4.21 4.34 1.2 6.6L3 9c2.5-1.88 5.62-3 9-3s6.5 1.12 9 3l1.8-2.4C19.79 4.34 16.05 3 12 3m0 6c-2.7 0-5.19.89-7.2 2.4l1.8 2.4C8.1 12.67 9.97 12 12 12s3.9.67 5.4 1.8l1.8-2.4C17.19 9.89 14.7 9 12 9"/></svg> <span class=md-ellipsis> Fonera </span> </a> <label class="md-nav__link " for=__nav_7_3 id=__nav_7_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_3_label aria-expanded=false> <label class=md-nav__title for=__nav_7_3> <span class="md-nav__icon md-icon"></span> Fonera </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../enabling-ssh-on-the-fonera/ class=md-nav__link> <span class=md-ellipsis> Enabling SSH on the Fonera+ </span> </a> </li> <li class=md-nav__item> <a href=../modify-the-firmware-with-francofon/ class=md-nav__link> <span class=md-ellipsis> Modify the firmware with FrancoFON </span> </a> </li> <li class=md-nav__item> <a href=../modifying-the-firmware-with-openwrt/ class=md-nav__link> <span class=md-ellipsis> Modifying the firmware with OpenWrt </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_4> <div class="md-nav__link md-nav__container"> <a href=../Misc/Google/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053z"/></svg> <span class=md-ellipsis> Google </span> </a> <label class="md-nav__link " for=__nav_7_4 id=__nav_7_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_7_4> <span class="md-nav__icon md-icon"></span> Google </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../gmail-having-multiple-email-addresses-with-a-single-gmail-account/ class=md-nav__link> <span class=md-ellipsis> Gmail: Having Multiple Email Addresses with a Single Gmail Account </span> </a> </li> <li class=md-nav__item> <a href=../google-search-tips/ class=md-nav__link> <span class=md-ellipsis> Google Search Tips </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_5> <div class="md-nav__link md-nav__container"> <a href=../Misc/Home%20Assistant/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M22.939 10.627 13.061.749a1.505 1.505 0 0 0-2.121 0l-9.879 9.878C.478 11.21 0 12.363 0 13.187v9c0 .826.675 1.5 1.5 1.5h9.227l-4.063-4.062a2 2 0 0 1-.664.113c-1.13 0-2.05-.92-2.05-2.05s.92-2.05 2.05-2.05 2.05.92 2.05 2.05c0 .233-.041.456-.113.665l3.163 3.163V9.928a2.05 2.05 0 0 1-1.15-1.84c0-1.13.92-2.05 2.05-2.05s2.05.92 2.05 2.05a2.05 2.05 0 0 1-1.15 1.84v8.127l3.146-3.146A2.05 2.05 0 0 1 18 12.239c1.13 0 2.05.92 2.05 2.05s-.92 2.05-2.05 2.05a2 2 0 0 1-.709-.13L12.9 20.602v3.088h9.6c.825 0 1.5-.675 1.5-1.5v-9c0-.825-.477-1.977-1.061-2.561z"/></svg> <span class=md-ellipsis> Home Assistant </span> </a> <label class="md-nav__link " for=__nav_7_5 id=__nav_7_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_5_label aria-expanded=false> <label class=md-nav__title for=__nav_7_5> <span class="md-nav__icon md-icon"></span> Home Assistant </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../sonoff-remote-control-reset/ class=md-nav__link> <span class=md-ellipsis> Sonoff: Remote-control reset </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_6> <div class="md-nav__link md-nav__container"> <a href=../Misc/LaTeX/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2.176 2.814c.233.42.476.78.73 1.09.247-.013 1.132.456 1.312.523.508.282 1.063.63 1.567.966.505.337.96.662 1.272.9.156.12.278.218.352.286a.5.5 0 0 1 .078.082l.01.021a.06.06 0 0 1-.004.047.06.06 0 0 1-.04.03.1.1 0 0 1-.028 0c-.057 0-.203-.163-.497-.415a23.5 23.5 0 0 0-2.759-1.827c-.504-.28-.956-.542-1.264-.613a2.3 2.3 0 0 0-.36-.025 2.7 2.7 0 0 0-.788.133c.494.414.91.716 1.28.949-.57-.182-1.182-.21-1.902.133.526.329.967.567 1.354.745 1.103.156 2.258.696 3.224 1.309.483.307.904.615 1.219.867.157.125.29.237.39.328.098.091.174.154.197.21.03.073-.019.104-.084.058-.032-.022-.088-.102-.184-.191a7 7 0 0 0-.384-.327 14 14 0 0 0-1.209-.857c-.893-.562-2.232-1.013-3.173-1.397a2.46 2.46 0 0 0-1.906.39c.449.2.837.349 1.182.463.812 0 1.892.365 2.935.922 1.042.556 2.04 1.214 2.523 1.774.066.077-.016.126-.074.07-.52-.495-1.463-1.204-2.498-1.756-.639-.337-2.153-1.01-2.886-1.01l.004.002c-.567.02-1.13.195-1.679.716.477.118.885.196 1.244.249-.44.088-.87.3-1.289.722q.485.103.882.162a2.5 2.5 0 0 0-.923.78c.373.03.703.042 1 .044-.36.166-.696.43-.996.85.533.027.98.025 1.364.003-.422.172-.812.464-1.145.968.662.01 1.188-.022 1.628-.076l-.006.002c.99-.073 2.297.127 2.962.847.052.057-.024.118-.072.074-.648-.58-1.493-.827-2.89-.921h-.002c-.543.149-1.046.446-1.46 1.074.536.008.982-.013 1.366-.05-.469.257-.873.644-1.139 1.306.483-.092.888-.19 1.237-.292-.363.265-.668.636-.873 1.194q.484-.108.871-.221a2.5 2.5 0 0 0-.513 1.095c.352-.13.655-.254.926-.377-.257.3-.453.681-.55 1.19.495-.199.899-.388 1.238-.568-.31.333-.543.76-.635 1.356a12 12 0 0 0 1.442-.744c-.433.362-.764.843-.879 1.587.788-.348 1.339-.663 1.767-.955-.184.372-.282.806-.235 1.348.762-.584 1.243-1.056 1.602-1.473-.024.269-.003.56.077.884.546-.939 1.089-1.212 1.65-1.526-.895.451-.762.79-.762 1.184.683-.72 1.635-1.482 1.927-1.96-.39.585-.547 1.14-.65 1.63-1.993 1.054-3.207 1.329-4.568 1.75.528.194 1.093.383.859.652l-.624.622c.399-.124.805-.3 1.158-.059-.035.327-.447.492-.8.683.621-.224.756-.172.92-.12.081.393-.203.603-.388.862 1.565-1.19 3.606-2.13 5.044-2.522 2.022-.681 4.63-1.389 5.339-3.115l.712-2.847-.004.004c-.111-.034-.246-.063-.35-.133a.65.65 0 0 1-.235-.297c-.252.065-.44.03-.56-.088-.117-.117-.167-.296-.203-.491-.203.041-.362.016-.467-.077-.116-.101-.17-.26-.198-.444l-.008-.039.037-.015a.84.84 0 0 0 .302-.194.26.26 0 0 0 .07-.225l-.006-.037.03-.016c.163-.093.345-.169.428-.28a.27.27 0 0 0 .053-.21.9.9 0 0 0-.155-.357l-.027-.04.04-.027c.118-.09.244-.179.308-.26q.048-.06.047-.11c0-.033-.015-.07-.064-.117l-.098-.094.135.006q.321.015.538-.053a.5.5 0 0 0 .274-.197c-.007-.033-.02-.063-.02-.098a.484.484 0 0 1 .967 0c0 .044-.015.084-.026.125.177.014.347.01.507-.06l.002.001.035-.013c.236-.085.334.045.72-.456-1.69-2.19-4.157-.635-4.977 1.622-.21.576-1.405.578-1.751 0-1.37-2.95-5.53-6.068-9.07-7.218m.86 2.145c.906.293 1.913.782 2.77 1.328.43.273.813.543 1.114.779s.566.473.62.575 0 .14-.082.06c-.081-.078-.303-.32-.6-.553a14 14 0 0 0-1.106-.777c-.775-.49-1.982-.958-2.716-1.412m-1.7 2.7c1.116.014 2.35.447 3.434.997a11.5 11.5 0 0 1 1.395.83c.372.263.672.524.734.657.061.134-.02.13-.087.055a4.4 4.4 0 0 0-.704-.626 11.5 11.5 0 0 0-1.385-.826C3.76 8.264 2.439 7.82 1.336 7.66zm14.916.772a.381.381 0 1 0 0 .762.381.381 0 0 0 0-.762M1.7 8.478c.822.072 1.72.368 2.534.75 1.086.509 2.035 1.158 2.434 1.667.035.045-.014.131-.08.062-.428-.44-1.322-1.131-2.397-1.635-.913-.421-2.282-.87-3.262-.78.251-.03.497-.088.771-.064m16.339.01c-.366.475-.53.423-.703.464.094.43.35.586.585.77l-.06.012c2.315-.447 4.186-.286 6.139-.236zm-.178 1.246h-.002l-.004.016zm-.625-.757a1.2 1.2 0 0 1-.563.059.48.48 0 0 1-.42.26.48.48 0 0 1-.435-.278.6.6 0 0 1-.274.188 1.6 1.6 0 0 1-.493.055c.02.035.054.068.055.104a.27.27 0 0 1-.069.174c-.073.092-.189.17-.295.248q.13.21.149.362a.4.4 0 0 1-.07.284c-.106.14-.288.21-.439.293a.37.37 0 0 1-.09.268.9.9 0 0 1-.297.198c.027.156.074.283.154.354.086.076.211.103.425.047l.055-.014.01.055c.033.207.088.385.187.483.1.099.244.135.503.055l.049-.015.016.048a.52.52 0 0 0 .209.282c.087.06.247.112.358.147.798-.869 1.525-1.772 1.884-2.86-.225-.177-.506-.338-.609-.797m-16.23.386c1.165-.08 2.283.196 3.202.626.92.43 1.658.939 1.974 1.307.075.087-.019.12-.072.072a8.2 8.2 0 0 0-1.947-1.29c-.904-.414-2.193-.644-3.157-.715m.864.802c.61.02 1.24.155 1.806.352.756.262 1.421.614 1.747.98.045.05-.007.127-.074.069-.349-.304-.961-.693-1.706-.951-.574-.195-1.613-.369-2.268-.397.197-.022.292-.06.495-.053m1.05 1.788c.423.034.886.133 1.341.407.043.026.049.136-.049.09-.856-.402-1.326-.49-2.457-.31.386-.128.74-.221 1.164-.187zm-.04.788c.4-.035.784-.002 1.297.204.044.018.08.126-.033.094-.857-.243-1.167-.328-2.287.104a1.84 1.84 0 0 1 1.023-.402m1.285.687c.317-.023.635-.026.934.006.052.006.055.105-.006.102a8 8 0 0 0-1.837.115c-.243.046-.423.043-1.405.458.287-.233.794-.452 1.385-.56a9 9 0 0 1 .93-.12zm1.28.49c.099.003.062.104.006.103-.728-.01-1.304.132-1.875.295a10 10 0 0 0-1.318.525c.283-.23.713-.457 1.291-.622.579-.166 1.248-.326 1.896-.302zm.528.398c.036-.005.105.084.018.1-.73.137-1.244.267-1.794.454-.216.074-.58.207-1.243.587.26-.269.656-.492 1.213-.68a10.6 10.6 0 0 1 1.806-.46zm.311.507c.075-.012.097.087.02.102-1.217.241-1.76.556-2.54 1.144.504-.523 1.297-1.051 2.52-1.246m.595.448c.087-.013.11.087.021.1-.872.13-1.477.553-2.255 1.33.295-.493 1.004-1.24 2.234-1.43m.372.39c.046-.006.114.073.023.1a2.6 2.6 0 0 0-.669.3c-.182.118-.3.2-.597.507.111-.245.296-.434.542-.59.247-.157.509-.293.7-.317z"/></svg> <span class=md-ellipsis> LaTeX </span> </a> <label class="md-nav__link " for=__nav_7_6 id=__nav_7_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_6_label aria-expanded=false> <label class=md-nav__title for=__nav_7_6> <span class="md-nav__icon md-icon"></span> LaTeX </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../beamer-create-beautiful-latex-presentations/ class=md-nav__link> <span class=md-ellipsis> Beamer: Create Beautiful LaTeX Presentations </span> </a> </li> <li class=md-nav__item> <a href=../latex-template-for-creating-cheat-sheets/ class=md-nav__link> <span class=md-ellipsis> LaTeX Template for Creating Cheat Sheets </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_7> <div class="md-nav__link md-nav__container"> <a href=../Misc/Misc/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.83 13.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17z"/></svg> <span class=md-ellipsis> Misc </span> </a> <label class="md-nav__link " for=__nav_7_7 id=__nav_7_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7_7> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../bios-beep-codes-and-their-meanings/ class=md-nav__link> <span class=md-ellipsis> BIOS Beep Codes and Their Meanings </span> </a> </li> <li class=md-nav__item> <a href=../create-a-clean-gitgithub-pages-branch/ class=md-nav__link> <span class=md-ellipsis> Create a clean Git/GitHub pages branch </span> </a> </li> <li class=md-nav__item> <a href=../Misc/Misc/hyperhdr-rpi-swapped-colors.html class=md-nav__link> <span class=md-ellipsis> Hyperhdr rpi swapped colors </span> </a> </li> <li class=md-nav__item> <a href=../openelec-multimedia-solution-for-raspberry-pi/ class=md-nav__link> <span class=md-ellipsis> OpenElec: Multimedia Solution for Raspberry Pi </span> </a> </li> <li class=md-nav__item> <a href=../reboot-your-freebox-server-6-via-command-line/ class=md-nav__link> <span class=md-ellipsis> Reboot Your Freebox Server 6 via Command Line </span> </a> </li> <li class=md-nav__item> <a href=../repairing-a-gopro-hero-video/ class=md-nav__link> <span class=md-ellipsis> Repairing a GoPro Hero Video </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_8> <div class="md-nav__link md-nav__container"> <a href=../Misc/Soekris/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m20.2 5.9.8-.8C19.6 3.7 17.8 3 16 3s-3.6.7-5 2.1l.8.8C13 4.8 14.5 4.2 16 4.2s3 .6 4.2 1.7m-.9.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3 1.4l.8.8c.7-.7 1.6-1 2.5-1s1.8.3 2.5 1zM19 13h-2V9h-2v4H5a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2M8 18H6v-2h2zm3.5 0h-2v-2h2zm3.5 0h-2v-2h2z"/></svg> <span class=md-ellipsis> Soekris </span> </a> <label class="md-nav__link " for=__nav_7_8 id=__nav_7_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_8_label aria-expanded=false> <label class=md-nav__title for=__nav_7_8> <span class="md-nav__icon md-icon"></span> Soekris </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installing-pfsense-on-soekris/ class=md-nav__link> <span class=md-ellipsis> Installing pfSense on Soekris </span> </a> </li> <li class=md-nav__item> <a href=../openbsd-configuration-and-installation-via-serial-port-on-soekris/ class=md-nav__link> <span class=md-ellipsis> OpenBSD Configuration and Installation via Serial Port on Soekris </span> </a> </li> <li class=md-nav__item> <a href=../upgrading-the-soekris-bios/ class=md-nav__link> <span class=md-ellipsis> Upgrading the Soekris BIOS </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <div class="md-nav__link md-nav__container"> <a href=../Network/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M15 9h-2V7h2zm7 11v2h-7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1H2v-2h7a1 1 0 0 1 1-1h1v-2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v2h1a1 1 0 0 1 1 1zM9 5H7v10h2zm2 10h2v-4h2a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-4z"/></svg> <span class=md-ellipsis> Network </span> </a> <label class="md-nav__link " for=__nav_8 id=__nav_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_1> <div class="md-nav__link md-nav__container"> <a href=../Network/Cisco/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.331 18.171V17.06l-.022.01c-.25.121-.522.19-.801.203a1.2 1.2 0 0 1-.806-.237 1.04 1.04 0 0 1-.352-.498 1.2 1.2 0 0 1-.023-.667c.052-.225.178-.426.357-.569.16-.134.355-.218.562-.242a1.85 1.85 0 0 1 1.061.198l.024.013v-1.117l-.051-.014a2.9 2.9 0 0 0-1.011-.132 2.3 2.3 0 0 0-.903.206c-.287.132-.54.327-.739.571a2.22 2.22 0 0 0-.04 2.705c.295.378.709.645 1.175.756.491.12 1.006.102 1.487-.052zm-10.995 0V17.06l-.022.01c-.25.121-.522.19-.801.203a1.18 1.18 0 0 1-.806-.237 1.03 1.03 0 0 1-.351-.498 1.2 1.2 0 0 1-.024-.667c.052-.225.177-.426.357-.569.16-.134.355-.218.562-.242a1.85 1.85 0 0 1 1.061.198l.024.013v-1.117l-.051-.014a2.9 2.9 0 0 0-1.011-.132 2.3 2.3 0 0 0-.903.206 2.1 2.1 0 0 0-.74.571 2.224 2.224 0 0 0-.041 2.705 2.1 2.1 0 0 0 1.176.756c.491.12 1.005.102 1.487-.052zm3.924-.922-.004.957.07.012q.33.061.664.085.293.028.587.012.282-.021.551-.104c.21-.06.405-.163.571-.305a1.16 1.16 0 0 0 .333-.478 1.3 1.3 0 0 0-.007-.96 1.1 1.1 0 0 0-.298-.414 1.3 1.3 0 0 0-.438-.255l-.722-.268a.4.4 0 0 1-.197-.188.25.25 0 0 1 .008-.219.4.4 0 0 1 .154-.142.8.8 0 0 1 .257-.074q.23-.034.46.005.27.03.533.096l.038.008v-.883l-.069-.015a5 5 0 0 0-.543-.097 2.8 2.8 0 0 0-.714-.003c-.3.027-.585.143-.821.33-.16.126-.281.293-.351.484-.104.29-.105.608 0 .899q.082.219.252.381.146.14.327.236.236.126.497.195.086.026.17.054l.085.031.024.01c.084.03.162.078.226.14q.068.064.101.151a.3.3 0 0 1 .001.161.34.34 0 0 1-.166.198.9.9 0 0 1-.275.086 2 2 0 0 1-.427.021 5 5 0 0 1-.557-.074 9 9 0 0 1-.287-.067zm-2.475.995h1.05v-4.167h-1.05zm12.162-2.936a1.095 1.095 0 0 1 1.541.158 1.094 1.094 0 0 1-.157 1.541l-.017.014a1.096 1.096 0 0 1-1.367-1.713m-1.525.854a2.193 2.193 0 0 0 2.666 2.107 2.139 2.139 0 0 0 .701-3.937 2.207 2.207 0 0 0-3.367 1.83m5.539-5.434a.52.52 0 0 0 1.039 0V9.573a.52.52 0 0 0-1.039 0zm-2.844 0a.522.522 0 0 0 1.041 0V8.139a.521.521 0 0 0-1.04 0v2.589m-2.887 1.043a.521.521 0 0 0 1.039 0V6.17a.52.52 0 0 0-1.039 0zm-2.838-1.043a.521.521 0 0 0 1.04 0V8.139a.52.52 0 0 0-1.039 0zm-2.9 0a.522.522 0 0 0 1.039 0V9.573a.52.52 0 0 0-1.039 0zm-2.87 0a.52.52 0 0 0 1.039 0V8.139a.52.52 0 0 0-1.039 0zm-2.887 1.043a.52.52 0 0 0 1.039 0V6.17a.52.52 0 0 0-1.039 0zm-2.861-1.043a.522.522 0 0 0 1.04 0V8.139a.52.52 0 0 0-1.039 0zm-2.877 0a.521.521 0 0 0 1.039 0V9.573a.52.52 0 0 0-1.039 0z"/></svg> <span class=md-ellipsis> Cisco </span> </a> <label class="md-nav__link " for=__nav_8_1 id=__nav_8_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_1_label aria-expanded=false> <label class=md-nav__title for=__nav_8_1> <span class="md-nav__icon md-icon"></span> Cisco </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../analyzing-network-equipment-and-network-configurations/ class=md-nav__link> <span class=md-ellipsis> Analyzing Network Equipment and Network Configurations </span> </a> </li> <li class=md-nav__item> <a href=../basic-configuration-of-a-cisco-pix/ class=md-nav__link> <span class=md-ellipsis> Basic Configuration of a Cisco PIX </span> </a> </li> <li class=md-nav__item> <a href=../capturing-connections-on-an-interface/ class=md-nav__link> <span class=md-ellipsis> Capturing connections on an interface </span> </a> </li> <li class=md-nav__item> <a href=../completely-reset-a-cisco-configuration/ class=md-nav__link> <span class=md-ellipsis> Completely Reset a Cisco Configuration </span> </a> </li> <li class=md-nav__item> <a href=../Network/Cisco/configuring_a_catalyst_switch.html class=md-nav__link> <span class=md-ellipsis> Configuring a catalyst switch </span> </a> </li> <li class=md-nav__item> <a href=../installation-from-scratch-of-a-cisco-pix/ class=md-nav__link> <span class=md-ellipsis> Installation from Scratch of a Cisco Pix </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8_2> <div class="md-nav__link md-nav__container"> <a href=../Network/Theory/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M0 1.75A.75.75 0 0 1 .75 1h4.253c1.227 0 2.317.59 3 1.501A3.74 3.74 0 0 1 11.006 1h4.245a.75.75 0 0 1 .75.75v10.5a.75.75 0 0 1-.75.75h-4.507a2.25 2.25 0 0 0-1.591.659l-.622.621a.75.75 0 0 1-1.06 0l-.622-.621A2.25 2.25 0 0 0 5.258 13H.75a.75.75 0 0 1-.75-.75Zm7.251 10.324.004-5.073-.002-2.253A2.25 2.25 0 0 0 5.003 2.5H1.5v9h3.757a3.75 3.75 0 0 1 1.994.574M8.755 4.75l-.004 7.322a3.75 3.75 0 0 1 1.992-.572H14.5v-9h-3.495a2.25 2.25 0 0 0-2.25 2.25"/></svg> <span class=md-ellipsis> Theory </span> </a> <label class="md-nav__link " for=__nav_8_2 id=__nav_8_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_8_2_label aria-expanded=false> <label class=md-nav__title for=__nav_8_2> <span class="md-nav__icon md-icon"></span> Theory </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../bgp-protocol-and-its-security/ class=md-nav__link> <span class=md-ellipsis> BGP Protocol and its Security </span> </a> </li> <li class=md-nav__item> <a href=../network-flows/ class=md-nav__link> <span class=md-ellipsis> Network Flows </span> </a> </li> <li class=md-nav__item> <a href=../tcp-flags/ class=md-nav__link> <span class=md-ellipsis> TCP Flags </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9 checked> <div class="md-nav__link md-nav__container"> <a href=../Servers/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1m0 8h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1M9 5h1V3H9zm0 8h1v-2H9zm0 8h1v-2H9zM5 3v2h2V3zm0 8v2h2v-2zm0 8v2h2v-2z"/></svg> <span class=md-ellipsis> Servers </span> </a> <label class="md-nav__link " for=__nav_9 id=__nav_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=true> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Servers </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_1> <div class="md-nav__link md-nav__container"> <a href=../Servers/Authentication/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12 3c-1.97 0-3.85.47-5.56 1.41-.24.13-.54.04-.68-.2a.506.506 0 0 1 .2-.68C7.82 2.5 9.86 2 12 2s4 .47 6.04 1.5c.25.15.34.45.21.69a.48.48 0 0 1-.44.28M3.5 9.72c-.1 0-.2-.03-.29-.09a.517.517 0 0 1-.12-.7c.99-1.4 2.25-2.5 3.75-3.27C10 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.85 3.75 3.25.16.22.1.54-.12.7-.23.16-.54.11-.7-.1a9.26 9.26 0 0 0-3.39-2.96c-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.95-.08.15-.23.22-.39.22m6.25 12.07c-.13 0-.25-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39a.5.5 0 0 1-.5.5.5.5 0 0 1-.5-.5c0-2.42-2.09-4.39-4.66-4.39s-4.66 1.97-4.66 4.39c0 1.44.32 2.77.93 3.84.64 1.16 1.08 1.65 1.85 2.43.19.2.19.51 0 .71-.12.1-.24.15-.37.15m7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39a.5.5 0 0 1 .5-.5.5.5 0 0 1 .5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.54.13.58.41.05.26-.13.53-.41.58-.57.11-1.07.12-1.21.12M14.91 22h-.13c-1.59-.46-2.63-1.05-3.72-2.12a7.28 7.28 0 0 1-2.17-5.22c0-1.62 1.38-2.94 3.08-2.94s3.08 1.32 3.08 2.94c0 1.07.95 1.94 2.08 1.94 1.15 0 2.08-.87 2.08-1.94 0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.46 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64a.504.504 0 0 1-.64-.29c-.5-1.31-.73-2.62-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.54 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.84.27.08.42.36.35.62-.05.23-.26.38-.47.38"/></svg> <span class=md-ellipsis> Authentication </span> </a> <label class="md-nav__link " for=__nav_9_1 id=__nav_9_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_1_label aria-expanded=false> <label class=md-nav__title for=__nav_9_1> <span class="md-nav__icon md-icon"></span> Authentication </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_1_1> <div class="md-nav__link md-nav__container"> <a href=../Servers/Authentication/FreeRadius/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5.8 10C5.4 8.8 4.3 8 3 8c-1.7 0-3 1.3-3 3s1.3 3 3 3c1.3 0 2.4-.8 2.8-2H7v2h2v-2h2v-2zM3 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1m13-8c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4m0 6.1c-1.2 0-2.1-.9-2.1-2.1s.9-2.1 2.1-2.1 2.1.9 2.1 2.1-.9 2.1-2.1 2.1m0 2.9c-2.7 0-8 1.3-8 4v3h16v-3c0-2.7-5.3-4-8-4m6.1 5.1H9.9V17c0-.6 3.1-2.1 6.1-2.1s6.1 1.5 6.1 2.1z"/></svg> <span class=md-ellipsis> FreeRadius </span> </a> <label class="md-nav__link " for=__nav_9_1_1 id=__nav_9_1_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_1_1_label aria-expanded=false> <label class=md-nav__title for=__nav_9_1_1> <span class="md-nav__icon md-icon"></span> FreeRadius </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../daloradius-setting-up-a-freeradius-server-with-daloradius-web-interface/ class=md-nav__link> <span class=md-ellipsis> DaloRADIUS: Setting up a FreeRadius server with DaloRADIUS web interface </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-a-freeradius-server/ class=md-nav__link> <span class=md-ellipsis> Setting up a FreeRadius server </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_1_2> <div class="md-nav__link md-nav__container"> <a href=../Servers/Authentication/Kerberos/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m5.6-4c-.8-2.3-3-4-5.6-4-3.3 0-6 2.7-6 6s2.7 6 6 6c2.6 0 4.8-1.7 5.6-4H16v4h4v-4h3v-4z"/></svg> <span class=md-ellipsis> Kerberos </span> </a> <label class="md-nav__link " for=__nav_9_1_2 id=__nav_9_1_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_9_1_2> <span class="md-nav__icon md-icon"></span> Kerberos </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../apache-sso-authentication-on-ad-backend-via-kerberos/ class=md-nav__link> <span class=md-ellipsis> Apache SSO Authentication on AD Backend via Kerberos </span> </a> </li> <li class=md-nav__item> <a href=../authenticating-solaris-accounts-on-active-directory/ class=md-nav__link> <span class=md-ellipsis> Authenticating Solaris Accounts on Active Directory </span> </a> </li> <li class=md-nav__item> <a href=../kerberos-setting-up-a-kerberos-server/ class=md-nav__link> <span class=md-ellipsis> Kerberos: Setting up a Kerberos Server </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_1_3> <div class="md-nav__link md-nav__container"> <a href=../Servers/Authentication/OpenLDAP/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M144 0a80 80 0 1 1 0 160 80 80 0 1 1 0-160m368 0a80 80 0 1 1 0 160 80 80 0 1 1 0-160M0 298.7C0 239.8 47.8 192 106.7 192h42.7c15.9 0 31 3.5 44.6 9.7-1.3 7.2-1.9 14.7-1.9 22.3 0 38.2 16.8 72.5 43.3 96H21.3C9.6 320 0 310.4 0 298.7M405.3 320h-.7c26.6-23.5 43.3-57.8 43.3-96 0-7.6-.7-15-1.9-22.3 13.6-6.3 28.7-9.7 44.6-9.7h42.7c58.9 0 106.7 47.8 106.7 106.7 0 11.8-9.6 21.3-21.3 21.3H405.4zM224 224a96 96 0 1 1 192 0 96 96 0 1 1-192 0m-96 261.3c0-73.6 59.7-133.3 133.3-133.3h117.3c73.7 0 133.4 59.7 133.4 133.3 0 14.7-11.9 26.7-26.7 26.7H154.6c-14.7 0-26.7-11.9-26.7-26.7z"/></svg> <span class=md-ellipsis> OpenLDAP </span> </a> <label class="md-nav__link " for=__nav_9_1_3 id=__nav_9_1_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_1_3_label aria-expanded=false> <label class=md-nav__title for=__nav_9_1_3> <span class="md-nav__icon md-icon"></span> OpenLDAP </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ldap-installation-and-configuration-of-a-secondary-ldap-directory/ class=md-nav__link> <span class=md-ellipsis> LDAP: Installation and Configuration of a Secondary LDAP Directory </span> </a> </li> <li class=md-nav__item> <a href=../ldap-installation-and-configuration-of-an-ldap-directory/ class=md-nav__link> <span class=md-ellipsis> LDAP: Installation and Configuration of an LDAP Directory </span> </a> </li> <li class=md-nav__item> <a href=../phpldapadmin-setting-up-a-graphical-management-solution-for-openldap/ class=md-nav__link> <span class=md-ellipsis> PhpLDAPadmin: Setting Up a Graphical Management Solution for OpenLDAP </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-a-synchronization-solution-between-activedirectory-and-openldap/ class=md-nav__link> <span class=md-ellipsis> Setting up a Synchronization Solution between ActiveDirectory and OpenLDAP </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_1_4> <div class="md-nav__link md-nav__container"> <a href=../Servers/Authentication/PAM/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M96 128a128 128 0 1 1 256 0 128 128 0 1 1-256 0M0 482.3C0 383.8 79.8 304 178.3 304h91.4c98.5 0 178.3 79.8 178.3 178.3 0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3M625 177 497 305c-9.4 9.4-24.6 9.4-33.9 0l-64-64c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l47 47L591 143c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9z"/></svg> <span class=md-ellipsis> PAM </span> </a> <label class="md-nav__link " for=__nav_9_1_4 id=__nav_9_1_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_9_1_4> <span class="md-nav__icon md-icon"></span> PAM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../pam-cracklib-configure-password-complexity/ class=md-nav__link> <span class=md-ellipsis> PAM Cracklib: Configure Password Complexity </span> </a> </li> <li class=md-nav__item> <a href=../pam-install-pam_mkhomedir-for-automatic-user-home-directory-creation/ class=md-nav__link> <span class=md-ellipsis> PAM: Install pam_mkhomedir for Automatic User Home Directory Creation </span> </a> </li> <li class=md-nav__item> <a href=../pam-mount-and-sshfs-with-password-authentication/ class=md-nav__link> <span class=md-ellipsis> PAM Mount and SshFS with Password Authentication </span> </a> </li> <li class=md-nav__item> <a href=../pam-mount-automatically-mount-network-shares-at-login/ class=md-nav__link> <span class=md-ellipsis> PAM mount: Automatically Mount Network Shares at Login </span> </a> </li> <li class=md-nav__item> <a href=../pam-pluggable-authentication-module-choosing-authentication-methods/ class=md-nav__link> <span class=md-ellipsis> PAM (Pluggable Authentication Module): Choosing Authentication Methods </span> </a> </li> <li class=md-nav__item> <a href=../Servers/Authentication/PAM/pam_time_setting_login_restrictions.html class=md-nav__link> <span class=md-ellipsis> Pam time setting login restrictions </span> </a> </li> <li class=md-nav__item> <a href=../pam-script-execute-scripts-at-authentication-session-open-and-close/ class=md-nav__link> <span class=md-ellipsis> PAM-script: Execute Scripts at Authentication, Session Open and Close </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_1_5> <div class="md-nav__link md-nav__container"> <a href=../Servers/Authentication/SSO/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 7v2h4v2H4a2 2 0 0 0-2 2v4h6v-2H4v-2h2a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2zm7 0v10h2v-4h3v-2h-3V9h4V7zm9 0a2 2 0 0 0-2 2v8h2v-3h2v3h2V9a2 2 0 0 0-2-2zm0 2h2v3h-2z"/></svg> <span class=md-ellipsis> SSO </span> </a> <label class="md-nav__link " for=__nav_9_1_5 id=__nav_9_1_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_1_5_label aria-expanded=false> <label class=md-nav__title for=__nav_9_1_5> <span class="md-nav__icon md-icon"></span> SSO </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cas-setting-up-an-sso-server/ class=md-nav__link> <span class=md-ellipsis> CAS: Setting Up an SSO Server </span> </a> </li> <li class=md-nav__item> <a href=../lemonldapng-more-than-just-sso/ class=md-nav__link> <span class=md-ellipsis> LemonLDAP::NG: More than just SSO </span> </a> </li> <li class=md-nav__item> <a href=../openid-authentication-centralization/ class=md-nav__link> <span class=md-ellipsis> OpenID: Authentication Centralization </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_2> <div class="md-nav__link md-nav__container"> <a href=../Servers/Backups/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3a9 9 0 0 0-9 9H0l4 4 4-4H5a7 7 0 0 1 7-7 7 7 0 0 1 7 7 7 7 0 0 1-7 7c-1.5 0-2.91-.5-4.06-1.3L6.5 19.14A9.1 9.1 0 0 0 12 21a9 9 0 0 0 9-9 9 9 0 0 0-9-9m2 9a2 2 0 0 0-2-2 2 2 0 0 0-2 2 2 2 0 0 0 2 2 2 2 0 0 0 2-2"/></svg> <span class=md-ellipsis> Backups </span> </a> <label class="md-nav__link " for=__nav_9_2 id=__nav_9_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_2_label aria-expanded=false> <label class=md-nav__title for=__nav_9_2> <span class="md-nav__icon md-icon"></span> Backups </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../amazon-s3-clean-and-automated-backups-with-amazon-s3/ class=md-nav__link> <span class=md-ellipsis> Amazon S3: Clean and Automated Backups with Amazon S3 </span> </a> </li> <li class=md-nav__item> <a href=../backuppc-a-complete-backup-tool/ class=md-nav__link> <span class=md-ellipsis> BackupPC: A Complete Backup Tool </span> </a> </li> <li class=md-nav__item> <a href=../backups-and-restorations-with-tapes/ class=md-nav__link> <span class=md-ellipsis> Backups and Restorations with tapes </span> </a> </li> <li class=md-nav__item> <a href=../bacula-setting-up-a-high-performance-backup-server/ class=md-nav__link> <span class=md-ellipsis> Bacula: Setting Up a High-Performance Backup Server </span> </a> </li> <li class=md-nav__item> <a href=../rdiff-backup-incremental-remote-backups/ class=md-nav__link> <span class=md-ellipsis> Rdiff-backup: Incremental Remote Backups </span> </a> </li> <li class=md-nav__item> <a href=../rsync-incremental-backup/ class=md-nav__link> <span class=md-ellipsis> Rsync: Incremental Backup </span> </a> </li> <li class=md-nav__item> <a href=../unison-backup-like-rsync-but-bidirectional/ class=md-nav__link> <span class=md-ellipsis> Unison: Backup like rsync but bidirectional </span> </a> </li> <li class=md-nav__item> <a href=../zrm-automated-backups-and-easy-restorations/ class=md-nav__link> <span class=md-ellipsis> ZRM: Automated Backups and Easy Restorations </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_3> <div class="md-nav__link md-nav__container"> <a href=../Servers/Cloud%20Computing/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18.575 9.29h5.418v5.42h-5.418zM0 9.29h5.419v5.42H0zm18.575 7.827a1.207 1.207 0 0 1-1.206 1.206H6.623a1.207 1.207 0 0 1-1.205-1.206v-.858H0v5.252a2.236 2.236 0 0 0 2.229 2.23h19.53A2.237 2.237 0 0 0 24 21.512V16.26h-5.425zM21.763.258H2.233a2.236 2.236 0 0 0-2.23 2.23V7.74h5.419v-.858a1.206 1.206 0 0 1 1.205-1.206h10.746a1.206 1.206 0 0 1 1.205 1.206v.858H24V2.487A2.237 2.237 0 0 0 21.763.258"/></svg> <span class=md-ellipsis> Cloud Computing </span> </a> <label class="md-nav__link " for=__nav_9_3 id=__nav_9_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_3_label aria-expanded=false> <label class=md-nav__title for=__nav_9_3> <span class="md-nav__icon md-icon"></span> Cloud Computing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../devstack-quickly-develop-or-test-openstack/ class=md-nav__link> <span class=md-ellipsis> DevStack: Quickly Develop or Test OpenStack </span> </a> </li> <li class=md-nav__item> <a href=../owncloud-create-your-personal-cloud/ class=md-nav__link> <span class=md-ellipsis> OwnCloud: Create Your Personal Cloud </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_4 checked> <div class="md-nav__link md-nav__container"> <a href=../Servers/Configuration%20Managers/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h6.68a7 7 0 0 1-.68-3 7 7 0 0 1 7-7 7 7 0 0 1 1 .08V8l-6-6zm7 1.5L18.5 9H13zM18 14a.26.26 0 0 0-.26.21l-.19 1.32c-.3.13-.59.29-.85.47l-1.24-.5c-.11 0-.24 0-.31.13l-1 1.73c-.06.11-.04.24.06.32l1.06.82a4.2 4.2 0 0 0 0 1l-1.06.82a.26.26 0 0 0-.06.32l1 1.73c.06.13.19.13.31.13l1.24-.5c.26.18.54.35.85.47l.19 1.32c.02.12.12.21.26.21h2c.11 0 .22-.09.24-.21l.19-1.32c.3-.13.57-.29.84-.47l1.23.5c.13 0 .26 0 .33-.13l1-1.73a.26.26 0 0 0-.06-.32l-1.07-.82c.02-.17.04-.33.04-.5s-.01-.33-.04-.5l1.06-.82a.26.26 0 0 0 .06-.32l-1-1.73c-.06-.13-.19-.13-.32-.13l-1.23.5c-.27-.18-.54-.35-.85-.47l-.19-1.32A.236.236 0 0 0 20 14zm1 3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5c-.84 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5"/></svg> <span class=md-ellipsis> Configuration Managers </span> </a> <label class="md-nav__link " for=__nav_9_4 id=__nav_9_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_4_label aria-expanded=true> <label class=md-nav__title for=__nav_9_4> <span class="md-nav__icon md-icon"></span> Configuration Managers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ansible-a-powerful-agentless-configuration-management-and-orchestrator-solution/ class=md-nav__link> <span class=md-ellipsis> Ansible: A Powerful Agentless Configuration Management and Orchestrator Solution </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_4_2 checked> <div class="md-nav__link md-nav__container"> <a href=../Servers/Configuration%20Managers/Puppet/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M8.984 21.611H6.595v-2.388h2.39zM6.595 2.39h2.39v2.388h-2.39zm13.198 6.028h-5.48l.001-.002-2.941-2.941V0H4.207v7.166h5.48l2.938 2.938.002-.001v3.794l-.003-.003-2.94 2.94H4.207V24h7.166v-5.477l2.94-2.94h5.48z"/></svg> <span class=md-ellipsis> Puppet </span> </a> <label class="md-nav__link " for=__nav_9_4_2 id=__nav_9_4_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_4_2_label aria-expanded=true> <label class=md-nav__title for=__nav_9_4_2> <span class="md-nav__icon md-icon"></span> Puppet </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../mcollective-run-actions-in-parallel-on-remote-machines/ class=md-nav__link> <span class=md-ellipsis> MCollective: Run Actions in Parallel on Remote Machines </span> </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Puppet: Configuration File Management Solution </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Puppet: Configuration File Management Solution </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#puppet-hierarchy class=md-nav__link> <span class=md-ellipsis> Puppet Hierarchy </span> </a> </li> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> <nav class=md-nav aria-label=Installation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#puppet-server class=md-nav__link> <span class=md-ellipsis> Puppet Server </span> </a> </li> <li class=md-nav__item> <a href=#web-server class=md-nav__link> <span class=md-ellipsis> Web Server </span> </a> <nav class=md-nav aria-label="Web Server"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#passenger class=md-nav__link> <span class=md-ellipsis> Passenger </span> </a> </li> <li class=md-nav__item> <a href=#nginx-and-mongrel class=md-nav__link> <span class=md-ellipsis> NGINX and Mongrel </span> </a> <nav class=md-nav aria-label="NGINX and Mongrel"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installation_1 class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#puppet-clients class=md-nav__link> <span class=md-ellipsis> Puppet Clients </span> </a> <nav class=md-nav aria-label="Puppet Clients"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#debian class=md-nav__link> <span class=md-ellipsis> Debian </span> </a> </li> <li class=md-nav__item> <a href=#red-hat class=md-nav__link> <span class=md-ellipsis> Red Hat </span> </a> </li> <li class=md-nav__item> <a href=#solaris class=md-nav__link> <span class=md-ellipsis> Solaris </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration_1 class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#server class=md-nav__link> <span class=md-ellipsis> Server </span> </a> <nav class=md-nav aria-label=Server> <ul class=md-nav__list> <li class=md-nav__item> <a href=#authconf class=md-nav__link> <span class=md-ellipsis> auth.conf </span> </a> </li> <li class=md-nav__item> <a href=#autosignconf class=md-nav__link> <span class=md-ellipsis> autosign.conf </span> </a> </li> <li class=md-nav__item> <a href=#fileserverconf class=md-nav__link> <span class=md-ellipsis> fileserver.conf </span> </a> </li> <li class=md-nav__item> <a href=#manifests class=md-nav__link> <span class=md-ellipsis> manifests </span> </a> <nav class=md-nav aria-label=manifests> <ul class=md-nav__list> <li class=md-nav__item> <a href=#commonpp class=md-nav__link> <span class=md-ellipsis> common.pp </span> </a> </li> <li class=md-nav__item> <a href=#modulespp class=md-nav__link> <span class=md-ellipsis> modules.pp </span> </a> </li> <li class=md-nav__item> <a href=#sitepp class=md-nav__link> <span class=md-ellipsis> site.pp </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#puppetconf class=md-nav__link> <span class=md-ellipsis> puppet.conf </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client class=md-nav__link> <span class=md-ellipsis> Client </span> </a> <nav class=md-nav aria-label=Client> <ul class=md-nav__list> <li class=md-nav__item> <a href=#puppetconf_1 class=md-nav__link> <span class=md-ellipsis> puppet.conf </span> </a> <nav class=md-nav aria-label=puppet.conf> <ul class=md-nav__list> <li class=md-nav__item> <a href=#debian-red-hat class=md-nav__link> <span class=md-ellipsis> Debian / Red Hat </span> </a> </li> <li class=md-nav__item> <a href=#solaris_1 class=md-nav__link> <span class=md-ellipsis> Solaris </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#the-language class=md-nav__link> <span class=md-ellipsis> The Language </span> </a> <nav class=md-nav aria-label="The Language"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> <li class=md-nav__item> <a href=#installing-packages class=md-nav__link> <span class=md-ellipsis> Installing packages </span> </a> </li> <li class=md-nav__item> <a href=#including-excluding-modules class=md-nav__link> <span class=md-ellipsis> Including / Excluding modules </span> </a> </li> <li class=md-nav__item> <a href=#templates class=md-nav__link> <span class=md-ellipsis> Templates </span> </a> <nav class=md-nav aria-label=Templates> <ul class=md-nav__list> <li class=md-nav__item> <a href=#inline-templates class=md-nav__link> <span class=md-ellipsis> Inline-templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#facters class=md-nav__link> <span class=md-ellipsis> Facters </span> </a> </li> <li class=md-nav__item> <a href=#dynamic-information class=md-nav__link> <span class=md-ellipsis> Dynamic Information </span> </a> </li> <li class=md-nav__item> <a href=#parsers class=md-nav__link> <span class=md-ellipsis> Parsers </span> </a> </li> <li class=md-nav__item> <a href=#ruby-in-your-manifests class=md-nav__link> <span class=md-ellipsis> Ruby in your manifests </span> </a> </li> <li class=md-nav__item> <a href=#adding-a-ruby-variable-in-manifests class=md-nav__link> <span class=md-ellipsis> Adding a Ruby variable in manifests </span> </a> </li> <li class=md-nav__item> <a href=#classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> </li> <li class=md-nav__item> <a href=#using-hash-tables class=md-nav__link> <span class=md-ellipsis> Using hash tables </span> </a> </li> <li class=md-nav__item> <a href=#regex class=md-nav__link> <span class=md-ellipsis> Regex </span> </a> </li> <li class=md-nav__item> <a href=#substitution class=md-nav__link> <span class=md-ellipsis> Substitution </span> </a> </li> <li class=md-nav__item> <a href=#notify-and-require class=md-nav__link> <span class=md-ellipsis> Notify and Require </span> </a> </li> <li class=md-nav__item> <a href=#the-operator class=md-nav__link> <span class=md-ellipsis> The +&gt; operator </span> </a> </li> <li class=md-nav__item> <a href=#checking-software-version-number class=md-nav__link> <span class=md-ellipsis> Checking software version number </span> </a> </li> <li class=md-nav__item> <a href=#virtual-resources class=md-nav__link> <span class=md-ellipsis> Virtual resources </span> </a> </li> <li class=md-nav__item> <a href=#advanced-file-deletion class=md-nav__link> <span class=md-ellipsis> Advanced file deletion </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#modules class=md-nav__link> <span class=md-ellipsis> Modules </span> </a> <nav class=md-nav aria-label=Modules> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initializing-a-module class=md-nav__link> <span class=md-ellipsis> Initializing a module </span> </a> </li> <li class=md-nav__item> <a href=#the-initial-module-base class=md-nav__link> <span class=md-ellipsis> The initial module (base) </span> </a> <nav class=md-nav aria-label="The initial module (base)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#varspp class=md-nav__link> <span class=md-ellipsis> vars.pp </span> </a> </li> <li class=md-nav__item> <a href=#functionspp class=md-nav__link> <span class=md-ellipsis> functions.pp </span> </a> </li> <li class=md-nav__item> <a href=#rolespp class=md-nav__link> <span class=md-ellipsis> roles.pp </span> </a> </li> <li class=md-nav__item> <a href=#serverspp class=md-nav__link> <span class=md-ellipsis> servers.pp </span> </a> </li> <li class=md-nav__item> <a href=#parser class=md-nav__link> <span class=md-ellipsis> Parser </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#module-examples class=md-nav__link> <span class=md-ellipsis> Module Examples </span> </a> <nav class=md-nav aria-label="Module Examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#stdlib class=md-nav__link> <span class=md-ellipsis> stdlib </span> </a> </li> <li class=md-nav__item> <a href=#puppet class=md-nav__link> <span class=md-ellipsis> Puppet </span> </a> <nav class=md-nav aria-label=Puppet> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_1 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resolvconf class=md-nav__link> <span class=md-ellipsis> resolvconf </span> </a> <nav class=md-nav aria-label=resolvconf> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_2 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_1 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#templates_1 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#puppet-configuration-file-management-solution class=md-nav__link> <span class=md-ellipsis> Puppet: Configuration File Management Solution </span> </a> <nav class=md-nav aria-label="Puppet: Configuration File Management Solution"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#packages_defaults class=md-nav__link> <span class=md-ellipsis> packages_defaults </span> </a> <nav class=md-nav aria-label=packages_defaults> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_3 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_2 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configurations_defaults class=md-nav__link> <span class=md-ellipsis> configurations_defaults </span> </a> <nav class=md-nav aria-label=configurations_defaults> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_4 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#commonpp_1 class=md-nav__link> <span class=md-ellipsis> common.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_3 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#securitypp class=md-nav__link> <span class=md-ellipsis> security.pp </span> </a> </li> <li class=md-nav__item> <a href=#facter class=md-nav__link> <span class=md-ellipsis> facter </span> </a> <nav class=md-nav aria-label=facter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#passwd_algorithmrb class=md-nav__link> <span class=md-ellipsis> passwd_algorithm.rb </span> </a> </li> <li class=md-nav__item> <a href=#kernel_rightsrb class=md-nav__link> <span class=md-ellipsis> kernel_rights.rb </span> </a> </li> <li class=md-nav__item> <a href=#get_network_infosrb class=md-nav__link> <span class=md-ellipsis> get_network_infos.rb </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#networkpp class=md-nav__link> <span class=md-ellipsis> network.pp </span> </a> </li> <li class=md-nav__item> <a href=#templates_2 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openssh-1 class=md-nav__link> <span class=md-ellipsis> OpenSSH - 1 </span> </a> <nav class=md-nav aria-label="OpenSSH - 1"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_5 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_4 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#commonpp_2 class=md-nav__link> <span class=md-ellipsis> common.pp </span> </a> </li> <li class=md-nav__item> <a href=#facter_1 class=md-nav__link> <span class=md-ellipsis> facter </span> </a> </li> <li class=md-nav__item> <a href=#ssh_keyspp class=md-nav__link> <span class=md-ellipsis> ssh_keys.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_1 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openssh-2 class=md-nav__link> <span class=md-ellipsis> OpenSSH - 2 </span> </a> <nav class=md-nav aria-label="OpenSSH - 2"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_6 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#templates_3 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#selinux class=md-nav__link> <span class=md-ellipsis> SELinux </span> </a> <nav class=md-nav aria-label=SELinux> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_7 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_5 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#grub class=md-nav__link> <span class=md-ellipsis> Grub </span> </a> <nav class=md-nav aria-label=Grub> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_8 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_6 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#kdump class=md-nav__link> <span class=md-ellipsis> Kdump </span> </a> <nav class=md-nav aria-label=Kdump> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_9 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_7 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#tools class=md-nav__link> <span class=md-ellipsis> Tools </span> </a> <nav class=md-nav aria-label=Tools> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_10 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_8 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_2 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#timezone class=md-nav__link> <span class=md-ellipsis> Timezone </span> </a> <nav class=md-nav aria-label=Timezone> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_11 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_9 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#templates_4 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ntp class=md-nav__link> <span class=md-ellipsis> NTP </span> </a> <nav class=md-nav aria-label=NTP> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_12 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_10 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_3 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mysecureshell class=md-nav__link> <span class=md-ellipsis> MySecureShell </span> </a> <nav class=md-nav aria-label=MySecureShell> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_13 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_11 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_4 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openldap-client-server class=md-nav__link> <span class=md-ellipsis> OpenLDAP client &amp; Server </span> </a> <nav class=md-nav aria-label="OpenLDAP client & Server"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_14 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_12 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#facter_2 class=md-nav__link> <span class=md-ellipsis> facter </span> </a> <nav class=md-nav aria-label=facter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#generated_ldap_serversrb class=md-nav__link> <span class=md-ellipsis> generated_ldap_servers.rb </span> </a> </li> <li class=md-nav__item> <a href=#current_ldap_serversrb class=md-nav__link> <span class=md-ellipsis> current_ldap_servers.rb </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#parser_1 class=md-nav__link> <span class=md-ellipsis> Parser </span> </a> <nav class=md-nav aria-label=Parser> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dns2iprb class=md-nav__link> <span class=md-ellipsis> dns2ip.rb </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#redhat_ldapclientpp class=md-nav__link> <span class=md-ellipsis> redhat_ldapclient.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhat_ldapserverpp class=md-nav__link> <span class=md-ellipsis> redhat_ldapserver.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_5 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sudo class=md-nav__link> <span class=md-ellipsis> sudo </span> </a> <nav class=md-nav aria-label=sudo> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_15 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> <nav class=md-nav aria-label=init.pp> <ul class=md-nav__list> <li class=md-nav__item> <a href=#improving-a-module class=md-nav__link> <span class=md-ellipsis> Improving a module </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#files_6 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#snmpd class=md-nav__link> <span class=md-ellipsis> snmpd </span> </a> <nav class=md-nav aria-label=snmpd> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_16 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_13 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_7 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#postfix class=md-nav__link> <span class=md-ellipsis> Postfix </span> </a> <nav class=md-nav aria-label=Postfix> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_17 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_14 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#templates_5 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> <li class=md-nav__item> <a href=#files_8 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#nsswitch class=md-nav__link> <span class=md-ellipsis> Nsswitch </span> </a> <nav class=md-nav aria-label=Nsswitch> <ul class=md-nav__list> <li class=md-nav__item> <a href=#facter_3 class=md-nav__link> <span class=md-ellipsis> facter </span> </a> </li> <li class=md-nav__item> <a href=#initpp_18 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#templates_6 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#nagios-nrpe-plugins class=md-nav__link> <span class=md-ellipsis> Nagios NRPE + plugins </span> </a> <nav class=md-nav aria-label="Nagios NRPE + plugins"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_19 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_9 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> <li class=md-nav__item> <a href=#templates_7 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#munin class=md-nav__link> <span class=md-ellipsis> Munin </span> </a> <nav class=md-nav aria-label=Munin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#munin-interfaces class=md-nav__link> <span class=md-ellipsis> Munin Interfaces </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mcollective class=md-nav__link> <span class=md-ellipsis> Mcollective </span> </a> <nav class=md-nav aria-label=Mcollective> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_20 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#commonpp_3 class=md-nav__link> <span class=md-ellipsis> common.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_15 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_10 class=md-nav__link> <span class=md-ellipsis> files </span> </a> <nav class=md-nav aria-label=files> <ul class=md-nav__list> <li class=md-nav__item> <a href=#redhatservercfg class=md-nav__link> <span class=md-ellipsis> RedHat.server.cfg </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#bind class=md-nav__link> <span class=md-ellipsis> Bind </span> </a> <nav class=md-nav aria-label=Bind> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_21 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_16 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_11 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> <li class=md-nav__item> <a href=#templates_8 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#importing-a-module class=md-nav__link> <span class=md-ellipsis> Importing a module </span> </a> <nav class=md-nav aria-label="Importing a module"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#importing-all-modules-at-once class=md-nav__link> <span class=md-ellipsis> Importing all modules at once </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#usage class=md-nav__link> <span class=md-ellipsis> Usage </span> </a> <nav class=md-nav aria-label=Usage> <ul class=md-nav__list> <li class=md-nav__item> <a href=#certificates class=md-nav__link> <span class=md-ellipsis> Certificates </span> </a> <nav class=md-nav aria-label=Certificates> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-a-certificate class=md-nav__link> <span class=md-ellipsis> Creating a certificate </span> </a> </li> <li class=md-nav__item> <a href=#adding-a-puppet-client-to-the-server class=md-nav__link> <span class=md-ellipsis> Adding a puppet client to the server </span> </a> </li> <li class=md-nav__item> <a href=#synchronizing-a-client class=md-nav__link> <span class=md-ellipsis> Synchronizing a client </span> </a> <nav class=md-nav aria-label="Synchronizing a client"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#simulating class=md-nav__link> <span class=md-ellipsis> Simulating </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#revoking-a-certificate class=md-nav__link> <span class=md-ellipsis> Revoking a certificate </span> </a> </li> <li class=md-nav__item> <a href=#revoking-all-server-certificates class=md-nav__link> <span class=md-ellipsis> Revoking all server certificates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#process-monitoring class=md-nav__link> <span class=md-ellipsis> Process monitoring </span> </a> <nav class=md-nav aria-label="Process monitoring"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#determining-node-status class=md-nav__link> <span class=md-ellipsis> Determining node status </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-usage class=md-nav__link> <span class=md-ellipsis> Advanced usage </span> </a> <nav class=md-nav aria-label="Advanced usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#monitoring-passenger class=md-nav__link> <span class=md-ellipsis> Monitoring Passenger </span> </a> </li> <li class=md-nav__item> <a href=#checking-the-syntax-of-your-pp-files class=md-nav__link> <span class=md-ellipsis> Checking the syntax of your .pp files </span> </a> </li> <li class=md-nav__item> <a href=#overriding-restrictions class=md-nav__link> <span class=md-ellipsis> Overriding restrictions </span> </a> </li> <li class=md-nav__item> <a href=#disabling-a-resource class=md-nav__link> <span class=md-ellipsis> Disabling a resource </span> </a> </li> <li class=md-nav__item> <a href=#pre-and-post-puppet-run class=md-nav__link> <span class=md-ellipsis> Pre and Post puppet run </span> </a> </li> <li class=md-nav__item> <a href=#cft class=md-nav__link> <span class=md-ellipsis> CFT </span> </a> </li> <li class=md-nav__item> <a href=#generating-a-manifest-from-an-existing-system class=md-nav__link> <span class=md-ellipsis> Generating a manifest from an existing system </span> </a> </li> <li class=md-nav__item> <a href=#puppet-push class=md-nav__link> <span class=md-ellipsis> Puppet Push </span> </a> </li> <li class=md-nav__item> <a href=#mcollective_1 class=md-nav__link> <span class=md-ellipsis> MCollective </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#faq class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> <nav class=md-nav aria-label=FAQ> <ul class=md-nav__list> <li class=md-nav__item> <a href=#err-could-not-retrieve-catalog-from-remote-server-hostname-was-not-match-with-the-server-certificate class=md-nav__link> <span class=md-ellipsis> err: Could not retrieve catalog from remote server: hostname was not match with the server certificate </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resources class=md-nav__link> <span class=md-ellipsis> Resources </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../puppet-dashboard-setting-up-a-graphical-interface-for-puppet/ class=md-nav__link> <span class=md-ellipsis> Puppet Dashboard: Setting up a Graphical Interface for Puppet </span> </a> </li> <li class=md-nav__item> <a href=../puppetdb-enhance-your-puppet-functionality/ class=md-nav__link> <span class=md-ellipsis> PuppetDB: Enhance Your Puppet Functionality </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_5> <div class="md-nav__link md-nav__container"> <a href=../Servers/Containers/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.629 0v24H20.37V0zM17.59 21.208H6.421V10.604h7.812V6.692h3.346v14.516zm-7.823-7.812h4.466v5.02H9.767z"/></svg> <span class=md-ellipsis> Containers </span> </a> <label class="md-nav__link " for=__nav_9_5 id=__nav_9_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_5_label aria-expanded=false> <label class=md-nav__title for=__nav_9_5> <span class="md-nav__icon md-icon"></span> Containers </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../lxc-install-and-configure-the-linux-containers/ class=md-nav__link> <span class=md-ellipsis> LXC: Install and configure the Linux Containers </span> </a> </li> <li class=md-nav__item> <a href=../vserver-setting-up-vserver/ class=md-nav__link> <span class=md-ellipsis> VServer: Setting Up VServer </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_5_3> <div class="md-nav__link md-nav__container"> <a href=../Servers/Containers/Docker/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13.983 11.078h2.119a.186.186 0 0 0 .186-.185V9.006a.186.186 0 0 0-.186-.186h-2.119a.185.185 0 0 0-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 0 0 .186-.186V3.574a.186.186 0 0 0-.186-.185h-2.118a.185.185 0 0 0-.185.185v1.888c0 .102.082.185.185.185m0 2.716h2.118a.187.187 0 0 0 .186-.186V6.29a.186.186 0 0 0-.186-.185h-2.118a.185.185 0 0 0-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 0 0 .184-.186V6.29a.185.185 0 0 0-.185-.185H8.1a.185.185 0 0 0-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 0 0 .185-.186V6.29a.185.185 0 0 0-.185-.185H5.136a.186.186 0 0 0-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 0 0 .186-.185V9.006a.186.186 0 0 0-.186-.186h-2.118a.185.185 0 0 0-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 0 0 .184-.185V9.006a.185.185 0 0 0-.184-.186h-2.12a.185.185 0 0 0-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 0 0 .185-.185V9.006a.185.185 0 0 0-.184-.186h-2.12a.186.186 0 0 0-.186.186v1.887c0 .102.084.185.186.185m-2.92 0h2.12a.185.185 0 0 0 .184-.185V9.006a.185.185 0 0 0-.184-.186h-2.12a.185.185 0 0 0-.184.185v1.888c0 .102.082.185.185.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51q-.508.001-1.01.087c-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.75.75 0 0 0-.75.748 11.4 11.4 0 0 0 .692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137a15.7 15.7 0 0 0 2.93-.266 12.3 12.3 0 0 0 3.823-1.389 10.5 10.5 0 0 0 2.61-2.136c1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288Z"/></svg> <span class=md-ellipsis> Docker </span> </a> <label class="md-nav__link " for=__nav_9_5_3 id=__nav_9_5_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_5_3_label aria-expanded=false> <label class=md-nav__title for=__nav_9_5_3> <span class="md-nav__icon md-icon"></span> Docker </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../docker-compose-create-and-manage-multi-container-applications/ class=md-nav__link> <span class=md-ellipsis> Docker Compose: create and manage multi-container applications </span> </a> </li> <li class=md-nav__item> <a href=../docker-containerize-your-applications/ class=md-nav__link> <span class=md-ellipsis> Docker: containerize your applications </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_5_4> <div class="md-nav__link md-nav__container"> <a href=../Servers/Containers/Kubernetes/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m10.204 14.35.007.01-.999 2.413a5.17 5.17 0 0 1-2.075-2.597l2.578-.437.004.005a.44.44 0 0 1 .484.606zm-.833-2.129a.44.44 0 0 0 .173-.756l.002-.011L7.585 9.7a5.14 5.14 0 0 0-.73 3.255l2.514-.725zm1.145-1.98a.44.44 0 0 0 .699-.337l.01-.005.15-2.62a5.14 5.14 0 0 0-3.01 1.442l2.147 1.523zm.76 2.75.723.349.722-.347.18-.78-.5-.623h-.804l-.5.623.179.779zm1.5-3.095a.44.44 0 0 0 .7.336l.008.003 2.134-1.513a5.2 5.2 0 0 0-2.992-1.442l.148 2.615zm10.876 5.97-5.773 7.181a1.6 1.6 0 0 1-1.248.594l-9.261.003a1.6 1.6 0 0 1-1.247-.596l-5.776-7.18a1.58 1.58 0 0 1-.307-1.34L2.1 5.573c.108-.47.425-.864.863-1.073L11.305.513a1.6 1.6 0 0 1 1.385 0l8.345 3.985c.438.209.755.604.863 1.073l2.062 8.955c.108.47-.005.963-.308 1.34m-3.289-2.057c-.042-.01-.103-.026-.145-.034-.174-.033-.315-.025-.479-.038-.35-.037-.638-.067-.895-.148-.105-.04-.18-.165-.216-.216l-.201-.059a6.5 6.5 0 0 0-.105-2.332 6.5 6.5 0 0 0-.936-2.163c.052-.047.15-.133.177-.159.008-.09.001-.183.094-.282.197-.185.444-.338.743-.522.142-.084.273-.137.415-.242.032-.024.076-.062.11-.089.24-.191.295-.52.123-.736s-.506-.236-.745-.045c-.034.027-.08.062-.111.088-.134.116-.217.23-.33.35-.246.25-.45.458-.673.609-.097.056-.239.037-.303.033l-.19.135a6.55 6.55 0 0 0-4.146-2.003l-.012-.223c-.065-.062-.143-.115-.163-.25-.022-.268.015-.557.057-.905.023-.163.061-.298.068-.475.001-.04-.001-.099-.001-.142 0-.306-.224-.555-.5-.555-.275 0-.499.249-.499.555l.001.014c0 .041-.002.092 0 .128.006.177.044.312.067.475.042.348.078.637.056.906a.55.55 0 0 1-.162.258l-.012.211a6.42 6.42 0 0 0-4.166 2.003l-.18-.128c-.09.012-.18.04-.297-.029-.223-.15-.427-.358-.673-.608-.113-.12-.195-.234-.329-.349l-.111-.088a.6.6 0 0 0-.348-.132.48.48 0 0 0-.398.176c-.172.216-.117.546.123.737l.007.005.104.083c.142.105.272.159.414.242.299.185.546.338.743.522.076.082.09.226.1.288l.16.143a6.46 6.46 0 0 0-1.02 4.506l-.208.06c-.055.072-.133.184-.215.217-.257.081-.546.11-.895.147-.164.014-.305.006-.48.039-.037.007-.09.02-.133.03l-.004.002-.007.002c-.295.071-.484.342-.423.608.061.267.349.429.645.365l.007-.001.01-.003.129-.029c.17-.046.294-.113.448-.172.33-.118.604-.217.87-.256.112-.009.23.069.288.101l.217-.037a6.5 6.5 0 0 0 2.88 3.596l-.09.218c.033.084.069.199.044.282-.097.252-.263.517-.452.813-.091.136-.185.242-.268.399-.02.037-.045.095-.064.134-.128.275-.034.591.213.71.248.12.556-.007.69-.282v-.002c.02-.039.046-.09.062-.127.07-.162.094-.301.144-.458.132-.332.205-.68.387-.897.05-.06.13-.082.215-.105l.113-.205a6.45 6.45 0 0 0 4.609.012l.106.192c.086.028.18.042.256.155.136.232.229.507.342.84.05.156.074.295.145.457.016.037.043.09.062.129.133.276.442.402.69.282.247-.118.341-.435.213-.71-.02-.039-.045-.096-.065-.134-.083-.156-.177-.261-.268-.398-.19-.296-.346-.541-.443-.793-.04-.13.007-.21.038-.294-.018-.022-.059-.144-.083-.202a6.5 6.5 0 0 0 2.88-3.622c.064.01.176.03.213.038.075-.05.144-.114.28-.104.266.039.54.138.87.256.154.06.277.128.448.173.036.01.088.019.13.028l.009.003.007.001c.297.064.584-.098.645-.365.06-.266-.128-.537-.423-.608M16.4 9.701l-1.95 1.746v.005a.44.44 0 0 0 .173.757l.003.01 2.526.728a5.2 5.2 0 0 0-.108-1.674A5.2 5.2 0 0 0 16.4 9.7zm-4.013 5.325a.44.44 0 0 0-.404-.232.44.44 0 0 0-.372.233h-.002l-1.268 2.292a5.16 5.16 0 0 0 3.326.003l-1.27-2.296zm1.888-1.293a.44.44 0 0 0-.27.036.44.44 0 0 0-.214.572l-.003.004 1.01 2.438a5.15 5.15 0 0 0 2.081-2.615l-2.6-.44z"/></svg> <span class=md-ellipsis> Kubernetes </span> </a> <label class="md-nav__link " for=__nav_9_5_4 id=__nav_9_5_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_5_4_label aria-expanded=false> <label class=md-nav__title for=__nav_9_5_4> <span class="md-nav__icon md-icon"></span> Kubernetes </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../k3s-lightweight-k8s/ class=md-nav__link> <span class=md-ellipsis> K3s: A lightweight Kubernetes </span> </a> </li> <li class=md-nav__item> <a href=../kubernetes_basic_usage/ class=md-nav__link> <span class=md-ellipsis> Kubernetes basic usage </span> </a> </li> <li class=md-nav__item> <a href=../use-local-storage-with-openebs/ class=md-nav__link> <span class=md-ellipsis> Use local storage with OpenEBS </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_5_5> <div class="md-nav__link md-nav__container"> <a href=../Servers/Containers/OpenVZ/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m10.15 8.98 1.647.951-5.756 3.345.005-1.911zm1.723-1.001-1.553.902 1.548.893zM6.028 5.33 6.025 6.4l.543.316 3.602 2.079 1.632-.948-2.19-1.279-3.231-1.887-.351-.203zm.072-.983.359.209 6.321 3.65 5.258 3.037 5.858-3.405L11.956.943zm6.002 12.602-.005 1.924 5.858-3.404.005-1.924zm-.077-9.009-.005 1.922 5.94 3.428.005-1.92zm-10.13.945 4.075 2.352 4.031-2.342-4.075-2.353zM24 7.982l-5.858 3.404-.015 3.982 5.858-3.404zm-12.048 10.04.003-1.073L7.6 14.436l-1.565-.903v.001l-.939-.542L.015 10.06.01 11.979l11.94 6.895zm5.935-4.605-5.922-3.411-5.853 3.401 5.917 3.414zm6.072-1.238-11.862 6.864-.01 4.013 11.863-6.894zM11.944 21.27l.005-2.227L.01 12.148 0 16.162l11.94 6.895zM.021 9.802 1.6 8.885.025 7.976zm5.832-3.39.024-1.636.001-.296L.099 7.848l1.647.951zm.041 4.951L1.749 8.97l-.46.267-1.195.695 5.795 3.345z"/></svg> <span class=md-ellipsis> OpenVZ </span> </a> <label class="md-nav__link " for=__nav_9_5_5 id=__nav_9_5_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_5_5_label aria-expanded=false> <label class=md-nav__title for=__nav_9_5_5> <span class="md-nav__icon md-icon"></span> OpenVZ </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../openvz-setting-up-openvz/ class=md-nav__link> <span class=md-ellipsis> OpenVZ: Setting Up OpenVZ </span> </a> </li> <li class=md-nav__item> <a href=../webvz-manage-openvz-vms-with-a-web-interface/ class=md-nav__link> <span class=md-ellipsis> WebVZ: Manage OpenVZ VMs with a Web Interface </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_5_6> <div class="md-nav__link md-nav__container"> <a href=../Servers/Containers/Solaris%20Zones/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="m10.41.24 4.711 2.774c.544.316.878.897.879 1.526v5.01a1.77 1.77 0 0 1-.88 1.53l-7.753 4.521-.002.001a1.77 1.77 0 0 1-1.774 0H5.59L.873 12.85A1.76 1.76 0 0 1 0 11.327V6.292c0-.304.078-.598.22-.855l.004-.005.01-.019c.15-.262.369-.486.64-.643L8.641.239a1.75 1.75 0 0 1 1.765 0l.002.001ZM9.397 1.534l-7.17 4.182 4.116 2.388a.27.27 0 0 0 .269 0l7.152-4.148-4.115-2.422a.25.25 0 0 0-.252 0m-7.768 10.02 4.1 2.393V9.474a2 2 0 0 1-.138-.072L1.5 7.029v4.298c0 .095.05.181.129.227m8.6.642 1.521-.887v-4.45l-1.521.882ZM7.365 9.402h.001q-.066.038-.136.071v4.472l1.5-.875V8.61Zm5.885 1.032 1.115-.65h.002a.27.27 0 0 0 .133-.232V5.264l-1.25.725Z"/></svg> <span class=md-ellipsis> Solaris Zones </span> </a> <label class="md-nav__link " for=__nav_9_5_6 id=__nav_9_5_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_5_6_label aria-expanded=false> <label class=md-nav__title for=__nav_9_5_6> <span class="md-nav__icon md-icon"></span> Solaris Zones </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installing-ha-zones-with-zfs-and-solaris-cluster/ class=md-nav__link> <span class=md-ellipsis> Installing HA Zones with ZFS and Solaris Cluster </span> </a> </li> <li class=md-nav__item> <a href=../configuration-and-usage-of-solaris-zones-containers/ class=md-nav__link> <span class=md-ellipsis> Configuration and Usage of Solaris Zones (Containers) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_6> <div class="md-nav__link md-nav__container"> <a href=../Servers/DNS/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7 9a2 2 0 0 1-2-2 2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2m13-6H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1M7 19a2 2 0 0 1-2-2 2 2 0 0 1 2-2 2 2 0 0 1 2 2 2 2 0 0 1-2 2m13-6H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1"/></svg> <span class=md-ellipsis> DNS </span> </a> <label class="md-nav__link " for=__nav_9_6 id=__nav_9_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_6_label aria-expanded=false> <label class=md-nav__title for=__nav_9_6> <span class="md-nav__icon md-icon"></span> DNS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../unbound-implementing-a-next-generation-dns-server/ class=md-nav__link> <span class=md-ellipsis> Unbound: Implementing a Next Generation DNS Server </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_6_2> <div class="md-nav__link md-nav__container"> <a href=../Servers/DNS/Bind/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15v4H5v-4zm1-2H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1M7 18.5A1.5 1.5 0 0 1 5.5 17 1.5 1.5 0 0 1 7 15.5 1.5 1.5 0 0 1 8.5 17 1.5 1.5 0 0 1 7 18.5M19 5v4H5V5zm1-2H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1M7 8.5A1.5 1.5 0 0 1 5.5 7 1.5 1.5 0 0 1 7 5.5 1.5 1.5 0 0 1 8.5 7 1.5 1.5 0 0 1 7 8.5"/></svg> <span class=md-ellipsis> Bind </span> </a> <label class="md-nav__link " for=__nav_9_6_2 id=__nav_9_6_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_9_6_2> <span class="md-nav__icon md-icon"></span> Bind </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../advanced-usage-of-bind/ class=md-nav__link> <span class=md-ellipsis> Advanced usage of Bind </span> </a> </li> <li class=md-nav__item> <a href=../bindgraph-get-statistics-and-graphs-of-dns-queries/ class=md-nav__link> <span class=md-ellipsis> Bindgraph: Get Statistics and Graphs of DNS Queries </span> </a> </li> <li class=md-nav__item> <a href=../installation-and-configuration-of-a-bind9-secondary-slave-server/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of a Bind9 Secondary (Slave) Server </span> </a> </li> <li class=md-nav__item> <a href=../installing-and-configuring-a-primary-bind9-server-master/ class=md-nav__link> <span class=md-ellipsis> Installing and Configuring a Primary Bind9 Server (Master) </span> </a> </li> <li class=md-nav__item> <a href=../namedmanager-a-nice-web-interface-to-manage-bind/ class=md-nav__link> <span class=md-ellipsis> NamedManager: A Nice Web Interface to Manage Bind </span> </a> </li> <li class=md-nav__item> <a href=../securing-a-bind-architecture/ class=md-nav__link> <span class=md-ellipsis> Securing a Bind Architecture </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-a-bind-server-with-ldap-backend/ class=md-nav__link> <span class=md-ellipsis> Setting up a Bind server with LDAP backend </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_6_3> <div class="md-nav__link md-nav__container"> <a href=../Servers/DNS/PowerDNS/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 15v4H5v-4zm1-2H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-6a1 1 0 0 0-1-1M7 18.5A1.5 1.5 0 0 1 5.5 17 1.5 1.5 0 0 1 7 15.5 1.5 1.5 0 0 1 8.5 17 1.5 1.5 0 0 1 7 18.5M19 5v4H5V5zm1-2H4a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1M7 8.5A1.5 1.5 0 0 1 5.5 7 1.5 1.5 0 0 1 7 5.5 1.5 1.5 0 0 1 8.5 7 1.5 1.5 0 0 1 7 8.5"/></svg> <span class=md-ellipsis> PowerDNS </span> </a> <label class="md-nav__link " for=__nav_9_6_3 id=__nav_9_6_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_6_3_label aria-expanded=false> <label class=md-nav__title for=__nav_9_6_3> <span class="md-nav__icon md-icon"></span> PowerDNS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../poweradmin-an-administration-interface-for-powerdns/ class=md-nav__link> <span class=md-ellipsis> PowerAdmin: An Administration Interface for PowerDNS </span> </a> </li> <li class=md-nav__item> <a href=../powerdns-creating-a-dns-cache-server/ class=md-nav__link> <span class=md-ellipsis> PowerDNS: Creating a DNS Cache Server </span> </a> </li> <li class=md-nav__item> <a href=../powerdns-creating-a-master-dns-server/ class=md-nav__link> <span class=md-ellipsis> PowerDNS: Creating a Master DNS Server </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_7> <div class="md-nav__link md-nav__container"> <a href=../Servers/Databases/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 3C7.58 3 4 4.79 4 7s3.58 4 8 4 8-1.79 8-4-3.58-4-8-4M4 9v3c0 2.21 3.58 4 8 4s8-1.79 8-4V9c0 2.21-3.58 4-8 4s-8-1.79-8-4m0 5v3c0 2.21 3.58 4 8 4s8-1.79 8-4v-3c0 2.21-3.58 4-8 4s-8-1.79-8-4"/></svg> <span class=md-ellipsis> Databases </span> </a> <label class="md-nav__link " for=__nav_9_7 id=__nav_9_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_7_label aria-expanded=false> <label class=md-nav__title for=__nav_9_7> <span class="md-nav__icon md-icon"></span> Databases </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../sybase-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> Sybase: Installation and Configuration </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_7_2> <div class="md-nav__link md-nav__container"> <a href=../Servers/Databases/MySQL-MariaDB/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M23.157 4.412c-.676.284-.79.31-1.673.372-.65.045-.757.057-1.212.209-.75.246-1.395.75-2.02 1.59-.296.398-1.249 1.913-1.249 1.988 0 .057-.65.998-.915 1.32-.574.713-1.08 1.079-2.14 1.59-.77.36-1.224.524-4.102 1.477-1.073.353-2.133.738-2.367.864-.852.449-1.515 1.036-2.203 1.938-1.003 1.32-.972 1.313-3.042.947a12 12 0 0 0-.675-.063c-.644-.05-1.023.044-1.332.334L0 17.193l.177.088c.094.05.353.234.561.398.215.17.461.347.55.391.088.044.17.088.183.101s-.089.17-.228.353c-.435.581-.593.871-.574 1.048.019.164.032.17.43.17.517-.006.826-.056 1.261-.208.65-.233 2.058-.94 2.784-1.4.776-.5 1.717-.998 1.956-1.042.082-.02.354-.07.594-.114.58-.107 1.464-.095 2.587.05.108.013.373.045.6.064.227.025.43.057.454.076.026.012.474.037.998.056.934.026 1.104.007 1.3-.189.126-.133.385-.631.498-.985.209-.643.417-.921.366-.492-.113.966-.322 1.692-.713 2.411-.259.499-.663 1.092-.934 1.395-.322.347-.315.36.088.315.619-.063 1.471-.397 2.096-.82.827-.562 1.647-1.691 2.19-3.03.107-.27.22-.22.183.083-.013.094-.038.315-.057.498l-.031.328.353-.202c.833-.48 1.414-1.262 2.127-2.884.227-.518.877-2.922 1.073-3.976a10 10 0 0 1 .271-1.042c.127-.429.196-.555.48-.858.183-.19.625-.555.978-.808.72-.505.953-.75 1.187-1.205.208-.417.284-1.13.132-1.357-.132-.202-.284-.196-.763.006"/></svg> <span class=md-ellipsis> MySQL MariaDB </span> </a> <label class="md-nav__link " for=__nav_9_7_2 id=__nav_9_7_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_7_2_label aria-expanded=false> <label class=md-nav__title for=__nav_9_7_2> <span class="md-nav__icon md-icon"></span> MySQL MariaDB </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../mysql-backups-restorations-and-transfers/ class=md-nav__link> <span class=md-ellipsis> MySQL: Backups, Restorations and Transfers </span> </a> </li> <li class=md-nav__item> <a href=../greensql-preventing-sql-injections-with-greensql/ class=md-nav__link> <span class=md-ellipsis> GreenSQL: Preventing SQL Injections with GreenSQL </span> </a> </li> <li class=md-nav__item> <a href=../mariadb-galera-cluster-multi-master-replication/ class=md-nav__link> <span class=md-ellipsis> MariaDB Galera Cluster: Multi-Master Replication </span> </a> </li> <li class=md-nav__item> <a href=../mariadb-migration-from-mysql/ class=md-nav__link> <span class=md-ellipsis> MariaDB: Migration from MySQL </span> </a> </li> <li class=md-nav__item> <a href=../mariadb-operator-full-featured-mariadb-k8s/ class=md-nav__link> <span class=md-ellipsis> MariaDB Operator: Run full featured MariaDB in Kubernetes </span> </a> </li> <li class=md-nav__item> <a href=../mysql-cluster-load-balanced-with-heartbeat/ class=md-nav__link> <span class=md-ellipsis> MySQL Cluster Load Balanced with Heartbeat </span> </a> </li> <li class=md-nav__item> <a href=../mysql-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> MySQL: Installation and Configuration </span> </a> </li> <li class=md-nav__item> <a href=../mysql-replication-master-to-slave/ class=md-nav__link> <span class=md-ellipsis> MySQL Replication Master to Slave </span> </a> </li> <li class=md-nav__item> <a href=../mysqltuner-optimizing-your-mysql-server/ class=md-nav__link> <span class=md-ellipsis> MysqlTuner: Optimizing Your MySQL Server </span> </a> </li> <li class=md-nav__item> <a href=../phpmyadmin-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> PhpMyAdmin: Installation and Configuration </span> </a> </li> <li class=md-nav__item> <a href=../purging-mysql-binary-logs/ class=md-nav__link> <span class=md-ellipsis> Purging MySQL Binary Logs </span> </a> </li> <li class=md-nav__item> <a href=../repairing-myisam-and-innodb-databases/ class=md-nav__link> <span class=md-ellipsis> Repairing MyISAM and InnoDB Databases </span> </a> </li> <li class=md-nav__item> <a href=../replication-master-to-master/ class=md-nav__link> <span class=md-ellipsis> Replication Master to Master </span> </a> </li> <li class=md-nav__item> <a href=../running-multiple-mysql-instances-on-solaris/ class=md-nav__link> <span class=md-ellipsis> Running Multiple MySQL Instances on Solaris </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-a-mysql-proxy/ class=md-nav__link> <span class=md-ellipsis> Setting up a MySQL Proxy </span> </a> </li> <li class=md-nav__item> <a href=../using-mysql/ class=md-nav__link> <span class=md-ellipsis> Using MySQL </span> </a> </li> <li class=md-nav__item> <a href=../xtrabackup-optimizing-your-mysql-backups/ class=md-nav__link> <span class=md-ellipsis> XtraBackup: Optimizing Your MySQL Backups </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_7_3> <div class="md-nav__link md-nav__container"> <a href=../Servers/Databases/NoSQL/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m20.345 16.33-3.959-.926-1.05-2.01 5.177-4.535a3.96 3.96 0 0 1 2.559 3.702 4.01 4.01 0 0 1-2.727 3.77m-2.976 4.68c-.616 0-1.22-.207-1.714-.587l.782-4.077 3.596.841c.115.31.172.642.172.987a2.84 2.84 0 0 1-2.836 2.836m-2.637-.586a5.92 5.92 0 0 1-4.908 2.6A5.947 5.947 0 0 1 4 15.905l5.167-4.67 5.272 2.403 1.167 2.23zM.928 11.443a4.01 4.01 0 0 1 2.726-3.77l3.95.933.927 1.98-5.05 4.565a3.97 3.97 0 0 1-2.553-3.708m5.703-8.45a2.84 2.84 0 0 1 1.723.58l-.789 4.092-3.598-.85a2.8 2.8 0 0 1-.172-.986A2.84 2.84 0 0 1 6.63 2.992m2.66.59A5.92 5.92 0 0 1 20.1 6.93c0 .4-.038.781-.114 1.164l-5.299 4.643-5.251-2.394-1.026-2.19zM24 12.571a4.72 4.72 0 0 0-3.124-4.454 6.7 6.7 0 0 0 .126-1.29A6.79 6.79 0 0 0 14.22.047 6.77 6.77 0 0 0 8.727 2.86a3.6 3.6 0 0 0-2.204-.754A3.604 3.604 0 0 0 3.15 6.959 4.79 4.79 0 0 0 0 11.431 4.73 4.73 0 0 0 3.139 15.9a7 7 0 0 0-.124 1.289 6.773 6.773 0 0 0 6.765 6.765c2.19 0 4.22-1.052 5.49-2.824a3.57 3.57 0 0 0 2.207.769 3.603 3.603 0 0 0 3.374-4.854A4.785 4.785 0 0 0 24 12.572"/></svg> <span class=md-ellipsis> NoSQL </span> </a> <label class="md-nav__link " for=__nav_9_7_3 id=__nav_9_7_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_7_3_label aria-expanded=false> <label class=md-nav__title for=__nav_9_7_3> <span class="md-nav__icon md-icon"></span> NoSQL </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../elasticsearch-powerful-search-and-analytics-engine/ class=md-nav__link> <span class=md-ellipsis> ElasticSearch: Powerful Search and Analytics Engine </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_7_4> <div class="md-nav__link md-nav__container"> <a href=../Servers/Databases/PostgreSQL/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M23.56 14.723a.5.5 0 0 0-.057-.12q-.21-.395-1.007-.231c-1.654.34-2.294.13-2.526-.02 1.342-2.048 2.445-4.522 3.041-6.83.272-1.05.798-3.523.122-4.73a1.6 1.6 0 0 0-.15-.236C21.693.91 19.8.025 17.51.001c-1.495-.016-2.77.346-3.116.479a10 10 0 0 0-.516-.082 8 8 0 0 0-1.312-.127c-1.182-.019-2.203.264-3.05.84C8.66.79 4.729-.534 2.296 1.19.935 2.153.309 3.873.43 6.304c.041.818.507 3.334 1.243 5.744q.69 2.26 1.433 3.582.83 1.493 1.714 1.79c.448.148 1.133.143 1.858-.729a56 56 0 0 1 1.945-2.206c.435.235.906.362 1.39.377v.004a11 11 0 0 0-.247.305c-.339.43-.41.52-1.5.745-.31.064-1.134.233-1.146.811a.6.6 0 0 0 .091.327c.227.423.922.61 1.015.633 1.335.333 2.505.092 3.372-.679-.017 2.231.077 4.418.345 5.088.221.553.762 1.904 2.47 1.904q.375.001.829-.094c1.782-.382 2.556-1.17 2.855-2.906.15-.87.402-2.875.539-4.101.017-.07.036-.12.057-.136 0 0 .07-.048.427.03l.044.007.254.022.015.001c.847.039 1.911-.142 2.531-.43.644-.3 1.806-1.033 1.595-1.67M2.37 11.876c-.744-2.435-1.178-4.885-1.212-5.571-.109-2.172.417-3.683 1.562-4.493 1.837-1.299 4.84-.54 6.108-.13l-.01.01C6.795 3.734 6.843 7.226 6.85 7.44c0 .082.006.199.016.36.034.586.1 1.68-.074 2.918-.16 1.15.194 2.276.973 3.089q.12.126.252.237c-.347.371-1.1 1.193-1.903 2.158-.568.682-.96.551-1.088.508-.392-.13-.813-.587-1.239-1.322-.48-.839-.963-2.032-1.415-3.512m6.007 5.088a1.6 1.6 0 0 1-.432-.178c.089-.039.237-.09.483-.14 1.284-.265 1.482-.451 1.915-1 .099-.127.211-.27.367-.443a.4.4 0 0 0 .074-.13c.17-.151.272-.11.436-.042.156.065.308.26.37.475.03.102.062.295-.045.445-.904 1.266-2.222 1.25-3.168 1.013m2.094-3.988-.052.14c-.133.357-.257.689-.334 1.004-.667-.002-1.317-.288-1.81-.803-.628-.655-.913-1.566-.783-2.5.183-1.308.116-2.447.08-3.059l-.013-.22c.296-.262 1.666-.996 2.643-.772.446.102.718.406.83.928.585 2.704.078 3.83-.33 4.736a9 9 0 0 0-.23.546m7.364 4.572q-.024.266-.062.596l-.146.438a.4.4 0 0 0-.018.108c-.006.475-.054.649-.115.87-.064.229-.135.488-.18 1.057-.11 1.414-.878 2.227-2.417 2.556-1.515.325-1.784-.496-2.02-1.221a7 7 0 0 0-.078-.227c-.215-.586-.19-1.412-.157-2.555.016-.561-.025-1.901-.33-2.646q.006-.44.019-.892a.4.4 0 0 0-.016-.113 2 2 0 0 0-.044-.208c-.122-.428-.42-.786-.78-.935-.142-.059-.403-.167-.717-.087.067-.276.183-.587.309-.925l.053-.142c.06-.16.134-.325.213-.5.426-.948 1.01-2.246.376-5.178-.237-1.098-1.03-1.634-2.232-1.51-.72.075-1.38.366-1.709.532a6 6 0 0 0-.196.104c.092-1.106.439-3.174 1.736-4.482a4 4 0 0 1 .303-.276.35.35 0 0 0 .145-.064c.752-.57 1.695-.85 2.802-.833q.616.01 1.174.081c1.94.355 3.244 1.447 4.036 2.383.814.962 1.255 1.931 1.431 2.454-1.323-.134-2.223.127-2.68.78-.992 1.418.544 4.172 1.282 5.496.135.242.252.452.289.54.24.583.551.972.778 1.256.07.087.138.171.189.245-.4.116-1.12.383-1.055 1.717-.013.156-.043.447-.084.815-.046.208-.07.46-.1.766m.89-1.621c-.04-.832.27-.919.597-1.01l.135-.041a1 1 0 0 0 .134.103c.57.376 1.583.421 3.007.134-.202.177-.519.4-.953.601-.41.19-1.096.333-1.747.364-.72.034-1.086-.08-1.173-.151m.57-9.271c-.006.35-.054.669-.105 1.001-.055.358-.112.728-.127 1.177-.014.436.04.89.093 1.33.107.887.216 1.8-.207 2.701a4 4 0 0 1-.188-.385 8 8 0 0 0-.325-.617c-.616-1.104-2.057-3.69-1.32-4.744.38-.543 1.342-.566 2.179-.463m.228 7.013-.085-.107-.035-.044c.726-1.2.584-2.387.457-3.439-.052-.432-.1-.84-.088-1.222.013-.407.066-.755.118-1.092.064-.415.13-.844.111-1.35a.6.6 0 0 0 .012-.19c-.046-.486-.6-1.938-1.73-3.253a7.8 7.8 0 0 0-2.688-2.04A9.3 9.3 0 0 1 17.62.746c2.052.046 3.675.814 4.824 2.283a1 1 0 0 1 .067.1c.723 1.356-.276 6.275-2.987 10.54m-8.816-6.116c-.025.18-.31.423-.621.423a1 1 0 0 1-.081-.006.8.8 0 0 1-.506-.315c-.046-.06-.12-.178-.106-.285a.22.22 0 0 1 .093-.149c.118-.089.352-.122.61-.086.316.044.642.193.61.418m7.93-.411c.011.08-.049.2-.153.31a.72.72 0 0 1-.408.223 1 1 0 0 1-.075.005c-.293 0-.541-.234-.56-.371-.024-.177.264-.31.56-.352.298-.042.612.009.636.185"/></svg> <span class=md-ellipsis> PostgreSQL </span> </a> <label class="md-nav__link " for=__nav_9_7_4 id=__nav_9_7_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_7_4_label aria-expanded=false> <label class=md-nav__title for=__nav_9_7_4> <span class="md-nav__icon md-icon"></span> PostgreSQL </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../phppgadmin-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> PhpPgAdmin: Installation and Configuration </span> </a> </li> <li class=md-nav__item> <a href=../Servers/Databases/PostgreSQL/postgresql_installation_and_configuration.html class=md-nav__link> <span class=md-ellipsis> PostgreSQL Installation and Configuration </span> </a> </li> <li class=md-nav__item> <a href=../slony-i-database-replication-for-postgresql/ class=md-nav__link> <span class=md-ellipsis> Slony-I: Database Replication for PostgreSQL </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_8> <div class="md-nav__link md-nav__container"> <a href=../Servers/File%20Sharing/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m21 12-7-7v4C7 10 4 15 3 20c2.5-3.5 6-5.1 11-5.1V19z"/></svg> <span class=md-ellipsis> File Sharing </span> </a> <label class="md-nav__link " for=__nav_9_8 id=__nav_9_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_8_label aria-expanded=false> <label class=md-nav__title for=__nav_9_8> <span class="md-nav__icon md-icon"></span> File Sharing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../aoe-setting-up-an-ata-over-ethernet-server/ class=md-nav__link> <span class=md-ellipsis> AOE: Setting Up an ATA Over Ethernet Server </span> </a> </li> <li class=md-nav__item> <a href=../autofs-mounting-and-unmounting-shares/ class=md-nav__link> <span class=md-ellipsis> AutoFS: Mounting and Unmounting Shares </span> </a> </li> <li class=md-nav__item> <a href=../nfs-setting-up-an-nfs-server/ class=md-nav__link> <span class=md-ellipsis> NFS: Setting up an NFS Server </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-a-unix-systems-specialized-home-server/ class=md-nav__link> <span class=md-ellipsis> Setting up a Unix systems specialized Home server </span> </a> </li> <li class=md-nav__item> <a href=../uploadtool-setting-up-a-file-sharing-tool-via-apache/ class=md-nav__link> <span class=md-ellipsis> UploadTool: Setting up a file sharing tool via Apache </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_8_6> <div class="md-nav__link md-nav__container"> <a href=../Servers/File%20Sharing/SFTP%20and%20FTP/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M5 20h14v-2H5m14-9h-4V3H9v6H5l7 7z"/></svg> <span class=md-ellipsis> SFTP and FTP </span> </a> <label class="md-nav__link " for=__nav_9_8_6 id=__nav_9_8_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_8_6_label aria-expanded=false> <label class=md-nav__title for=__nav_9_8_6> <span class="md-nav__icon md-icon"></span> SFTP and FTP </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../mysecureshell-setting-up-a-secure-file-transfer-solution/ class=md-nav__link> <span class=md-ellipsis> MySecureShell: Setting up a Secure File Transfer Solution </span> </a> </li> <li class=md-nav__item> <a href=../phpftpwho-connection-monitoring-for-proftpd/ class=md-nav__link> <span class=md-ellipsis> PhpFtpWho: Connection Monitoring for Proftpd </span> </a> </li> <li class=md-nav__item> <a href=../sslh-multiplexing-ssl-and-ssh-connections-on-the-same-port/ class=md-nav__link> <span class=md-ellipsis> SSLH: Multiplexing SSL and SSH connections on the same port </span> </a> </li> <li class=md-nav__item> <a href=../vsftpd-setting-up-virtual-hosts-with-mysql/ class=md-nav__link> <span class=md-ellipsis> Vsftpd: Setting up virtual hosts with MySQL </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_8_7> <div class="md-nav__link md-nav__container"> <a href=../Servers/File%20Sharing/Samba/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M247.6 8C389.4 8 496 118.1 496 256c0 147.1-118.5 248-248.4 248C113.6 504 0 394.5 0 256 0 123.1 104.7 8 247.6 8m.8 44.7C130.2 52.7 44.7 150.6 44.7 256c0 109.8 91.2 202.8 203.7 202.8 103.2 0 202.8-81.1 202.8-202.8.1-113.8-90.2-203.3-202.8-203.3m101 132.4c7.8 0 13.7 6.1 13.7 13.7v182.5c0 7.7-6.1 13.7-13.7 13.7H214.3c-7.7 0-13.7-6-13.7-13.7v-54h-54c-7.8 0-13.7-6-13.7-13.7V131.1c0-8.2 6.6-12.7 12.4-13.7h136.4c7.7 0 13.7 6 13.7 13.7v54zM159.9 300.3h40.7V198.9c0-7.4 5.8-12.6 12-13.7h55.8v-40.3H159.9zm176.2-88.1H227.6v155.4h108.5z"/></svg> <span class=md-ellipsis> Samba </span> </a> <label class="md-nav__link " for=__nav_9_8_7 id=__nav_9_8_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_8_7_label aria-expanded=false> <label class=md-nav__title for=__nav_9_8_7> <span class="md-nav__icon md-icon"></span> Samba </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../network-recycle-bin/ class=md-nav__link> <span class=md-ellipsis> Network Recycle Bin </span> </a> </li> <li class=md-nav__item> <a href=../installation-and-configuration-of-samba-in-share-mode/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of Samba in "Share" Mode </span> </a> </li> <li class=md-nav__item> <a href=../installation-and-configuration-of-samba-in-ads-mode-authentication-on-an-ad-server/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of Samba in ADS Mode (Authentication on an AD Server) </span> </a> </li> <li class=md-nav__item> <a href=../installation-and-configuration-of-samba-in-user-mode/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of Samba in 'User' Mode </span> </a> </li> <li class=md-nav__item> <a href=../installation-and-configuration-of-samba-in-user-mode-authentication-on-an-openldap-server/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of Samba in User Mode (Authentication on an OpenLDAP Server) </span> </a> </li> <li class=md-nav__item> <a href=../installing-and-configuring-samba-as-a-domain-controller/ class=md-nav__link> <span class=md-ellipsis> Installing and configuring Samba as a Domain Controller </span> </a> </li> <li class=md-nav__item> <a href=../mounting-a-windows-share-from-samba/ class=md-nav__link> <span class=md-ellipsis> Mounting a Windows Share from Samba </span> </a> </li> <li class=md-nav__item> <a href=../problems-with-saving-office-adobe-file-types/ class=md-nav__link> <span class=md-ellipsis> Problems with saving Office, Adobe... file types </span> </a> </li> <li class=md-nav__item> <a href=../trick-samba-share-size-display/ class=md-nav__link> <span class=md-ellipsis> Trick Samba Share Size Display </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_8_8> <div class="md-nav__link md-nav__container"> <a href=../Servers/File%20Sharing/iSCSI/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M3.75 6.5a.25.25 0 0 0-.25.25v6.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-6.5a.25.25 0 0 0-.25-.25h-1a.75.75 0 0 1 0-1.5h1c.966 0 1.75.784 1.75 1.75v6.5A1.75 1.75 0 0 1 12.25 15h-8.5A1.75 1.75 0 0 1 2 13.25v-6.5C2 5.784 2.784 5 3.75 5h1a.75.75 0 0 1 0 1.5ZM7.823.177a.25.25 0 0 1 .354 0l2.896 2.896a.25.25 0 0 1-.177.427H8.75v5.75a.75.75 0 0 1-1.5 0V3.5H5.104a.25.25 0 0 1-.177-.427Z"/></svg> <span class=md-ellipsis> iSCSI </span> </a> <label class="md-nav__link " for=__nav_9_8_8 id=__nav_9_8_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_8_8_label aria-expanded=false> <label class=md-nav__title for=__nav_9_8_8> <span class="md-nav__icon md-icon"></span> iSCSI </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Servers/File%20Sharing/iSCSI/creating_an_iscsi_share_between_solaris_and_debian.html class=md-nav__link> <span class=md-ellipsis> Creating an iscsi share between solaris and debian </span> </a> </li> <li class=md-nav__item> <a href=../iscsi-setting-up-an-iscsi-server/ class=md-nav__link> <span class=md-ellipsis> iSCSI: Setting up an iSCSI Server </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_9> <div class="md-nav__link md-nav__container"> <a href=../Servers/High-Availability/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11.959.257A11.9 11.9 0 0 0 3.503 3.76 11.92 11.92 0 0 0 0 12.217a11.9 11.9 0 0 0 1.207 5.243c.72 1.474 1.888 2.944 3.208 4.044.86-.47 1.35-.99 1.453-1.545.1-.533-.134-1.107-.737-1.805a9.03 9.03 0 0 1-2.219-5.937c0-4.988 4.058-9.047 9.047-9.047h.08c4.99 0 9.048 4.059 9.048 9.047a9.03 9.03 0 0 1-2.218 5.936c-.599.693-.84 1.292-.735 1.83.108.556.595 1.068 1.449 1.522 1.322-1.1 2.489-2.57 3.209-4.046A11.9 11.9 0 0 0 24 12.217a11.93 11.93 0 0 0-3.503-8.457A11.92 11.92 0 0 0 12.04.257h-.041zm-.005 4.837a7.07 7.07 0 0 0-3.76 1.075A7.2 7.2 0 0 0 6.15 8.093a7.2 7.2 0 0 0-1.161 2.65 7.2 7.2 0 0 0 .04 3.125 7.1 7.1 0 0 0 1.22 2.607c.154.207.326.396.509.597l.185.202.005.006q.012.01.026.027c.635.738.957 1.533.957 2.36a3.4 3.4 0 0 1-1.788 2.989 12 12 0 0 0 2.685 1.087c.14-.088.614-.441 1.077-1.083a4.9 4.9 0 0 0 .94-2.99 6.6 6.6 0 0 0-.49-2.37 6.7 6.7 0 0 0-1.302-2.033l-.002-.004-.124-.142c-.21-.245-.428-.497-.602-.792a4.1 4.1 0 0 1-.462-1.135 4.26 4.26 0 0 1-.024-1.85 4.25 4.25 0 0 1 .686-1.564 4.22 4.22 0 0 1 3.432-1.773h.085a4.2 4.2 0 0 1 3.432 1.773c.33.466.568 1.007.686 1.565a4.3 4.3 0 0 1-.023 1.849 4.1 4.1 0 0 1-.463 1.135c-.173.295-.391.547-.602.792l-.123.142-.004.004a6.7 6.7 0 0 0-1.301 2.033 6.6 6.6 0 0 0-.49 2.37 4.9 4.9 0 0 0 .94 2.99c.463.642.937.995 1.076 1.083a11.8 11.8 0 0 0 2.687-1.087 3.4 3.4 0 0 1-1.789-2.988c0-.817.313-1.59.956-2.359q.015-.018.027-.03l.006-.004.184-.204c.183-.2.355-.39.51-.596a7.1 7.1 0 0 0 1.22-2.608 7.2 7.2 0 0 0 .04-3.124 7.2 7.2 0 0 0-1.16-2.65 7.2 7.2 0 0 0-2.044-1.924 7.07 7.07 0 0 0-3.762-1.075h-.09zM12 9.97a2.365 2.365 0 0 0-2.362 2.361A2.364 2.364 0 0 0 12 14.691a2.363 2.363 0 0 0 2.36-2.36A2.364 2.364 0 0 0 12 9.968z"/></svg> <span class=md-ellipsis> High Availability </span> </a> <label class="md-nav__link " for=__nav_9_9 id=__nav_9_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9_9> <span class="md-nav__icon md-icon"></span> High Availability </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation-and-configuration-of-pacemaker/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of Pacemaker </span> </a> </li> <li class=md-nav__item> <a href=../load-balancing-multiple-wan-connections/ class=md-nav__link> <span class=md-ellipsis> Load Balancing Multiple WAN Connections </span> </a> </li> <li class=md-nav__item> <a href=../quickly-grant-user-access-to-cluster-commands/ class=md-nav__link> <span class=md-ellipsis> Quickly Grant User Access to Cluster Commands </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_9_4> <div class="md-nav__link md-nav__container"> <a href=../Servers/High-Availability/HA-Proxy/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8m1-7v3h2l-3 3-3-3h2v-3m-6 0h3v2l3-3-3-3v2H5m6 0V8H9l3-3 3 3h-2v3m6 0h-3V9l-3 3 3 3v-2h3"/></svg> <span class=md-ellipsis> HA Proxy </span> </a> <label class="md-nav__link " for=__nav_9_9_4 id=__nav_9_9_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_9_4_label aria-expanded=false> <label class=md-nav__title for=__nav_9_9_4> <span class="md-nav__icon md-icon"></span> HA Proxy </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../haproxy-load-balance-your-traffic/ class=md-nav__link> <span class=md-ellipsis> HAProxy: Load Balance Your Traffic </span> </a> </li> <li class=md-nav__item> <a href=../load-balancing-and-fail-over-for-web-services/ class=md-nav__link> <span class=md-ellipsis> Load Balancing and Fail Over for Web Services </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_9_5> <div class="md-nav__link md-nav__container"> <a href=../Servers/High-Availability/Heartbeat/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.5 4A5.5 5.5 0 0 0 2 9.5c0 .5.09 1 .22 1.5H6.3l1.27-3.37c.3-.8 1.48-.88 1.86 0L11.5 13l.59-1.42c.13-.33.48-.58.91-.58h8.78c.13-.5.22-1 .22-1.5A5.5 5.5 0 0 0 16.5 4c-1.86 0-3.5.93-4.5 2.34C11 4.93 9.36 4 7.5 4M3 12.5a1 1 0 0 0-1 1 1 1 0 0 0 1 1h2.44L11 20c1 .9 1 .9 2 0l5.56-5.5H21a1 1 0 0 0 1-1 1 1 0 0 0-1-1h-7.6l-.93 2.3c-.4 1.01-1.55.87-1.92.03L8.5 9.5l-.96 2.33c-.15.38-.49.67-.94.67z"/></svg> <span class=md-ellipsis> Heartbeat </span> </a> <label class="md-nav__link " for=__nav_9_9_5 id=__nav_9_9_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_9_5_label aria-expanded=false> <label class=md-nav__title for=__nav_9_9_5> <span class="md-nav__icon md-icon"></span> Heartbeat </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation-and-configuration-of-a-heartbeat-v1-cluster/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of a Heartbeat V1 Cluster </span> </a> </li> <li class=md-nav__item> <a href=../installation-and-configuration-of-a-heartbeat-v2-cluster/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of a Heartbeat V2 Cluster </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_9_6> <div class="md-nav__link md-nav__container"> <a href=../Servers/High-Availability/Keep%20Alived/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m22 12-5 10L7.1 6.04 4.24 12H2L7 2l9.9 15.96L19.76 12z"/></svg> <span class=md-ellipsis> Keep Alived </span> </a> <label class="md-nav__link " for=__nav_9_9_6 id=__nav_9_9_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_9_6_label aria-expanded=false> <label class=md-nav__title for=__nav_9_9_6> <span class="md-nav__icon md-icon"></span> Keep Alived </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation-and-configuration-of-keepalivedpound-with-failover-and-session-support/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of KeepAlived/Pound with Failover and Session Support </span> </a> </li> <li class=md-nav__item> <a href=../pound-installation-and-configuration-of-a-reverse-proxy/ class=md-nav__link> <span class=md-ellipsis> Pound: Installation and Configuration of a Reverse Proxy </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_9_7> <div class="md-nav__link md-nav__container"> <a href=../Servers/High-Availability/RedHat%20Cluster%20Suite/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.009 13.386c1.577 0 3.86-.326 3.86-2.202a1.8 1.8 0 0 0-.04-.431l-.94-4.08c-.216-.898-.406-1.305-1.982-2.093-1.223-.625-3.888-1.658-4.676-1.658-.733 0-.947.946-1.822.946-.842 0-1.467-.706-2.255-.706-.757 0-1.25.515-1.63 1.576 0 0-1.06 2.99-1.197 3.424a.8.8 0 0 0-.028.245c0 1.162 4.577 4.974 10.71 4.974m4.101-1.435c.218 1.032.218 1.14.218 1.277 0 1.765-1.984 2.745-4.593 2.745-5.895.004-11.06-3.451-11.06-5.734a2.3 2.3 0 0 1 .19-.925C2.746 9.415 0 9.794 0 12.217c0 3.969 9.405 8.861 16.851 8.861 5.71 0 7.149-2.582 7.149-4.62 0-1.605-1.387-3.425-3.887-4.512"/></svg> <span class=md-ellipsis> RedHat Cluster Suite </span> </a> <label class="md-nav__link " for=__nav_9_9_7 id=__nav_9_9_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_9_7_label aria-expanded=false> <label class=md-nav__title for=__nav_9_9_7> <span class="md-nav__icon md-icon"></span> RedHat Cluster Suite </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation-and-configuration-of-red-hat-cluster-suite/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of Red Hat Cluster Suite </span> </a> </li> <li class=md-nav__item> <a href=../installing-a-red-hat-4-cluster/ class=md-nav__link> <span class=md-ellipsis> Installing a Red Hat 4 Cluster </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_9_8> <div class="md-nav__link md-nav__container"> <a href=../Servers/High-Availability/Storage/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11.959.257A11.9 11.9 0 0 0 3.503 3.76 11.92 11.92 0 0 0 0 12.217a11.9 11.9 0 0 0 1.207 5.243c.72 1.474 1.888 2.944 3.208 4.044.86-.47 1.35-.99 1.453-1.545.1-.533-.134-1.107-.737-1.805a9.03 9.03 0 0 1-2.219-5.937c0-4.988 4.058-9.047 9.047-9.047h.08c4.99 0 9.048 4.059 9.048 9.047a9.03 9.03 0 0 1-2.218 5.936c-.599.693-.84 1.292-.735 1.83.108.556.595 1.068 1.449 1.522 1.322-1.1 2.489-2.57 3.209-4.046A11.9 11.9 0 0 0 24 12.217a11.93 11.93 0 0 0-3.503-8.457A11.92 11.92 0 0 0 12.04.257h-.041zm-.005 4.837a7.07 7.07 0 0 0-3.76 1.075A7.2 7.2 0 0 0 6.15 8.093a7.2 7.2 0 0 0-1.161 2.65 7.2 7.2 0 0 0 .04 3.125 7.1 7.1 0 0 0 1.22 2.607c.154.207.326.396.509.597l.185.202.005.006q.012.01.026.027c.635.738.957 1.533.957 2.36a3.4 3.4 0 0 1-1.788 2.989 12 12 0 0 0 2.685 1.087c.14-.088.614-.441 1.077-1.083a4.9 4.9 0 0 0 .94-2.99 6.6 6.6 0 0 0-.49-2.37 6.7 6.7 0 0 0-1.302-2.033l-.002-.004-.124-.142c-.21-.245-.428-.497-.602-.792a4.1 4.1 0 0 1-.462-1.135 4.26 4.26 0 0 1-.024-1.85 4.25 4.25 0 0 1 .686-1.564 4.22 4.22 0 0 1 3.432-1.773h.085a4.2 4.2 0 0 1 3.432 1.773c.33.466.568 1.007.686 1.565a4.3 4.3 0 0 1-.023 1.849 4.1 4.1 0 0 1-.463 1.135c-.173.295-.391.547-.602.792l-.123.142-.004.004a6.7 6.7 0 0 0-1.301 2.033 6.6 6.6 0 0 0-.49 2.37 4.9 4.9 0 0 0 .94 2.99c.463.642.937.995 1.076 1.083a11.8 11.8 0 0 0 2.687-1.087 3.4 3.4 0 0 1-1.789-2.988c0-.817.313-1.59.956-2.359q.015-.018.027-.03l.006-.004.184-.204c.183-.2.355-.39.51-.596a7.1 7.1 0 0 0 1.22-2.608 7.2 7.2 0 0 0 .04-3.124 7.2 7.2 0 0 0-1.16-2.65 7.2 7.2 0 0 0-2.044-1.924 7.07 7.07 0 0 0-3.762-1.075h-.09zM12 9.97a2.365 2.365 0 0 0-2.362 2.361A2.364 2.364 0 0 0 12 14.691a2.363 2.363 0 0 0 2.36-2.36A2.364 2.364 0 0 0 12 9.968z"/></svg> <span class=md-ellipsis> Storage </span> </a> <label class="md-nav__link " for=__nav_9_9_8 id=__nav_9_9_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_9_8_label aria-expanded=false> <label class=md-nav__title for=__nav_9_9_8> <span class="md-nav__icon md-icon"></span> Storage </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ceph-performance-reliability-and-scalability-storage-solution/ class=md-nav__link> <span class=md-ellipsis> Ceph: Performance, Reliability and Scalability Storage Solution </span> </a> </li> <li class=md-nav__item> <a href=../gfs2-red-hat-cluster-filesystem/ class=md-nav__link> <span class=md-ellipsis> GFS2: Red Hat Cluster Filesystem </span> </a> </li> <li class=md-nav__item> <a href=../glusterfs-high-availability-cluster-filesystem/ class=md-nav__link> <span class=md-ellipsis> GlusterFS: High Availability Cluster Filesystem </span> </a> </li> <li class=md-nav__item> <a href=../installation-and-configuration-of-drbd/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of DRBD </span> </a> </li> <li class=md-nav__item> <a href=../ocfs2-oracles-cluster-file-system/ class=md-nav__link> <span class=md-ellipsis> OCFS2: Oracle's Cluster File System </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_9_9> <div class="md-nav__link md-nav__container"> <a href=../Servers/High-Availability/Sun%20Cluster/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 12h4a5 5 0 0 1 5-5 5 5 0 0 1 5 5h4a1 1 0 0 1 1 1 1 1 0 0 1-1 1H3a1 1 0 0 1-1-1 1 1 0 0 1 1-1m2 4h14a1 1 0 0 1 1 1 1 1 0 0 1-1 1H5a1 1 0 0 1-1-1 1 1 0 0 1 1-1m12 4a1 1 0 0 1 1 1 1 1 0 0 1-1 1H7a1 1 0 0 1-1-1 1 1 0 0 1 1-1zm-2-8a3 3 0 0 0-3-3 3 3 0 0 0-3 3zM12 2l2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm17.31 0-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15z"/></svg> <span class=md-ellipsis> Sun Cluster </span> </a> <label class="md-nav__link " for=__nav_9_9_9 id=__nav_9_9_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_9_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9_9_9> <span class="md-nav__icon md-icon"></span> Sun Cluster </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation-and-configuration-of-sun-cluster/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of SUN Cluster </span> </a> </li> <li class=md-nav__item> <a href=../installation-of-sun-cluster/ class=md-nav__link> <span class=md-ellipsis> Installation of Sun Cluster </span> </a> </li> <li class=md-nav__item> <a href=../introduction-and-architecture-of-setting-up-a-sun-cluster/ class=md-nav__link> <span class=md-ellipsis> Introduction and Architecture of Setting Up a SUN Cluster </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-a-quorum-server/ class=md-nav__link> <span class=md-ellipsis> Setting up a quorum server </span> </a> </li> <li class=md-nav__item> <a href=../upgrading-sun-cluster/ class=md-nav__link> <span class=md-ellipsis> Upgrading SUN Cluster </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_10> <div class="md-nav__link md-nav__container"> <a href=../Servers/Misc/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.83 13.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17z"/></svg> <span class=md-ellipsis> Misc </span> </a> <label class="md-nav__link " for=__nav_9_10 id=__nav_9_10_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_10_label aria-expanded=false> <label class=md-nav__title for=__nav_9_10> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../firefox-sync-server-create-your-own-sync-server/ class=md-nav__link> <span class=md-ellipsis> Firefox Sync Server: Create Your Own Sync Server </span> </a> </li> <li class=md-nav__item> <a href=../firefox-mass-management-on-windows-environment/ class=md-nav__link> <span class=md-ellipsis> Firefox: Mass Management on Windows Environment </span> </a> </li> <li class=md-nav__item> <a href=../asterisk-setting-up-asterisk-pbx-and-web-based-provisioning-gui/ class=md-nav__link> <span class=md-ellipsis> Asterisk: Setting up Asterisk PBX and Web-Based Provisioning GUI </span> </a> </li> <li class=md-nav__item> <a href=../avantfax-setting-up-a-hylafax-server-with-avantfax/ class=md-nav__link> <span class=md-ellipsis> AvantFax: Setting Up a HylaFax Server with AvantFax </span> </a> </li> <li class=md-nav__item> <a href=../basic-architecture-with-asterisk-and-freephonie/ class=md-nav__link> <span class=md-ellipsis> Basic Architecture with Asterisk and Freephonie </span> </a> </li> <li class=md-nav__item> <a href=../cups-setting-up-a-print-server/ class=md-nav__link> <span class=md-ellipsis> CUPS: Setting Up a Print Server </span> </a> </li> <li class=md-nav__item> <a href=../mediatomb-setting-up-a-multimedia-upnp-server/ class=md-nav__link> <span class=md-ellipsis> MediaTomb: Setting up a multimedia (UPnP) server </span> </a> </li> <li class=md-nav__item> <a href=../ocs-inventory-setting-up-automatic-network-inventory/ class=md-nav__link> <span class=md-ellipsis> OCS Inventory: Setting up Automatic Network Inventory </span> </a> </li> <li class=md-nav__item> <a href=../rancid-search-setting-up-a-search-tool-for-rancid/ class=md-nav__link> <span class=md-ellipsis> Rancid Search: Setting Up a Search Tool for Rancid </span> </a> </li> <li class=md-nav__item> <a href=../seafile-make-your-personal-storage-cloud-easily/ class=md-nav__link> <span class=md-ellipsis> Seafile: Make Your Personal Storage Cloud Easily </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-a-watchdog/ class=md-nav__link> <span class=md-ellipsis> Setting up a Watchdog </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-a-wifi-hotspot/ class=md-nav__link> <span class=md-ellipsis> Setting up a WiFi Hotspot </span> </a> </li> <li class=md-nav__item> <a href=../sphinx-setup-a-full-text-indexer/ class=md-nav__link> <span class=md-ellipsis> Sphinx: Setup a Full Text Indexer </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_10_14> <div class="md-nav__link md-nav__container"> <a href=../Servers/Misc/Hardware/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M23.87 11.525c.071.013.13.084.13.157v3.033a.166.166 0 0 1-.13.157l-2.875.535a.24.24 0 0 0-.17.151l-.898 2.242a.25.25 0 0 0 .017.229l1.633 2.379a.17.17 0 0 1-.02.204l-2.144 2.144a.17.17 0 0 1-.203.019l-2.338-1.604a.23.23 0 0 0-.224-.008l-1.03.55a.12.12 0 0 1-.17-.062l-2.125-5.135a.16.16 0 0 1 .062-.192l.258-.158c.048-.03.113-.08.163-.125a3.354 3.354 0 1 0-3.612 0c.05.046.115.096.163.125l.258.158a.16.16 0 0 1 .062.192L8.552 21.65a.12.12 0 0 1-.17.063l-1.03-.55a.23.23 0 0 0-.224.007L4.79 22.775a.17.17 0 0 1-.204-.019l-2.145-2.144a.17.17 0 0 1-.019-.204l1.633-2.38a.25.25 0 0 0 .017-.228l-.897-2.242a.24.24 0 0 0-.17-.15L.13 14.871a.166.166 0 0 1-.13-.157v-3.032c0-.073.059-.144.13-.157l2.947-.548a.25.25 0 0 0 .175-.15l.903-2.108a.25.25 0 0 0-.014-.227L2.424 5.989a.17.17 0 0 1 .019-.203L4.587 3.64a.166.166 0 0 1 .204-.019L7.337 5.37c.06.041.163.048.229.016l2.043-.836c.07-.023.137-.1.15-.173l.567-3.047a.17.17 0 0 1 .157-.131h3.034c.073 0 .143.059.157.13l.567 3.048a.25.25 0 0 0 .15.173l2.043.836a.25.25 0 0 0 .23-.016l2.546-1.748a.166.166 0 0 1 .203.02l2.144 2.144c.052.051.06.143.02.203l-1.718 2.503a.25.25 0 0 0-.014.227l.903 2.108a.26.26 0 0 0 .175.15z"/></svg> <span class=md-ellipsis> Hardware </span> </a> <label class="md-nav__link " for=__nav_9_10_14 id=__nav_9_10_14_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_10_14_label aria-expanded=false> <label class=md-nav__title for=__nav_9_10_14> <span class="md-nav__icon md-icon"></span> Hardware </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../migrating-from-multipath-to-powerpath-on-redhat/ class=md-nav__link> <span class=md-ellipsis> Migrating from Multipath to Powerpath on RedHat </span> </a> </li> <li class=md-nav__item> <a href=../multipath-configuring-multiple-paths-for-external-disk-access/ class=md-nav__link> <span class=md-ellipsis> Multipath: Configuring Multiple Paths for External Disk Access </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_10_15> <div class="md-nav__link md-nav__container"> <a href=../Servers/Misc/Instant%20Messaging/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 2H4a2 2 0 0 0-2 2v18l4-4h14a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2"/></svg> <span class=md-ellipsis> Instant Messaging </span> </a> <label class="md-nav__link " for=__nav_9_10_15 id=__nav_9_10_15_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_10_15_label aria-expanded=false> <label class=md-nav__title for=__nav_9_10_15> <span class="md-nav__icon md-icon"></span> Instant Messaging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ejabberd-setting-up-a-jabber-server-instant-messaging/ class=md-nav__link> <span class=md-ellipsis> EJabberd: Setting up a Jabber server (instant messaging) </span> </a> </li> <li class=md-nav__item> <a href=../openfire-installation-of-openfire/ class=md-nav__link> <span class=md-ellipsis> OpenFire: Installation of OpenFire </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_10_16> <div class="md-nav__link md-nav__container"> <a href=../Servers/Misc/NTP/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2m.5 11H11l-4-2.3.8-1.3 3.3 1.9V7h1.5v6Z"/></svg> <span class=md-ellipsis> NTP </span> </a> <label class="md-nav__link " for=__nav_9_10_16 id=__nav_9_10_16_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_10_16_label aria-expanded=false> <label class=md-nav__title for=__nav_9_10_16> <span class="md-nav__icon md-icon"></span> NTP </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ntp-creating-an-ntp-server/ class=md-nav__link> <span class=md-ellipsis> NTP: Creating an NTP Server </span> </a> </li> <li class=md-nav__item> <a href=../openntpd-setting-up-an-ntp-server-on-openbsd/ class=md-nav__link> <span class=md-ellipsis> OpenNTPd: Setting up an NTP server on OpenBSD </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_10_17> <div class="md-nav__link md-nav__container"> <a href=../Servers/Misc/Remote%20Install/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h7v2H8v2h8v-2h-2v-2h7a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2M3 4h18v12H3M15 5l-3.5 3.5L15 12l1.4-1.4-2.1-2.1 2.1-2.1M9 8 7.6 9.4l2.1 2.1-2.1 2.1L9 15l3.5-3.5"/></svg> <span class=md-ellipsis> Remote Install </span> </a> <label class="md-nav__link " for=__nav_9_10_17 id=__nav_9_10_17_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_10_17_label aria-expanded=false> <label class=md-nav__title for=__nav_9_10_17> <span class="md-nav__icon md-icon"></span> Remote Install </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../satellite-deploying-red-hat-os-via-red-hat-satellite/ class=md-nav__link> <span class=md-ellipsis> Satellite: Deploying Red Hat OS via Red Hat Satellite </span> </a> </li> <li class=md-nav__item> <a href=../tftp-pxe-server-os-deployment-under-linux/ class=md-nav__link> <span class=md-ellipsis> TFTP: PXE Server, OS Deployment under Linux </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_11> <div class="md-nav__link md-nav__container"> <a href=../Servers/Monitoring/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12s12-5.373 12-12c0-6.628-5.373-12-12-12m0 22.46c-1.885 0-3.414-1.26-3.414-2.814h6.828c0 1.553-1.528 2.813-3.414 2.813zm5.64-3.745H6.36v-2.046h11.28zm-.04-3.098H6.391q-.056-.064-.111-.13c-1.155-1.401-1.427-2.133-1.69-2.879-.005-.025 1.4.287 2.395.511 0 0 .513.119 1.262.255-.72-.843-1.147-1.915-1.147-3.01 0-2.406 1.845-4.508 1.18-6.207.648.053 1.34 1.367 1.387 3.422.689-.951.977-2.69.977-3.755 0-1.103.727-2.385 1.454-2.429-.648 1.069.168 1.984.894 4.256.272.854.237 2.29.447 3.201.07-1.892.395-4.652 1.595-5.605-.529 1.2.079 2.702.494 3.424.671 1.164 1.078 2.047 1.078 3.716a4.64 4.64 0 0 1-1.11 2.996c.792-.149 1.34-.283 1.34-.283l2.573-.502s-.374 1.538-1.81 3.019z"/></svg> <span class=md-ellipsis> Monitoring </span> </a> <label class="md-nav__link " for=__nav_9_11 id=__nav_9_11_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_11_label aria-expanded=false> <label class=md-nav__title for=__nav_9_11> <span class="md-nav__icon md-icon"></span> Monitoring </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../glances-all-in-one-monitoring-shell-tool/ class=md-nav__link> <span class=md-ellipsis> Glances: All in One Monitoring Shell Tool </span> </a> </li> <li class=md-nav__item> <a href=../installation-and-configuration-of-a-centreon-server/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of a Centreon Server </span> </a> </li> <li class=md-nav__item> <a href=../mailgraph-email-monitoring-spam-rejects-viruses/ class=md-nav__link> <span class=md-ellipsis> Mailgraph: Email Monitoring (Spam, Rejects, Viruses...) </span> </a> </li> <li class=md-nav__item> <a href=../mrtg-network-focused-monitoring/ class=md-nav__link> <span class=md-ellipsis> MRTG: Network-Focused Monitoring </span> </a> </li> <li class=md-nav__item> <a href=../oreon-setting-up-a-simplified-and-more-elegant-solution-for-nagios/ class=md-nav__link> <span class=md-ellipsis> Oreon: Setting up a simplified and more elegant solution for Nagios </span> </a> </li> <li class=md-nav__item> <a href=../rrdtool-create-your-own-graphics-with-rrdtool/ class=md-nav__link> <span class=md-ellipsis> RRDtool: Create Your Own Graphics with RRDtool </span> </a> </li> <li class=md-nav__item> <a href=../shinken-installation-and-configuration-of-nagios-successor/ class=md-nav__link> <span class=md-ellipsis> Shinken: Installation and Configuration of Nagios' Successor </span> </a> </li> <li class=md-nav__item> <a href=../smokeping-monitoring-latency/ class=md-nav__link> <span class=md-ellipsis> Smokeping: Monitoring Latency </span> </a> </li> <li class=md-nav__item> <a href=../snmp-the-network-management-protocol/ class=md-nav__link> <span class=md-ellipsis> SNMP: The Network Management Protocol </span> </a> </li> <li class=md-nav__item> <a href=../watchdog-hardware-problem-detection/ class=md-nav__link> <span class=md-ellipsis> Watchdog: Hardware Problem Detection </span> </a> </li> <li class=md-nav__item> <a href=../weathermap4rrd-creating-monitoring-maps/ class=md-nav__link> <span class=md-ellipsis> Weathermap4RRD: Creating Monitoring Maps </span> </a> </li> <li class=md-nav__item> <a href=../xen-and-vserver-monitoring-vms-on-a-php-page/ class=md-nav__link> <span class=md-ellipsis> Xen and vserver: monitoring VMs on a PHP page </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_11_13> <div class="md-nav__link md-nav__container"> <a href=../Servers/Monitoring/Cacti/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M22 21H2V3h2v16h2v-9h4v9h2V6h4v13h2v-5h4z"/></svg> <span class=md-ellipsis> Cacti </span> </a> <label class="md-nav__link " for=__nav_9_11_13 id=__nav_9_11_13_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_11_13_label aria-expanded=false> <label class=md-nav__title for=__nav_9_11_13> <span class="md-nav__icon md-icon"></span> Cacti </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation-and-configuration-of-cacti/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of Cacti </span> </a> </li> <li class=md-nav__item> <a href=../create-your-own-graphs/ class=md-nav__link> <span class=md-ellipsis> Create Your Own Graphs </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_11_14> <div class="md-nav__link md-nav__container"> <a href=../Servers/Monitoring/Collectd/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2M9 17H7v-7h2zm4 0h-2V7h2zm4 0h-2v-4h2z"/></svg> <span class=md-ellipsis> Collectd </span> </a> <label class="md-nav__link " for=__nav_9_11_14 id=__nav_9_11_14_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_11_14_label aria-expanded=false> <label class=md-nav__title for=__nav_9_11_14> <span class="md-nav__icon md-icon"></span> Collectd </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../collectd-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> Collectd: Installation and Configuration </span> </a> </li> <li class=md-nav__item> <a href=../collection3-a-web-interface-for-collectd/ class=md-nav__link> <span class=md-ellipsis> Collection3: A Web Interface for Collectd </span> </a> </li> <li class=md-nav__item> <a href=../heymon-a-web-interface-for-collectd/ class=md-nav__link> <span class=md-ellipsis> Heymon: A Web Interface for Collectd </span> </a> </li> <li class=md-nav__item> <a href=../jarmon-a-web-interface-for-collectd/ class=md-nav__link> <span class=md-ellipsis> Jarmon: A Web Interface for Collectd </span> </a> </li> <li class=md-nav__item> <a href=../observium-an-advanced-interface-for-collectd/ class=md-nav__link> <span class=md-ellipsis> Observium: An Advanced Interface for Collectd </span> </a> </li> <li class=md-nav__item> <a href=../visage-a-web-interface-for-collectd/ class=md-nav__link> <span class=md-ellipsis> Visage: A Web Interface for Collectd </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_11_15> <div class="md-nav__link md-nav__container"> <a href=../Servers/Monitoring/Logging/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M5 8.25a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4A.75.75 0 0 1 5 8.25M4 10.5A.75.75 0 0 0 4 12h4a.75.75 0 0 0 0-1.5z"/><path d="M13-.005c1.654 0 3 1.328 3 3 0 .982-.338 1.933-.783 2.818-.443.879-1.028 1.758-1.582 2.588l-.011.017c-.568.853-1.104 1.659-1.501 2.446-.398.789-.623 1.494-.623 2.136a1.5 1.5 0 1 0 2.333-1.248.75.75 0 0 1 .834-1.246A3 3 0 0 1 13 16H3a3 3 0 0 1-3-3c0-1.582.891-3.135 1.777-4.506q.315-.483.623-.946c.473-.709.923-1.386 1.287-2.048H2.51c-.576 0-1.381-.133-1.907-.783A2.68 2.68 0 0 1 0 2.995a3 3 0 0 1 3-3Zm0 1.5a1.5 1.5 0 0 0-1.5 1.5c0 .476.223.834.667 1.132A.75.75 0 0 1 11.75 5.5H5.368c-.467 1.003-1.141 2.015-1.773 2.963-.192.289-.381.571-.558.845C2.13 10.711 1.5 11.916 1.5 13A1.5 1.5 0 0 0 3 14.5h7.401A3 3 0 0 1 10 13c0-.979.338-1.928.784-2.812.441-.874 1.023-1.748 1.575-2.576l.017-.026c.568-.853 1.103-1.658 1.501-2.448s.623-1.497.623-2.143c0-.838-.669-1.5-1.5-1.5m-10 0a1.5 1.5 0 0 0-1.5 1.5c0 .321.1.569.27.778.097.12.325.227.74.227h7.674A2.7 2.7 0 0 1 10 2.995c0-.546.146-1.059.401-1.5Z"/></svg> <span class=md-ellipsis> Logging </span> </a> <label class="md-nav__link " for=__nav_9_11_15 id=__nav_9_11_15_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_11_15_label aria-expanded=false> <label class=md-nav__title for=__nav_9_11_15> <span class="md-nav__icon md-icon"></span> Logging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../fluentd-quickly-search-in-your-logs-with-elasticsearch-kibana-and-fluentd/ class=md-nav__link> <span class=md-ellipsis> Fluentd: Quickly Search in Your Logs with Elasticsearch, Kibana and Fluentd </span> </a> </li> <li class=md-nav__item> <a href=../php-syslog-ng-interpretation-of-syslog-ng-logs-in-a-web-interface/ class=md-nav__link> <span class=md-ellipsis> PHP-syslog-ng: Interpretation of Syslog-ng logs in a web interface </span> </a> </li> <li class=md-nav__item> <a href=../rsyslog-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> Rsyslog: Installation and Configuration </span> </a> </li> <li class=md-nav__item> <a href=../syslog-ng-installation-and-configuration-of-syslog-ng/ class=md-nav__link> <span class=md-ellipsis> Syslog-ng: Installation and Configuration of Syslog-ng </span> </a> </li> <li class=md-nav__item> <a href=../tenshi-system-log-analysis/ class=md-nav__link> <span class=md-ellipsis> Tenshi: System Log Analysis </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_11_16> <div class="md-nav__link md-nav__container"> <a href=../Servers/Monitoring/Munin/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m16 11.78 4.24-7.33 1.73 1-5.23 9.05-6.51-3.75L5.46 19H22v2H2V3h2v14.54L9.5 8z"/></svg> <span class=md-ellipsis> Munin </span> </a> <label class="md-nav__link " for=__nav_9_11_16 id=__nav_9_11_16_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_11_16_label aria-expanded=false> <label class=md-nav__title for=__nav_9_11_16> <span class="md-nav__icon md-icon"></span> Munin </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../monit-easily-use-triggers-on-your-system/ class=md-nav__link> <span class=md-ellipsis> Monit: Easily Use Triggers on Your System </span> </a> </li> <li class=md-nav__item> <a href=../monit-and-munin-monitor-with-munin-and-get-alerts-with-monit/ class=md-nav__link> <span class=md-ellipsis> Monit and Munin: Monitor with Munin and Get Alerts with Monit </span> </a> </li> <li class=md-nav__item> <a href=../monitoring-windows-with-munin/ class=md-nav__link> <span class=md-ellipsis> Monitoring Windows with Munin </span> </a> </li> <li class=md-nav__item> <a href=../munin-monitor-your-servers-in-a-very-simple-way/ class=md-nav__link> <span class=md-ellipsis> Munin: Monitor your servers in a very simple way </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_11_17> <div class="md-nav__link md-nav__container"> <a href=../Servers/Monitoring/Nagios/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 9h5.5L13 3.5zM6 2h8l6 6v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4c0-1.11.89-2 2-2m1 18h2v-6H7zm4 0h2v-8h-2zm4 0h2v-4h-2z"/></svg> <span class=md-ellipsis> Nagios </span> </a> <label class="md-nav__link " for=__nav_9_11_17 id=__nav_9_11_17_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_11_17_label aria-expanded=false> <label class=md-nav__title for=__nav_9_11_17> <span class="md-nav__icon md-icon"></span> Nagios </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../check-mk-easily-collect-nagios-information-and-extend-its-capabilities/ class=md-nav__link> <span class=md-ellipsis> Check MK: Easily collect Nagios information and extend its capabilities </span> </a> </li> <li class=md-nav__item> <a href=../email-summary-of-current-nagios-alerts/ class=md-nav__link> <span class=md-ellipsis> Email Summary of Current Nagios Alerts </span> </a> </li> <li class=md-nav__item> <a href=../nagios-2-load-balancing/ class=md-nav__link> <span class=md-ellipsis> Nagios: 2 Load Balancing </span> </a> </li> <li class=md-nav__item> <a href=../nagios-improving-the-look-of-notification-emails/ class=md-nav__link> <span class=md-ellipsis> Nagios: Improving the Look of Notification Emails </span> </a> </li> <li class=md-nav__item> <a href=../nagios-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> Nagios: Installation and Configuration </span> </a> </li> <li class=md-nav__item> <a href=../nagvis-map-your-architecture-with-nagios-alerts/ class=md-nav__link> <span class=md-ellipsis> NagVis: Map Your Architecture with Nagios Alerts </span> </a> </li> <li class=md-nav__item> <a href=../ndoutils-sending-states-to-a-database/ class=md-nav__link> <span class=md-ellipsis> NDOUtils: Sending States to a Database </span> </a> </li> <li class=md-nav__item> <a href=../pnp4nagios-graph-your-nagios-alerts/ class=md-nav__link> <span class=md-ellipsis> PNP4Nagios: Graph Your Nagios Alerts </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-a-distributed-monitoring-solution-with-nagios-checkmk-and-thruk/ class=md-nav__link> <span class=md-ellipsis> Setting up a distributed monitoring solution with Nagios, CheckMK and Thruk </span> </a> </li> <li class=md-nav__item> <a href=../thruk-an-advanced-interface-for-nagios-and-mklivestatus/ class=md-nav__link> <span class=md-ellipsis> Thruk: An Advanced Interface for Nagios and MKlivestatus </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_12> <div class="md-nav__link md-nav__container"> <a href=../Servers/Network/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13.607 14.583h-3.215l-1.626-2.764 1.626-2.802h3.215l1.626 2.802zM14.186 8H9.799l-2.2 3.813 2.2 3.787h4.387l2.213-3.787zm-4.387 8.4-2.2 3.813L9.799 24h4.387l2.213-3.787-2.213-3.813zm-1.034 3.819 1.627-2.802h3.215l1.626 2.802-1.626 2.765h-3.215zM9.799 0l-2.2 3.813 2.2 3.787h4.387l2.213-3.787L14.186 0zM8.765 3.819l1.627-2.802h3.215l1.626 2.802-1.626 2.764h-3.215zm8.234 8.581-2.2 3.813 2.2 3.787h4.388l2.213-3.787-2.213-3.813zm-1.034 3.819 1.627-2.802h3.215l1.626 2.802-1.626 2.765h-3.215zM16.999 4l-2.2 3.813 2.2 3.787h4.388L23.6 7.813 21.387 4zm-1.034 3.819 1.627-2.802h3.215l1.626 2.802-1.626 2.764h-3.215zM2.599 12.4l-2.2 3.813L2.599 20h4.387l2.213-3.787L6.986 12.4zm-1.034 3.819 1.627-2.802h3.214l1.627 2.802-1.627 2.765H3.192zM2.599 4l-2.2 3.813 2.2 3.787h4.387l2.213-3.787L6.986 4zM1.565 7.819l1.627-2.802h3.214l1.627 2.802-1.627 2.764H3.192z"/></svg> <span class=md-ellipsis> Network </span> </a> <label class="md-nav__link " for=__nav_9_12 id=__nav_9_12_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_12_label aria-expanded=false> <label class=md-nav__title for=__nav_9_12> <span class="md-nav__icon md-icon"></span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../metallb-lb-k8s/ class=md-nav__link> <span class=md-ellipsis> MetalLB: Self-hosted Load Balancers for Kubernetes </span> </a> </li> <li class=md-nav__item> <a href=../ntop-installation-and-configuration-of-ntop-network-top/ class=md-nav__link> <span class=md-ellipsis> NTOP: Installation and Configuration of NTOP (Network TOP) </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-vlan/ class=md-nav__link> <span class=md-ellipsis> Setting up VLAN </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_12_4> <div class="md-nav__link md-nav__container"> <a href=../Servers/Network/DHCP/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 14h2v3h3v2h-3v3h-2v-3h-3v-2h3zm3-2c0-3.36-2.07-6.23-5-7.41V5c0 1.1-.9 2-2 2h-2v2c0 .55-.45 1-1 1H8v2h6c.5 0 .9.35 1 .81-1.8 1.04-3 2.98-3 5.19 0 1.5.54 2.85 1.44 3.9L12 22C6.5 22 2 17.5 2 12S6.5 2 12 2s10 4.5 10 10l-.1 1.44c-.56-.48-1.2-.85-1.9-1.1zm-9 7.93V18c-1.1 0-2-.9-2-2v-1l-4.79-4.79C4.08 10.78 4 11.38 4 12c0 4.08 3.06 7.44 7 7.93"/></svg> <span class=md-ellipsis> DHCP </span> </a> <label class="md-nav__link " for=__nav_9_12_4 id=__nav_9_12_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_12_4_label aria-expanded=false> <label class=md-nav__title for=__nav_9_12_4> <span class="md-nav__icon md-icon"></span> DHCP </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../dhcp-installation-and-configuration-of-a-dhcp-server/ class=md-nav__link> <span class=md-ellipsis> DHCP: Installation and Configuration of a DHCP Server </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-dhcp-failover/ class=md-nav__link> <span class=md-ellipsis> Setting up DHCP Failover </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_12_5> <div class="md-nav__link md-nav__container"> <a href=../Servers/Network/VPN/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M23.98 11.645S24.533 0 11.735 0C.418 0 .064 11.17.064 11.17S-1.6 24 11.997 24C25.04 24 23.98 11.645 23.98 11.645M8.155 7.576c2.4-1.47 5.469-.571 6.618 1.638.218.419.246 1.063.108 1.503-.477 1.516-1.601 2.366-3.145 2.728.455-.39.817-.832.933-1.442a2.11 2.11 0 0 0-.364-1.677 2.14 2.14 0 0 0-2.465-.75c-.95.36-1.47 1.228-1.377 2.294.087.99.839 1.632 2.245 1.876-.21.111-.372.193-.53.281a5.1 5.1 0 0 0-1.644 1.43c-.143.192-.24.208-.458.075-2.827-1.729-3.009-6.067.078-7.956zM6.04 18.258c-.455.116-.895.286-1.359.438.227-1.532 2.021-2.943 3.539-2.782a3.9 3.9 0 0 0-.74 2.072c-.504.093-.98.155-1.44.272M15.703 3.3c.448.017.898.01 1.347.02a2 2 0 0 1 .334.047 3 3 0 0 1-.34.434c-.16.15-.341.296-.573.069-.055-.055-.187-.042-.283-.044-.447-.005-.894-.02-1.34-.003a8 8 0 0 0-1.154.118c-.072.013-.178.25-.146.338.078.207.191.435.359.567.619.49 1.277.928 1.9 1.413.604.472 1.167.99 1.51 1.7.446.928.46 1.9.267 2.877-.322 1.63-1.147 2.98-2.483 3.962-.538.395-1.205.62-1.821.903-.543.25-1.1.465-1.644.712-.98.446-1.53 1.51-1.369 2.615.149 1.015 1.04 1.862 2.059 2.037 1.223.21 2.486-.586 2.785-1.83.336-1.397-.423-2.646-1.845-3.024l-.256-.066c.38-.17.708-.291 1.012-.458q.793-.437 1.558-.925c.15-.096.231-.096.36.014.977.846 1.56 1.898 1.724 3.187.27 2.135-.74 4.096-2.646 5.101-2.948 1.555-6.557-.215-7.208-3.484-.558-2.8 1.418-5.34 3.797-5.83 1.023-.211 1.958-.637 2.685-1.425.47-.508.697-.944.775-1.141a3.2 3.2 0 0 0 .217-1.158 2.7 2.7 0 0 0-.237-.992c-.248-.566-1.2-1.466-1.435-1.656l-2.24-1.754c-.079-.065-.168-.06-.36-.047-.23.016-.815.048-1.067-.018.204-.155.76-.38 1-.56-.726-.49-1.554-.314-2.315-.46.176-.328 1.046-.831 1.541-.888a7 7 0 0 0-.135-.822c-.03-.111-.154-.22-.263-.283-.262-.154-.541-.281-.843-.434a1.76 1.76 0 0 1 .906-.28 3.4 3.4 0 0 1 .908.088c.54.123.97.042 1.399-.324-.338-.136-.676-.26-1.003-.407a10 10 0 0 1-.942-.493c.85.118 1.671.437 2.54.32l.022-.118-2.018-.47c1.203-.11 2.323-.128 3.384.388.299.146.61.266.897.432.14.08.233.24.348.365.09.098.164.23.276.29.424.225.89.234 1.366.223l.01-.16c.479.15 1.017.702 1.017 1.105-.776 0-1.55-.003-2.325.004-.083 0-.165.061-.247.094.078.046.155.128.235.131m-1-1.147a.118.118 0 0 0-.016.19.18.18 0 0 0 .246.065c.075-.038.148-.078.238-.125-.072-.062-.13-.114-.19-.163-.106-.087-.193-.032-.278.033"/></svg> <span class=md-ellipsis> VPN </span> </a> <label class="md-nav__link " for=__nav_9_12_5 id=__nav_9_12_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_12_5_label aria-expanded=false> <label class=md-nav__title for=__nav_9_12_5> <span class="md-nav__icon md-icon"></span> VPN </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../openvpn-setting-up-openvpn-on-different-platforms/ class=md-nav__link> <span class=md-ellipsis> OpenVPN: Setting up OpenVPN on different platforms </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_13> <div class="md-nav__link md-nav__container"> <a href=../Servers/Security/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 12h7c-.53 4.11-3.28 7.78-7 8.92zH5V6.3l7-3.11M12 1 3 5v6c0 5.55 3.84 10.73 9 12 5.16-1.27 9-6.45 9-12V5z"/></svg> <span class=md-ellipsis> Security </span> </a> <label class="md-nav__link " for=__nav_9_13 id=__nav_9_13_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_13_label aria-expanded=false> <label class=md-nav__title for=__nav_9_13> <span class="md-nav__icon md-icon"></span> Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../banners-hiding-application-banners-service-banner-faking/ class=md-nav__link> <span class=md-ellipsis> Banners: Hiding Application Banners (Service Banner Faking) </span> </a> </li> <li class=md-nav__item> <a href=../create-a-pki/ class=md-nav__link> <span class=md-ellipsis> Create a PKI </span> </a> </li> <li class=md-nav__item> <a href=../rinetd-simply-and-quickly-forward-to-other-machines/ class=md-nav__link> <span class=md-ellipsis> Rinetd: Simply and Quickly Forward to Other Machines </span> </a> </li> <li class=md-nav__item> <a href=../rkhunter-detection-of-rootkits-and-malware/ class=md-nav__link> <span class=md-ellipsis> Rkhunter: Detection of rootkits and malware </span> </a> </li> <li class=md-nav__item> <a href=../stunnel-creating-an-ssl-tunnel/ class=md-nav__link> <span class=md-ellipsis> Stunnel: Creating an SSL Tunnel </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_13_6> <div class="md-nav__link md-nav__container"> <a href=../Servers/Security/Iptables/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 11c0 5.55-3.84 10.74-9 12-5.16-1.26-9-6.45-9-12V5l9-4 9 4zm-9 10c3.75-1 7-5.46 7-9.78V6.3l-7-3.12L5 6.3v4.92C5 15.54 8.25 20 12 21m-2-4-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9"/></svg> <span class=md-ellipsis> Iptables </span> </a> <label class="md-nav__link " for=__nav_9_13_6 id=__nav_9_13_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_13_6_label aria-expanded=false> <label class=md-nav__title for=__nav_9_13_6> <span class="md-nav__icon md-icon"></span> Iptables </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../basic-iptables-commands/ class=md-nav__link> <span class=md-ellipsis> Basic IPTables Commands </span> </a> </li> <li class=md-nav__item> <a href=../iptables-configuration-examples/ class=md-nav__link> <span class=md-ellipsis> Iptables: Configuration Examples </span> </a> </li> <li class=md-nav__item> <a href=../launch-firewall-rules-before-interfaces-come-up/ class=md-nav__link> <span class=md-ellipsis> Launch Firewall Rules Before Interfaces Come Up </span> </a> </li> <li class=md-nav__item> <a href=../nfqueue-filter-thousands-of-ip-addresses-eg-by-country/ class=md-nav__link> <span class=md-ellipsis> Nfqueue: Filter Thousands of IP Addresses (e.g., by Country) </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_13_7> <div class="md-nav__link md-nav__container"> <a href=../Servers/Security/Packet%20Filter/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M6.122.392a1.75 1.75 0 0 1 1.756 0l5.25 3.045c.54.313.872.89.872 1.514V7.25a.75.75 0 0 1-1.5 0V5.677L7.75 8.432v6.384a1 1 0 0 1-1.502.865L.872 12.563A1.75 1.75 0 0 1 0 11.049V4.951c0-.624.332-1.2.872-1.514ZM7.125 1.69a.25.25 0 0 0-.25 0l-4.63 2.685L7 7.133l4.755-2.758ZM1.5 11.049a.25.25 0 0 0 .125.216l4.625 2.683V8.432L1.5 5.677Zm10.828 3.684 1.173-1.233H10.25a.75.75 0 0 1 0-1.5h3.251l-1.173-1.233a.75.75 0 1 1 1.087-1.034l2.378 2.5a.75.75 0 0 1 0 1.034l-2.378 2.5a.75.75 0 0 1-1.087-1.034"/></svg> <span class=md-ellipsis> Packet Filter </span> </a> <label class="md-nav__link " for=__nav_9_13_7 id=__nav_9_13_7_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_13_7_label aria-expanded=false> <label class=md-nav__title for=__nav_9_13_7> <span class="md-nav__icon md-icon"></span> Packet Filter </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../introduction-to-packet-filter/ class=md-nav__link> <span class=md-ellipsis> Introduction to Packet Filter </span> </a> </li> <li class=md-nav__item> <a href=../packet-filter-fighting-against-brute-force-attacks/ class=md-nav__link> <span class=md-ellipsis> Packet Filter: Fighting Against Brute Force Attacks </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_13_8> <div class="md-nav__link md-nav__container"> <a href=../Servers/Security/Snort/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M7.53 14.994c.257-.027.46-.392.582-.555-.23-.163-.718.217-.582.555m11.815-1.747c-1.03 1.34-2.629 3.305-2.588 4.511.23-1.016 1.355-1.26 2.94-3.36.84-1.097 1.138-1.3 2.222-3.211.04-.054.718-.271.556-.474-1.315.474-2.575 1.829-3.13 2.534m4.43-5.054c-.325-.529-1.26-.773-1.991-.637-2.683.623-6.3-.23-7.276-.8-.068 0 .149-.528.013-.731.203-.136.271-.217.528-.15.461.204 1.03.123 1.49.055-.27-.528-.541-1.558-.948-2.154-.393.325-1.002.582-1.395.853-.732-1.978-3.211-2.33-5.217-1.192-.054.027-.108.027-.108.027s-.542-1.138-.772-1.667C7.38 2.217 6.757 2.8 6.486 2.8c-.542 0-1.192 0-1.72-.068 0 .922.352 1.992.392 2.792-.8.799-1.585 1.585-2.113 2.588-.583-.136-1.233-.23-1.843.027-.38.162-.827.636-.678 1.165.082.298.461.61 1.193.8-1.41 1.354-2.128 4.213-.84 5.202-.326.325-.719.637-.84 1.07-.15.57.176.773.569.854.731.136 1.26-.23 1.802-.555 1.138.677 1.91.623 3.238.69.135 0 .447.394.447.394s-.894-.095-1.355.04c-.623.19-1.165.772-.732 1.274.637.759 1.87 1.03 2.981.759.678.718.366 1.896-.772 2.37.99-.067 2.14-.731 2.263-2.1.027-.257-.122-.677-.325-.88-.136-.136-.312-.325-.312-.325s.555-1.057-.596-1.653c.46-.095 1.328-.461 1.328-.461s.352.406.663.46c.34.055.732-.135.868-.46.19-.488-.393-.867-.393-.867l.46-.732s.407.38.583.678c.57.948.678 1.896 1.206 2.831.27.461.732.84 1.192 1.044a2.5 2.5 0 0 0 1.274.08c.745-.135 1.341-.378 1.761-.636 2.954-1.761 5.027-4.065 6.83-7.33.446-.88 1.422-2.602.758-3.658m-8.4-3.943s.176.311.27.528c.136.325.394.962.394.962l-.529-.095-.501-.352s-.068.257-.352.474c-.136-.393.149-.582-.244-1.016.311-.203.962-.501.962-.501m-7.29 15.853c.122.704-.501 1.422-.935 1.693.38-.582.746-.84.312-2.046-.176-.474-.596-.813-1.03-1.097-.135-.095-.311-.15-.515-.203-.216-.055-.46.108-.664.311 0 0 .624.312 1.166.407.311.406-.312.42-.312.42-.068.067-1.788-.176-1.68-1.016.04-.326.69-.935 1.992-.434.731.284 1.558 1.3 1.666 1.965m-.732-2.48c.326.149.326.528.326.867 0 .068-.068.068-.136.136-.203-.366-.542-.542-.867-.8-.068-.054-.108-.081-.04-.149.216-.203.487-.176.717-.054m2.426-1.138c-.122.46-.556.38-.596.149-.04-.203.217-.271.298-.366.068.04.311.149.298.217m2.507 1.22c-.719-2.141-2.697-4.106-3.659-4.675-.054-.027-.176.149-.176.149s.867.813 1.003 1.409c.135.528-.163 1.097-.501 1.49-1.328 1.26-3.117 1.016-4.824.895-.528-.041-1.314-.393-.908-1.193-.596.461-1.517 1.328-2.195 1.057-.135-.054-.325-.38-.19-.69.244-.516 1.057-1.315 1.762-1.667.04-.068-.054-.204-.312-.082-.27.122-.8.637-1.016.529-1.206-.597-.434-2.819-.04-3.55.487-.908 1.124-1.07 1.788-1.274-.786-.135-1.396-.217-1.789-.623-.203-.271-.108-.474.095-.732a1.56 1.56 0 0 1 .705-.42c.27-.081.501-.04.759.014.65.135.69.474 1.016.406-.068-.149-.407-.46-.339-.596a5.95 5.95 0 0 1 1.572-1.978c.095-.082.162-.095.298-.095.203.068.122.27.244.46.203.34.745.326 1.07.068.664-.528.88-1.517 1.152-2.317 0-.067.217-.487-.15-.365-.175.731-.46 1.327-.866 1.991-.203.271-.434.502-.76.38-.067-.068-.202-.109-.23-.312-.135-.948-.325-2.723-.325-2.723s.922.122 1.274.04c.203-.04.664-.596 1.125-.786.325.461.636.908.921 1.355 1.328-.596 2.886-1.07 4.2-.08.461.392.962.893 1.111 1.34.122.34.19 1.166.109 1.789 1.124.596 2.235.935 3.495 1.179.556.108.99.162 1.532.203.27.027.907.108 2.167-.108-2.588.528-4.674 2.195-6.422 4.213-.867.99-2.412 3.415-2.615 4.296-.081.365-.095.555-.081 1.002Zm10.568-6.572c-.434 1.273-1.545 2.954-2.696 4.2-1.07 1.165-4.106 3.956-6.247 3.835-1.002-.055-1.395-1.084-1.03-2.236.678-2.181 3.7-6.612 7.534-8.197.8-.325 2.195-.474 2.52-.054.434.61.19 1.653-.08 2.452Zm-2.914-.068c.177-.339.38-.474.448-.745.068-.46.88-.163.921-.772-1.382.216-3.13 1.883-4.281 3.306-1.193 1.463-2.886 3.577-2.724 5.121.271-1.273.746-.745 2.683-3.103 1.057-1.273 2.141-2.303 2.954-3.807m-6.504-5.569c-.217-.23-.38.325-.501.23-.42-.311.23-1.409-.583-1.544-.664-.122-1.151.637-1.585 1.07.203.65.962-1.165 1.49-.636.217.216.204.677.312.935-.38-.136-.8.447-.637.934.054.15.23.258.312.176.149-.094-.081-.176-.095-.216a.61.61 0 0 1 .176-.637c.176-.15.15.095.081.311-.04.136-.149.217-.121.312.243.203.42-.623.42-.623s.528.217.731-.312m.082.474c-.068.068-.163.109-.19.244-.027.15-.163.34-.095.488.285.15.583-.298.501-.582 0-.082-.067-.23-.216-.15m.067.34c-.013.121-.027.108-.081.203s-.081.013-.095-.068.014-.095.054-.23c.027-.109.068-.095.082-.095.067 0 .054.067.04.19"/></svg> <span class=md-ellipsis> Snort </span> </a> <label class="md-nav__link " for=__nav_9_13_8 id=__nav_9_13_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_13_8_label aria-expanded=false> <label class=md-nav__title for=__nav_9_13_8> <span class="md-nav__icon md-icon"></span> Snort </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../introduction-to-ids-and-snort/ class=md-nav__link> <span class=md-ellipsis> Introduction to IDS and SNORT </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-snort-base-basic-analysis-and-security-engine/ class=md-nav__link> <span class=md-ellipsis> Setting up Snort & BASE (Basic Analysis and Security Engine) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_14> <div class="md-nav__link md-nav__container"> <a href=../Servers/Versionning/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg> <span class=md-ellipsis> Versionning </span> </a> <label class="md-nav__link " for=__nav_9_14 id=__nav_9_14_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_14_label aria-expanded=false> <label class=md-nav__title for=__nav_9_14> <span class="md-nav__icon md-icon"></span> Versionning </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_14_1> <div class="md-nav__link md-nav__container"> <a href=../Servers/Versionning/CVS/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M5.45 5.154A4.25 4.25 0 0 0 9.25 7.5h1.378a2.251 2.251 0 1 1 0 1.5H9.25A5.73 5.73 0 0 1 5 7.123v3.505a2.25 2.25 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.95-.218M4.25 13.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5m8.5-4.5a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5M5 3.25a.75.75 0 1 0 0 .005z"/></svg> <span class=md-ellipsis> CVS </span> </a> <label class="md-nav__link " for=__nav_9_14_1 id=__nav_9_14_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_14_1_label aria-expanded=false> <label class=md-nav__title for=__nav_9_14_1> <span class="md-nav__icon md-icon"></span> CVS </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cvs-using-cvs/ class=md-nav__link> <span class=md-ellipsis> CVS: Using CVS </span> </a> </li> <li class=md-nav__item> <a href=../cvs-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> CVS Installation and Configuration </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-acls-for-cvs/ class=md-nav__link> <span class=md-ellipsis> Setting up ACLs for CVS </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_14_2> <div class="md-nav__link md-nav__container"> <a href=../Servers/Versionning/Git/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M23.546 10.93 13.067.452a1.55 1.55 0 0 0-2.188 0L8.708 2.627l2.76 2.76a1.838 1.838 0 0 1 2.327 2.341l2.658 2.66a1.838 1.838 0 0 1 1.9 3.039 1.837 1.837 0 0 1-2.6 0 1.85 1.85 0 0 1-.404-1.996L12.86 8.955v6.525c.176.086.342.203.488.348a1.85 1.85 0 0 1 0 2.6 1.844 1.844 0 0 1-2.609 0 1.834 1.834 0 0 1 0-2.598c.182-.18.387-.316.605-.406V8.835a1.834 1.834 0 0 1-.996-2.41L7.636 3.7.45 10.881c-.6.605-.6 1.584 0 2.189l10.48 10.477a1.545 1.545 0 0 0 2.186 0l10.43-10.43a1.544 1.544 0 0 0 0-2.187"/></svg> <span class=md-ellipsis> Git </span> </a> <label class="md-nav__link " for=__nav_9_14_2 id=__nav_9_14_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_14_2_label aria-expanded=false> <label class=md-nav__title for=__nav_9_14_2> <span class="md-nav__icon md-icon"></span> Git </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../gitweb-installation-and-configuration-of-a-web-interface-for-git/ class=md-nav__link> <span class=md-ellipsis> Gitweb: Installation and configuration of a web interface for git </span> </a> </li> <li class=md-nav__item> <a href=../nginx-git-and-gitweb/ class=md-nav__link> <span class=md-ellipsis> Nginx Git and Gitweb </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-a-git-server-and-client/ class=md-nav__link> <span class=md-ellipsis> Setting Up a Git Server and Client </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_14_3> <div class="md-nav__link md-nav__container"> <a href=../Servers/Versionning/SVN/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M24 20.753v-6.306q-4.928 1.942-12.23 3.786Q4.968 19.95 0 20.708v.045zM0 14.078v5.133q5.608-.825 10.13-1.967 4.443-1.122 6.847-2.18 2.402-1.055 2.22-1.78-.16-.63-2.217-.645-1.054.015-2.904.15-1.855.136-4.61.426-4.274.457-7.1.694-1.344.113-2.366.17zm1.035 2.95q.09.001.16.07a.233.233 0 0 1-.256.382.2.2 0 0 1-.075-.05c-.023-.014-.04-.044-.05-.074 0-.015-.016-.045-.016-.09 0-.06.03-.12.075-.165s.105-.06.18-.06zm.81 0q.094.001.165.07a.23.23 0 0 1 .066.166q0 .098-.067.168a.27.27 0 0 1-.27.048.2.2 0 0 1-.076-.05c-.03-.014-.045-.044-.06-.074-.015-.015-.015-.045-.015-.09 0-.06.014-.12.06-.165s.104-.06.164-.06zm-.81-1.51q.09-.001.16.07.07.067.07.165 0 .097-.07.165c-.07.068-.1.07-.164.07a.23.23 0 0 1-.167-.07.23.23 0 0 1-.07-.165c0-.067.016-.123.06-.168s.106-.068.166-.068zm.81 0q.094-.001.165.07.067.067.066.165 0 .097-.067.165c-.06.045-.106.07-.18.07s-.12-.024-.166-.07a.24.24 0 0 1-.075-.165c0-.067.014-.123.06-.168s.104-.068.164-.068zM24 4.597V9.41q-2.452.15-6.138.534c-2.49.27-4.52.48-6.093.615-1.576.15-2.713.226-3.41.24-1.363.03-2.09-.15-2.195-.554-.105-.45.705-1.05 2.445-1.77 1.74-.735 4.05-1.47 6.9-2.19 2.505-.63 5.34-1.185 8.49-1.65zm-.855-1.35q-4.883.909-10.114 2.23Q4.865 7.541 0 9.573V3.248h23.146z"/></svg> <span class=md-ellipsis> SVN </span> </a> <label class="md-nav__link " for=__nav_9_14_3 id=__nav_9_14_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_14_3_label aria-expanded=false> <label class=md-nav__title for=__nav_9_14_3> <span class="md-nav__icon md-icon"></span> SVN </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation-and-configuration-of-an-svn-repository/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of an SVN Repository </span> </a> </li> <li class=md-nav__item> <a href=../svk-creating-a-read-only-mirror-for-svn/ class=md-nav__link> <span class=md-ellipsis> SVK: Creating a Read-Only Mirror for SVN </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_15> <div class="md-nav__link md-nav__container"> <a href=../Servers/Virtualization/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M0 1.758 5.182 20c.129.455.25.691.421.945q.094.137.202.264.26.305.59.525c.243.163.49.286.763.371.324.1.61.137.99.137h4.327l1.918-6.615h6.798v3.699a.11.11 0 0 1-.109.11h-4.88l-.813 2.806h5.654a2.92 2.92 0 0 0 1.95-.725A2.9 2.9 0 0 0 24 19.285v-6.47H12.28l-1.919 6.614H7.937L3.715 4.564h2.922l1.546 5.444H11.1l-2.343-8.25zm15.496 0-2.4 8.25H24v-5.29a2.96 2.96 0 0 0-1.825-2.741 3 3 0 0 0-1.129-.22zm2.11 2.806h3.476a.11.11 0 0 1 .11.112V7.2h-4.354z"/></svg> <span class=md-ellipsis> Virtualization </span> </a> <label class="md-nav__link " for=__nav_9_15 id=__nav_9_15_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_15_label aria-expanded=false> <label class=md-nav__title for=__nav_9_15> <span class="md-nav__icon md-icon"></span> Virtualization </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_15_1> <div class="md-nav__link md-nav__container"> <a href=../Servers/Virtualization/KVM%20and%20Qemu/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12.003.064C5.376.064 0 5.407 0 12s5.376 11.936 12.003 11.936c2.169 0 4.2-.57 5.955-1.57l.624 1.57h4.841l-1.893-4.679A11.85 11.85 0 0 0 24 12C24 5.407 18.63.064 12.003.064M8.818 2.03c.398.339.324.198.86.134.61-.397.893.942 1.147.195.748.097 1.542.34 2.25.584a3.45 3.45 0 0 1 1.859 1.128l-.014.007.35.463c.045.08.082.164.12.248.142 1.205 1.48 1.19 2.377 1.625.767.272 1.69.686 1.785 1.611-.193-.042-.941-.921-1.53-1.007a4 4 0 0 1-1.094-.255L14.86 6.38v-.007a3 3 0 0 1-.309-.053v.013l-2.927-.362c.048.033.1.077.148.12l3 .585v-.007l.209.053.839.188c.166.016.334.043.47.067.856.236 1.868.194 2.571.792-.184.352-1.21.153-1.719.108-.062-.012-.131-.023-.194-.034l-.034-.007c-.696-.113-1.411-.12-2.081.088h-.007a3.2 3.2 0 0 0-.671.302c-.968.563-2.164.767-2.967 1.577-.787.847-.739 2.012-.604 3.095h.033v.275q.02.143.04.282c.41 2.19 1.5 4.2 1.84 6.412.065.843.203 1.932.309 2.618-.306-.091-.475-1.462-.544-1.007a38 38 0 0 0-3.565-5.25c-.853-1.004-1.697-2.06-2.712-2.894-.685-.528-.468-1.55-.537-2.302-.23-.926-.094-1.848.06-2.773.313-.963.418-1.968.846-2.893.653-.581.669-1.63 1.303-2.135.094.058.157.085.2.1l.068.008h.007c.09-.095-.888-1.116.02-.712.035-.537.854-.128.866-.597m3.847 2.182c-.323.009-.574.13-.645.335-.114.33.273.755.866.96.594.205 1.168.109 1.282-.221s-.272-.762-.866-.967a1.8 1.8 0 0 0-.637-.107"/></svg> <span class=md-ellipsis> KVM and Qemu </span> </a> <label class="md-nav__link " for=__nav_9_15_1 id=__nav_9_15_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_15_1_label aria-expanded=false> <label class=md-nav__title for=__nav_9_15_1> <span class="md-nav__icon md-icon"></span> KVM and Qemu </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../converting-a-vmware-disk-image-for-qemu-or-xen/ class=md-nav__link> <span class=md-ellipsis> Converting a VMware Disk Image for Qemu or Xen </span> </a> </li> <li class=md-nav__item> <a href=../kvm-setting-up-kvm/ class=md-nav__link> <span class=md-ellipsis> KVM: Setting Up KVM </span> </a> </li> <li class=md-nav__item> <a href=../migrating-from-xen-to-kvm/ class=md-nav__link> <span class=md-ellipsis> Migrating from Xen to KVM </span> </a> </li> <li class=md-nav__item> <a href=../qemu-windows-installation/ class=md-nav__link> <span class=md-ellipsis> QEMU: Windows Installation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_15_2> <div class="md-nav__link md-nav__container"> <a href=../Servers/Virtualization/Xen%20Server/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M11.983 0a1.78 1.78 0 0 0-1.78 1.78 1.78 1.78 0 0 0 1.78 1.78 1.78 1.78 0 0 0 1.78-1.78A1.78 1.78 0 0 0 11.983 0M5.17 5.991a1.026 1.026 0 0 0-1.095 1.027c0 .308.136.616.376.822l6.162 7.086-6.401 7.258a1.08 1.08 0 0 0-.309.787c0 .582.48 1.027 1.062 1.027.342 0 .684-.17.89-.444l6.128-7.19 6.162 7.19c.205.274.547.444.89.444.582.035 1.062-.445 1.062-1.027a1.14 1.14 0 0 0-.309-.787l-6.402-7.258 6.162-7.086c.24-.206.377-.514.377-.822v-.034c0-.582-.513-1.027-1.095-.993-.343 0-.65.171-.856.445l-5.957 7.018L6.06 6.436a1.07 1.07 0 0 0-.855-.445z"/></svg> <span class=md-ellipsis> Xen Server </span> </a> <label class="md-nav__link " for=__nav_9_15_2 id=__nav_9_15_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_15_2_label aria-expanded=false> <label class=md-nav__title for=__nav_9_15_2> <span class="md-nav__icon md-icon"></span> Xen Server </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../setting-up-xen/ class=md-nav__link> <span class=md-ellipsis> Setting up Xen </span> </a> </li> <li class=md-nav__item> <a href=../xenserver-41-changing-the-management-interface/ class=md-nav__link> <span class=md-ellipsis> XenServer 4.1: Changing the Management Interface </span> </a> </li> <li class=md-nav__item> <a href=../xenserver-50-configuring-xenserver-with-sun-hardware/ class=md-nav__link> <span class=md-ellipsis> XenServer 5.0: Configuring XenServer with SUN Hardware </span> </a> </li> <li class=md-nav__item> <a href=../xenserver-50-tips-tricks/ class=md-nav__link> <span class=md-ellipsis> XenServer 5.0: Tips & Tricks </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_15_3> <div class="md-nav__link md-nav__container"> <a href=../Servers/Virtualization/Xen%20Source/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 4.6v4.8c0 .9.5 1.6 1.2 1.6h17.7c.6 0 1.2-.7 1.2-1.6V4.6C22 3.7 21.5 3 20.8 3H3.2C2.5 3 2 3.7 2 4.6M10 8V6H9v2zM5 8h2V6H5zm15 1H4V5h16zM2 14.6v4.8c0 .9.5 1.6 1.2 1.6h17.7c.6 0 1.2-.7 1.2-1.6v-4.8c0-.9-.5-1.6-1.2-1.6H3.2c-.7 0-1.2.7-1.2 1.6m8 3.4v-2H9v2zm-5 0h2v-2H5zm15 1H4v-4h16z"/></svg> <span class=md-ellipsis> Xen Source </span> </a> <label class="md-nav__link " for=__nav_9_15_3 id=__nav_9_15_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_15_3_label aria-expanded=false> <label class=md-nav__title for=__nav_9_15_3> <span class="md-nav__icon md-icon"></span> Xen Source </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../converting-vmware-images-to-xen/ class=md-nav__link> <span class=md-ellipsis> Converting VMware Images to Xen </span> </a> </li> <li class=md-nav__item> <a href=../ganeti-xen-cluster-management/ class=md-nav__link> <span class=md-ellipsis> Ganeti: Xen Cluster Management </span> </a> </li> <li class=md-nav__item> <a href=../port-forwarding-from-dom0-to-bridged-domu-with-ipvs/ class=md-nav__link> <span class=md-ellipsis> Port forwarding from dom0 to bridged domU with IPVS </span> </a> </li> <li class=md-nav__item> <a href=../xen-conversion-p2v/ class=md-nav__link> <span class=md-ellipsis> Xen Conversion P2V </span> </a> </li> <li class=md-nav__item> <a href=../xen-with-bonding-vlan-tagging/ class=md-nav__link> <span class=md-ellipsis> Xen with Bonding + VLAN Tagging </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_16> <div class="md-nav__link md-nav__container"> <a href=../Servers/Web/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m23.351 7.593-7.068-4.379a1.03 1.03 0 0 0-.84-.117c-.02.01-.052.021-.074.032L8.471 6.105a.695.695 0 0 0-.435.68l.17 7.355c.01.298.191.595.478.765l7.068 4.38c.255.159.574.201.84.116.02-.01.053-.021.074-.032l6.898-2.976a.705.705 0 0 0 .436-.68l-.17-7.355c-.011-.297-.192-.584-.479-.765m-7.185 10.044-6.143-3.805-.149-6.388 5.995-2.583 6.143 3.805.149 6.388zm.011-6.027a.83.83 0 0 0-.414-.67l-5.06-3.135-.159.064.032 1.52 4.007 2.487.095 4.06 1.53.946.086-.032zm-6.058 7.132L5.41 15.83l-.116-4.89 2.146-.924-.042-1.69-3.327 1.435a.61.61 0 0 0-.382.595l.138 5.74c0 .265.16.52.414.67l5.516 3.422c.224.138.5.18.734.106a.2.2 0 0 1 .064-.021l3.252-1.403-1.616-1zm-2.615-6.1-1.52-.947.032 1.446 1.52.946zm2.19 5.059-.032-1.414-1.329-.83c-.021-.01-.042-.031-.053-.042l.032 1.425zm-4.751 1.902-3.476-2.158-.085-3.613 1.7-.734-.031-1.445-2.72 1.17a.53.53 0 0 0-.33.51l.106 4.336c0 .223.138.446.35.574l4.167 2.582a.82.82 0 0 0 .627.096c.021-.01.043-.01.064-.021l2.561-1.106-1.392-.86Z"/></svg> <span class=md-ellipsis> Web </span> </a> <label class="md-nav__link " for=__nav_9_16 id=__nav_9_16_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_16_label aria-expanded=false> <label class=md-nav__title for=__nav_9_16> <span class="md-nav__icon md-icon"></span> Web </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../accelerating-cgi-scripts-with-speedycgi-persistantperl/ class=md-nav__link> <span class=md-ellipsis> Accelerating CGI Scripts with SpeedyCGI-PersistantPerl </span> </a> </li> <li class=md-nav__item> <a href=../benchmark-your-website/ class=md-nav__link> <span class=md-ellipsis> Benchmark Your Website </span> </a> </li> <li class=md-nav__item> <a href=../checking-your-website-security-with-nikto/ class=md-nav__link> <span class=md-ellipsis> Checking Your Website Security with Nikto </span> </a> </li> <li class=md-nav__item> <a href=../creating-a-favicon-for-a-website/ class=md-nav__link> <span class=md-ellipsis> Creating a Favicon for a Website </span> </a> </li> <li class=md-nav__item> <a href=../managing-ssl-certificates-signed-by-a-certificate-authority/ class=md-nav__link> <span class=md-ellipsis> Managing SSL Certificates Signed by a Certificate Authority </span> </a> </li> <li class=md-nav__item> <a href=../php-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> PHP: Installation and Configuration </span> </a> </li> <li class=md-nav__item> <a href=../preventing-your-website-from-being-indexed-disabling-robot-scans/ class=md-nav__link> <span class=md-ellipsis> Preventing your website from being indexed (disabling robot scans) </span> </a> </li> <li class=md-nav__item> <a href=../selenium-task-automation-for-web-environments/ class=md-nav__link> <span class=md-ellipsis> Selenium: Task Automation for Web Environments </span> </a> </li> <li class=md-nav__item> <a href=../symfony-installation-and-configuration-of-the-php-framework/ class=md-nav__link> <span class=md-ellipsis> Symfony: Installation and Configuration of the PHP Framework </span> </a> </li> <li class=md-nav__item> <a href=../testing-load-on-servers-and-web-applications/ class=md-nav__link> <span class=md-ellipsis> Testing Load on Servers and Web Applications </span> </a> </li> <li class=md-nav__item> <a href=../tomcat-setting-up-a-tomcat-server/ class=md-nav__link> <span class=md-ellipsis> Tomcat: Setting up a Tomcat server </span> </a> </li> <li class=md-nav__item> <a href=../trac-setting-up-a-tracking-solution/ class=md-nav__link> <span class=md-ellipsis> Trac: Setting up a Tracking Solution </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_16_13> <div class="md-nav__link md-nav__container"> <a href=../Servers/Web/Apache/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17.805 2.197v.066h.156v.44h.072v-.44h.156v-.066zm.9 0-.175.353-.172-.353h-.087v.506h.067V2.3l.172.35h.045l.172-.35v.404h.066v-.506zm-4.257 1c-.204.31-.424.66-.66 1.06l-.04.062a45 45 0 0 0-1.265 2.29q-.281.54-.577 1.146l2.267-.25c.66-.302.955-.578 1.242-.976a16 16 0 0 0 .23-.342c.23-.363.46-.763.663-1.16.197-.386.37-.767.505-1.11q.125-.332.198-.6.062-.236.1-.45c-.884.15-1.965.295-2.668.33zM11.894 7.78l-.077.16q-.117.238-.236.488-.128.27-.26.552l-.132.287a75 75 0 0 0-1.427 3.3q-.244.596-.493 1.23c-.15.38-.297.765-.45 1.164l-.02.06q-.224.594-.453 1.22l-.01.027.72-.08a.2.2 0 0 1-.042-.006c.863-.106 2.01-.75 2.75-1.547.342-.367.652-.8.94-1.306q.319-.564.604-1.258.252-.607.48-1.318c-.196.105-.423.18-.673.235a2 2 0 0 1-.273.046c.806-.31 1.314-.905 1.683-1.64a2.8 2.8 0 0 1-.968.428q-.088.018-.174.03l-.043.006h.002c.278-.118.514-.248.718-.403a2.6 2.6 0 0 0 .637-.698l.063-.104.077-.154a8 8 0 0 0 .367-.85l.03-.088a3 3 0 0 0 .123-.463 1 1 0 0 1-.094.065c-.243.145-.66.277-.996.34l.663-.074-.664.073h-.017l-.1.017q.008-.005.017-.008l-2.265.25-.013.022zM8.27 16.45q-.176.485-.355.992l-.005.015q-.024.07-.05.142c-.08.227-.15.432-.31.9.264.12.475.435.675.793a1.44 1.44 0 0 0-.466-.99c1.293.06 2.41-.27 2.99-1.217q.075-.126.14-.268c-.26.333-.59.474-1.2.44q-.002 0-.005.002l.004-.002c.9-.404 1.354-.79 1.754-1.433q.14-.229.28-.503c-.788.81-1.702 1.04-2.664.865l-.72.078-.067.183zM15.42.112c-.376.222-1 .85-1.748 1.763l.686 1.294c.48-.687.97-1.307 1.462-1.836l.058-.062q-.03.03-.057.062c-.16.176-.644.74-1.375 1.863.703-.035 1.784-.18 2.666-.33.262-1.47-.258-2.142-.258-2.142s-.66-1.07-1.436-.61zm-3.084 6.402a40 40 0 0 1 1.306-2.26l.04-.064q.336-.529.677-1.02l-.685-1.293-.157.192q-.297.369-.613.79a40 40 0 0 0-2.016 2.97l-.022.038.893 1.763q.284-.568.575-1.118zm-3.73 8.32c.158-.406.319-.81.483-1.225.156-.394.32-.79.484-1.19a91 91 0 0 1 1.6-3.604l.205-.424c.12-.243.237-.485.36-.724a.1.1 0 0 1 .02-.04l-.895-1.763-.044.07a44 44 0 0 0-.617 1.042 38 38 0 0 0-1.092 2.04l-.094.193a25 25 0 0 0-1.258 3.087 19 19 0 0 0-.52 1.997l.896 1.77q.177-.476.364-.963zm-1.376-.476a13 13 0 0 0-.234 1.692q-.002.03-.005.06c-.28-.45-1.03-.888-1.026-.884.537.778.944 1.55 1.005 2.31-.29.058-.684-.027-1.14-.195.475.436.83.556.97.588-.434.03-.89.328-1.346.67.668-.27 1.21-.38 1.596-.29-.61 1.74-1.23 3.655-1.843 5.69a.54.54 0 0 0 .364-.354c.11-.368.84-2.786 1.978-5.965l.097-.27.028-.078q.181-.498.374-1.02l.09-.237v-.004L7.24 14.3c-.003.02-.01.04-.012.06z"/></svg> <span class=md-ellipsis> Apache </span> </a> <label class="md-nav__link " for=__nav_9_16_13 id=__nav_9_16_13_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_16_13_label aria-expanded=false> <label class=md-nav__title for=__nav_9_16_13> <span class="md-nav__icon md-icon"></span> Apache </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../geolocation-with-apache-2/ class=md-nav__link> <span class=md-ellipsis> Geolocation with Apache 2 </span> </a> </li> <li class=md-nav__item> <a href=../apache-2-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> Apache 2 Installation and Configuration </span> </a> </li> <li class=md-nav__item> <a href=../load-balancing-with-apache-2/ class=md-nav__link> <span class=md-ellipsis> Load Balancing with Apache 2 </span> </a> </li> <li class=md-nav__item> <a href=../memcached-setting-up-a-cache-server-for-apache/ class=md-nav__link> <span class=md-ellipsis> Memcached: Setting up a Cache Server for Apache </span> </a> </li> <li class=md-nav__item> <a href=../mixing-apache-authentication/ class=md-nav__link> <span class=md-ellipsis> Mixing Apache Authentication </span> </a> </li> <li class=md-nav__item> <a href=../proxy-creating-a-proxy-with-apache/ class=md-nav__link> <span class=md-ellipsis> Proxy: Creating a proxy with Apache </span> </a> </li> <li class=md-nav__item> <a href=../real-time-monitoring-of-your-apache-server/ class=md-nav__link> <span class=md-ellipsis> Real-time monitoring of your Apache server </span> </a> </li> <li class=md-nav__item> <a href=../securing-apache-with-mod_security/ class=md-nav__link> <span class=md-ellipsis> Securing Apache with mod_security </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-ssl-certificates-with-apache-2/ class=md-nav__link> <span class=md-ellipsis> Setting up SSL certificates with Apache 2 </span> </a> </li> <li class=md-nav__item> <a href=../slotlimit-apache-module-to-limit-apache-resources/ class=md-nav__link> <span class=md-ellipsis> Slotlimit: Apache Module to Limit Apache Resources </span> </a> </li> <li class=md-nav__item> <a href=../theme-for-apache-directory-index-listing/ class=md-nav__link> <span class=md-ellipsis> Theme for Apache Directory Index Listing </span> </a> </li> <li class=md-nav__item> <a href=../webdav-securing-with-ssl/ class=md-nav__link> <span class=md-ellipsis> WebDAV: Securing with SSL </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_16_14> <div class="md-nav__link md-nav__container"> <a href=../Servers/Web/Caches/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M22.71 13.145c-1.66 2.092-3.452 4.483-7.038 4.483-3.203 0-4.397-2.825-4.48-5.12.701 1.484 2.073 2.685 4.214 2.63 4.117-.133 6.94-3.852 6.94-7.239 0-4.05-3.022-6.972-8.268-6.972-3.752 0-8.4 1.428-11.455 3.685C2.59 6.937 3.885 9.958 4.35 9.626c2.648-1.904 4.748-3.13 6.784-3.744C8.12 9.244.886 17.05 0 18.425c.1 1.261 1.66 4.648 2.424 4.648.232 0 .431-.133.664-.365a101 101 0 0 0 5.54-6.765c.222 3.104 1.748 6.898 6.014 6.898 3.819 0 7.604-2.756 9.33-8.965.2-.764-.73-1.361-1.261-.73zm-4.349-5.013c0 1.959-1.926 2.922-3.685 2.922a4.45 4.45 0 0 1-2.235-.568c1.051-1.592 2.092-3.225 3.21-4.973 1.972.334 2.71 1.43 2.71 2.619"/></svg> <span class=md-ellipsis> Caches </span> </a> <label class="md-nav__link " for=__nav_9_16_14 id=__nav_9_16_14_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_16_14_label aria-expanded=false> <label class=md-nav__title for=__nav_9_16_14> <span class="md-nav__icon md-icon"></span> Caches </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../varnish-a-website-accelerator/ class=md-nav__link> <span class=md-ellipsis> Varnish: a website accelerator </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_16_15> <div class="md-nav__link md-nav__container"> <a href=../Servers/Web/Lighttpd/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2s-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2s.06-1.35.16-2h4.68c.09.65.16 1.32.16 2s-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.92 7.92 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8 8 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2s.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.7 15.7 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2"/></svg> <span class=md-ellipsis> Lighttpd </span> </a> <label class="md-nav__link " for=__nav_9_16_15 id=__nav_9_16_15_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_16_15_label aria-expanded=false> <label class=md-nav__title for=__nav_9_16_15> <span class="md-nav__icon md-icon"></span> Lighttpd </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../lighttpd-installation-and-configuration-of-an-apache-alternative/ class=md-nav__link> <span class=md-ellipsis> Lighttpd: Installation and configuration of an Apache alternative </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-openssl-with-lighttpd/ class=md-nav__link> <span class=md-ellipsis> Setting up OpenSSL with Lighttpd </span> </a> </li> <li class=md-nav__item> <a href=../vlogger-splitting-lighttpd-logs-with-statistics-generation/ class=md-nav__link> <span class=md-ellipsis> Vlogger: Splitting Lighttpd logs with statistics generation </span> </a> </li> <li class=md-nav__item> <a href=../webdav-with-lighttpd/ class=md-nav__link> <span class=md-ellipsis> WebDAV with Lighttpd </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_16_16> <div class="md-nav__link md-nav__container"> <a href=../Servers/Web/Nginx/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 0 1.605 6v12L12 24l10.395-6V6zm6 16.59c0 .705-.646 1.29-1.529 1.29-.631 0-1.351-.255-1.801-.81l-6-7.141v6.66c0 .721-.57 1.29-1.274 1.29H7.32c-.721 0-1.29-.6-1.29-1.29V7.41c0-.705.63-1.29 1.5-1.29.646 0 1.38.255 1.83.81l5.97 7.141V7.41c0-.721.6-1.29 1.29-1.29h.075c.72 0 1.29.6 1.29 1.29v9.18z"/></svg> <span class=md-ellipsis> Nginx </span> </a> <label class="md-nav__link " for=__nav_9_16_16 id=__nav_9_16_16_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_16_16_label aria-expanded=false> <label class=md-nav__title for=__nav_9_16_16> <span class="md-nav__icon md-icon"></span> Nginx </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../http-substitutions-filter-multiple-filters-with-regex-on-response-bodies/ class=md-nav__link> <span class=md-ellipsis> HTTP Substitutions Filter: Multiple Filters with Regex on Response Bodies </span> </a> </li> <li class=md-nav__item> <a href=../naxsi-integrate-a-waf-for-nginx/ class=md-nav__link> <span class=md-ellipsis> NAXSI: Integrate a WAF for Nginx </span> </a> </li> <li class=md-nav__item> <a href=../nginx-installation-and-configuration-as-an-apache-alternative/ class=md-nav__link> <span class=md-ellipsis> Nginx: Installation and Configuration as an Apache Alternative </span> </a> </li> <li class=md-nav__item> <a href=../nginx-varnish-cache-even-in-https-by-offloading-ssl/ class=md-nav__link> <span class=md-ellipsis> Nginx + Varnish: Cache even in HTTPS by offloading SSL </span> </a> </li> <li class=md-nav__item> <a href=../pagespeed-optimize-your-rendered-code-on-the-fly/ class=md-nav__link> <span class=md-ellipsis> PageSpeed: Optimize Your Rendered Code On The Fly </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_16_17> <div class="md-nav__link md-nav__container"> <a href=../Servers/Web/Proxy/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m23.351 7.593-7.068-4.379a1.03 1.03 0 0 0-.84-.117c-.02.01-.052.021-.074.032L8.471 6.105a.695.695 0 0 0-.435.68l.17 7.355c.01.298.191.595.478.765l7.068 4.38c.255.159.574.201.84.116.02-.01.053-.021.074-.032l6.898-2.976a.705.705 0 0 0 .436-.68l-.17-7.355c-.011-.297-.192-.584-.479-.765m-7.185 10.044-6.143-3.805-.149-6.388 5.995-2.583 6.143 3.805.149 6.388zm.011-6.027a.83.83 0 0 0-.414-.67l-5.06-3.135-.159.064.032 1.52 4.007 2.487.095 4.06 1.53.946.086-.032zm-6.058 7.132L5.41 15.83l-.116-4.89 2.146-.924-.042-1.69-3.327 1.435a.61.61 0 0 0-.382.595l.138 5.74c0 .265.16.52.414.67l5.516 3.422c.224.138.5.18.734.106a.2.2 0 0 1 .064-.021l3.252-1.403-1.616-1zm-2.615-6.1-1.52-.947.032 1.446 1.52.946zm2.19 5.059-.032-1.414-1.329-.83c-.021-.01-.042-.031-.053-.042l.032 1.425zm-4.751 1.902-3.476-2.158-.085-3.613 1.7-.734-.031-1.445-2.72 1.17a.53.53 0 0 0-.33.51l.106 4.336c0 .223.138.446.35.574l4.167 2.582a.82.82 0 0 0 .627.096c.021-.01.043-.01.064-.021l2.561-1.106-1.392-.86Z"/></svg> <span class=md-ellipsis> Proxy </span> </a> <label class="md-nav__link " for=__nav_9_16_17 id=__nav_9_16_17_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_16_17_label aria-expanded=false> <label class=md-nav__title for=__nav_9_16_17> <span class="md-nav__icon md-icon"></span> Proxy </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../safesquid-coupling-with-clamav-to-filter-viruses-on-incoming-traffic/ class=md-nav__link> <span class=md-ellipsis> SafeSquid: Coupling with ClamAV to Filter Viruses on Incoming Traffic </span> </a> </li> <li class=md-nav__item> <a href=../safesquid-setting-up-a-content-filtering-proxy/ class=md-nav__link> <span class=md-ellipsis> SafeSquid: Setting Up a Content Filtering Proxy </span> </a> </li> <li class=md-nav__item> <a href=../squid-installation-and-configuration-of-squid/ class=md-nav__link> <span class=md-ellipsis> Squid: Installation and Configuration of Squid </span> </a> </li> <li class=md-nav__item> <a href=../tinyproxy-setting-up-a-simple-and-fast-proxy/ class=md-nav__link> <span class=md-ellipsis> TinyProxy: Setting up a Simple and Fast Proxy </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_16_18> <div class="md-nav__link md-nav__container"> <a href=../Servers/Web/Traefik/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 1.19c1.088 0 2.056.768 2.056 1.714 0 .947-.921 1.715-2.056 1.715q-.195 0-.509-.064a.7.7 0 0 0-.475.076l-7.37 4.195a.344.344 0 0 0 .001.597l7.99 4.49a.69.69 0 0 0 .669 0l8.034-4.468a.343.343 0 0 0 .003-.598l-2.507-1.424a.68.68 0 0 0-.67-.003l-2.647 1.468a.23.23 0 0 0-.119.18l-.001.025c0 .946-.921 1.714-2.056 1.714s-2.056-.768-2.056-1.714c0-.947.921-1.715 2.056-1.715q.063 0 .145.007l.087.008.096.013a.7.7 0 0 0 .425-.08l3.913-2.173c.3-.166.662-.171.965-.017l.04.023 5.465 3.104a1.03 1.03 0 0 1 .03 1.773l-.037.021-3.656 2.033a.343.343 0 0 0 .007.604l3.62 1.906c.72.378.736 1.402.03 1.804l-10.995 6.272a1.03 1.03 0 0 1-1.019 0L.526 16.43a1.03 1.03 0 0 1 .034-1.806l3.66-1.911a.343.343 0 0 0 .01-.603L.524 10.029a1.03 1.03 0 0 1-.041-1.77l.036-.021L9.618 3.06a.7.7 0 0 0 .308-.369l.011-.036c.32-.952 1.046-1.466 2.063-1.466Zm5.076 12.63-4.492 2.586-.041.022a1.02 1.02 0 0 1-.973-.018l-4.478-2.527a.68.68 0 0 0-.65-.01L3.86 15.224a.343.343 0 0 0-.012.602l7.887 4.515a.68.68 0 0 0 .677 0l7.956-4.547a.343.343 0 0 0-.01-.602l-2.623-1.384a.68.68 0 0 0-.659.012"/></svg> <span class=md-ellipsis> Traefik </span> </a> <label class="md-nav__link " for=__nav_9_16_18 id=__nav_9_16_18_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_16_18_label aria-expanded=false> <label class=md-nav__title for=__nav_9_16_18> <span class="md-nav__icon md-icon"></span> Traefik </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../traefik-a-modern-reverse-proxy-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> Traefik: a modern reverse proxy, installation and configuration </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_17> <div class="md-nav__link md-nav__container"> <a href=../Servers/Webapps/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21.469 6.825c.84 1.537 1.318 3.3 1.318 5.175 0 3.979-2.156 7.456-5.363 9.325l3.295-9.527c.615-1.54.82-2.771.82-3.864 0-.405-.026-.78-.07-1.11m-7.981.105c.647-.03 1.232-.105 1.232-.105.582-.075.514-.93-.067-.899 0 0-1.755.135-2.88.135-1.064 0-2.85-.15-2.85-.15-.585-.03-.661.855-.075.885 0 0 .54.061 1.125.09l1.68 4.605-2.37 7.08L5.354 6.9c.649-.03 1.234-.1 1.234-.1.585-.075.516-.93-.065-.896 0 0-1.746.138-2.874.138-.2 0-.438-.008-.69-.015C4.911 3.15 8.235 1.215 12 1.215c2.809 0 5.365 1.072 7.286 2.833-.046-.003-.091-.009-.141-.009-1.06 0-1.812.923-1.812 1.914 0 .89.513 1.643 1.06 2.531.411.72.89 1.643.89 2.977 0 .915-.354 1.994-.821 3.479l-1.075 3.585-3.9-11.61zM12 22.784c-1.059 0-2.081-.153-3.048-.437l3.237-9.406 3.315 9.087q.036.078.078.149c-1.12.393-2.325.609-3.582.609M1.211 12c0-1.564.336-3.05.935-4.39L7.29 21.709A10.79 10.79 0 0 1 1.211 12M12 0C5.385 0 0 5.385 0 12s5.385 12 12 12 12-5.385 12-12S18.615 0 12 0"/></svg> <span class=md-ellipsis> Webapps </span> </a> <label class="md-nav__link " for=__nav_9_17 id=__nav_9_17_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_17_label aria-expanded=false> <label class=md-nav__title for=__nav_9_17> <span class="md-nav__icon md-icon"></span> Webapps </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ajaxterm-using-a-terminal-via-web/ class=md-nav__link> <span class=md-ellipsis> Ajaxterm: Using a Terminal via Web </span> </a> </li> <li class=md-nav__item> <a href=../awstats-setting-up-awstats-a-web-logs-interpreter/ class=md-nav__link> <span class=md-ellipsis> Awstats: Setting up Awstats, a Web Logs Interpreter </span> </a> </li> <li class=md-nav__item> <a href=../bugzilla-setting-up-a-ticketing-tool/ class=md-nav__link> <span class=md-ellipsis> Bugzilla: Setting Up a Ticketing Tool </span> </a> </li> <li class=md-nav__item> <a href=../jenkins-setting-up-a-continuous-integration-tool/ class=md-nav__link> <span class=md-ellipsis> Jenkins: Setting up a continuous integration tool </span> </a> </li> <li class=md-nav__item> <a href=../limesurvey-setting-up-a-survey-solution/ class=md-nav__link> <span class=md-ellipsis> Limesurvey: Setting up a Survey Solution </span> </a> </li> <li class=md-nav__item> <a href=../mytinytodo-a-simple-task-management-tool/ class=md-nav__link> <span class=md-ellipsis> MyTinyTodo: A Simple Task Management Tool </span> </a> </li> <li class=md-nav__item> <a href=../otrs-setting-up-a-ticketing-tool/ class=md-nav__link> <span class=md-ellipsis> OTRS: Setting up a ticketing tool </span> </a> </li> <li class=md-nav__item> <a href=../piwik-statistics-for-your-website/ class=md-nav__link> <span class=md-ellipsis> Piwik: Statistics for Your Website </span> </a> </li> <li class=md-nav__item> <a href=../pootle-simple-translation-tool/ class=md-nav__link> <span class=md-ellipsis> Pootle: Simple Translation Tool </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_17_10> <div class="md-nav__link md-nav__container"> <a href=../Servers/Webapps/Mediawiki/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12.09 13.119c-.936 1.932-2.217 4.548-2.853 5.728-.616 1.074-1.127.931-1.532.029-1.406-3.321-4.293-9.144-5.651-12.409-.251-.601-.441-.987-.619-1.139q-.27-.225-1.122-.271-.314-.034-.313-.159v-.455l.052-.045c.924-.005 5.401 0 5.401 0l.051.045v.434q0 .177-.225.176l-.564.031c-.485.029-.727.164-.727.436 0 .135.053.33.166.601 1.082 2.646 4.818 10.521 4.818 10.521l.136.046 2.411-4.81-.482-1.067-1.658-3.264s-.318-.654-.428-.872c-.728-1.443-.712-1.518-1.447-1.617-.207-.023-.313-.05-.313-.149v-.468l.06-.045h4.292l.113.037v.451c0 .105-.076.15-.227.15l-.308.047c-.792.061-.661.381-.136 1.422l1.582 3.252 1.758-3.504c.293-.64.233-.801.111-.947-.07-.084-.305-.22-.812-.24l-.201-.021a.23.23 0 0 1-.145-.051.15.15 0 0 1-.067-.129v-.427l.061-.045c1.247-.008 4.043 0 4.043 0l.059.045v.436c0 .121-.059.178-.193.178-.646.03-.782.095-1.023.439-.12.186-.375.589-.646 1.039l-2.301 4.273-.065.135 2.792 5.712.17.048 4.396-10.438c.154-.422.129-.722-.064-.895-.197-.172-.346-.273-.857-.295l-.42-.016a.26.26 0 0 1-.152-.045c-.043-.029-.072-.075-.072-.119v-.436l.059-.045h4.961l.041.045v.437c0 .119-.074.18-.209.18-.648.03-1.127.18-1.443.421-.314.255-.557.616-.736 1.067 0 0-4.043 9.258-5.426 12.339-.525 1.007-1.053.917-1.503-.031-.571-1.171-1.773-3.786-2.646-5.71z"/></svg> <span class=md-ellipsis> Mediawiki </span> </a> <label class="md-nav__link " for=__nav_9_17_10 id=__nav_9_17_10_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_17_10_label aria-expanded=false> <label class=md-nav__title for=__nav_9_17_10> <span class="md-nav__icon md-icon"></span> Mediawiki </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../basic-usage-of-mediawiki/ class=md-nav__link> <span class=md-ellipsis> Basic Usage of MediaWiki </span> </a> </li> <li class=md-nav__item> <a href=../mediawiki-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> MediaWiki: Installation and Configuration </span> </a> </li> <li class=md-nav__item> <a href=../practical-extensions-for-mediawiki/ class=md-nav__link> <span class=md-ellipsis> Practical Extensions for MediaWiki </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_17_11> <div class="md-nav__link md-nav__container"> <a href=../Servers/Webapps/RSS%20feeder/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19.199 24C19.199 13.467 10.533 4.8 0 4.8V0c13.165 0 24 10.835 24 24zM3.291 17.415a3.3 3.3 0 0 1 3.293 3.295A3.303 3.303 0 0 1 3.283 24C1.47 24 0 22.526 0 20.71s1.475-3.294 3.291-3.295M15.909 24h-4.665c0-6.169-5.075-11.245-11.244-11.245V8.09c8.727 0 15.909 7.184 15.909 15.91"/></svg> <span class=md-ellipsis> RSS feeder </span> </a> <label class="md-nav__link " for=__nav_9_17_11 id=__nav_9_17_11_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_17_11_label aria-expanded=false> <label class=md-nav__title for=__nav_9_17_11> <span class="md-nav__icon md-icon"></span> RSS feeder </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../selfoss-an-elegant-rss-reader/ class=md-nav__link> <span class=md-ellipsis> Selfoss: An Elegant RSS Reader </span> </a> </li> <li class=md-nav__item> <a href=../tiny-tiny-rss-an-alternative-to-google-reader/ class=md-nav__link> <span class=md-ellipsis> Tiny Tiny RSS: An Alternative to Google Reader </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_17_12> <div class="md-nav__link md-nav__container"> <a href=../Servers/Webapps/Wordpress/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21.469 6.825c.84 1.537 1.318 3.3 1.318 5.175 0 3.979-2.156 7.456-5.363 9.325l3.295-9.527c.615-1.54.82-2.771.82-3.864 0-.405-.026-.78-.07-1.11m-7.981.105c.647-.03 1.232-.105 1.232-.105.582-.075.514-.93-.067-.899 0 0-1.755.135-2.88.135-1.064 0-2.85-.15-2.85-.15-.585-.03-.661.855-.075.885 0 0 .54.061 1.125.09l1.68 4.605-2.37 7.08L5.354 6.9c.649-.03 1.234-.1 1.234-.1.585-.075.516-.93-.065-.896 0 0-1.746.138-2.874.138-.2 0-.438-.008-.69-.015C4.911 3.15 8.235 1.215 12 1.215c2.809 0 5.365 1.072 7.286 2.833-.046-.003-.091-.009-.141-.009-1.06 0-1.812.923-1.812 1.914 0 .89.513 1.643 1.06 2.531.411.72.89 1.643.89 2.977 0 .915-.354 1.994-.821 3.479l-1.075 3.585-3.9-11.61zM12 22.784c-1.059 0-2.081-.153-3.048-.437l3.237-9.406 3.315 9.087q.036.078.078.149c-1.12.393-2.325.609-3.582.609M1.211 12c0-1.564.336-3.05.935-4.39L7.29 21.709A10.79 10.79 0 0 1 1.211 12M12 0C5.385 0 0 5.385 0 12s5.385 12 12 12 12-5.385 12-12S18.615 0 12 0"/></svg> <span class=md-ellipsis> Wordpress </span> </a> <label class="md-nav__link " for=__nav_9_17_12 id=__nav_9_17_12_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_17_12_label aria-expanded=false> <label class=md-nav__title for=__nav_9_17_12> <span class="md-nav__icon md-icon"></span> Wordpress </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../advanced-wordpress-usage/ class=md-nav__link> <span class=md-ellipsis> Advanced WordPress Usage </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-memcached-on-wordpress/ class=md-nav__link> <span class=md-ellipsis> Setting up Memcached on WordPress </span> </a> </li> <li class=md-nav__item> <a href=../wordpress-useful-extensions/ class=md-nav__link> <span class=md-ellipsis> WordPress: Useful Extensions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_18> <div class="md-nav__link md-nav__container"> <a href=../Servers/eMails/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2"/></svg> <span class=md-ellipsis> eMails </span> </a> <label class="md-nav__link " for=__nav_9_18 id=__nav_9_18_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_9_18_label aria-expanded=false> <label class=md-nav__title for=__nav_9_18> <span class="md-nav__icon md-icon"></span> eMails </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../altermime-automatically-add-a-disclaimer-to-outgoing-emails/ class=md-nav__link> <span class=md-ellipsis> AlterMIME: Automatically Add a Disclaimer to Outgoing Emails </span> </a> </li> <li class=md-nav__item> <a href=../fetchmail-the-ultimate-mail-collector/ class=md-nav__link> <span class=md-ellipsis> Fetchmail - The Ultimate Mail Collector </span> </a> </li> <li class=md-nav__item> <a href=../getmail-an-alternative-to-fetchmail/ class=md-nav__link> <span class=md-ellipsis> Getmail - An Alternative to Fetchmail </span> </a> </li> <li class=md-nav__item> <a href=../imap-mailbox-synchronization/ class=md-nav__link> <span class=md-ellipsis> IMAP Mailbox Synchronization </span> </a> </li> <li class=md-nav__item> <a href=../postgrey-setting-up-greylists-to-fight-spam/ class=md-nav__link> <span class=md-ellipsis> Postgrey: Setting Up Greylists to Fight Spam </span> </a> </li> <li class=md-nav__item> <a href=../procmail-filtering-emails-at-the-source/ class=md-nav__link> <span class=md-ellipsis> Procmail: Filtering emails at the source </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-a-complete-antispam-server/ class=md-nav__link> <span class=md-ellipsis> Setting up a complete antispam server </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-a-courier-pop3-server-with-ssl/ class=md-nav__link> <span class=md-ellipsis> Setting up a Courier POP3 server with SSL </span> </a> </li> <li class=md-nav__item> <a href=../squirrelmail-setting-up-a-simple-yet-advanced-webmail/ class=md-nav__link> <span class=md-ellipsis> SquirrelMail: Setting up a Simple yet Advanced Webmail </span> </a> </li> <li class=md-nav__item> <a href=../z-push-setting-up-an-activesync-server-with-postfix-or-how-to-set-up-push-mail/ class=md-nav__link> <span class=md-ellipsis> Z-Push: Setting Up an ActiveSync Server with Postfix (or How to Set Up Push Mail) </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_18_11> <div class="md-nav__link md-nav__container"> <a href=../Servers/eMails/Exchange/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 20V4l19 8M5 17l11.85-5L5 7v3.5l6 1.5-6 1.5M5 17V7v6.5Z"/></svg> <span class=md-ellipsis> Exchange </span> </a> <label class="md-nav__link " for=__nav_9_18_11 id=__nav_9_18_11_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_18_11_label aria-expanded=false> <label class=md-nav__title for=__nav_9_18_11> <span class="md-nav__icon md-icon"></span> Exchange </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../exchange-repairing-and-defragmenting-databases/ class=md-nav__link> <span class=md-ellipsis> Exchange: Repairing and Defragmenting Databases </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_18_12> <div class="md-nav__link md-nav__container"> <a href=../Servers/eMails/Postfix/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m2 21 21-9L2 3v7l15 2-15 2z"/></svg> <span class=md-ellipsis> Postfix </span> </a> <label class="md-nav__link " for=__nav_9_18_12 id=__nav_9_18_12_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_18_12_label aria-expanded=false> <label class=md-nav__title for=__nav_9_18_12> <span class="md-nav__icon md-icon"></span> Postfix </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../dkfilter-proxy-smtp-signature-mails-made-by-yahoo/ class=md-nav__link> <span class=md-ellipsis> Dkfilter: Proxy SMTP (Signature Mails) Made by Yahoo </span> </a> </li> <li class=md-nav__item> <a href=../installation-and-configuration-of-postfix-and-courier/ class=md-nav__link> <span class=md-ellipsis> Installation and Configuration of Postfix and Courier </span> </a> </li> <li class=md-nav__item> <a href=../postfix-hold-outgoing-mail-transport/ class=md-nav__link> <span class=md-ellipsis> Postfix: hold outgoing mail transport </span> </a> </li> <li class=md-nav__item> <a href=../Servers/eMails/Postfix/postfix_limit_outgoing_mail_throttling.html class=md-nav__link> <span class=md-ellipsis> Postfix limit outgoing mail throttling </span> </a> </li> <li class=md-nav__item> <a href=../postsuper-mass-deletion-of-emails-in-the-queue/ class=md-nav__link> <span class=md-ellipsis> Postsuper: Mass Deletion of Emails in the Queue </span> </a> </li> <li class=md-nav__item> <a href=../running-a-command-when-receiving-an-email/ class=md-nav__link> <span class=md-ellipsis> Running a Command When Receiving an Email </span> </a> </li> <li class=md-nav__item> <a href=../sasl-secure-remote-email-sending-with-postfix-server-sasltls/ class=md-nav__link> <span class=md-ellipsis> SASL: Secure Remote Email Sending with Postfix Server (SASL+TLS) </span> </a> </li> <li class=md-nav__item> <a href=../secondary-mx-setup/ class=md-nav__link> <span class=md-ellipsis> Secondary MX: Setup </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-an-antivirus-clamav-and-amavis/ class=md-nav__link> <span class=md-ellipsis> Setting up an Antivirus (ClamAV and Amavis) </span> </a> </li> <li class=md-nav__item> <a href=../simulate-a-black-hole-for-a-domain-with-postfix/ class=md-nav__link> <span class=md-ellipsis> Simulate a black hole for a domain with Postfix </span> </a> </li> <li class=md-nav__item> <a href=../ssl-certificate-management/ class=md-nav__link> <span class=md-ellipsis> SSL: Certificate Management </span> </a> </li> <li class=md-nav__item> <a href=../swaks-swiss-army-knife-smtp/ class=md-nav__link> <span class=md-ellipsis> Swaks - Swiss Army Knife SMTP </span> </a> </li> <li class=md-nav__item> <a href=../troubleshooting-mails-with-postfix/ class=md-nav__link> <span class=md-ellipsis> Troubleshooting mails with Postfix </span> </a> </li> <li class=md-nav__item> <a href=../virtual-domains/ class=md-nav__link> <span class=md-ellipsis> Virtual Domains </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_18_13> <div class="md-nav__link md-nav__container"> <a href=../Servers/eMails/SPF/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 19c0-3.31 2.69-6 6-6 1.1 0 2.12.3 3 .81V6a2 2 0 0 0-2-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h9.09c-.05-.33-.09-.66-.09-1M4 8V6l8 5 8-5v2l-8 5zm13.75 14.16-2.75-3L16.16 18l1.59 1.59L21.34 16l1.16 1.41z"/></svg> <span class=md-ellipsis> SPF </span> </a> <label class="md-nav__link " for=__nav_9_18_13 id=__nav_9_18_13_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_18_13_label aria-expanded=false> <label class=md-nav__title for=__nav_9_18_13> <span class="md-nav__icon md-icon"></span> SPF </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../openspf-setting-up-openspf/ class=md-nav__link> <span class=md-ellipsis> OpenSPF: Setting up OpenSPF </span> </a> </li> <li class=md-nav__item> <a href=../spf-sender-policy-framework-prevention-of-email-address-forgery/ class=md-nav__link> <span class=md-ellipsis> SPF (Sender Policy Framework): Prevention of Email Address Forgery </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_9_18_14> <div class="md-nav__link md-nav__container"> <a href=../Servers/eMails/Spamassassin/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M24 7h-2v6h2zm0 8h-2v2h2zm-4-9c0-1.1-.9-2-2-2H2C.9 4 0 4.9 0 6v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2zm-2 0-8 5-8-5zm0 12H2V8l8 5 8-5z"/></svg> <span class=md-ellipsis> Spamassassin </span> </a> <label class="md-nav__link " for=__nav_9_18_14 id=__nav_9_18_14_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_9_18_14_label aria-expanded=false> <label class=md-nav__title for=__nav_9_18_14> <span class="md-nav__icon md-icon"></span> Spamassassin </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../fight-spam-more-effectively-additional-rules/ class=md-nav__link> <span class=md-ellipsis> Fight Spam More Effectively - Additional Rules </span> </a> </li> <li class=md-nav__item> <a href=../fuzzyocr-plugin-image-spam-detection-ocr-detection/ class=md-nav__link> <span class=md-ellipsis> FuzzyOcr Plugin: Image Spam Detection (OCR Detection) </span> </a> </li> <li class=md-nav__item> <a href=../spam-reinjection-for-testing/ class=md-nav__link> <span class=md-ellipsis> Spam Reinjection for Testing </span> </a> </li> <li class=md-nav__item> <a href=../spamassassin-installation-and-configuration/ class=md-nav__link> <span class=md-ellipsis> SpamAssassin Installation and Configuration </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10> <div class="md-nav__link md-nav__container"> <a href=../Solaris/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 12h4a5 5 0 0 1 5-5 5 5 0 0 1 5 5h4a1 1 0 0 1 1 1 1 1 0 0 1-1 1H3a1 1 0 0 1-1-1 1 1 0 0 1 1-1m2 4h14a1 1 0 0 1 1 1 1 1 0 0 1-1 1H5a1 1 0 0 1-1-1 1 1 0 0 1 1-1m12 4a1 1 0 0 1 1 1 1 1 0 0 1-1 1H7a1 1 0 0 1-1-1 1 1 0 0 1 1-1zm-2-8a3 3 0 0 0-3-3 3 3 0 0 0-3 3zM12 2l2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm17.31 0-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15z"/></svg> <span class=md-ellipsis> Solaris </span> </a> <label class="md-nav__link " for=__nav_10 id=__nav_10_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Solaris </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_1> <div class="md-nav__link md-nav__container"> <a href=../Solaris/Applications/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m8.809 14.92 6.11-11.037c.084-.152.168-.302.244-.459.069-.142.127-.285.165-.44.08-.326.058-.666-.066-.977a1.5 1.5 0 0 0-.62-.735 1.42 1.42 0 0 0-.922-.193c-.32.043-.613.194-.844.43-.11.11-.2.235-.283.368-.092.146-.175.298-.259.45l-.386.697-.387-.698c-.084-.151-.167-.303-.259-.449a2.2 2.2 0 0 0-.283-.369 1.45 1.45 0 0 0-.844-.429 1.42 1.42 0 0 0-.921.193 1.5 1.5 0 0 0-.62.735c-.125.311-.147.651-.066.977.038.155.096.298.164.44.076.157.16.307.244.459l1.248 2.254-4.862 8.782H2.03c-.168 0-.336 0-.503.01-.152.009-.3.028-.448.071-.31.09-.582.28-.778.548-.195.267-.301.593-.301.928s.106.661.3.928c.197.268.468.457.779.548.148.043.296.062.448.071.167.01.335.01.503.01h13.097c.017-.037.059-.13.1-.27.415-1.416-.616-2.844-2.035-2.844zm-5.696 3.622-.792 1.5c-.082.156-.165.31-.239.471a2.4 2.4 0 0 0-.16.452c-.08.335-.058.684.064 1.003.121.318.334.583.607.755s.589.242.901.197c.314-.044.6-.198.826-.44.108-.115.196-.242.278-.378.09-.15.171-.306.253-.462L6 19.464c-.09-.15-.947-1.47-2.887-.922m20.586-3.006a1.47 1.47 0 0 0-.779-.54 2 2 0 0 0-.448-.071c-.168-.01-.335-.01-.503-.01h-3.321L14.258 7.1a4.06 4.06 0 0 0-1.076 2.198 4.64 4.64 0 0 0 .546 3l5.274 9.393c.084.15.167.3.259.444.084.13.174.253.283.364.231.232.524.38.845.423s.643-.024.922-.19a1.5 1.5 0 0 0 .621-.726c.125-.307.146-.642.066-.964a2.2 2.2 0 0 0-.165-.434c-.075-.155-.16-.303-.244-.453l-1.216-2.166h1.596c.168 0 .335 0 .503-.009.152-.009.3-.028.448-.07a1.47 1.47 0 0 0 .78-.541 1.54 1.54 0 0 0 .3-.916 1.54 1.54 0 0 0-.3-.916"/></svg> <span class=md-ellipsis> Applications </span> </a> <label class="md-nav__link " for=__nav_10_1 id=__nav_10_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_1_label aria-expanded=false> <label class=md-nav__title for=__nav_10_1> <span class="md-nav__icon md-icon"></span> Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../dtrace-real-time-problem-detection/ class=md-nav__link> <span class=md-ellipsis> DTrace: Real-time Problem Detection </span> </a> </li> <li class=md-nav__item> <a href=../jumpstart-automating-solaris-installations-without-networks/ class=md-nav__link> <span class=md-ellipsis> Jumpstart: Automating Solaris Installations Without Networks </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-nagios-nrpe-on-solaris-10/ class=md-nav__link> <span class=md-ellipsis> Setting up Nagios NRPE on Solaris 10 </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-openldap-client/ class=md-nav__link> <span class=md-ellipsis> Setting up OpenLDAP Client </span> </a> </li> <li class=md-nav__item> <a href=../setting-up-vnc-server-on-solaris/ class=md-nav__link> <span class=md-ellipsis> Setting up VNC server on Solaris </span> </a> </li> <li class=md-nav__item> <a href=../ssh-setting-up-ssh-server-on-a-minimal-solaris-installation/ class=md-nav__link> <span class=md-ellipsis> SSH: Setting up SSH Server on a Minimal Solaris Installation </span> </a> </li> <li class=md-nav__item> <a href=../using-the-web-console/ class=md-nav__link> <span class=md-ellipsis> Using the Web Console </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_1_8> <div class="md-nav__link md-nav__container"> <a href=../Solaris/Applications/Services/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 16 16"><path d="M8 0a8 8 0 0 1 .701.031C9.444.095 9.99.645 10.16 1.29l.288 1.107c.018.066.079.158.212.224q.347.171.668.386c.123.082.233.09.299.071l1.103-.303c.644-.176 1.392.021 1.82.63q.406.578.704 1.218c.315.675.111 1.422-.364 1.891l-.814.806c-.049.048-.098.147-.088.294q.024.386 0 .772c-.01.147.038.246.088.294l.814.806c.475.469.679 1.216.364 1.891a8 8 0 0 1-.704 1.217c-.428.61-1.176.807-1.82.63l-1.102-.302c-.067-.019-.177-.011-.3.071a6 6 0 0 1-.668.386c-.133.066-.194.158-.211.224l-.29 1.106c-.168.646-.715 1.196-1.458 1.26a8 8 0 0 1-1.402 0c-.743-.064-1.289-.614-1.458-1.26l-.289-1.106c-.018-.066-.079-.158-.212-.224a6 6 0 0 1-.668-.386c-.123-.082-.233-.09-.299-.071l-1.103.303c-.644.176-1.392-.021-1.82-.63a8 8 0 0 1-.704-1.218c-.315-.675-.111-1.422.363-1.891l.815-.806c.05-.048.098-.147.088-.294a6 6 0 0 1 0-.772c.01-.147-.038-.246-.088-.294l-.815-.806C.635 6.045.431 5.298.746 4.623a8 8 0 0 1 .704-1.217c.428-.61 1.176-.807 1.82-.63l1.102.302c.067.019.177.011.3-.071q.321-.215.668-.386c.133-.066.194-.158.211-.224l.29-1.106C6.009.645 6.556.095 7.299.03Q7.646 0 8 0m-.571 1.525c-.036.003-.108.036-.137.146l-.289 1.105c-.147.561-.549.967-.998 1.189q-.26.13-.5.29c-.417.278-.97.423-1.529.27l-1.103-.303c-.109-.03-.175.016-.195.045q-.33.47-.573.99c-.014.031-.021.11.059.19l.815.806c.411.406.562.957.53 1.456a5 5 0 0 0 0 .582c.032.499-.119 1.05-.53 1.456l-.815.806c-.081.08-.073.159-.059.19q.243.52.573.989c.02.03.085.076.195.046l1.102-.303c.56-.153 1.113-.008 1.53.27q.242.16.501.29c.447.222.85.629.997 1.189l.289 1.105c.029.109.101.143.137.146a6.6 6.6 0 0 0 1.142 0c.036-.003.108-.036.137-.146l.289-1.105c.147-.561.549-.967.998-1.189q.26-.13.5-.29c.417-.278.97-.423 1.529-.27l1.103.303c.109.029.175-.016.195-.045q.33-.47.573-.99c.014-.031.021-.11-.059-.19l-.815-.806c-.411-.406-.562-.957-.53-1.456a5 5 0 0 0 0-.582c-.032-.499.119-1.05.53-1.456l.815-.806c.081-.08.073-.159.059-.19a6.5 6.5 0 0 0-.573-.989c-.02-.03-.085-.076-.195-.046l-1.102.303c-.56.153-1.113.008-1.53-.27a4.4 4.4 0 0 0-.501-.29c-.447-.222-.85-.629-.997-1.189l-.289-1.105c-.029-.11-.101-.143-.137-.146a6.6 6.6 0 0 0-1.142 0M11 8a3 3 0 1 1-6 0 3 3 0 0 1 6 0M9.5 8a1.5 1.5 0 1 0-3.001.001A1.5 1.5 0 0 0 9.5 8"/></svg> <span class=md-ellipsis> Services </span> </a> <label class="md-nav__link " for=__nav_10_1_8 id=__nav_10_1_8_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_10_1_8_label aria-expanded=false> <label class=md-nav__title for=__nav_10_1_8> <span class="md-nav__icon md-icon"></span> Services </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../convert-mysql-rc-script-to-smf/ class=md-nav__link> <span class=md-ellipsis> Convert MySQL RC Script to SMF </span> </a> </li> <li class=md-nav__item> <a href=../smf-service-management-facility/ class=md-nav__link> <span class=md-ellipsis> SMF: Service Management Facility </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_1_9> <div class="md-nav__link md-nav__container"> <a href=../Solaris/Applications/Users%20Management/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M224 0a128 128 0 1 1 0 256 128 128 0 1 1 0-256m-45.7 304h91.4c11.8 0 23.4 1.2 34.5 3.3-2.1 18.5 7.4 35.6 21.8 44.8-16.6 10.6-26.7 31.6-20 53.3 4 12.9 9.4 25.5 16.4 37.6s15.2 23.1 24.4 33c15.7 16.9 39.6 18.4 57.2 8.7v.9c0 9.2 2.7 18.5 7.9 26.3l-382.2.1C13.3 512 0 498.7 0 482.3 0 383.8 79.8 304 178.3 304M436 218.2c0-7 4.5-13.3 11.3-14.8 10.5-2.4 21.5-3.7 32.7-3.7s22.2 1.3 32.7 3.7c6.8 1.5 11.3 7.8 11.3 14.8v30.6c7.9 3.4 15.4 7.7 22.3 12.8l24.9-14.3c6.1-3.5 13.7-2.7 18.5 2.4 7.6 8.1 14.3 17.2 20.1 27.2s10.3 20.4 13.5 31c2.1 6.7-1.1 13.7-7.2 17.2l-25 14.4c.4 4 .7 8.1.7 12.3s-.2 8.2-.7 12.3l25 14.4c6.1 3.5 9.2 10.5 7.2 17.2-3.3 10.6-7.8 21-13.5 31s-12.5 19.1-20.1 27.2c-4.8 5.1-12.5 5.9-18.5 2.4L546.3 442c-6.9 5.1-14.3 9.4-22.3 12.8v30.6c0 7-4.5 13.3-11.3 14.8-10.5 2.4-21.5 3.7-32.7 3.7s-22.2-1.3-32.7-3.7c-6.8-1.5-11.3-7.8-11.3-14.8v-30.5c-8-3.4-15.6-7.7-22.5-12.9l-24.7 14.3c-6.1 3.5-13.7 2.7-18.5-2.4-7.6-8.1-14.3-17.2-20.1-27.2s-10.3-20.4-13.5-31c-2.1-6.7 1.1-13.7 7.2-17.2l24.8-14.3c-.4-4.1-.7-8.2-.7-12.4s.2-8.3.7-12.4L343.8 325c-6.1-3.5-9.2-10.5-7.2-17.2 3.3-10.6 7.7-21 13.5-31s12.5-19.1 20.1-27.2c4.8-5.1 12.4-5.9 18.5-2.4l24.8 14.3c6.9-5.1 14.5-9.4 22.5-12.9v-30.5zm92.1 133.5a48.1 48.1 0 1 0-96.1 0 48.1 48.1 0 1 0 96.1 0"/></svg> <span class=md-ellipsis> Users Management </span> </a> <label class="md-nav__link " for=__nav_10_1_9 id=__nav_10_1_9_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_10_1_9_label aria-expanded=false> <label class=md-nav__title for=__nav_10_1_9> <span class="md-nav__icon md-icon"></span> Users Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../user-management/ class=md-nav__link> <span class=md-ellipsis> User Management </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_2> <div class="md-nav__link md-nav__container"> <a href=../Solaris/Filesystems/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M6 2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m6 2a6 6 0 0 0-6 6c0 3.31 2.69 6 6.1 6l-.88-2.23a1.01 1.01 0 0 1 .37-1.37l.86-.5a1.01 1.01 0 0 1 1.37.37l1.92 2.42A5.98 5.98 0 0 0 18 10a6 6 0 0 0-6-6m0 5a1 1 0 0 1 1 1 1 1 0 0 1-1 1 1 1 0 0 1-1-1 1 1 0 0 1 1-1m-5 9a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1m5.09-4.73 2.49 6.31 2.59-1.5-4.22-5.31z"/></svg> <span class=md-ellipsis> Filesystems </span> </a> <label class="md-nav__link " for=__nav_10_2 id=__nav_10_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_2_label aria-expanded=false> <label class=md-nav__title for=__nav_10_2> <span class="md-nav__icon md-icon"></span> Filesystems </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../acl-implementing-nt-style-permissions-on-solaris/ class=md-nav__link> <span class=md-ellipsis> ACL: Implementing NT-Style Permissions on Solaris </span> </a> </li> <li class=md-nav__item> <a href=../creating-a-raid-1-mirroring-on-solaris/ class=md-nav__link> <span class=md-ellipsis> Creating a RAID 1 (mirroring) on Solaris </span> </a> </li> <li class=md-nav__item> <a href=../disk-management-in-solaris/ class=md-nav__link> <span class=md-ellipsis> Disk Management in Solaris </span> </a> </li> <li class=md-nav__item> <a href=../mount-an-iso-image-on-solaris/ class=md-nav__link> <span class=md-ellipsis> Mount an ISO image on Solaris </span> </a> </li> <li class=md-nav__item> <a href=../multipathing-management-on-solaris/ class=md-nav__link> <span class=md-ellipsis> Multipathing Management on Solaris </span> </a> </li> <li class=md-nav__item> <a href=../adding-swap-space-on-solaris/ class=md-nav__link> <span class=md-ellipsis> Adding Swap Space on Solaris </span> </a> </li> <li class=md-nav__item> <a href=../tmpfs-mounting-a-ram-filesystem-on-solaris/ class=md-nav__link> <span class=md-ellipsis> Tmpfs: Mounting a RAM filesystem on Solaris </span> </a> </li> <li class=md-nav__item> <a href=../zfs-the-filesystem-par-excellence/ class=md-nav__link> <span class=md-ellipsis> ZFS: The Filesystem Par Excellence </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_3> <div class="md-nav__link md-nav__container"> <a href=../Solaris/Hardware/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M23.87 11.525c.071.013.13.084.13.157v3.033a.166.166 0 0 1-.13.157l-2.875.535a.24.24 0 0 0-.17.151l-.898 2.242a.25.25 0 0 0 .017.229l1.633 2.379a.17.17 0 0 1-.02.204l-2.144 2.144a.17.17 0 0 1-.203.019l-2.338-1.604a.23.23 0 0 0-.224-.008l-1.03.55a.12.12 0 0 1-.17-.062l-2.125-5.135a.16.16 0 0 1 .062-.192l.258-.158c.048-.03.113-.08.163-.125a3.354 3.354 0 1 0-3.612 0c.05.046.115.096.163.125l.258.158a.16.16 0 0 1 .062.192L8.552 21.65a.12.12 0 0 1-.17.063l-1.03-.55a.23.23 0 0 0-.224.007L4.79 22.775a.17.17 0 0 1-.204-.019l-2.145-2.144a.17.17 0 0 1-.019-.204l1.633-2.38a.25.25 0 0 0 .017-.228l-.897-2.242a.24.24 0 0 0-.17-.15L.13 14.871a.166.166 0 0 1-.13-.157v-3.032c0-.073.059-.144.13-.157l2.947-.548a.25.25 0 0 0 .175-.15l.903-2.108a.25.25 0 0 0-.014-.227L2.424 5.989a.17.17 0 0 1 .019-.203L4.587 3.64a.166.166 0 0 1 .204-.019L7.337 5.37c.06.041.163.048.229.016l2.043-.836c.07-.023.137-.1.15-.173l.567-3.047a.17.17 0 0 1 .157-.131h3.034c.073 0 .143.059.157.13l.567 3.048a.25.25 0 0 0 .15.173l2.043.836a.25.25 0 0 0 .23-.016l2.546-1.748a.166.166 0 0 1 .203.02l2.144 2.144c.052.051.06.143.02.203l-1.718 2.503a.25.25 0 0 0-.014.227l.903 2.108a.26.26 0 0 0 .175.15z"/></svg> <span class=md-ellipsis> Hardware </span> </a> <label class="md-nav__link " for=__nav_10_3 id=__nav_10_3_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_3_label aria-expanded=false> <label class=md-nav__title for=__nav_10_3> <span class="md-nav__icon md-icon"></span> Hardware </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../how-to-check-the-number-of-active-cpu-cores-on-solaris/ class=md-nav__link> <span class=md-ellipsis> How to Check the Number of Active CPU Cores on Solaris </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_4> <div class="md-nav__link md-nav__container"> <a href=../Solaris/Misc/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.83 13.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17z"/></svg> <span class=md-ellipsis> Misc </span> </a> <label class="md-nav__link " for=__nav_10_4 id=__nav_10_4_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_4_label aria-expanded=false> <label class=md-nav__title for=__nav_10_4> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../changing-hostname-on-solaris/ class=md-nav__link> <span class=md-ellipsis> Changing Hostname on Solaris </span> </a> </li> <li class=md-nav__item> <a href=../changing-solaris-locales/ class=md-nav__link> <span class=md-ellipsis> Changing Solaris Locales </span> </a> </li> <li class=md-nav__item> <a href=../finding-a-process-running-on-a-specific-port-on-solaris/ class=md-nav__link> <span class=md-ellipsis> Finding a Process Running on a Specific Port on Solaris </span> </a> </li> <li class=md-nav__item> <a href=../get-unix-format-time-on-solaris/ class=md-nav__link> <span class=md-ellipsis> Get Unix Format Time on Solaris </span> </a> </li> <li class=md-nav__item> <a href=../how-to-determine-your-system-architecture/ class=md-nav__link> <span class=md-ellipsis> How to Determine Your System Architecture </span> </a> </li> <li class=md-nav__item> <a href=../managing-solaris-processes/ class=md-nav__link> <span class=md-ellipsis> Managing Solaris Processes </span> </a> </li> <li class=md-nav__item> <a href=../monitor-your-solaris-users/ class=md-nav__link> <span class=md-ellipsis> Monitor Your Solaris Users </span> </a> </li> <li class=md-nav__item> <a href=../monitoring-superuser-access/ class=md-nav__link> <span class=md-ellipsis> Monitoring Superuser Access </span> </a> </li> <li class=md-nav__item> <a href=../openboot-prom-bios-management/ class=md-nav__link> <span class=md-ellipsis> OpenBoot PROM, BIOS Management </span> </a> </li> <li class=md-nav__item> <a href=../patching-solaris/ class=md-nav__link> <span class=md-ellipsis> Patching Solaris </span> </a> </li> <li class=md-nav__item> <a href=../removing-user-limitations/ class=md-nav__link> <span class=md-ellipsis> Removing User Limitations </span> </a> </li> <li class=md-nav__item> <a href=../some-information-about-the-machine/ class=md-nav__link> <span class=md-ellipsis> Some information about the machine </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_5> <div class="md-nav__link md-nav__container"> <a href=../Solaris/Network/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 3a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4v2h1a1 1 0 0 1 1 1h7v2h-7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1H2v-2h7a1 1 0 0 1 1-1h1v-2H7a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/></svg> <span class=md-ellipsis> Network </span> </a> <label class="md-nav__link " for=__nav_10_5 id=__nav_10_5_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_5_label aria-expanded=false> <label class=md-nav__title for=__nav_10_5> <span class="md-nav__icon md-icon"></span> Network </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../configure-network-on-solaris/ class=md-nav__link> <span class=md-ellipsis> Configure Network on Solaris </span> </a> </li> <li class=md-nav__item> <a href=../ipmp-configuration/ class=md-nav__link> <span class=md-ellipsis> IPMP Configuration </span> </a> </li> <li class=md-nav__item> <a href=../make-unsupported-network-cards-work-with-solaris/ class=md-nav__link> <span class=md-ellipsis> Make Unsupported Network Cards Work with Solaris </span> </a> </li> <li class=md-nav__item> <a href=../modifying-network-card-parameters/ class=md-nav__link> <span class=md-ellipsis> Modifying Network Card Parameters </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_10_6> <div class="md-nav__link md-nav__container"> <a href=../Solaris/Packages/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M2 10.96a.985.985 0 0 1-.37-1.37L3.13 7c.11-.2.28-.34.47-.42l7.83-4.4c.16-.12.36-.18.57-.18s.41.06.57.18l7.9 4.44c.19.1.35.26.44.46l1.45 2.52c.28.48.11 1.09-.36 1.36l-1 .58v4.96c0 .38-.21.71-.53.88l-7.9 4.44c-.16.12-.36.18-.57.18s-.41-.06-.57-.18l-7.9-4.44A.99.99 0 0 1 3 16.5v-5.54c-.3.17-.68.18-1 0m10-6.81v6.7l5.96-3.35zM5 15.91l6 3.38v-6.71L5 9.21zm14 0v-3.22l-5 2.9c-.33.18-.7.17-1 .01v3.69zm-5.15-2.55 6.28-3.63-.58-1.01-6.28 3.63z"/></svg> <span class=md-ellipsis> Packages </span> </a> <label class="md-nav__link " for=__nav_10_6 id=__nav_10_6_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_10_6_label aria-expanded=false> <label class=md-nav__title for=__nav_10_6> <span class="md-nav__icon md-icon"></span> Packages </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../automating-installation-of-many-packages/ class=md-nav__link> <span class=md-ellipsis> Automating Installation of Many Packages </span> </a> </li> <li class=md-nav__item> <a href=../creating-a-solaris-package/ class=md-nav__link> <span class=md-ellipsis> Creating a Solaris Package </span> </a> </li> <li class=md-nav__item> <a href=../managing-updates-with-update-manager-and-smpatch/ class=md-nav__link> <span class=md-ellipsis> Managing Updates with Update Manager and smpatch </span> </a> </li> <li class=md-nav__item> <a href=../pkg-get-setting-up-a-repository-system-for-solaris/ class=md-nav__link> <span class=md-ellipsis> Pkg-get: Setting up a Repository System for Solaris </span> </a> </li> <li class=md-nav__item> <a href=../solaris-package-management/ class=md-nav__link> <span class=md-ellipsis> Solaris Package Management </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11> <div class="md-nav__link md-nav__container"> <a href=../Windows/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="m0 93.7 183.6-25.3v177.4H0zm0 324.6 183.6 25.3V268.4H0zm203.8 28L448 480V268.4H203.8zm0-380.6v180.1H448V32z"/></svg> <span class=md-ellipsis> Windows </span> </a> <label class="md-nav__link " for=__nav_11 id=__nav_11_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Windows </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11_1> <div class="md-nav__link md-nav__container"> <a href=../Windows/Applications/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m8.809 14.92 6.11-11.037c.084-.152.168-.302.244-.459.069-.142.127-.285.165-.44.08-.326.058-.666-.066-.977a1.5 1.5 0 0 0-.62-.735 1.42 1.42 0 0 0-.922-.193c-.32.043-.613.194-.844.43-.11.11-.2.235-.283.368-.092.146-.175.298-.259.45l-.386.697-.387-.698c-.084-.151-.167-.303-.259-.449a2.2 2.2 0 0 0-.283-.369 1.45 1.45 0 0 0-.844-.429 1.42 1.42 0 0 0-.921.193 1.5 1.5 0 0 0-.62.735c-.125.311-.147.651-.066.977.038.155.096.298.164.44.076.157.16.307.244.459l1.248 2.254-4.862 8.782H2.03c-.168 0-.336 0-.503.01-.152.009-.3.028-.448.071-.31.09-.582.28-.778.548-.195.267-.301.593-.301.928s.106.661.3.928c.197.268.468.457.779.548.148.043.296.062.448.071.167.01.335.01.503.01h13.097c.017-.037.059-.13.1-.27.415-1.416-.616-2.844-2.035-2.844zm-5.696 3.622-.792 1.5c-.082.156-.165.31-.239.471a2.4 2.4 0 0 0-.16.452c-.08.335-.058.684.064 1.003.121.318.334.583.607.755s.589.242.901.197c.314-.044.6-.198.826-.44.108-.115.196-.242.278-.378.09-.15.171-.306.253-.462L6 19.464c-.09-.15-.947-1.47-2.887-.922m20.586-3.006a1.47 1.47 0 0 0-.779-.54 2 2 0 0 0-.448-.071c-.168-.01-.335-.01-.503-.01h-3.321L14.258 7.1a4.06 4.06 0 0 0-1.076 2.198 4.64 4.64 0 0 0 .546 3l5.274 9.393c.084.15.167.3.259.444.084.13.174.253.283.364.231.232.524.38.845.423s.643-.024.922-.19a1.5 1.5 0 0 0 .621-.726c.125-.307.146-.642.066-.964a2.2 2.2 0 0 0-.165-.434c-.075-.155-.16-.303-.244-.453l-1.216-2.166h1.596c.168 0 .335 0 .503-.009.152-.009.3-.028.448-.07a1.47 1.47 0 0 0 .78-.541 1.54 1.54 0 0 0 .3-.916 1.54 1.54 0 0 0-.3-.916"/></svg> <span class=md-ellipsis> Applications </span> </a> <label class="md-nav__link " for=__nav_11_1 id=__nav_11_1_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_1_label aria-expanded=false> <label class=md-nav__title for=__nav_11_1> <span class="md-nav__icon md-icon"></span> Applications </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installing-rsync-on-windows/ class=md-nav__link> <span class=md-ellipsis> Installing Rsync on Windows </span> </a> </li> <li class=md-nav__item> <a href=../windbg-analyze-crash-dump/ class=md-nav__link> <span class=md-ellipsis> WinDbg: Analyze Crash Dump </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_11_2> <div class="md-nav__link md-nav__container"> <a href=../Windows/Misc/index.html class="md-nav__link "> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.83 13.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4m-9.41 5.17L5.41 4 4 5.41l5.17 5.17z"/></svg> <span class=md-ellipsis> Misc </span> </a> <label class="md-nav__link " for=__nav_11_2 id=__nav_11_2_label tabindex=0> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_2_label aria-expanded=false> <label class=md-nav__title for=__nav_11_2> <span class="md-nav__icon md-icon"></span> Misc </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../deploying-power-management-on-a-server-for-its-clients/ class=md-nav__link> <span class=md-ellipsis> Deploying Power Management on a Server for its Clients </span> </a> </li> <li class=md-nav__item> <a href=../modifying-ntp-synchronization-servers-on-windows/ class=md-nav__link> <span class=md-ellipsis> Modifying NTP Synchronization Servers on Windows </span> </a> </li> <li class=md-nav__item> <a href=../openssh-using-putty-and-an-http-proxy-to-ssh-anywhere-through-firewalls/ class=md-nav__link> <span class=md-ellipsis> OpenSSH: Using Putty and an HTTP proxy to ssh anywhere through firewalls </span> </a> </li> <li class=md-nav__item> <a href=../windows-refreshing-security-policies-gpo/ class=md-nav__link> <span class=md-ellipsis> Windows: Refreshing Security Policies (GPO) </span> </a> </li> <li class=md-nav__item> <a href=../windows-stop-a-system-shutdown-in-progress/ class=md-nav__link> <span class=md-ellipsis> Windows: Stop a system shutdown in progress </span> </a> </li> <li class=md-nav__item> <a href=../windows-xp-memory-overflow-problems/ class=md-nav__link> <span class=md-ellipsis> Windows XP: Memory Overflow Problems </span> </a> </li> <li class=md-nav__item> <a href=../wsus-save-disk-space-purge-unused-updates/ class=md-nav__link> <span class=md-ellipsis> WSUS: Save Disk Space (Purge Unused Updates) </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#introduction class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=#puppet-hierarchy class=md-nav__link> <span class=md-ellipsis> Puppet Hierarchy </span> </a> </li> <li class=md-nav__item> <a href=#installation class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> <nav class=md-nav aria-label=Installation> <ul class=md-nav__list> <li class=md-nav__item> <a href=#puppet-server class=md-nav__link> <span class=md-ellipsis> Puppet Server </span> </a> </li> <li class=md-nav__item> <a href=#web-server class=md-nav__link> <span class=md-ellipsis> Web Server </span> </a> <nav class=md-nav aria-label="Web Server"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#passenger class=md-nav__link> <span class=md-ellipsis> Passenger </span> </a> </li> <li class=md-nav__item> <a href=#nginx-and-mongrel class=md-nav__link> <span class=md-ellipsis> NGINX and Mongrel </span> </a> <nav class=md-nav aria-label="NGINX and Mongrel"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#installation_1 class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=#configuration class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#puppet-clients class=md-nav__link> <span class=md-ellipsis> Puppet Clients </span> </a> <nav class=md-nav aria-label="Puppet Clients"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#debian class=md-nav__link> <span class=md-ellipsis> Debian </span> </a> </li> <li class=md-nav__item> <a href=#red-hat class=md-nav__link> <span class=md-ellipsis> Red Hat </span> </a> </li> <li class=md-nav__item> <a href=#solaris class=md-nav__link> <span class=md-ellipsis> Solaris </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configuration_1 class=md-nav__link> <span class=md-ellipsis> Configuration </span> </a> <nav class=md-nav aria-label=Configuration> <ul class=md-nav__list> <li class=md-nav__item> <a href=#server class=md-nav__link> <span class=md-ellipsis> Server </span> </a> <nav class=md-nav aria-label=Server> <ul class=md-nav__list> <li class=md-nav__item> <a href=#authconf class=md-nav__link> <span class=md-ellipsis> auth.conf </span> </a> </li> <li class=md-nav__item> <a href=#autosignconf class=md-nav__link> <span class=md-ellipsis> autosign.conf </span> </a> </li> <li class=md-nav__item> <a href=#fileserverconf class=md-nav__link> <span class=md-ellipsis> fileserver.conf </span> </a> </li> <li class=md-nav__item> <a href=#manifests class=md-nav__link> <span class=md-ellipsis> manifests </span> </a> <nav class=md-nav aria-label=manifests> <ul class=md-nav__list> <li class=md-nav__item> <a href=#commonpp class=md-nav__link> <span class=md-ellipsis> common.pp </span> </a> </li> <li class=md-nav__item> <a href=#modulespp class=md-nav__link> <span class=md-ellipsis> modules.pp </span> </a> </li> <li class=md-nav__item> <a href=#sitepp class=md-nav__link> <span class=md-ellipsis> site.pp </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#puppetconf class=md-nav__link> <span class=md-ellipsis> puppet.conf </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#client class=md-nav__link> <span class=md-ellipsis> Client </span> </a> <nav class=md-nav aria-label=Client> <ul class=md-nav__list> <li class=md-nav__item> <a href=#puppetconf_1 class=md-nav__link> <span class=md-ellipsis> puppet.conf </span> </a> <nav class=md-nav aria-label=puppet.conf> <ul class=md-nav__list> <li class=md-nav__item> <a href=#debian-red-hat class=md-nav__link> <span class=md-ellipsis> Debian / Red Hat </span> </a> </li> <li class=md-nav__item> <a href=#solaris_1 class=md-nav__link> <span class=md-ellipsis> Solaris </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#the-language class=md-nav__link> <span class=md-ellipsis> The Language </span> </a> <nav class=md-nav aria-label="The Language"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#functions class=md-nav__link> <span class=md-ellipsis> Functions </span> </a> </li> <li class=md-nav__item> <a href=#installing-packages class=md-nav__link> <span class=md-ellipsis> Installing packages </span> </a> </li> <li class=md-nav__item> <a href=#including-excluding-modules class=md-nav__link> <span class=md-ellipsis> Including / Excluding modules </span> </a> </li> <li class=md-nav__item> <a href=#templates class=md-nav__link> <span class=md-ellipsis> Templates </span> </a> <nav class=md-nav aria-label=Templates> <ul class=md-nav__list> <li class=md-nav__item> <a href=#inline-templates class=md-nav__link> <span class=md-ellipsis> Inline-templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#facters class=md-nav__link> <span class=md-ellipsis> Facters </span> </a> </li> <li class=md-nav__item> <a href=#dynamic-information class=md-nav__link> <span class=md-ellipsis> Dynamic Information </span> </a> </li> <li class=md-nav__item> <a href=#parsers class=md-nav__link> <span class=md-ellipsis> Parsers </span> </a> </li> <li class=md-nav__item> <a href=#ruby-in-your-manifests class=md-nav__link> <span class=md-ellipsis> Ruby in your manifests </span> </a> </li> <li class=md-nav__item> <a href=#adding-a-ruby-variable-in-manifests class=md-nav__link> <span class=md-ellipsis> Adding a Ruby variable in manifests </span> </a> </li> <li class=md-nav__item> <a href=#classes class=md-nav__link> <span class=md-ellipsis> Classes </span> </a> </li> <li class=md-nav__item> <a href=#using-hash-tables class=md-nav__link> <span class=md-ellipsis> Using hash tables </span> </a> </li> <li class=md-nav__item> <a href=#regex class=md-nav__link> <span class=md-ellipsis> Regex </span> </a> </li> <li class=md-nav__item> <a href=#substitution class=md-nav__link> <span class=md-ellipsis> Substitution </span> </a> </li> <li class=md-nav__item> <a href=#notify-and-require class=md-nav__link> <span class=md-ellipsis> Notify and Require </span> </a> </li> <li class=md-nav__item> <a href=#the-operator class=md-nav__link> <span class=md-ellipsis> The +&gt; operator </span> </a> </li> <li class=md-nav__item> <a href=#checking-software-version-number class=md-nav__link> <span class=md-ellipsis> Checking software version number </span> </a> </li> <li class=md-nav__item> <a href=#virtual-resources class=md-nav__link> <span class=md-ellipsis> Virtual resources </span> </a> </li> <li class=md-nav__item> <a href=#advanced-file-deletion class=md-nav__link> <span class=md-ellipsis> Advanced file deletion </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#modules class=md-nav__link> <span class=md-ellipsis> Modules </span> </a> <nav class=md-nav aria-label=Modules> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initializing-a-module class=md-nav__link> <span class=md-ellipsis> Initializing a module </span> </a> </li> <li class=md-nav__item> <a href=#the-initial-module-base class=md-nav__link> <span class=md-ellipsis> The initial module (base) </span> </a> <nav class=md-nav aria-label="The initial module (base)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#varspp class=md-nav__link> <span class=md-ellipsis> vars.pp </span> </a> </li> <li class=md-nav__item> <a href=#functionspp class=md-nav__link> <span class=md-ellipsis> functions.pp </span> </a> </li> <li class=md-nav__item> <a href=#rolespp class=md-nav__link> <span class=md-ellipsis> roles.pp </span> </a> </li> <li class=md-nav__item> <a href=#serverspp class=md-nav__link> <span class=md-ellipsis> servers.pp </span> </a> </li> <li class=md-nav__item> <a href=#parser class=md-nav__link> <span class=md-ellipsis> Parser </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#module-examples class=md-nav__link> <span class=md-ellipsis> Module Examples </span> </a> <nav class=md-nav aria-label="Module Examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#stdlib class=md-nav__link> <span class=md-ellipsis> stdlib </span> </a> </li> <li class=md-nav__item> <a href=#puppet class=md-nav__link> <span class=md-ellipsis> Puppet </span> </a> <nav class=md-nav aria-label=Puppet> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_1 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resolvconf class=md-nav__link> <span class=md-ellipsis> resolvconf </span> </a> <nav class=md-nav aria-label=resolvconf> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_2 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_1 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#templates_1 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#puppet-configuration-file-management-solution class=md-nav__link> <span class=md-ellipsis> Puppet: Configuration File Management Solution </span> </a> <nav class=md-nav aria-label="Puppet: Configuration File Management Solution"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#packages_defaults class=md-nav__link> <span class=md-ellipsis> packages_defaults </span> </a> <nav class=md-nav aria-label=packages_defaults> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_3 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_2 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#configurations_defaults class=md-nav__link> <span class=md-ellipsis> configurations_defaults </span> </a> <nav class=md-nav aria-label=configurations_defaults> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_4 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#commonpp_1 class=md-nav__link> <span class=md-ellipsis> common.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_3 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#securitypp class=md-nav__link> <span class=md-ellipsis> security.pp </span> </a> </li> <li class=md-nav__item> <a href=#facter class=md-nav__link> <span class=md-ellipsis> facter </span> </a> <nav class=md-nav aria-label=facter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#passwd_algorithmrb class=md-nav__link> <span class=md-ellipsis> passwd_algorithm.rb </span> </a> </li> <li class=md-nav__item> <a href=#kernel_rightsrb class=md-nav__link> <span class=md-ellipsis> kernel_rights.rb </span> </a> </li> <li class=md-nav__item> <a href=#get_network_infosrb class=md-nav__link> <span class=md-ellipsis> get_network_infos.rb </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#networkpp class=md-nav__link> <span class=md-ellipsis> network.pp </span> </a> </li> <li class=md-nav__item> <a href=#templates_2 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openssh-1 class=md-nav__link> <span class=md-ellipsis> OpenSSH - 1 </span> </a> <nav class=md-nav aria-label="OpenSSH - 1"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_5 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_4 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#commonpp_2 class=md-nav__link> <span class=md-ellipsis> common.pp </span> </a> </li> <li class=md-nav__item> <a href=#facter_1 class=md-nav__link> <span class=md-ellipsis> facter </span> </a> </li> <li class=md-nav__item> <a href=#ssh_keyspp class=md-nav__link> <span class=md-ellipsis> ssh_keys.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_1 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openssh-2 class=md-nav__link> <span class=md-ellipsis> OpenSSH - 2 </span> </a> <nav class=md-nav aria-label="OpenSSH - 2"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_6 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#templates_3 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#selinux class=md-nav__link> <span class=md-ellipsis> SELinux </span> </a> <nav class=md-nav aria-label=SELinux> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_7 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_5 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#grub class=md-nav__link> <span class=md-ellipsis> Grub </span> </a> <nav class=md-nav aria-label=Grub> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_8 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_6 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#kdump class=md-nav__link> <span class=md-ellipsis> Kdump </span> </a> <nav class=md-nav aria-label=Kdump> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_9 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_7 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#tools class=md-nav__link> <span class=md-ellipsis> Tools </span> </a> <nav class=md-nav aria-label=Tools> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_10 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_8 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_2 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#timezone class=md-nav__link> <span class=md-ellipsis> Timezone </span> </a> <nav class=md-nav aria-label=Timezone> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_11 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_9 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#templates_4 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#ntp class=md-nav__link> <span class=md-ellipsis> NTP </span> </a> <nav class=md-nav aria-label=NTP> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_12 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_10 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_3 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mysecureshell class=md-nav__link> <span class=md-ellipsis> MySecureShell </span> </a> <nav class=md-nav aria-label=MySecureShell> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_13 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_11 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_4 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openldap-client-server class=md-nav__link> <span class=md-ellipsis> OpenLDAP client &amp; Server </span> </a> <nav class=md-nav aria-label="OpenLDAP client & Server"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_14 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_12 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#facter_2 class=md-nav__link> <span class=md-ellipsis> facter </span> </a> <nav class=md-nav aria-label=facter> <ul class=md-nav__list> <li class=md-nav__item> <a href=#generated_ldap_serversrb class=md-nav__link> <span class=md-ellipsis> generated_ldap_servers.rb </span> </a> </li> <li class=md-nav__item> <a href=#current_ldap_serversrb class=md-nav__link> <span class=md-ellipsis> current_ldap_servers.rb </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#parser_1 class=md-nav__link> <span class=md-ellipsis> Parser </span> </a> <nav class=md-nav aria-label=Parser> <ul class=md-nav__list> <li class=md-nav__item> <a href=#dns2iprb class=md-nav__link> <span class=md-ellipsis> dns2ip.rb </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#redhat_ldapclientpp class=md-nav__link> <span class=md-ellipsis> redhat_ldapclient.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhat_ldapserverpp class=md-nav__link> <span class=md-ellipsis> redhat_ldapserver.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_5 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#sudo class=md-nav__link> <span class=md-ellipsis> sudo </span> </a> <nav class=md-nav aria-label=sudo> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_15 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> <nav class=md-nav aria-label=init.pp> <ul class=md-nav__list> <li class=md-nav__item> <a href=#improving-a-module class=md-nav__link> <span class=md-ellipsis> Improving a module </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#files_6 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#snmpd class=md-nav__link> <span class=md-ellipsis> snmpd </span> </a> <nav class=md-nav aria-label=snmpd> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_16 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_13 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_7 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#postfix class=md-nav__link> <span class=md-ellipsis> Postfix </span> </a> <nav class=md-nav aria-label=Postfix> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_17 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_14 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#templates_5 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> <li class=md-nav__item> <a href=#files_8 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#nsswitch class=md-nav__link> <span class=md-ellipsis> Nsswitch </span> </a> <nav class=md-nav aria-label=Nsswitch> <ul class=md-nav__list> <li class=md-nav__item> <a href=#facter_3 class=md-nav__link> <span class=md-ellipsis> facter </span> </a> </li> <li class=md-nav__item> <a href=#initpp_18 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#templates_6 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#nagios-nrpe-plugins class=md-nav__link> <span class=md-ellipsis> Nagios NRPE + plugins </span> </a> <nav class=md-nav aria-label="Nagios NRPE + plugins"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_19 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_9 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> <li class=md-nav__item> <a href=#templates_7 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#munin class=md-nav__link> <span class=md-ellipsis> Munin </span> </a> <nav class=md-nav aria-label=Munin> <ul class=md-nav__list> <li class=md-nav__item> <a href=#munin-interfaces class=md-nav__link> <span class=md-ellipsis> Munin Interfaces </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#mcollective class=md-nav__link> <span class=md-ellipsis> Mcollective </span> </a> <nav class=md-nav aria-label=Mcollective> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_20 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#commonpp_3 class=md-nav__link> <span class=md-ellipsis> common.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_15 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_10 class=md-nav__link> <span class=md-ellipsis> files </span> </a> <nav class=md-nav aria-label=files> <ul class=md-nav__list> <li class=md-nav__item> <a href=#redhatservercfg class=md-nav__link> <span class=md-ellipsis> RedHat.server.cfg </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#bind class=md-nav__link> <span class=md-ellipsis> Bind </span> </a> <nav class=md-nav aria-label=Bind> <ul class=md-nav__list> <li class=md-nav__item> <a href=#initpp_21 class=md-nav__link> <span class=md-ellipsis> init.pp </span> </a> </li> <li class=md-nav__item> <a href=#redhatpp_16 class=md-nav__link> <span class=md-ellipsis> redhat.pp </span> </a> </li> <li class=md-nav__item> <a href=#files_11 class=md-nav__link> <span class=md-ellipsis> files </span> </a> </li> <li class=md-nav__item> <a href=#templates_8 class=md-nav__link> <span class=md-ellipsis> templates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#importing-a-module class=md-nav__link> <span class=md-ellipsis> Importing a module </span> </a> <nav class=md-nav aria-label="Importing a module"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#importing-all-modules-at-once class=md-nav__link> <span class=md-ellipsis> Importing all modules at once </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#usage class=md-nav__link> <span class=md-ellipsis> Usage </span> </a> <nav class=md-nav aria-label=Usage> <ul class=md-nav__list> <li class=md-nav__item> <a href=#certificates class=md-nav__link> <span class=md-ellipsis> Certificates </span> </a> <nav class=md-nav aria-label=Certificates> <ul class=md-nav__list> <li class=md-nav__item> <a href=#creating-a-certificate class=md-nav__link> <span class=md-ellipsis> Creating a certificate </span> </a> </li> <li class=md-nav__item> <a href=#adding-a-puppet-client-to-the-server class=md-nav__link> <span class=md-ellipsis> Adding a puppet client to the server </span> </a> </li> <li class=md-nav__item> <a href=#synchronizing-a-client class=md-nav__link> <span class=md-ellipsis> Synchronizing a client </span> </a> <nav class=md-nav aria-label="Synchronizing a client"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#simulating class=md-nav__link> <span class=md-ellipsis> Simulating </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#revoking-a-certificate class=md-nav__link> <span class=md-ellipsis> Revoking a certificate </span> </a> </li> <li class=md-nav__item> <a href=#revoking-all-server-certificates class=md-nav__link> <span class=md-ellipsis> Revoking all server certificates </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#process-monitoring class=md-nav__link> <span class=md-ellipsis> Process monitoring </span> </a> <nav class=md-nav aria-label="Process monitoring"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#determining-node-status class=md-nav__link> <span class=md-ellipsis> Determining node status </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#advanced-usage class=md-nav__link> <span class=md-ellipsis> Advanced usage </span> </a> <nav class=md-nav aria-label="Advanced usage"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#monitoring-passenger class=md-nav__link> <span class=md-ellipsis> Monitoring Passenger </span> </a> </li> <li class=md-nav__item> <a href=#checking-the-syntax-of-your-pp-files class=md-nav__link> <span class=md-ellipsis> Checking the syntax of your .pp files </span> </a> </li> <li class=md-nav__item> <a href=#overriding-restrictions class=md-nav__link> <span class=md-ellipsis> Overriding restrictions </span> </a> </li> <li class=md-nav__item> <a href=#disabling-a-resource class=md-nav__link> <span class=md-ellipsis> Disabling a resource </span> </a> </li> <li class=md-nav__item> <a href=#pre-and-post-puppet-run class=md-nav__link> <span class=md-ellipsis> Pre and Post puppet run </span> </a> </li> <li class=md-nav__item> <a href=#cft class=md-nav__link> <span class=md-ellipsis> CFT </span> </a> </li> <li class=md-nav__item> <a href=#generating-a-manifest-from-an-existing-system class=md-nav__link> <span class=md-ellipsis> Generating a manifest from an existing system </span> </a> </li> <li class=md-nav__item> <a href=#puppet-push class=md-nav__link> <span class=md-ellipsis> Puppet Push </span> </a> </li> <li class=md-nav__item> <a href=#mcollective_1 class=md-nav__link> <span class=md-ellipsis> MCollective </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#faq class=md-nav__link> <span class=md-ellipsis> FAQ </span> </a> <nav class=md-nav aria-label=FAQ> <ul class=md-nav__list> <li class=md-nav__item> <a href=#err-could-not-retrieve-catalog-from-remote-server-hostname-was-not-match-with-the-server-certificate class=md-nav__link> <span class=md-ellipsis> err: Could not retrieve catalog from remote server: hostname was not match with the server certificate </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#resources class=md-nav__link> <span class=md-ellipsis> Resources </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <nav class=md-tags> <span class=md-tag>Configuration manager</span> <span class=md-tag>Puppet</span> </nav> <a href="https://github.com/deimosfr/mytechnotebook/edit/main/docs/Servers/Configuration Managers/Puppet/puppet_configuration_file_management_solution.md" title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <h1>Puppet: Configuration File Management Solution</h1> <h2 id=introduction>Introduction</h2> <p>Puppet is a very practical application... It's what you would find in companies with large volumes of servers, where the information system is "industrialized". Puppet allows you to automate many administration tasks, such as software installation, services deployment, or file modifications. Puppet allows you to do this in a centralized way, which helps to better manage and control a large number of heterogeneous or homogeneous servers. Puppet works in Client/Server mode.</p> <p>On each machine, a client will be installed, which will contact the PuppetMaster (the server) through HTTPS communication, and therefore SSL, with a provided PKI system. Puppet was developed in Ruby, making it multi-platform: BSD (free, macOS...), Linux (RedHat, Debian, SUSE...), Sun (OpenSolaris...) <a href=https://reductivelabs.com/ >Reductive Labs</a>, the company publishing Puppet, has developed a complementary product called Facter. This application lists specific elements of the managed systems, such as hostname, IP address, distribution, and environment variables that can be used in Puppet templates. As Puppet manages templates, you can quickly understand the usefulness of Facter. For example, if you manage a farm of mail servers that require configuration containing the machine name, a template combined with environment variables proves quite useful. In short, Puppet combined with Facter seems like a very interesting solution to simplify system administration.</p> <p>Here is a diagram showing how Puppet works: <img alt="Puppet Star.png" src=../static/images/puppet_star.avif></p> <p>For Puppet configuration, if you want to use an IDE, there is <a href=https://www.puppetlabs.com/blog/geppetto-a-puppet-ide/ >Geppetto</a>. I recommend it, as it will save you a lot of syntax troubles.</p> <p>Documentation for previous versions is available here:</p> <ul> <li><a href=../static/pdf/puppet_2.7.pdf>Puppet 2.7</a></li> <li><a href=../static/pdf/puppet_0.25.4.pdf>Puppet 0.25.4</a></li> </ul> <h2 id=puppet-hierarchy>Puppet Hierarchy</h2> <p>Before going further, I've borrowed from the official site how the Puppet directory structure works:</p> <p>All Puppet data files (modules, manifests, distributable files, etc) should be maintained in a Subversion or CVS repository (or your favorite Version Control System). The following hierarchy describes the layout one should use to arrange the files in a maintainable fashion:</p> <ul> <li><code>/manifests/</code>: this directory contains files and subdirectories that determine the manifest of individual systems but do not logically belong to any particular module. Generally, this directory is fairly thin and alternatives such as the use of LDAP or other external node tools can make the directory even thinner. This directory contains the following special files:</li> <li>site.pp: first file that the Puppet Master parses when determining a server's catalog. It imports all the underlying subdirectories and the other special files in this directory. It also defines any global defaults, such as package managers. See sample site.pp.</li> <li>templates.pp: defines all template classes. See also terminology:template classes. See sample templates.pp.</li> <li>nodes.pp: defines all the nodes if not using an external node tool. See sample nodes.pp.</li> <li><code>/modules/{modulename}/</code>: houses puppet modules in subdirectories with names matching that of the module name. This area defines the general building blocks of a server and contains modules such as for openssh, which will generally define classes openssh::client and openssh::server to setup the client and server respectively. The individual module directories contains subdirectories for manifests, distributable files, and templates. See modules organization, terminology:module.</li> <li><code>/modules/user/</code>: A special module that contains manifests for users. This module contains a special subclass called user::virtual which declares all the users that might be on a given system in a virtual way. The other subclasses in the user module are classes for logical groupings, such as user::unixadmins, which will realize the individual users to be included in that group. See also naming conventions, terminology:realize.</li> <li><code>/services/</code>: this is an additional modules area that is specified in the module path for the puppetmaster. However, instead of generic modules for individual services and bits of a server, this module area is used to model servers specific to enterprise level infrastructure services (core infrastructure services that your IT department provides, such as www, enterprise directory, file server, etc). Generally, these classes will include the modules out of /modules/ needed as part of the catalog (such as openssh::server, postfix, user::unixadmins, etc). The files section for these modules is used to distribute configuration files specific to the enterprise infrastructure service such as openldap schema files if the module were for the enterprise directory. To avoid namespace collision with the general modules, it is recommended that these modules/classes are prefixed with s_ (e.g. s_ldap for the enterprise directory server module)</li> <li><code>/clients/</code>: similar to the /services/ module area, this area is used for modules related to modeling servers for external clients (departments outside your IT department). To avoid namespace collision, it is recommended that these modules/classes are prefixed with c_.</li> <li><code>/notes/</code>: this directory contains notes for reference by local administrators.</li> <li><code>/plugins/</code>: contains custom types programmed in Ruby. See also terminology:plugin-type.</li> <li><code>/tools/</code>: contains scripts useful to the maintenance of Puppet.</li> </ul> <h2 id=installation>Installation</h2> <h3 id=puppet-server>Puppet Server</h3> <p>The master version used must be the same as that of the client machines. It is highly recommended to use a version greater than or equal to 0.25.4 (which fixes numerous performance issues). For this, on Debian, you'll need to install the version available in squeeze/lenny-backport or higher, and lock it to prevent an accidental upgrade from changing its version (use "pin locks"). Here we will opt for the version given on the official Puppet site.</p> <p>For now, we need to configure the /etc/hosts file with the server IP:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-0-1>1</a></span>
<span class=normal><a href=#__codelineno-0-2>2</a></span>
<span class=normal><a href=#__codelineno-0-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1></a>...
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2></a><span class=m>192</span>.168.0.93<span class=w>    </span>puppet-prd.deimos.fr<span class=w> </span>puppet
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3></a>...
</span></code></pre></div></td></tr></table></div> <p><em>Note: Check that the puppetmaster's clock (and client clocks as well) is up-to-date/synchronized. There can be an issue with certificates not being recognized/accepted if there is a time discrepancy (run <code>dpkg-reconfigure tz-data</code>).</em></p> <p>Configure the official Puppet repository if you want the latest version, otherwise skip this step to install the version provided by your distribution:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-1-1>1</a></span>
<span class=normal><a href=#__codelineno-1-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1></a>wget<span class=w> </span>http://apt.puppetlabs.com/puppetlabs-release-stable.deb
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2></a>dpkg<span class=w> </span>-i<span class=w> </span>puppetlabs-release-stable.deb
</span></code></pre></div></td></tr></table></div> <p>And then update:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-2-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1></a>aptitude<span class=w> </span>update
</span></code></pre></div></td></tr></table></div> <p>Then install puppetmaster:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-3-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1></a>aptitude<span class=w> </span>install<span class=w> </span>puppetmaster
</span></code></pre></div></td></tr></table></div> <p>You can verify that puppetmaster is installed correctly by running 'facter' (see if it returns something) or checking for SSL files (in /var/lib/puppet).</p> <h3 id=web-server>Web Server</h3> <p>Now we need to configure a web server on the same machine as the Puppet server (Puppet Master). Why? Simply because the default server is Webrick and it collapses if 10 nodes access it simultaneously.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>You can keep Webrick if you want to test on a few nodes, but not for production!</p> </div> <p>The choice is yours between Passenger and Nginx. Passenger is the recommended solution since Puppet 3.</p> <h4 id=passenger>Passenger</h4> <p>If you've chosen to use Passenger as recommended by PuppetLab, you need to disable automatic daemon startup, as it would start a web server and conflict with Passenger:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-4-1> 1</a></span>
<span class=normal><a href=#__codelineno-4-2> 2</a></span>
<span class=normal><a href=#__codelineno-4-3> 3</a></span>
<span class=normal><a href=#__codelineno-4-4> 4</a></span>
<span class=normal><a href=#__codelineno-4-5> 5</a></span>
<span class=normal><a href=#__codelineno-4-6> 6</a></span>
<span class=normal><a href=#__codelineno-4-7> 7</a></span>
<span class=normal><a href=#__codelineno-4-8> 8</a></span>
<span class=normal><a href=#__codelineno-4-9> 9</a></span>
<span class=normal><a href=#__codelineno-4-10>10</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1></a><span class=c1># Defaults for puppetmaster - sourced by /etc/init.d/puppetmaster</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2></a>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3></a><span class=c1># Start puppetmaster on boot? If you are using passenger, you should</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4></a><span class=c1># have this set to &quot;no&quot;</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5></a><span class=nv>START</span><span class=o>=</span>no
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6></a><span class=c1># Startup options</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7></a><span class=nv>DAEMON_OPTS</span><span class=o>=</span><span class=s2>&quot;&quot;</span>
</span><span id=__span-4-8><a id=__codelineno-4-8 name=__codelineno-4-8></a>
</span><span id=__span-4-9><a id=__codelineno-4-9 name=__codelineno-4-9></a><span class=c1># What port should the puppetmaster listen on (default: 8140).</span>
</span><span id=__span-4-10><a id=__codelineno-4-10 name=__codelineno-4-10></a><span class=nv>PORT</span><span class=o>=</span><span class=m>8140</span>
</span></code></pre></div></td></tr></table></div> <p>Now disable the service:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-5-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1></a>/etc/init.d/puppetmaster<span class=w> </span>stop
</span></code></pre></div></td></tr></table></div> <p>Then, install Passenger:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-6-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1></a>aptitude<span class=w> </span>install<span class=w> </span>puppetmaster-passenger
</span></code></pre></div></td></tr></table></div> <p>You don't need to do any configuration. Everything is provided by the official Puppet packages. In case you installed it without the official repository, here is the generated configuration:</p> <div class="language-apache highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-7-1> 1</a></span>
<span class=normal><a href=#__codelineno-7-2> 2</a></span>
<span class=normal><a href=#__codelineno-7-3> 3</a></span>
<span class=normal><a href=#__codelineno-7-4> 4</a></span>
<span class=normal><a href=#__codelineno-7-5> 5</a></span>
<span class=normal><a href=#__codelineno-7-6> 6</a></span>
<span class=normal><a href=#__codelineno-7-7> 7</a></span>
<span class=normal><a href=#__codelineno-7-8> 8</a></span>
<span class=normal><a href=#__codelineno-7-9> 9</a></span>
<span class=normal><a href=#__codelineno-7-10>10</a></span>
<span class=normal><a href=#__codelineno-7-11>11</a></span>
<span class=normal><a href=#__codelineno-7-12>12</a></span>
<span class=normal><a href=#__codelineno-7-13>13</a></span>
<span class=normal><a href=#__codelineno-7-14>14</a></span>
<span class=normal><a href=#__codelineno-7-15>15</a></span>
<span class=normal><a href=#__codelineno-7-16>16</a></span>
<span class=normal><a href=#__codelineno-7-17>17</a></span>
<span class=normal><a href=#__codelineno-7-18>18</a></span>
<span class=normal><a href=#__codelineno-7-19>19</a></span>
<span class=normal><a href=#__codelineno-7-20>20</a></span>
<span class=normal><a href=#__codelineno-7-21>21</a></span>
<span class=normal><a href=#__codelineno-7-22>22</a></span>
<span class=normal><a href=#__codelineno-7-23>23</a></span>
<span class=normal><a href=#__codelineno-7-24>24</a></span>
<span class=normal><a href=#__codelineno-7-25>25</a></span>
<span class=normal><a href=#__codelineno-7-26>26</a></span>
<span class=normal><a href=#__codelineno-7-27>27</a></span>
<span class=normal><a href=#__codelineno-7-28>28</a></span>
<span class=normal><a href=#__codelineno-7-29>29</a></span>
<span class=normal><a href=#__codelineno-7-30>30</a></span>
<span class=normal><a href=#__codelineno-7-31>31</a></span>
<span class=normal><a href=#__codelineno-7-32>32</a></span>
<span class=normal><a href=#__codelineno-7-33>33</a></span>
<span class=normal><a href=#__codelineno-7-34>34</a></span>
<span class=normal><a href=#__codelineno-7-35>35</a></span>
<span class=normal><a href=#__codelineno-7-36>36</a></span>
<span class=normal><a href=#__codelineno-7-37>37</a></span>
<span class=normal><a href=#__codelineno-7-38>38</a></span>
<span class=normal><a href=#__codelineno-7-39>39</a></span>
<span class=normal><a href=#__codelineno-7-40>40</a></span>
<span class=normal><a href=#__codelineno-7-41>41</a></span>
<span class=normal><a href=#__codelineno-7-42>42</a></span>
<span class=normal><a href=#__codelineno-7-43>43</a></span>
<span class=normal><a href=#__codelineno-7-44>44</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1></a><span class=c># you probably want to tune these settings</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2></a><span class=nb>PassengerHighPerformance</span><span class=w> </span><span class=k>on</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3></a><span class=nb>PassengerMaxPoolSize</span><span class=w> </span><span class=m>12</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4></a><span class=nb>PassengerPoolIdleTime</span><span class=w> </span><span class=m>1500</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5></a><span class=c># PassengerMaxRequests 1000</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6></a><span class=nb>PassengerStatThrottleRate</span><span class=w> </span><span class=m>120</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7></a><span class=nb>RackAutoDetect</span><span class=w> </span><span class=k>Off</span>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8></a><span class=nb>RailsAutoDetect</span><span class=w> </span><span class=k>Off</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9></a>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10></a><span class=nb>Listen</span><span class=w> </span><span class=m>8140</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11></a>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12></a><span class=nt>&lt;VirtualHost</span><span class=w> </span><span class=s>*:8140</span><span class=nt>&gt;</span>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13></a><span class=w>        </span><span class=nb>SSLEngine</span><span class=w> </span><span class=k>on</span>
</span><span id=__span-7-14><a id=__codelineno-7-14 name=__codelineno-7-14></a><span class=w>        </span><span class=nb>SSLProtocol</span><span class=w> </span>-ALL<span class=w> </span>+SSLv3<span class=w> </span>+TLSv1
</span><span id=__span-7-15><a id=__codelineno-7-15 name=__codelineno-7-15></a><span class=w>        </span><span class=nb>SSLCipherSuite</span><span class=w> </span><span class=k>ALL</span>:!ADH:RC4+RSA:+HIGH:+MEDIUM:-LOW:-SSLv2:-EXP
</span><span id=__span-7-16><a id=__codelineno-7-16 name=__codelineno-7-16></a>
</span><span id=__span-7-17><a id=__codelineno-7-17 name=__codelineno-7-17></a><span class=w>        </span><span class=nb>SSLCertificateFile</span><span class=w>      </span><span class=sx>/var/lib/puppet/ssl/certs/puppet.deimos.lan.pem</span>
</span><span id=__span-7-18><a id=__codelineno-7-18 name=__codelineno-7-18></a><span class=w>        </span><span class=nb>SSLCertificateKeyFile</span><span class=w>   </span><span class=sx>/var/lib/puppet/ssl/private_keys/puppet.deimos.lan.pem</span>
</span><span id=__span-7-19><a id=__codelineno-7-19 name=__codelineno-7-19></a><span class=w>        </span><span class=nb>SSLCertificateChainFile</span><span class=w> </span><span class=sx>/var/lib/puppet/ssl/certs/ca.pem</span>
</span><span id=__span-7-20><a id=__codelineno-7-20 name=__codelineno-7-20></a><span class=w>        </span><span class=nb>SSLCACertificateFile</span><span class=w>    </span><span class=sx>/var/lib/puppet/ssl/certs/ca.pem</span>
</span><span id=__span-7-21><a id=__codelineno-7-21 name=__codelineno-7-21></a><span class=w>        </span><span class=c># If Apache complains about invalid signatures on the CRL, you can try disabling</span>
</span><span id=__span-7-22><a id=__codelineno-7-22 name=__codelineno-7-22></a><span class=w>        </span><span class=c># CRL checking by commenting the next line, but this is not recommended.</span>
</span><span id=__span-7-23><a id=__codelineno-7-23 name=__codelineno-7-23></a><span class=w>        </span><span class=nb>SSLCARevocationFile</span><span class=w>     </span><span class=sx>/var/lib/puppet/ssl/ca/ca_crl.pem</span>
</span><span id=__span-7-24><a id=__codelineno-7-24 name=__codelineno-7-24></a><span class=w>        </span><span class=nb>SSLVerifyClient</span><span class=w> </span>optional
</span><span id=__span-7-25><a id=__codelineno-7-25 name=__codelineno-7-25></a><span class=w>        </span><span class=nb>SSLVerifyDepth</span><span class=w>  </span><span class=m>1</span>
</span><span id=__span-7-26><a id=__codelineno-7-26 name=__codelineno-7-26></a><span class=w>        </span><span class=c># The `ExportCertData` option is needed for agent certificate expiration warnings</span>
</span><span id=__span-7-27><a id=__codelineno-7-27 name=__codelineno-7-27></a><span class=w>        </span><span class=nb>SSLOptions</span><span class=w> </span>+StdEnvVars<span class=w> </span>+ExportCertData
</span><span id=__span-7-28><a id=__codelineno-7-28 name=__codelineno-7-28></a>
</span><span id=__span-7-29><a id=__codelineno-7-29 name=__codelineno-7-29></a><span class=w>        </span><span class=c># This header needs to be set if using a loadbalancer or proxy</span>
</span><span id=__span-7-30><a id=__codelineno-7-30 name=__codelineno-7-30></a><span class=w>        </span><span class=nb>RequestHeader</span><span class=w> </span>unset<span class=w> </span>X-Forwarded-For
</span><span id=__span-7-31><a id=__codelineno-7-31 name=__codelineno-7-31></a>
</span><span id=__span-7-32><a id=__codelineno-7-32 name=__codelineno-7-32></a><span class=w>        </span><span class=nb>RequestHeader</span><span class=w> </span>set<span class=w> </span>X-SSL-Subject<span class=w> </span>%{SSL_CLIENT_S_DN}e
</span><span id=__span-7-33><a id=__codelineno-7-33 name=__codelineno-7-33></a><span class=w>        </span><span class=nb>RequestHeader</span><span class=w> </span>set<span class=w> </span>X-Client-DN<span class=w> </span>%{SSL_CLIENT_S_DN}e
</span><span id=__span-7-34><a id=__codelineno-7-34 name=__codelineno-7-34></a><span class=w>        </span><span class=nb>RequestHeader</span><span class=w> </span>set<span class=w> </span>X-Client-Verify<span class=w> </span>%{SSL_CLIENT_VERIFY}e
</span><span id=__span-7-35><a id=__codelineno-7-35 name=__codelineno-7-35></a>
</span><span id=__span-7-36><a id=__codelineno-7-36 name=__codelineno-7-36></a><span class=w>        </span><span class=nb>DocumentRoot</span><span class=w> </span><span class=sx>/usr/share/puppet/rack/puppetmasterd/public/</span>
</span><span id=__span-7-37><a id=__codelineno-7-37 name=__codelineno-7-37></a><span class=w>        </span><span class=nb>RackBaseURI</span><span class=w> </span>/
</span><span id=__span-7-38><a id=__codelineno-7-38 name=__codelineno-7-38></a><span class=w>        </span><span class=nt>&lt;Directory</span><span class=w> </span><span class=s>/usr/share/puppet/rack/puppetmasterd/</span><span class=nt>&gt;</span>
</span><span id=__span-7-39><a id=__codelineno-7-39 name=__codelineno-7-39></a><span class=w>                </span><span class=nb>Options</span><span class=w> </span><span class=k>None</span>
</span><span id=__span-7-40><a id=__codelineno-7-40 name=__codelineno-7-40></a><span class=w>                </span><span class=nb>AllowOverride</span><span class=w> </span><span class=k>None</span>
</span><span id=__span-7-41><a id=__codelineno-7-41 name=__codelineno-7-41></a><span class=w>                </span><span class=nb>Order</span><span class=w> </span>allow,deny
</span><span id=__span-7-42><a id=__codelineno-7-42 name=__codelineno-7-42></a><span class=w>                </span><span class=nb>allow</span><span class=w> </span>from<span class=w> </span><span class=k>all</span>
</span><span id=__span-7-43><a id=__codelineno-7-43 name=__codelineno-7-43></a><span class=w>        </span><span class=nt>&lt;/Directory&gt;</span>
</span><span id=__span-7-44><a id=__codelineno-7-44 name=__codelineno-7-44></a><span class=nt>&lt;/VirtualHost&gt;</span>
</span></code></pre></div></td></tr></table></div> <h4 id=nginx-and-mongrel>NGINX and Mongrel</h4> <h5 id=installation_1>Installation</h5> <p>If you've chosen NGINX and Mongrel, you'll need to start by installing them:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-8-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1></a>aptitude<span class=w> </span>install<span class=w> </span>nginx<span class=w> </span>mongrel
</span></code></pre></div></td></tr></table></div> <h5 id=configuration>Configuration</h5> <p>Modify the /etc/default/puppetmaster file:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-9-1> 1</a></span>
<span class=normal><a href=#__codelineno-9-2> 2</a></span>
<span class=normal><a href=#__codelineno-9-3> 3</a></span>
<span class=normal><a href=#__codelineno-9-4> 4</a></span>
<span class=normal><a href=#__codelineno-9-5> 5</a></span>
<span class=normal><a href=#__codelineno-9-6> 6</a></span>
<span class=normal><a href=#__codelineno-9-7> 7</a></span>
<span class=normal><a href=#__codelineno-9-8> 8</a></span>
<span class=normal><a href=#__codelineno-9-9> 9</a></span>
<span class=normal><a href=#__codelineno-9-10>10</a></span>
<span class=normal><a href=#__codelineno-9-11>11</a></span>
<span class=normal><a href=#__codelineno-9-12>12</a></span>
<span class=normal><a href=#__codelineno-9-13>13</a></span>
<span class=normal><a href=#__codelineno-9-14>14</a></span>
<span class=normal><a href=#__codelineno-9-15>15</a></span>
<span class=normal><a href=#__codelineno-9-16>16</a></span>
<span class=normal><a href=#__codelineno-9-17>17</a></span>
<span class=normal><a href=#__codelineno-9-18>18</a></span>
<span class=normal><a href=#__codelineno-9-19>19</a></span>
<span class=normal><a href=#__codelineno-9-20>20</a></span>
<span class=normal><a href=#__codelineno-9-21>21</a></span>
<span class=normal><a href=#__codelineno-9-22>22</a></span>
<span class=normal><a href=#__codelineno-9-23>23</a></span>
<span class=normal><a href=#__codelineno-9-24>24</a></span>
<span class=normal><a href=#__codelineno-9-25>25</a></span>
<span class=normal><a href=#__codelineno-9-26>26</a></span>
<span class=normal><a href=#__codelineno-9-27>27</a></span>
<span class=normal><a href=#__codelineno-9-28>28</a></span>
<span class=normal><a href=#__codelineno-9-29>29</a></span>
<span class=normal><a href=#__codelineno-9-30>30</a></span>
<span class=normal><a href=#__codelineno-9-31>31</a></span>
<span class=normal><a href=#__codelineno-9-32>32</a></span>
<span class=normal><a href=#__codelineno-9-33>33</a></span>
<span class=normal><a href=#__codelineno-9-34>34</a></span>
<span class=normal><a href=#__codelineno-9-35>35</a></span>
<span class=normal><a href=#__codelineno-9-36>36</a></span>
<span class=normal><a href=#__codelineno-9-37>37</a></span>
<span class=normal><a href=#__codelineno-9-38>38</a></span>
<span class=normal><a href=#__codelineno-9-39>39</a></span>
<span class=normal><a href=#__codelineno-9-40>40</a></span>
<span class=normal><a href=#__codelineno-9-41>41</a></span>
<span class=normal><a href=#__codelineno-9-42>42</a></span>
<span class=normal><a href=#__codelineno-9-43>43</a></span>
<span class=normal><a href=#__codelineno-9-44>44</a></span>
<span class=normal><a href=#__codelineno-9-45>45</a></span>
<span class=normal><a href=#__codelineno-9-46>46</a></span>
<span class=normal><a href=#__codelineno-9-47>47</a></span>
<span class=normal><a href=#__codelineno-9-48>48</a></span>
<span class=normal><a href=#__codelineno-9-49>49</a></span>
<span class=normal><a href=#__codelineno-9-50>50</a></span>
<span class=normal><a href=#__codelineno-9-51>51</a></span>
<span class=normal><a href=#__codelineno-9-52>52</a></span>
<span class=normal><a href=#__codelineno-9-53>53</a></span>
<span class=normal><a href=#__codelineno-9-54>54</a></span>
<span class=normal><a href=#__codelineno-9-55>55</a></span>
<span class=normal><a href=#__codelineno-9-56>56</a></span>
<span class=normal><a href=#__codelineno-9-57>57</a></span>
<span class=normal><a href=#__codelineno-9-58>58</a></span>
<span class=normal><a href=#__codelineno-9-59>59</a></span>
<span class=normal><a href=#__codelineno-9-60>60</a></span>
<span class=normal><a href=#__codelineno-9-61>61</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1></a><span class=c1># Defaults for puppetmaster - sourced by /etc/init.d/puppet</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2></a>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3></a><span class=c1># Start puppet on boot?</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4></a>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5></a><span class=nv>START</span><span class=o>=</span>yes
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6></a>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7></a><span class=c1># Startup options</span>
</span><span id=__span-9-8><a id=__codelineno-9-8 name=__codelineno-9-8></a>
</span><span id=__span-9-9><a id=__codelineno-9-9 name=__codelineno-9-9></a><span class=nv>DAEMON_OPTS</span><span class=o>=</span><span class=s2>&quot;&quot;</span>
</span><span id=__span-9-10><a id=__codelineno-9-10 name=__codelineno-9-10></a>
</span><span id=__span-9-11><a id=__codelineno-9-11 name=__codelineno-9-11></a><span class=c1># What server type to run</span>
</span><span id=__span-9-12><a id=__codelineno-9-12 name=__codelineno-9-12></a>
</span><span id=__span-9-13><a id=__codelineno-9-13 name=__codelineno-9-13></a><span class=c1># Options:</span>
</span><span id=__span-9-14><a id=__codelineno-9-14 name=__codelineno-9-14></a>
</span><span id=__span-9-15><a id=__codelineno-9-15 name=__codelineno-9-15></a><span class=c1># webrick (default, cannot handle more than ~30 nodes)</span>
</span><span id=__span-9-16><a id=__codelineno-9-16 name=__codelineno-9-16></a>
</span><span id=__span-9-17><a id=__codelineno-9-17 name=__codelineno-9-17></a><span class=c1># mongrel (scales better than webrick because you can run</span>
</span><span id=__span-9-18><a id=__codelineno-9-18 name=__codelineno-9-18></a>
</span><span id=__span-9-19><a id=__codelineno-9-19 name=__codelineno-9-19></a><span class=c1># multiple processes if you are getting</span>
</span><span id=__span-9-20><a id=__codelineno-9-20 name=__codelineno-9-20></a>
</span><span id=__span-9-21><a id=__codelineno-9-21 name=__codelineno-9-21></a><span class=c1># connection-reset or End-of-file errors, switch to</span>
</span><span id=__span-9-22><a id=__codelineno-9-22 name=__codelineno-9-22></a>
</span><span id=__span-9-23><a id=__codelineno-9-23 name=__codelineno-9-23></a><span class=c1># mongrel. Requires front-end web-proxy such as</span>
</span><span id=__span-9-24><a id=__codelineno-9-24 name=__codelineno-9-24></a>
</span><span id=__span-9-25><a id=__codelineno-9-25 name=__codelineno-9-25></a><span class=c1># apache, nginx, or pound)</span>
</span><span id=__span-9-26><a id=__codelineno-9-26 name=__codelineno-9-26></a>
</span><span id=__span-9-27><a id=__codelineno-9-27 name=__codelineno-9-27></a><span class=c1># See: http://reductivelabs.com/trac/puppet/wiki/UsingMongrel</span>
</span><span id=__span-9-28><a id=__codelineno-9-28 name=__codelineno-9-28></a>
</span><span id=__span-9-29><a id=__codelineno-9-29 name=__codelineno-9-29></a><span class=nv>SERVERTYPE</span><span class=o>=</span>mongrel
</span><span id=__span-9-30><a id=__codelineno-9-30 name=__codelineno-9-30></a>
</span><span id=__span-9-31><a id=__codelineno-9-31 name=__codelineno-9-31></a><span class=c1># How many puppetmaster instances to start? Its pointless to set this</span>
</span><span id=__span-9-32><a id=__codelineno-9-32 name=__codelineno-9-32></a>
</span><span id=__span-9-33><a id=__codelineno-9-33 name=__codelineno-9-33></a><span class=c1># higher than 1 if you are not using mongrel.</span>
</span><span id=__span-9-34><a id=__codelineno-9-34 name=__codelineno-9-34></a>
</span><span id=__span-9-35><a id=__codelineno-9-35 name=__codelineno-9-35></a><span class=nv>PUPPETMASTERS</span><span class=o>=</span><span class=m>4</span>
</span><span id=__span-9-36><a id=__codelineno-9-36 name=__codelineno-9-36></a>
</span><span id=__span-9-37><a id=__codelineno-9-37 name=__codelineno-9-37></a><span class=c1># What port should the puppetmaster listen on (default: 8140). If</span>
</span><span id=__span-9-38><a id=__codelineno-9-38 name=__codelineno-9-38></a>
</span><span id=__span-9-39><a id=__codelineno-9-39 name=__codelineno-9-39></a><span class=c1># PUPPETMASTERS is set to a number greater than 1, then the port for</span>
</span><span id=__span-9-40><a id=__codelineno-9-40 name=__codelineno-9-40></a>
</span><span id=__span-9-41><a id=__codelineno-9-41 name=__codelineno-9-41></a><span class=c1># the first puppetmaster will be set to the port listed below, and</span>
</span><span id=__span-9-42><a id=__codelineno-9-42 name=__codelineno-9-42></a>
</span><span id=__span-9-43><a id=__codelineno-9-43 name=__codelineno-9-43></a><span class=c1># further instances will be incremented by one</span>
</span><span id=__span-9-44><a id=__codelineno-9-44 name=__codelineno-9-44></a>
</span><span id=__span-9-45><a id=__codelineno-9-45 name=__codelineno-9-45></a><span class=c1>#</span>
</span><span id=__span-9-46><a id=__codelineno-9-46 name=__codelineno-9-46></a>
</span><span id=__span-9-47><a id=__codelineno-9-47 name=__codelineno-9-47></a><span class=c1># NOTE: if you are using mongrel, then you will need to have a</span>
</span><span id=__span-9-48><a id=__codelineno-9-48 name=__codelineno-9-48></a>
</span><span id=__span-9-49><a id=__codelineno-9-49 name=__codelineno-9-49></a><span class=c1># front-end web-proxy (such as apache, nginx, pound) that takes</span>
</span><span id=__span-9-50><a id=__codelineno-9-50 name=__codelineno-9-50></a>
</span><span id=__span-9-51><a id=__codelineno-9-51 name=__codelineno-9-51></a><span class=c1># incoming requests on the port your clients are connecting to</span>
</span><span id=__span-9-52><a id=__codelineno-9-52 name=__codelineno-9-52></a>
</span><span id=__span-9-53><a id=__codelineno-9-53 name=__codelineno-9-53></a><span class=c1># (default is: 8140), and then passes them off to the mongrel</span>
</span><span id=__span-9-54><a id=__codelineno-9-54 name=__codelineno-9-54></a>
</span><span id=__span-9-55><a id=__codelineno-9-55 name=__codelineno-9-55></a><span class=c1># processes. In this case it is recommended to run your web-proxy on</span>
</span><span id=__span-9-56><a id=__codelineno-9-56 name=__codelineno-9-56></a>
</span><span id=__span-9-57><a id=__codelineno-9-57 name=__codelineno-9-57></a><span class=c1># port 8140 and change the below number to something else, such as</span>
</span><span id=__span-9-58><a id=__codelineno-9-58 name=__codelineno-9-58></a>
</span><span id=__span-9-59><a id=__codelineno-9-59 name=__codelineno-9-59></a><span class=c1># 18140.</span>
</span><span id=__span-9-60><a id=__codelineno-9-60 name=__codelineno-9-60></a>
</span><span id=__span-9-61><a id=__codelineno-9-61 name=__codelineno-9-61></a><span class=nv>PORT</span><span class=o>=</span><span class=m>18140</span>
</span></code></pre></div></td></tr></table></div> <p>After (re-)starting the daemon, you should be able to see the attached sockets:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-10-1>1</a></span>
<span class=normal><a href=#__codelineno-10-2>2</a></span>
<span class=normal><a href=#__codelineno-10-3>3</a></span>
<span class=normal><a href=#__codelineno-10-4>4</a></span>
<span class=normal><a href=#__codelineno-10-5>5</a></span>
<span class=normal><a href=#__codelineno-10-6>6</a></span>
<span class=normal><a href=#__codelineno-10-7>7</a></span>
<span class=normal><a href=#__codelineno-10-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-10-1><a id=__codelineno-10-1 name=__codelineno-10-1></a><span class=w> </span>&gt;<span class=w> </span>netstat<span class=w> </span>-pvltpn
</span><span id=__span-10-2><a id=__codelineno-10-2 name=__codelineno-10-2></a><span class=w> </span>Connexions<span class=w> </span>Internet<span class=w> </span>actives<span class=w> </span><span class=o>(</span>seulement<span class=w> </span>serveurs<span class=o>)</span>
</span><span id=__span-10-3><a id=__codelineno-10-3 name=__codelineno-10-3></a><span class=w> </span>Proto<span class=w> </span>Recv-Q<span class=w> </span>Send-Q<span class=w> </span>Adresse<span class=w> </span>locale<span class=w>          </span>Adresse<span class=w> </span>distante<span class=w>        </span>Etat<span class=w>        </span>PID/Program<span class=w> </span>name
</span><span id=__span-10-4><a id=__codelineno-10-4 name=__codelineno-10-4></a><span class=w> </span>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>0</span>.0.0.0:41736<span class=w>           </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>2029</span>/rpc.statd
</span><span id=__span-10-5><a id=__codelineno-10-5 name=__codelineno-10-5></a><span class=w> </span>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>0</span>.0.0.0:111<span class=w>             </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>2018</span>/portmap
</span><span id=__span-10-6><a id=__codelineno-10-6 name=__codelineno-10-6></a><span class=w> </span>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>0</span>.0.0.0:22<span class=w>              </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>2333</span>/sshd
</span><span id=__span-10-7><a id=__codelineno-10-7 name=__codelineno-10-7></a><span class=w> </span>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>127</span>.0.0.1:18140<span class=w>         </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>10059</span>/ruby<span class=w>       </span>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>127</span>.0.0.1:18141<span class=w>         </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>10082</span>/ruby<span class=w>       </span>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>127</span>.0.0.1:18142<span class=w>         </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>10104</span>/ruby<span class=w>       </span>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>127</span>.0.0.1:18143<span class=w>         </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>10126</span>/ruby
</span><span id=__span-10-8><a id=__codelineno-10-8 name=__codelineno-10-8></a><span class=w> </span>tcp6<span class=w>       </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span>:::22<span class=w>                   </span>:::*<span class=w>                    </span>LISTEN<span class=w>      </span><span class=m>2333</span>/sshd
</span></code></pre></div></td></tr></table></div> <p>Add the following lines to the /etc/puppet/puppet.conf file:</p> <div class="language-ini highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-11-1> 1</a></span>
<span class=normal><a href=#__codelineno-11-2> 2</a></span>
<span class=normal><a href=#__codelineno-11-3> 3</a></span>
<span class=normal><a href=#__codelineno-11-4> 4</a></span>
<span class=normal><a href=#__codelineno-11-5> 5</a></span>
<span class=normal><a href=#__codelineno-11-6> 6</a></span>
<span class=normal><a href=#__codelineno-11-7> 7</a></span>
<span class=normal><a href=#__codelineno-11-8> 8</a></span>
<span class=normal><a href=#__codelineno-11-9> 9</a></span>
<span class=normal><a href=#__codelineno-11-10>10</a></span>
<span class=normal><a href=#__codelineno-11-11>11</a></span>
<span class=normal><a href=#__codelineno-11-12>12</a></span>
<span class=normal><a href=#__codelineno-11-13>13</a></span>
<span class=normal><a href=#__codelineno-11-14>14</a></span>
<span class=normal><a href=#__codelineno-11-15>15</a></span>
<span class=normal><a href=#__codelineno-11-16>16</a></span>
<span class=normal><a href=#__codelineno-11-17>17</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-11-1><a id=__codelineno-11-1 name=__codelineno-11-1></a><span class=k>[main]</span>
</span><span id=__span-11-2><a id=__codelineno-11-2 name=__codelineno-11-2></a><span class=na>logdir</span><span class=o>=</span><span class=s>/var/log/puppet</span>
</span><span id=__span-11-3><a id=__codelineno-11-3 name=__codelineno-11-3></a><span class=na>vardir</span><span class=o>=</span><span class=s>/var/lib/puppet</span>
</span><span id=__span-11-4><a id=__codelineno-11-4 name=__codelineno-11-4></a><span class=na>ssldir</span><span class=o>=</span><span class=s>/var/lib/puppet/ssl</span>
</span><span id=__span-11-5><a id=__codelineno-11-5 name=__codelineno-11-5></a><span class=na>rundir</span><span class=o>=</span><span class=s>/var/run/puppet</span>
</span><span id=__span-11-6><a id=__codelineno-11-6 name=__codelineno-11-6></a><span class=na>factpath</span><span class=o>=</span><span class=s>$vardir/lib/facter</span>
</span><span id=__span-11-7><a id=__codelineno-11-7 name=__codelineno-11-7></a><span class=na>templatedir</span><span class=o>=</span><span class=s>$confdir/templates</span>
</span><span id=__span-11-8><a id=__codelineno-11-8 name=__codelineno-11-8></a><span class=na>pluginsync</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>true</span>
</span><span id=__span-11-9><a id=__codelineno-11-9 name=__codelineno-11-9></a><span class=k>[master]</span>
</span><span id=__span-11-10><a id=__codelineno-11-10 name=__codelineno-11-10></a><span class=c1># These are needed when the puppetmaster is run by passenger</span>
</span><span id=__span-11-11><a id=__codelineno-11-11 name=__codelineno-11-11></a><span class=c1># and can safely be removed if webrick is used.</span>
</span><span id=__span-11-12><a id=__codelineno-11-12 name=__codelineno-11-12></a><span class=na>ssl_client_header</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>HTTP_X_SSL_SUBJECT</span>
</span><span id=__span-11-13><a id=__codelineno-11-13 name=__codelineno-11-13></a><span class=na>ssl_client_verify_header</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>SSL_CLIENT_VERIFY</span>
</span><span id=__span-11-14><a id=__codelineno-11-14 name=__codelineno-11-14></a><span class=na>report</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>true</span>
</span><span id=__span-11-15><a id=__codelineno-11-15 name=__codelineno-11-15></a>
</span><span id=__span-11-16><a id=__codelineno-11-16 name=__codelineno-11-16></a><span class=k>[agent]</span>
</span><span id=__span-11-17><a id=__codelineno-11-17 name=__codelineno-11-17></a><span class=na>server</span><span class=o>=</span><span class=s>puppet-srv.deimos.fr</span>
</span></code></pre></div></td></tr></table></div> <p>Modify the following configuration in /etc/nginx.conf:</p> <div class="language-nginx highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-12-1> 1</a></span>
<span class=normal><a href=#__codelineno-12-2> 2</a></span>
<span class=normal><a href=#__codelineno-12-3> 3</a></span>
<span class=normal><a href=#__codelineno-12-4> 4</a></span>
<span class=normal><a href=#__codelineno-12-5> 5</a></span>
<span class=normal><a href=#__codelineno-12-6> 6</a></span>
<span class=normal><a href=#__codelineno-12-7> 7</a></span>
<span class=normal><a href=#__codelineno-12-8> 8</a></span>
<span class=normal><a href=#__codelineno-12-9> 9</a></span>
<span class=normal><a href=#__codelineno-12-10>10</a></span>
<span class=normal><a href=#__codelineno-12-11>11</a></span>
<span class=normal><a href=#__codelineno-12-12>12</a></span>
<span class=normal><a href=#__codelineno-12-13>13</a></span>
<span class=normal><a href=#__codelineno-12-14>14</a></span>
<span class=normal><a href=#__codelineno-12-15>15</a></span>
<span class=normal><a href=#__codelineno-12-16>16</a></span>
<span class=normal><a href=#__codelineno-12-17>17</a></span>
<span class=normal><a href=#__codelineno-12-18>18</a></span>
<span class=normal><a href=#__codelineno-12-19>19</a></span>
<span class=normal><a href=#__codelineno-12-20>20</a></span>
<span class=normal><a href=#__codelineno-12-21>21</a></span>
<span class=normal><a href=#__codelineno-12-22>22</a></span>
<span class=normal><a href=#__codelineno-12-23>23</a></span>
<span class=normal><a href=#__codelineno-12-24>24</a></span>
<span class=normal><a href=#__codelineno-12-25>25</a></span>
<span class=normal><a href=#__codelineno-12-26>26</a></span>
<span class=normal><a href=#__codelineno-12-27>27</a></span>
<span class=normal><a href=#__codelineno-12-28>28</a></span>
<span class=normal><a href=#__codelineno-12-29>29</a></span>
<span class=normal><a href=#__codelineno-12-30>30</a></span>
<span class=normal><a href=#__codelineno-12-31>31</a></span>
<span class=normal><a href=#__codelineno-12-32>32</a></span>
<span class=normal><a href=#__codelineno-12-33>33</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-12-1><a id=__codelineno-12-1 name=__codelineno-12-1></a><span class=k>user</span><span class=w> </span><span class=s>www-data</span><span class=p>;</span>
</span><span id=__span-12-2><a id=__codelineno-12-2 name=__codelineno-12-2></a><span class=k>worker_processes</span><span class=w>  </span><span class=mi>4</span><span class=p>;</span>
</span><span id=__span-12-3><a id=__codelineno-12-3 name=__codelineno-12-3></a>
</span><span id=__span-12-4><a id=__codelineno-12-4 name=__codelineno-12-4></a><span class=k>error_log</span><span class=w>  </span><span class=s>/var/log/nginx/error.log</span><span class=p>;</span>
</span><span id=__span-12-5><a id=__codelineno-12-5 name=__codelineno-12-5></a><span class=k>pid</span><span class=w>        </span><span class=s>/var/run/nginx.pid</span><span class=p>;</span>
</span><span id=__span-12-6><a id=__codelineno-12-6 name=__codelineno-12-6></a>
</span><span id=__span-12-7><a id=__codelineno-12-7 name=__codelineno-12-7></a><span class=k>events</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-8><a id=__codelineno-12-8 name=__codelineno-12-8></a><span class=w>    </span><span class=kn>worker_connections</span><span class=w>  </span><span class=mi>1024</span><span class=p>;</span>
</span><span id=__span-12-9><a id=__codelineno-12-9 name=__codelineno-12-9></a><span class=w>    </span><span class=c1># multi_accept on;</span>
</span><span id=__span-12-10><a id=__codelineno-12-10 name=__codelineno-12-10></a><span class=p>}</span>
</span><span id=__span-12-11><a id=__codelineno-12-11 name=__codelineno-12-11></a>
</span><span id=__span-12-12><a id=__codelineno-12-12 name=__codelineno-12-12></a><span class=k>http</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-12-13><a id=__codelineno-12-13 name=__codelineno-12-13></a><span class=w>    </span><span class=c1>#include       /etc/nginx/mime.types;</span>
</span><span id=__span-12-14><a id=__codelineno-12-14 name=__codelineno-12-14></a><span class=w>    </span><span class=kn>default_type</span><span class=w>  </span><span class=s>application/octet-stream</span><span class=p>;</span>
</span><span id=__span-12-15><a id=__codelineno-12-15 name=__codelineno-12-15></a>
</span><span id=__span-12-16><a id=__codelineno-12-16 name=__codelineno-12-16></a><span class=w>    </span><span class=kn>access_log</span><span class=w> </span><span class=s>/var/log/nginx/access.log</span><span class=p>;</span>
</span><span id=__span-12-17><a id=__codelineno-12-17 name=__codelineno-12-17></a>
</span><span id=__span-12-18><a id=__codelineno-12-18 name=__codelineno-12-18></a><span class=w>    </span><span class=kn>sendfile</span><span class=w>        </span><span class=no>on</span><span class=p>;</span><span class=w>     </span><span class=kn>tcp_nopush</span><span class=w>     </span><span class=no>on</span><span class=p>;</span>
</span><span id=__span-12-19><a id=__codelineno-12-19 name=__codelineno-12-19></a>
</span><span id=__span-12-20><a id=__codelineno-12-20 name=__codelineno-12-20></a><span class=w>    </span><span class=c1># Look at TLB size in /proc/cpuinfo (Linux) for the 4k pagesize</span>
</span><span id=__span-12-21><a id=__codelineno-12-21 name=__codelineno-12-21></a><span class=w>    </span><span class=kn>large_client_header_buffers</span><span class=w>     </span><span class=mi>16</span><span class=w>      </span><span class=mi>4k</span><span class=p>;</span>
</span><span id=__span-12-22><a id=__codelineno-12-22 name=__codelineno-12-22></a><span class=w>    </span><span class=kn>proxy_buffers</span><span class=w>                   </span><span class=mi>128</span><span class=w>     </span><span class=mi>4k</span><span class=p>;</span>
</span><span id=__span-12-23><a id=__codelineno-12-23 name=__codelineno-12-23></a>
</span><span id=__span-12-24><a id=__codelineno-12-24 name=__codelineno-12-24></a><span class=w>    </span><span class=c1>#keepalive_timeout  0;</span>
</span><span id=__span-12-25><a id=__codelineno-12-25 name=__codelineno-12-25></a><span class=w>    </span><span class=kn>keepalive_timeout</span><span class=w>  </span><span class=mi>65</span><span class=p>;</span>
</span><span id=__span-12-26><a id=__codelineno-12-26 name=__codelineno-12-26></a><span class=w>    </span><span class=kn>tcp_nodelay</span><span class=w>        </span><span class=no>on</span><span class=p>;</span>
</span><span id=__span-12-27><a id=__codelineno-12-27 name=__codelineno-12-27></a>
</span><span id=__span-12-28><a id=__codelineno-12-28 name=__codelineno-12-28></a><span class=w>    </span><span class=kn>gzip</span><span class=w>  </span><span class=no>on</span><span class=p>;</span>
</span><span id=__span-12-29><a id=__codelineno-12-29 name=__codelineno-12-29></a><span class=w>    </span><span class=kn>gzip_disable</span><span class=w> </span><span class=s>&quot;MSIE</span><span class=w> </span><span class=s>[1-6]\.(?!.*SV1)&quot;</span><span class=p>;</span>
</span><span id=__span-12-30><a id=__codelineno-12-30 name=__codelineno-12-30></a>
</span><span id=__span-12-31><a id=__codelineno-12-31 name=__codelineno-12-31></a><span class=w>    </span><span class=kn>include</span><span class=w> </span><span class=s>/etc/nginx/conf.d/*.conf</span><span class=p>;</span>
</span><span id=__span-12-32><a id=__codelineno-12-32 name=__codelineno-12-32></a><span class=w>    </span><span class=kn>include</span><span class=w> </span><span class=s>/etc/nginx/sites-enabled/*</span><span class=p>;</span>
</span><span id=__span-12-33><a id=__codelineno-12-33 name=__codelineno-12-33></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>And add this configuration for puppet:</p> <div class="language-nginx highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-13-1> 1</a></span>
<span class=normal><a href=#__codelineno-13-2> 2</a></span>
<span class=normal><a href=#__codelineno-13-3> 3</a></span>
<span class=normal><a href=#__codelineno-13-4> 4</a></span>
<span class=normal><a href=#__codelineno-13-5> 5</a></span>
<span class=normal><a href=#__codelineno-13-6> 6</a></span>
<span class=normal><a href=#__codelineno-13-7> 7</a></span>
<span class=normal><a href=#__codelineno-13-8> 8</a></span>
<span class=normal><a href=#__codelineno-13-9> 9</a></span>
<span class=normal><a href=#__codelineno-13-10>10</a></span>
<span class=normal><a href=#__codelineno-13-11>11</a></span>
<span class=normal><a href=#__codelineno-13-12>12</a></span>
<span class=normal><a href=#__codelineno-13-13>13</a></span>
<span class=normal><a href=#__codelineno-13-14>14</a></span>
<span class=normal><a href=#__codelineno-13-15>15</a></span>
<span class=normal><a href=#__codelineno-13-16>16</a></span>
<span class=normal><a href=#__codelineno-13-17>17</a></span>
<span class=normal><a href=#__codelineno-13-18>18</a></span>
<span class=normal><a href=#__codelineno-13-19>19</a></span>
<span class=normal><a href=#__codelineno-13-20>20</a></span>
<span class=normal><a href=#__codelineno-13-21>21</a></span>
<span class=normal><a href=#__codelineno-13-22>22</a></span>
<span class=normal><a href=#__codelineno-13-23>23</a></span>
<span class=normal><a href=#__codelineno-13-24>24</a></span>
<span class=normal><a href=#__codelineno-13-25>25</a></span>
<span class=normal><a href=#__codelineno-13-26>26</a></span>
<span class=normal><a href=#__codelineno-13-27>27</a></span>
<span class=normal><a href=#__codelineno-13-28>28</a></span>
<span class=normal><a href=#__codelineno-13-29>29</a></span>
<span class=normal><a href=#__codelineno-13-30>30</a></span>
<span class=normal><a href=#__codelineno-13-31>31</a></span>
<span class=normal><a href=#__codelineno-13-32>32</a></span>
<span class=normal><a href=#__codelineno-13-33>33</a></span>
<span class=normal><a href=#__codelineno-13-34>34</a></span>
<span class=normal><a href=#__codelineno-13-35>35</a></span>
<span class=normal><a href=#__codelineno-13-36>36</a></span>
<span class=normal><a href=#__codelineno-13-37>37</a></span>
<span class=normal><a href=#__codelineno-13-38>38</a></span>
<span class=normal><a href=#__codelineno-13-39>39</a></span>
<span class=normal><a href=#__codelineno-13-40>40</a></span>
<span class=normal><a href=#__codelineno-13-41>41</a></span>
<span class=normal><a href=#__codelineno-13-42>42</a></span>
<span class=normal><a href=#__codelineno-13-43>43</a></span>
<span class=normal><a href=#__codelineno-13-44>44</a></span>
<span class=normal><a href=#__codelineno-13-45>45</a></span>
<span class=normal><a href=#__codelineno-13-46>46</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-13-1><a id=__codelineno-13-1 name=__codelineno-13-1></a><span class=k>upstream</span><span class=w> </span><span class=s>puppet-prd.deimos.fr</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-2><a id=__codelineno-13-2 name=__codelineno-13-2></a><span class=w>   </span><span class=kn>server</span><span class=w> </span><span class=n>127.0.0.1</span><span class=p>:</span><span class=mi>18140</span><span class=p>;</span>
</span><span id=__span-13-3><a id=__codelineno-13-3 name=__codelineno-13-3></a><span class=w>   </span><span class=kn>server</span><span class=w> </span><span class=n>127.0.0.1</span><span class=p>:</span><span class=mi>18141</span><span class=p>;</span>
</span><span id=__span-13-4><a id=__codelineno-13-4 name=__codelineno-13-4></a><span class=w>   </span><span class=kn>server</span><span class=w> </span><span class=n>127.0.0.1</span><span class=p>:</span><span class=mi>18142</span><span class=p>;</span>
</span><span id=__span-13-5><a id=__codelineno-13-5 name=__codelineno-13-5></a><span class=w>   </span><span class=kn>server</span><span class=w> </span><span class=n>127.0.0.1</span><span class=p>:</span><span class=mi>18143</span><span class=p>;</span>
</span><span id=__span-13-6><a id=__codelineno-13-6 name=__codelineno-13-6></a><span class=p>}</span>
</span><span id=__span-13-7><a id=__codelineno-13-7 name=__codelineno-13-7></a>
</span><span id=__span-13-8><a id=__codelineno-13-8 name=__codelineno-13-8></a><span class=k>server</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-9><a id=__codelineno-13-9 name=__codelineno-13-9></a><span class=w>   </span><span class=kn>listen</span><span class=w>                  </span><span class=mi>8140</span><span class=p>;</span>
</span><span id=__span-13-10><a id=__codelineno-13-10 name=__codelineno-13-10></a>
</span><span id=__span-13-11><a id=__codelineno-13-11 name=__codelineno-13-11></a><span class=w>   </span><span class=kn>ssl</span><span class=w>                     </span><span class=no>on</span><span class=p>;</span>
</span><span id=__span-13-12><a id=__codelineno-13-12 name=__codelineno-13-12></a><span class=w>   </span><span class=kn>ssl_certificate</span><span class=w>         </span><span class=s>/var/lib/puppet/ssl/certs/puppet-prd.pem</span><span class=p>;</span>
</span><span id=__span-13-13><a id=__codelineno-13-13 name=__codelineno-13-13></a><span class=w>   </span><span class=kn>ssl_certificate_key</span><span class=w>     </span><span class=s>/var/lib/puppet/ssl/private_keys/puppet-prd.pem</span><span class=p>;</span><span class=w>   </span><span class=kn>ssl_client_certificate</span><span class=w>  </span><span class=s>/var/lib/puppet/ssl/ca/ca_crt.pem</span><span class=p>;</span>
</span><span id=__span-13-14><a id=__codelineno-13-14 name=__codelineno-13-14></a><span class=w>   </span><span class=kn>ssl_ciphers</span><span class=w>             </span><span class=s>SSLv2:-LOW:-EXPORT:RC4+RSA</span><span class=p>;</span>
</span><span id=__span-13-15><a id=__codelineno-13-15 name=__codelineno-13-15></a><span class=w>   </span><span class=kn>ssl_session_cache</span><span class=w>       </span><span class=s>shared:SSL:8m</span><span class=p>;</span>
</span><span id=__span-13-16><a id=__codelineno-13-16 name=__codelineno-13-16></a><span class=w>   </span><span class=kn>ssl_session_timeout</span><span class=w>     </span><span class=mi>5m</span><span class=p>;</span>
</span><span id=__span-13-17><a id=__codelineno-13-17 name=__codelineno-13-17></a>
</span><span id=__span-13-18><a id=__codelineno-13-18 name=__codelineno-13-18></a><span class=w>   </span><span class=kn>ssl_verify_client</span><span class=w>       </span><span class=s>optional</span><span class=p>;</span>
</span><span id=__span-13-19><a id=__codelineno-13-19 name=__codelineno-13-19></a>
</span><span id=__span-13-20><a id=__codelineno-13-20 name=__codelineno-13-20></a><span class=w>   </span><span class=c1># obey to the Puppet CRL</span>
</span><span id=__span-13-21><a id=__codelineno-13-21 name=__codelineno-13-21></a><span class=w>   </span><span class=kn>ssl_crl</span><span class=w>                 </span><span class=s>/var/lib/puppet/ssl/ca/ca_crl.pem</span><span class=p>;</span>
</span><span id=__span-13-22><a id=__codelineno-13-22 name=__codelineno-13-22></a>
</span><span id=__span-13-23><a id=__codelineno-13-23 name=__codelineno-13-23></a><span class=w>   </span><span class=kn>root</span><span class=w>                    </span><span class=s>/var/empty</span><span class=p>;</span>
</span><span id=__span-13-24><a id=__codelineno-13-24 name=__codelineno-13-24></a><span class=w>   </span><span class=kn>access_log</span><span class=w>              </span><span class=s>/var/log/nginx/access-8140.log</span><span class=p>;</span>
</span><span id=__span-13-25><a id=__codelineno-13-25 name=__codelineno-13-25></a><span class=w>   </span><span class=c1>#rewrite_log             /var/log/nginx/rewrite-8140.log;</span>
</span><span id=__span-13-26><a id=__codelineno-13-26 name=__codelineno-13-26></a>
</span><span id=__span-13-27><a id=__codelineno-13-27 name=__codelineno-13-27></a><span class=w>   </span><span class=c1># Variables</span>
</span><span id=__span-13-28><a id=__codelineno-13-28 name=__codelineno-13-28></a><span class=w>   </span><span class=c1># $ssl_cipher returns the line of those utilized it is cipher for established SSL-connection</span>
</span><span id=__span-13-29><a id=__codelineno-13-29 name=__codelineno-13-29></a><span class=w>   </span><span class=c1># $ssl_client_serial returns the series number of client certificate for established SSL-connection</span>
</span><span id=__span-13-30><a id=__codelineno-13-30 name=__codelineno-13-30></a><span class=w>   </span><span class=c1># $ssl_client_s_dn returns line subject DN of client certificate for established SSL-connection</span>
</span><span id=__span-13-31><a id=__codelineno-13-31 name=__codelineno-13-31></a><span class=w>   </span><span class=c1># $ssl_client_i_dn returns line issuer DN of client certificate for established SSL-connection</span>
</span><span id=__span-13-32><a id=__codelineno-13-32 name=__codelineno-13-32></a><span class=w>   </span><span class=c1># $ssl_protocol returns the protocol of established SSL-connection</span>
</span><span id=__span-13-33><a id=__codelineno-13-33 name=__codelineno-13-33></a>
</span><span id=__span-13-34><a id=__codelineno-13-34 name=__codelineno-13-34></a><span class=w>   </span><span class=kn>location</span><span class=w> </span><span class=s>/</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-13-35><a id=__codelineno-13-35 name=__codelineno-13-35></a><span class=w>       </span><span class=kn>proxy_pass</span><span class=w>          </span><span class=s>http://puppet-prd.deimos.fr</span><span class=p>;</span><span class=w>       </span><span class=kn>proxy_redirect</span><span class=w>      </span><span class=no>off</span><span class=p>;</span>
</span><span id=__span-13-36><a id=__codelineno-13-36 name=__codelineno-13-36></a><span class=w>       </span><span class=kn>proxy_set_header</span><span class=w>    </span><span class=s>Host</span><span class=w>             </span><span class=nv>$host</span><span class=p>;</span>
</span><span id=__span-13-37><a id=__codelineno-13-37 name=__codelineno-13-37></a><span class=w>       </span><span class=kn>proxy_set_header</span><span class=w>    </span><span class=s>X-Real-IP</span><span class=w>        </span><span class=nv>$remote_addr</span><span class=p>;</span>
</span><span id=__span-13-38><a id=__codelineno-13-38 name=__codelineno-13-38></a><span class=w>       </span><span class=kn>proxy_set_header</span><span class=w>    </span><span class=s>X-Forwarded-For</span><span class=w>  </span><span class=nv>$proxy_add_x_forwarded_for</span><span class=p>;</span>
</span><span id=__span-13-39><a id=__codelineno-13-39 name=__codelineno-13-39></a><span class=w>       </span><span class=kn>proxy_set_header</span><span class=w>    </span><span class=s>X-Client_DN</span><span class=w>      </span><span class=nv>$ssl_client_s_dn</span><span class=p>;</span>
</span><span id=__span-13-40><a id=__codelineno-13-40 name=__codelineno-13-40></a><span class=w>       </span><span class=kn>proxy_set_header</span><span class=w>    </span><span class=s>X-Client-Verify</span><span class=w>  </span><span class=nv>$ssl_client_verify</span><span class=p>;</span>
</span><span id=__span-13-41><a id=__codelineno-13-41 name=__codelineno-13-41></a><span class=w>       </span><span class=kn>proxy_set_header</span><span class=w>    </span><span class=s>X-SSL-Subject</span><span class=w>    </span><span class=nv>$ssl_client_s_dn</span><span class=p>;</span>
</span><span id=__span-13-42><a id=__codelineno-13-42 name=__codelineno-13-42></a><span class=w>       </span><span class=kn>proxy_set_header</span><span class=w>    </span><span class=s>X-SSL-Issuer</span><span class=w>     </span><span class=nv>$ssl_client_i_dn</span><span class=p>;</span>
</span><span id=__span-13-43><a id=__codelineno-13-43 name=__codelineno-13-43></a><span class=w>       </span><span class=kn>proxy_read_timeout</span><span class=w>  </span><span class=mi>65</span><span class=p>;</span>
</span><span id=__span-13-44><a id=__codelineno-13-44 name=__codelineno-13-44></a>
</span><span id=__span-13-45><a id=__codelineno-13-45 name=__codelineno-13-45></a><span class=w>   </span><span class=p>}</span>
</span><span id=__span-13-46><a id=__codelineno-13-46 name=__codelineno-13-46></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Then create the symbolic link to apply the configuration:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-14-1>1</a></span>
<span class=normal><a href=#__codelineno-14-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-14-1><a id=__codelineno-14-1 name=__codelineno-14-1></a><span class=nb>cd</span><span class=w> </span>/etc/nginx/sites-available
</span><span id=__span-14-2><a id=__codelineno-14-2 name=__codelineno-14-2></a>ln<span class=w> </span>-s<span class=w> </span>/etc/nginx/sites-enabled/puppetmaster<span class=w> </span>.
</span></code></pre></div></td></tr></table></div> <p>And then restart the Nginx server.</p> <p>To verify that the daemons are running correctly, you should have the following sockets open:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-15-1> 1</a></span>
<span class=normal><a href=#__codelineno-15-2> 2</a></span>
<span class=normal><a href=#__codelineno-15-3> 3</a></span>
<span class=normal><a href=#__codelineno-15-4> 4</a></span>
<span class=normal><a href=#__codelineno-15-5> 5</a></span>
<span class=normal><a href=#__codelineno-15-6> 6</a></span>
<span class=normal><a href=#__codelineno-15-7> 7</a></span>
<span class=normal><a href=#__codelineno-15-8> 8</a></span>
<span class=normal><a href=#__codelineno-15-9> 9</a></span>
<span class=normal><a href=#__codelineno-15-10>10</a></span>
<span class=normal><a href=#__codelineno-15-11>11</a></span>
<span class=normal><a href=#__codelineno-15-12>12</a></span>
<span class=normal><a href=#__codelineno-15-13>13</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-15-1><a id=__codelineno-15-1 name=__codelineno-15-1></a>&gt;<span class=w> </span>netstat<span class=w> </span>-vlptn
</span><span id=__span-15-2><a id=__codelineno-15-2 name=__codelineno-15-2></a>Connexions<span class=w> </span>Internet<span class=w> </span>actives<span class=w> </span><span class=o>(</span>seulement<span class=w> </span>serveurs<span class=o>)</span>
</span><span id=__span-15-3><a id=__codelineno-15-3 name=__codelineno-15-3></a>Proto<span class=w> </span>Recv-Q<span class=w> </span>Send-Q<span class=w> </span>Adresse<span class=w> </span>locale<span class=w>          </span>Adresse<span class=w> </span>distante<span class=w>        </span>Etat<span class=w>        </span>PID/Program<span class=w> </span>name
</span><span id=__span-15-4><a id=__codelineno-15-4 name=__codelineno-15-4></a>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>0</span>.0.0.0:41736<span class=w>           </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>2029</span>/rpc.statd
</span><span id=__span-15-5><a id=__codelineno-15-5 name=__codelineno-15-5></a>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>0</span>.0.0.0:8140<span class=w>            </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>10293</span>/nginx
</span><span id=__span-15-6><a id=__codelineno-15-6 name=__codelineno-15-6></a>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>0</span>.0.0.0:8141<span class=w>            </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>10293</span>/nginx
</span><span id=__span-15-7><a id=__codelineno-15-7 name=__codelineno-15-7></a>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>0</span>.0.0.0:111<span class=w>             </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>2018</span>/portmap
</span><span id=__span-15-8><a id=__codelineno-15-8 name=__codelineno-15-8></a>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>0</span>.0.0.0:22<span class=w>              </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>2333</span>/sshd
</span><span id=__span-15-9><a id=__codelineno-15-9 name=__codelineno-15-9></a>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>127</span>.0.0.1:18140<span class=w>         </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>10059</span>/ruby
</span><span id=__span-15-10><a id=__codelineno-15-10 name=__codelineno-15-10></a>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>127</span>.0.0.1:18141<span class=w>         </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>10082</span>/ruby
</span><span id=__span-15-11><a id=__codelineno-15-11 name=__codelineno-15-11></a>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>127</span>.0.0.1:18142<span class=w>         </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>10104</span>/ruby
</span><span id=__span-15-12><a id=__codelineno-15-12 name=__codelineno-15-12></a>tcp<span class=w>        </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span><span class=m>127</span>.0.0.1:18143<span class=w>         </span><span class=m>0</span>.0.0.0:*<span class=w>               </span>LISTEN<span class=w>      </span><span class=m>10126</span>/ruby
</span><span id=__span-15-13><a id=__codelineno-15-13 name=__codelineno-15-13></a>tcp6<span class=w>       </span><span class=m>0</span><span class=w>      </span><span class=m>0</span><span class=w> </span>:::22<span class=w>                   </span>:::*<span class=w>                    </span>LISTEN<span class=w>      </span><span class=m>2333</span>/sshd
</span></code></pre></div></td></tr></table></div> <h3 id=puppet-clients>Puppet Clients</h3> <p>For clients, it's also simple. But first add the server line to the hosts file:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-16-1>1</a></span>
<span class=normal><a href=#__codelineno-16-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-16-1><a id=__codelineno-16-1 name=__codelineno-16-1></a>...
</span><span id=__span-16-2><a id=__codelineno-16-2 name=__codelineno-16-2></a><span class=m>192</span>.168.0.93<span class=w>        </span>puppet-prd.deimos.fr<span class=w>       </span>puppet
</span></code></pre></div></td></tr></table></div> <p>This is not mandatory if your DNS names are correctly configured.</p> <h4 id=debian>Debian</h4> <p>If you want to use the latest version:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-17-1>1</a></span>
<span class=normal><a href=#__codelineno-17-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-17-1><a id=__codelineno-17-1 name=__codelineno-17-1></a>wget<span class=w> </span>http://apt.puppetlabs.com/puppetlabs-release-stable.deb
</span><span id=__span-17-2><a id=__codelineno-17-2 name=__codelineno-17-2></a>dpkg<span class=w> </span>-i<span class=w> </span>puppetlabs-release-stable.deb
</span></code></pre></div></td></tr></table></div> <p>And then update:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-18-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-18-1><a id=__codelineno-18-1 name=__codelineno-18-1></a>aptitude<span class=w> </span>update
</span></code></pre></div></td></tr></table></div> <p>Verify that the /etc/hosts file contains the hostname of the client machine, then install puppet:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-19-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-19-1><a id=__codelineno-19-1 name=__codelineno-19-1></a>aptitude<span class=w> </span>install<span class=w> </span>puppet
</span></code></pre></div></td></tr></table></div> <h4 id=red-hat>Red Hat</h4> <p>Just like Debian, there is a yum repo on Red Hat and we'll install a package that will configure it for us:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-20-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-20-1><a id=__codelineno-20-1 name=__codelineno-20-1></a>rpm<span class=w> </span>-ivh<span class=w> </span>http://yum.puppetlabs.com/el/6/products/x86_64/puppetlabs-release-6-6.noarch.rpm
</span></code></pre></div></td></tr></table></div> <p>Then install:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-21-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-21-1><a id=__codelineno-21-1 name=__codelineno-21-1></a>yum<span class=w> </span>install<span class=w> </span>puppet
</span></code></pre></div></td></tr></table></div> <h4 id=solaris>Solaris</h4> <p>The stable Puppet client in blastwave is too old (0.23). Therefore, Puppet (and Facter) will need to be installed through Ruby's standard manager: gem. To do this, you'll first need to install ruby with the following command:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-22-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-22-1><a id=__codelineno-22-1 name=__codelineno-22-1></a>pkg-get<span class=w> </span>-i<span class=w> </span>ruby
</span></code></pre></div></td></tr></table></div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>Check that rubygems is not already installed, otherwise remove it:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-23-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-23-1><a id=__codelineno-23-1 name=__codelineno-23-1></a>pkg-get<span class=w> </span>-r<span class=w> </span>rubygems
</span></code></pre></div></td></tr></table></div> </div> <p>Then install a more up-to-date version from the sources:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-24-1>1</a></span>
<span class=normal><a href=#__codelineno-24-2>2</a></span>
<span class=normal><a href=#__codelineno-24-3>3</a></span>
<span class=normal><a href=#__codelineno-24-4>4</a></span>
<span class=normal><a href=#__codelineno-24-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-24-1><a id=__codelineno-24-1 name=__codelineno-24-1></a>wget<span class=w> </span>http://rubyforge.org/frs/download.php/45905/rubygems-1.3.1.tgz
</span><span id=__span-24-2><a id=__codelineno-24-2 name=__codelineno-24-2></a>gzcat<span class=w> </span>rubygems-1.3.1.tgz<span class=w> </span><span class=p>|</span><span class=w> </span>tar<span class=w> </span>-xf<span class=w> </span>-
</span><span id=__span-24-3><a id=__codelineno-24-3 name=__codelineno-24-3></a><span class=nb>cd</span><span class=w> </span>rubygems-1.3.1
</span><span id=__span-24-4><a id=__codelineno-24-4 name=__codelineno-24-4></a>ruby<span class=w> </span>setup.rb
</span><span id=__span-24-5><a id=__codelineno-24-5 name=__codelineno-24-5></a>gem<span class=w> </span>--version
</span></code></pre></div></td></tr></table></div> <p>Install puppet with the command and the -p argument if you have a proxy:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-25-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-25-1><a id=__codelineno-25-1 name=__codelineno-25-1></a>gem<span class=w> </span>install<span class=w> </span>puppet<span class=w> </span>--version<span class=w> </span><span class=s1>&#39;0.25.4&#39;</span><span class=w> </span>-p<span class=w> </span>http://proxy:3128/
</span></code></pre></div></td></tr></table></div> <p>You need to modify/add some commands that are not available by default on Solaris for Puppet to work better:</p> <ul> <li>Create a link for uname and puppetd:</li> </ul> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-26-1>1</a></span>
<span class=normal><a href=#__codelineno-26-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-26-1><a id=__codelineno-26-1 name=__codelineno-26-1></a>ln<span class=w> </span>-s<span class=w> </span>/usr/bin/uname<span class=w> </span>/usr/bin/
</span><span id=__span-26-2><a id=__codelineno-26-2 name=__codelineno-26-2></a>ln<span class=w> </span>-s<span class=w> </span>/opt/csw/bin/puppetd<span class=w> </span>/usr/bin/
</span></code></pre></div></td></tr></table></div> <ul> <li>Create a script called /usr/bin/dnsdomainname:</li> </ul> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-27-1>1</a></span>
<span class=normal><a href=#__codelineno-27-2>2</a></span>
<span class=normal><a href=#__codelineno-27-3>3</a></span>
<span class=normal><a href=#__codelineno-27-4>4</a></span>
<span class=normal><a href=#__codelineno-27-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-27-1><a id=__codelineno-27-1 name=__codelineno-27-1></a><span class=ch>#!/usr/bin/bash</span>
</span><span id=__span-27-2><a id=__codelineno-27-2 name=__codelineno-27-2></a><span class=nv>DOMAIN</span><span class=o>=</span><span class=s2>&quot;`/usr/bin/domainname 2&gt; /dev/null`&quot;</span>
</span><span id=__span-27-3><a id=__codelineno-27-3 name=__codelineno-27-3></a><span class=k>if</span><span class=w> </span><span class=o>[</span><span class=w> </span>!<span class=w> </span>-z<span class=w> </span><span class=s2>&quot;</span><span class=nv>$DOMAIN</span><span class=s2>&quot;</span><span class=w> </span><span class=o>]</span><span class=p>;</span><span class=w> </span><span class=k>then</span>
</span><span id=__span-27-4><a id=__codelineno-27-4 name=__codelineno-27-4></a><span class=w>    </span><span class=nb>echo</span><span class=w> </span><span class=nv>$DOMAIN</span><span class=w> </span><span class=p>|</span><span class=w> </span>sed<span class=w> </span><span class=s1>&#39;s/^[^.]*.//&#39;</span>
</span><span id=__span-27-5><a id=__codelineno-27-5 name=__codelineno-27-5></a><span class=k>fi</span>
</span></code></pre></div></td></tr></table></div> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-28-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-28-1><a id=__codelineno-28-1 name=__codelineno-28-1></a>chmod<span class=w> </span><span class=m>755</span><span class=w> </span>/usr/bin/dnsdomainname
</span></code></pre></div></td></tr></table></div> <p>Then, the procedure is the same as for other OSes, that is, modify /etc/hosts to include puppet-prd.deimos.fr, and run:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-29-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-29-1><a id=__codelineno-29-1 name=__codelineno-29-1></a>puppetd<span class=w> </span>--verbose<span class=w> </span>--no-daemon<span class=w> </span>--test<span class=w> </span>--server<span class=w> </span>puppet-prd.deimos.fr
</span></code></pre></div></td></tr></table></div> <p>At this point, if it doesn't work, it's simply because you need to modify the configuration (puppet.conf) of your client.</p> <h2 id=configuration_1>Configuration</h2> <h3 id=server>Server</h3> <p>For the server part, here's how the directory structure is organized (in /etc/puppet):</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-30-1> 1</a></span>
<span class=normal><a href=#__codelineno-30-2> 2</a></span>
<span class=normal><a href=#__codelineno-30-3> 3</a></span>
<span class=normal><a href=#__codelineno-30-4> 4</a></span>
<span class=normal><a href=#__codelineno-30-5> 5</a></span>
<span class=normal><a href=#__codelineno-30-6> 6</a></span>
<span class=normal><a href=#__codelineno-30-7> 7</a></span>
<span class=normal><a href=#__codelineno-30-8> 8</a></span>
<span class=normal><a href=#__codelineno-30-9> 9</a></span>
<span class=normal><a href=#__codelineno-30-10>10</a></span>
<span class=normal><a href=#__codelineno-30-11>11</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-30-1><a id=__codelineno-30-1 name=__codelineno-30-1></a>.
</span><span id=__span-30-2><a id=__codelineno-30-2 name=__codelineno-30-2></a>|-- auth.conf
</span><span id=__span-30-3><a id=__codelineno-30-3 name=__codelineno-30-3></a>|-- autosign.conf
</span><span id=__span-30-4><a id=__codelineno-30-4 name=__codelineno-30-4></a>|-- fileserver.conf
</span><span id=__span-30-5><a id=__codelineno-30-5 name=__codelineno-30-5></a>|-- manifests
</span><span id=__span-30-6><a id=__codelineno-30-6 name=__codelineno-30-6></a>|   |-- common.pp
</span><span id=__span-30-7><a id=__codelineno-30-7 name=__codelineno-30-7></a>|   |-- modules.pp
</span><span id=__span-30-8><a id=__codelineno-30-8 name=__codelineno-30-8></a>|   `-- site.pp
</span><span id=__span-30-9><a id=__codelineno-30-9 name=__codelineno-30-9></a>|-- modules
</span><span id=__span-30-10><a id=__codelineno-30-10 name=__codelineno-30-10></a>|-- puppet.conf
</span><span id=__span-30-11><a id=__codelineno-30-11 name=__codelineno-30-11></a>`-- templates
</span></code></pre></div></td></tr></table></div> <h4 id=authconf>auth.conf</h4> <p>This is where we set all the permissions:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-31-1> 1</a></span>
<span class=normal><a href=#__codelineno-31-2> 2</a></span>
<span class=normal><a href=#__codelineno-31-3> 3</a></span>
<span class=normal><a href=#__codelineno-31-4> 4</a></span>
<span class=normal><a href=#__codelineno-31-5> 5</a></span>
<span class=normal><a href=#__codelineno-31-6> 6</a></span>
<span class=normal><a href=#__codelineno-31-7> 7</a></span>
<span class=normal><a href=#__codelineno-31-8> 8</a></span>
<span class=normal><a href=#__codelineno-31-9> 9</a></span>
<span class=normal><a href=#__codelineno-31-10>10</a></span>
<span class=normal><a href=#__codelineno-31-11>11</a></span>
<span class=normal><a href=#__codelineno-31-12>12</a></span>
<span class=normal><a href=#__codelineno-31-13>13</a></span>
<span class=normal><a href=#__codelineno-31-14>14</a></span>
<span class=normal><a href=#__codelineno-31-15>15</a></span>
<span class=normal><a href=#__codelineno-31-16>16</a></span>
<span class=normal><a href=#__codelineno-31-17>17</a></span>
<span class=normal><a href=#__codelineno-31-18>18</a></span>
<span class=normal><a href=#__codelineno-31-19>19</a></span>
<span class=normal><a href=#__codelineno-31-20>20</a></span>
<span class=normal><a href=#__codelineno-31-21>21</a></span>
<span class=normal><a href=#__codelineno-31-22>22</a></span>
<span class=normal><a href=#__codelineno-31-23>23</a></span>
<span class=normal><a href=#__codelineno-31-24>24</a></span>
<span class=normal><a href=#__codelineno-31-25>25</a></span>
<span class=normal><a href=#__codelineno-31-26>26</a></span>
<span class=normal><a href=#__codelineno-31-27>27</a></span>
<span class=normal><a href=#__codelineno-31-28>28</a></span>
<span class=normal><a href=#__codelineno-31-29>29</a></span>
<span class=normal><a href=#__codelineno-31-30>30</a></span>
<span class=normal><a href=#__codelineno-31-31>31</a></span>
<span class=normal><a href=#__codelineno-31-32>32</a></span>
<span class=normal><a href=#__codelineno-31-33>33</a></span>
<span class=normal><a href=#__codelineno-31-34>34</a></span>
<span class=normal><a href=#__codelineno-31-35>35</a></span>
<span class=normal><a href=#__codelineno-31-36>36</a></span>
<span class=normal><a href=#__codelineno-31-37>37</a></span>
<span class=normal><a href=#__codelineno-31-38>38</a></span>
<span class=normal><a href=#__codelineno-31-39>39</a></span>
<span class=normal><a href=#__codelineno-31-40>40</a></span>
<span class=normal><a href=#__codelineno-31-41>41</a></span>
<span class=normal><a href=#__codelineno-31-42>42</a></span>
<span class=normal><a href=#__codelineno-31-43>43</a></span>
<span class=normal><a href=#__codelineno-31-44>44</a></span>
<span class=normal><a href=#__codelineno-31-45>45</a></span>
<span class=normal><a href=#__codelineno-31-46>46</a></span>
<span class=normal><a href=#__codelineno-31-47>47</a></span>
<span class=normal><a href=#__codelineno-31-48>48</a></span>
<span class=normal><a href=#__codelineno-31-49>49</a></span>
<span class=normal><a href=#__codelineno-31-50>50</a></span>
<span class=normal><a href=#__codelineno-31-51>51</a></span>
<span class=normal><a href=#__codelineno-31-52>52</a></span>
<span class=normal><a href=#__codelineno-31-53>53</a></span>
<span class=normal><a href=#__codelineno-31-54>54</a></span>
<span class=normal><a href=#__codelineno-31-55>55</a></span>
<span class=normal><a href=#__codelineno-31-56>56</a></span>
<span class=normal><a href=#__codelineno-31-57>57</a></span>
<span class=normal><a href=#__codelineno-31-58>58</a></span>
<span class=normal><a href=#__codelineno-31-59>59</a></span>
<span class=normal><a href=#__codelineno-31-60>60</a></span>
<span class=normal><a href=#__codelineno-31-61>61</a></span>
<span class=normal><a href=#__codelineno-31-62>62</a></span>
<span class=normal><a href=#__codelineno-31-63>63</a></span>
<span class=normal><a href=#__codelineno-31-64>64</a></span>
<span class=normal><a href=#__codelineno-31-65>65</a></span>
<span class=normal><a href=#__codelineno-31-66>66</a></span>
<span class=normal><a href=#__codelineno-31-67>67</a></span>
<span class=normal><a href=#__codelineno-31-68>68</a></span>
<span class=normal><a href=#__codelineno-31-69>69</a></span>
<span class=normal><a href=#__codelineno-31-70>70</a></span>
<span class=normal><a href=#__codelineno-31-71>71</a></span>
<span class=normal><a href=#__codelineno-31-72>72</a></span>
<span class=normal><a href=#__codelineno-31-73>73</a></span>
<span class=normal><a href=#__codelineno-31-74>74</a></span>
<span class=normal><a href=#__codelineno-31-75>75</a></span>
<span class=normal><a href=#__codelineno-31-76>76</a></span>
<span class=normal><a href=#__codelineno-31-77>77</a></span>
<span class=normal><a href=#__codelineno-31-78>78</a></span>
<span class=normal><a href=#__codelineno-31-79>79</a></span>
<span class=normal><a href=#__codelineno-31-80>80</a></span>
<span class=normal><a href=#__codelineno-31-81>81</a></span>
<span class=normal><a href=#__codelineno-31-82>82</a></span>
<span class=normal><a href=#__codelineno-31-83>83</a></span>
<span class=normal><a href=#__codelineno-31-84>84</a></span>
<span class=normal><a href=#__codelineno-31-85>85</a></span>
<span class=normal><a href=#__codelineno-31-86>86</a></span>
<span class=normal><a href=#__codelineno-31-87>87</a></span>
<span class=normal><a href=#__codelineno-31-88>88</a></span>
<span class=normal><a href=#__codelineno-31-89>89</a></span>
<span class=normal><a href=#__codelineno-31-90>90</a></span>
<span class=normal><a href=#__codelineno-31-91>91</a></span>
<span class=normal><a href=#__codelineno-31-92>92</a></span>
<span class=normal><a href=#__codelineno-31-93>93</a></span>
<span class=normal><a href=#__codelineno-31-94>94</a></span>
<span class=normal><a href=#__codelineno-31-95>95</a></span>
<span class=normal><a href=#__codelineno-31-96>96</a></span>
<span class=normal><a href=#__codelineno-31-97>97</a></span>
<span class=normal><a href=#__codelineno-31-98>98</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-31-1><a id=__codelineno-31-1 name=__codelineno-31-1></a># This is an example auth.conf file, it mimics the puppetmasterd defaults
</span><span id=__span-31-2><a id=__codelineno-31-2 name=__codelineno-31-2></a>#
</span><span id=__span-31-3><a id=__codelineno-31-3 name=__codelineno-31-3></a># The ACL are checked in order of appearance in this file.
</span><span id=__span-31-4><a id=__codelineno-31-4 name=__codelineno-31-4></a>#
</span><span id=__span-31-5><a id=__codelineno-31-5 name=__codelineno-31-5></a># Supported syntax:
</span><span id=__span-31-6><a id=__codelineno-31-6 name=__codelineno-31-6></a># This file supports two different syntax depending on how
</span><span id=__span-31-7><a id=__codelineno-31-7 name=__codelineno-31-7></a># you want to express the ACL.
</span><span id=__span-31-8><a id=__codelineno-31-8 name=__codelineno-31-8></a>#
</span><span id=__span-31-9><a id=__codelineno-31-9 name=__codelineno-31-9></a># Path syntax (the one used below):
</span><span id=__span-31-10><a id=__codelineno-31-10 name=__codelineno-31-10></a># ---------------------------------
</span><span id=__span-31-11><a id=__codelineno-31-11 name=__codelineno-31-11></a># path /path/to/resource
</span><span id=__span-31-12><a id=__codelineno-31-12 name=__codelineno-31-12></a># [environment envlist]
</span><span id=__span-31-13><a id=__codelineno-31-13 name=__codelineno-31-13></a># [method methodlist]
</span><span id=__span-31-14><a id=__codelineno-31-14 name=__codelineno-31-14></a># [auth[enthicated] {yes|no|on|off|any}]
</span><span id=__span-31-15><a id=__codelineno-31-15 name=__codelineno-31-15></a># allow [host|ip|*]
</span><span id=__span-31-16><a id=__codelineno-31-16 name=__codelineno-31-16></a># deny [host|ip]
</span><span id=__span-31-17><a id=__codelineno-31-17 name=__codelineno-31-17></a>#
</span><span id=__span-31-18><a id=__codelineno-31-18 name=__codelineno-31-18></a># The path is matched as a prefix. That is /file match at
</span><span id=__span-31-19><a id=__codelineno-31-19 name=__codelineno-31-19></a># the same time /file_metadat and /file_content.
</span><span id=__span-31-20><a id=__codelineno-31-20 name=__codelineno-31-20></a>#
</span><span id=__span-31-21><a id=__codelineno-31-21 name=__codelineno-31-21></a># Regex syntax:
</span><span id=__span-31-22><a id=__codelineno-31-22 name=__codelineno-31-22></a># -------------
</span><span id=__span-31-23><a id=__codelineno-31-23 name=__codelineno-31-23></a># This one is differenciated from the path one by a &#39;~&#39;
</span><span id=__span-31-24><a id=__codelineno-31-24 name=__codelineno-31-24></a>#
</span><span id=__span-31-25><a id=__codelineno-31-25 name=__codelineno-31-25></a># path ~ regex
</span><span id=__span-31-26><a id=__codelineno-31-26 name=__codelineno-31-26></a># [environment envlist]
</span><span id=__span-31-27><a id=__codelineno-31-27 name=__codelineno-31-27></a># [method methodlist]
</span><span id=__span-31-28><a id=__codelineno-31-28 name=__codelineno-31-28></a># [auth[enthicated] {yes|no|on|off|any}]
</span><span id=__span-31-29><a id=__codelineno-31-29 name=__codelineno-31-29></a># allow [host|ip|*]
</span><span id=__span-31-30><a id=__codelineno-31-30 name=__codelineno-31-30></a># deny [host|ip]
</span><span id=__span-31-31><a id=__codelineno-31-31 name=__codelineno-31-31></a>#
</span><span id=__span-31-32><a id=__codelineno-31-32 name=__codelineno-31-32></a># The regex syntax is the same as ruby ones.
</span><span id=__span-31-33><a id=__codelineno-31-33 name=__codelineno-31-33></a>#
</span><span id=__span-31-34><a id=__codelineno-31-34 name=__codelineno-31-34></a># Ex:
</span><span id=__span-31-35><a id=__codelineno-31-35 name=__codelineno-31-35></a># path ~ .pp$
</span><span id=__span-31-36><a id=__codelineno-31-36 name=__codelineno-31-36></a># will match every resource ending in .pp (manifests files for instance)
</span><span id=__span-31-37><a id=__codelineno-31-37 name=__codelineno-31-37></a>#
</span><span id=__span-31-38><a id=__codelineno-31-38 name=__codelineno-31-38></a># path ~ ^/path/to/resource
</span><span id=__span-31-39><a id=__codelineno-31-39 name=__codelineno-31-39></a># is essentially equivalent to path /path/to/resource
</span><span id=__span-31-40><a id=__codelineno-31-40 name=__codelineno-31-40></a>#
</span><span id=__span-31-41><a id=__codelineno-31-41 name=__codelineno-31-41></a># environment:: restrict an ACL to a specific set of environments
</span><span id=__span-31-42><a id=__codelineno-31-42 name=__codelineno-31-42></a># method:: restrict an ACL to a specific set of methods
</span><span id=__span-31-43><a id=__codelineno-31-43 name=__codelineno-31-43></a># auth:: restrict an ACL to an authenticated or unauthenticated request
</span><span id=__span-31-44><a id=__codelineno-31-44 name=__codelineno-31-44></a># the default when unspecified is to restrict the ACL to authenticated requests
</span><span id=__span-31-45><a id=__codelineno-31-45 name=__codelineno-31-45></a># (ie exactly as if auth yes was present).
</span><span id=__span-31-46><a id=__codelineno-31-46 name=__codelineno-31-46></a>#
</span><span id=__span-31-47><a id=__codelineno-31-47 name=__codelineno-31-47></a>
</span><span id=__span-31-48><a id=__codelineno-31-48 name=__codelineno-31-48></a>### Authenticated ACL - those applies only when the client
</span><span id=__span-31-49><a id=__codelineno-31-49 name=__codelineno-31-49></a>### has a valid certificate and is thus authenticated
</span><span id=__span-31-50><a id=__codelineno-31-50 name=__codelineno-31-50></a>
</span><span id=__span-31-51><a id=__codelineno-31-51 name=__codelineno-31-51></a># allow nodes to retrieve their own catalog (ie their configuration)
</span><span id=__span-31-52><a id=__codelineno-31-52 name=__codelineno-31-52></a>path ~ ^/catalog/([^/]+)$
</span><span id=__span-31-53><a id=__codelineno-31-53 name=__codelineno-31-53></a>method find
</span><span id=__span-31-54><a id=__codelineno-31-54 name=__codelineno-31-54></a>allow $1
</span><span id=__span-31-55><a id=__codelineno-31-55 name=__codelineno-31-55></a>
</span><span id=__span-31-56><a id=__codelineno-31-56 name=__codelineno-31-56></a># allow nodes to retrieve their own node definition
</span><span id=__span-31-57><a id=__codelineno-31-57 name=__codelineno-31-57></a>path ~ ^/node/([^/]+)$
</span><span id=__span-31-58><a id=__codelineno-31-58 name=__codelineno-31-58></a>method find
</span><span id=__span-31-59><a id=__codelineno-31-59 name=__codelineno-31-59></a>allow $1
</span><span id=__span-31-60><a id=__codelineno-31-60 name=__codelineno-31-60></a>
</span><span id=__span-31-61><a id=__codelineno-31-61 name=__codelineno-31-61></a># allow all nodes to access the certificates services
</span><span id=__span-31-62><a id=__codelineno-31-62 name=__codelineno-31-62></a>path /certificate_revocation_list/ca
</span><span id=__span-31-63><a id=__codelineno-31-63 name=__codelineno-31-63></a>method find
</span><span id=__span-31-64><a id=__codelineno-31-64 name=__codelineno-31-64></a>allow *
</span><span id=__span-31-65><a id=__codelineno-31-65 name=__codelineno-31-65></a>
</span><span id=__span-31-66><a id=__codelineno-31-66 name=__codelineno-31-66></a># allow all nodes to store their reports
</span><span id=__span-31-67><a id=__codelineno-31-67 name=__codelineno-31-67></a>path /report
</span><span id=__span-31-68><a id=__codelineno-31-68 name=__codelineno-31-68></a>method save
</span><span id=__span-31-69><a id=__codelineno-31-69 name=__codelineno-31-69></a>allow *
</span><span id=__span-31-70><a id=__codelineno-31-70 name=__codelineno-31-70></a>
</span><span id=__span-31-71><a id=__codelineno-31-71 name=__codelineno-31-71></a># inconditionnally allow access to all files services
</span><span id=__span-31-72><a id=__codelineno-31-72 name=__codelineno-31-72></a># which means in practice that fileserver.conf will
</span><span id=__span-31-73><a id=__codelineno-31-73 name=__codelineno-31-73></a># still be used
</span><span id=__span-31-74><a id=__codelineno-31-74 name=__codelineno-31-74></a>path /file
</span><span id=__span-31-75><a id=__codelineno-31-75 name=__codelineno-31-75></a>allow *
</span><span id=__span-31-76><a id=__codelineno-31-76 name=__codelineno-31-76></a>
</span><span id=__span-31-77><a id=__codelineno-31-77 name=__codelineno-31-77></a>### Unauthenticated ACL, for clients for which the current master doesn&#39;t
</span><span id=__span-31-78><a id=__codelineno-31-78 name=__codelineno-31-78></a>### have a valid certificate; we allow authenticated users, too, because
</span><span id=__span-31-79><a id=__codelineno-31-79 name=__codelineno-31-79></a>### there isn&#39;t a great harm in letting that request through.
</span><span id=__span-31-80><a id=__codelineno-31-80 name=__codelineno-31-80></a>
</span><span id=__span-31-81><a id=__codelineno-31-81 name=__codelineno-31-81></a># allow access to the master CA
</span><span id=__span-31-82><a id=__codelineno-31-82 name=__codelineno-31-82></a>path /certificate/ca
</span><span id=__span-31-83><a id=__codelineno-31-83 name=__codelineno-31-83></a>method find
</span><span id=__span-31-84><a id=__codelineno-31-84 name=__codelineno-31-84></a>allow *
</span><span id=__span-31-85><a id=__codelineno-31-85 name=__codelineno-31-85></a>
</span><span id=__span-31-86><a id=__codelineno-31-86 name=__codelineno-31-86></a>path /certificate/
</span><span id=__span-31-87><a id=__codelineno-31-87 name=__codelineno-31-87></a>method find
</span><span id=__span-31-88><a id=__codelineno-31-88 name=__codelineno-31-88></a>allow *
</span><span id=__span-31-89><a id=__codelineno-31-89 name=__codelineno-31-89></a>
</span><span id=__span-31-90><a id=__codelineno-31-90 name=__codelineno-31-90></a>path /certificate_request
</span><span id=__span-31-91><a id=__codelineno-31-91 name=__codelineno-31-91></a>method find, save
</span><span id=__span-31-92><a id=__codelineno-31-92 name=__codelineno-31-92></a>allow *
</span><span id=__span-31-93><a id=__codelineno-31-93 name=__codelineno-31-93></a>
</span><span id=__span-31-94><a id=__codelineno-31-94 name=__codelineno-31-94></a># this one is not stricly necessary, but it has the merit
</span><span id=__span-31-95><a id=__codelineno-31-95 name=__codelineno-31-95></a># to show the default policy which is deny everything else
</span><span id=__span-31-96><a id=__codelineno-31-96 name=__codelineno-31-96></a>path /
</span><span id=__span-31-97><a id=__codelineno-31-97 name=__codelineno-31-97></a>auth any
</span><span id=__span-31-98><a id=__codelineno-31-98 name=__codelineno-31-98></a>allow *.deimos.fr
</span></code></pre></div></td></tr></table></div> <p>In case you encounter access problems, for <strong>insecure but simple testing</strong>, add this line at the end of your configuration file:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-32-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-32-1><a id=__codelineno-32-1 name=__codelineno-32-1></a>allow *
</span></code></pre></div></td></tr></table></div> <h4 id=autosignconf>autosign.conf</h4> <p>You can auto-sign certain certificates to save time. This can be a bit dangerous, but if your node filtering is done correctly behind, no worries :-)</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-33-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-33-1><a id=__codelineno-33-1 name=__codelineno-33-1></a>*.deimos.fr
</span></code></pre></div></td></tr></table></div> <p>Here I'll auto-sign all my nodes with the deimos.fr domain.</p> <h4 id=fileserverconf>fileserver.conf</h4> <p>Give permissions for client machines in the /etc/puppet/fileserver.conf file:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-34-1> 1</a></span>
<span class=normal><a href=#__codelineno-34-2> 2</a></span>
<span class=normal><a href=#__codelineno-34-3> 3</a></span>
<span class=normal><a href=#__codelineno-34-4> 4</a></span>
<span class=normal><a href=#__codelineno-34-5> 5</a></span>
<span class=normal><a href=#__codelineno-34-6> 6</a></span>
<span class=normal><a href=#__codelineno-34-7> 7</a></span>
<span class=normal><a href=#__codelineno-34-8> 8</a></span>
<span class=normal><a href=#__codelineno-34-9> 9</a></span>
<span class=normal><a href=#__codelineno-34-10>10</a></span>
<span class=normal><a href=#__codelineno-34-11>11</a></span>
<span class=normal><a href=#__codelineno-34-12>12</a></span>
<span class=normal><a href=#__codelineno-34-13>13</a></span>
<span class=normal><a href=#__codelineno-34-14>14</a></span>
<span class=normal><a href=#__codelineno-34-15>15</a></span>
<span class=normal><a href=#__codelineno-34-16>16</a></span>
<span class=normal><a href=#__codelineno-34-17>17</a></span>
<span class=normal><a href=#__codelineno-34-18>18</a></span>
<span class=normal><a href=#__codelineno-34-19>19</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-34-1><a id=__codelineno-34-1 name=__codelineno-34-1></a># This file consists of arbitrarily named sections/modules
</span><span id=__span-34-2><a id=__codelineno-34-2 name=__codelineno-34-2></a># defining where files are served from and to whom
</span><span id=__span-34-3><a id=__codelineno-34-3 name=__codelineno-34-3></a>
</span><span id=__span-34-4><a id=__codelineno-34-4 name=__codelineno-34-4></a># Define a section &#39;files&#39;
</span><span id=__span-34-5><a id=__codelineno-34-5 name=__codelineno-34-5></a># Adapt the allow/deny settings to your needs. Order
</span><span id=__span-34-6><a id=__codelineno-34-6 name=__codelineno-34-6></a># for allow/deny does not matter, allow always takes precedence
</span><span id=__span-34-7><a id=__codelineno-34-7 name=__codelineno-34-7></a># over deny
</span><span id=__span-34-8><a id=__codelineno-34-8 name=__codelineno-34-8></a>[files]
</span><span id=__span-34-9><a id=__codelineno-34-9 name=__codelineno-34-9></a>  path /etc/puppet/files
</span><span id=__span-34-10><a id=__codelineno-34-10 name=__codelineno-34-10></a>  allow *.deimos.fr
</span><span id=__span-34-11><a id=__codelineno-34-11 name=__codelineno-34-11></a>#  allow *.example.com
</span><span id=__span-34-12><a id=__codelineno-34-12 name=__codelineno-34-12></a>#  deny *.evil.example.com
</span><span id=__span-34-13><a id=__codelineno-34-13 name=__codelineno-34-13></a>#  allow 192.168.0.0/24
</span><span id=__span-34-14><a id=__codelineno-34-14 name=__codelineno-34-14></a>
</span><span id=__span-34-15><a id=__codelineno-34-15 name=__codelineno-34-15></a>[plugins]
</span><span id=__span-34-16><a id=__codelineno-34-16 name=__codelineno-34-16></a>  allow *.deimos.fr
</span><span id=__span-34-17><a id=__codelineno-34-17 name=__codelineno-34-17></a>#  allow *.example.com
</span><span id=__span-34-18><a id=__codelineno-34-18 name=__codelineno-34-18></a>#  deny *.evil.example.com
</span><span id=__span-34-19><a id=__codelineno-34-19 name=__codelineno-34-19></a>#  allow 192.168.0.0/24
</span></code></pre></div></td></tr></table></div> <h4 id=manifests>manifests</h4> <p>Let's create the missing files:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-35-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-35-1><a id=__codelineno-35-1 name=__codelineno-35-1></a>touch<span class=w> </span>/etc/puppet/manifests/<span class=o>{</span>common.pp,modules.pp,site.pp<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h5 id=commonpp>common.pp</h5> <p>The common.pp is empty, but you can insert things that will be taken as global configuration.</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-36-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-36-1><a id=__codelineno-36-1 name=__codelineno-36-1></a>
</span></code></pre></div></td></tr></table></div> <h5 id=modulespp>modules.pp</h5> <p>Then I'll define my base module(s) here. For example, in my future configuration I'll declare a "base" module that will contain everything that any machine that's part of puppet will inherit:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-37-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-37-1><a id=__codelineno-37-1 name=__codelineno-37-1></a><span class=w> </span><span class=n>import</span><span class=w> </span><span class=s2>&quot;base&quot;</span>
</span></code></pre></div></td></tr></table></div> <h5 id=sitepp>site.pp</h5> <p>We ask to load all modules present in the modules folder:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-38-1> 1</a></span>
<span class=normal><a href=#__codelineno-38-2> 2</a></span>
<span class=normal><a href=#__codelineno-38-3> 3</a></span>
<span class=normal><a href=#__codelineno-38-4> 4</a></span>
<span class=normal><a href=#__codelineno-38-5> 5</a></span>
<span class=normal><a href=#__codelineno-38-6> 6</a></span>
<span class=normal><a href=#__codelineno-38-7> 7</a></span>
<span class=normal><a href=#__codelineno-38-8> 8</a></span>
<span class=normal><a href=#__codelineno-38-9> 9</a></span>
<span class=normal><a href=#__codelineno-38-10>10</a></span>
<span class=normal><a href=#__codelineno-38-11>11</a></span>
<span class=normal><a href=#__codelineno-38-12>12</a></span>
<span class=normal><a href=#__codelineno-38-13>13</a></span>
<span class=normal><a href=#__codelineno-38-14>14</a></span>
<span class=normal><a href=#__codelineno-38-15>15</a></span>
<span class=normal><a href=#__codelineno-38-16>16</a></span>
<span class=normal><a href=#__codelineno-38-17>17</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-38-1><a id=__codelineno-38-1 name=__codelineno-38-1></a><span class=c1># /etc/puppet/manifests/site.pp</span>
</span><span id=__span-38-2><a id=__codelineno-38-2 name=__codelineno-38-2></a><span class=n>import</span><span class=w> </span><span class=s2>&quot;common.pp&quot;</span>
</span><span id=__span-38-3><a id=__codelineno-38-3 name=__codelineno-38-3></a>
</span><span id=__span-38-4><a id=__codelineno-38-4 name=__codelineno-38-4></a><span class=c1># The filebucket option allows for file backups to the server</span>
</span><span id=__span-38-5><a id=__codelineno-38-5 name=__codelineno-38-5></a><span class=n>filebucket</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=ss>main</span><span class=p>:</span><span class=w> </span><span class=n>server</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;puppet-prod-nux.deimos.fr&#39;</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-38-6><a id=__codelineno-38-6 name=__codelineno-38-6></a>
</span><span id=__span-38-7><a id=__codelineno-38-7 name=__codelineno-38-7></a><span class=c1># Backing up all files and ignore vcs files/folders</span>
</span><span id=__span-38-8><a id=__codelineno-38-8 name=__codelineno-38-8></a><span class=no>File</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-38-9><a id=__codelineno-38-9 name=__codelineno-38-9></a><span class=w>    </span><span class=n>backup</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;.puppet-bak&#39;</span><span class=p>,</span>
</span><span id=__span-38-10><a id=__codelineno-38-10 name=__codelineno-38-10></a><span class=w>    </span><span class=n>ignore</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=o>[</span><span class=s1>&#39;.svn&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;.git&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;CVS&#39;</span><span class=w> </span><span class=o>]</span>
</span><span id=__span-38-11><a id=__codelineno-38-11 name=__codelineno-38-11></a><span class=p>}</span>
</span><span id=__span-38-12><a id=__codelineno-38-12 name=__codelineno-38-12></a>
</span><span id=__span-38-13><a id=__codelineno-38-13 name=__codelineno-38-13></a><span class=c1># Default global path</span>
</span><span id=__span-38-14><a id=__codelineno-38-14 name=__codelineno-38-14></a><span class=no>Exec</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=n>path</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/usr/bin:/usr/sbin/:/bin:/sbin&quot;</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-38-15><a id=__codelineno-38-15 name=__codelineno-38-15></a>
</span><span id=__span-38-16><a id=__codelineno-38-16 name=__codelineno-38-16></a><span class=c1># Import base module</span>
</span><span id=__span-38-17><a id=__codelineno-38-17 name=__codelineno-38-17></a><span class=n>import</span><span class=w> </span><span class=s2>&quot;modules.pp&quot;</span>
</span></code></pre></div></td></tr></table></div> <p>Here I tell it to use the filebucket on the puppet server and to rename files that will be replaced by puppet to <file>.puppet-bak. I also ask it to ignore any directories or files created by VCS like SVN, Git or CVS. And finally, I indicate the default path that puppet will have when it runs on clients.</p> <p>All this configuration is specific to the puppet server, so it's global. Anything we put in it can be inherited. Restart the puppetmaster to make sure that the server-side changes have been properly taken into account.</p> <h4 id=puppetconf>puppet.conf</h4> <p>I intentionally skipped the modules folder as it's the big piece of puppet and will be given special attention later in this article.</p> <p>So we're going to move on to the puppet.conf configuration file that you probably already configured during the mongrel/nginx installation...:</p> <div class="language-ini highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-39-1> 1</a></span>
<span class=normal><a href=#__codelineno-39-2> 2</a></span>
<span class=normal><a href=#__codelineno-39-3> 3</a></span>
<span class=normal><a href=#__codelineno-39-4> 4</a></span>
<span class=normal><a href=#__codelineno-39-5> 5</a></span>
<span class=normal><a href=#__codelineno-39-6> 6</a></span>
<span class=normal><a href=#__codelineno-39-7> 7</a></span>
<span class=normal><a href=#__codelineno-39-8> 8</a></span>
<span class=normal><a href=#__codelineno-39-9> 9</a></span>
<span class=normal><a href=#__codelineno-39-10>10</a></span>
<span class=normal><a href=#__codelineno-39-11>11</a></span>
<span class=normal><a href=#__codelineno-39-12>12</a></span>
<span class=normal><a href=#__codelineno-39-13>13</a></span>
<span class=normal><a href=#__codelineno-39-14>14</a></span>
<span class=normal><a href=#__codelineno-39-15>15</a></span>
<span class=normal><a href=#__codelineno-39-16>16</a></span>
<span class=normal><a href=#__codelineno-39-17>17</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-39-1><a id=__codelineno-39-1 name=__codelineno-39-1></a><span class=k>[main]</span>
</span><span id=__span-39-2><a id=__codelineno-39-2 name=__codelineno-39-2></a><span class=na>logdir</span><span class=o>=</span><span class=s>/var/log/puppet</span>
</span><span id=__span-39-3><a id=__codelineno-39-3 name=__codelineno-39-3></a><span class=na>vardir</span><span class=o>=</span><span class=s>/var/lib/puppet</span>
</span><span id=__span-39-4><a id=__codelineno-39-4 name=__codelineno-39-4></a><span class=na>ssldir</span><span class=o>=</span><span class=s>/var/lib/puppet/ssl</span>
</span><span id=__span-39-5><a id=__codelineno-39-5 name=__codelineno-39-5></a><span class=na>rundir</span><span class=o>=</span><span class=s>/var/run/puppet</span>
</span><span id=__span-39-6><a id=__codelineno-39-6 name=__codelineno-39-6></a><span class=na>factpath</span><span class=o>=</span><span class=s>$vardir/lib/facter</span>
</span><span id=__span-39-7><a id=__codelineno-39-7 name=__codelineno-39-7></a><span class=na>templatedir</span><span class=o>=</span><span class=s>$confdir/templates</span>
</span><span id=__span-39-8><a id=__codelineno-39-8 name=__codelineno-39-8></a><span class=na>pluginsync</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>true</span>
</span><span id=__span-39-9><a id=__codelineno-39-9 name=__codelineno-39-9></a><span class=k>[master]</span>
</span><span id=__span-39-10><a id=__codelineno-39-10 name=__codelineno-39-10></a><span class=c1># These are needed when the puppetmaster is run by passenger</span>
</span><span id=__span-39-11><a id=__codelineno-39-11 name=__codelineno-39-11></a><span class=c1># and can safely be removed if webrick is used.</span>
</span><span id=__span-39-12><a id=__codelineno-39-12 name=__codelineno-39-12></a><span class=na>ssl_client_header</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>HTTP_X_SSL_SUBJECT</span>
</span><span id=__span-39-13><a id=__codelineno-39-13 name=__codelineno-39-13></a><span class=na>ssl_client_verify_header</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>SSL_CLIENT_VERIFY</span>
</span><span id=__span-39-14><a id=__codelineno-39-14 name=__codelineno-39-14></a><span class=na>report</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>true</span>
</span><span id=__span-39-15><a id=__codelineno-39-15 name=__codelineno-39-15></a>
</span><span id=__span-39-16><a id=__codelineno-39-16 name=__codelineno-39-16></a><span class=k>[agent]</span>
</span><span id=__span-39-17><a id=__codelineno-39-17 name=__codelineno-39-17></a><span class=na>server</span><span class=o>=</span><span class=s>puppet-srv.deimos.fr</span>
</span></code></pre></div></td></tr></table></div> <p>For the templates folder, I have nothing in it.</p> <h3 id=client>Client</h3> <p>Each client must have its entry in the DNS server (just like the server)!</p> <h4 id=puppetconf_1>puppet.conf</h4> <h5 id=debian-red-hat>Debian / Red Hat</h5> <p>The configuration file must contain the server address:</p> <div class="language-ini highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-40-1> 1</a></span>
<span class=normal><a href=#__codelineno-40-2> 2</a></span>
<span class=normal><a href=#__codelineno-40-3> 3</a></span>
<span class=normal><a href=#__codelineno-40-4> 4</a></span>
<span class=normal><a href=#__codelineno-40-5> 5</a></span>
<span class=normal><a href=#__codelineno-40-6> 6</a></span>
<span class=normal><a href=#__codelineno-40-7> 7</a></span>
<span class=normal><a href=#__codelineno-40-8> 8</a></span>
<span class=normal><a href=#__codelineno-40-9> 9</a></span>
<span class=normal><a href=#__codelineno-40-10>10</a></span>
<span class=normal><a href=#__codelineno-40-11>11</a></span>
<span class=normal><a href=#__codelineno-40-12>12</a></span>
<span class=normal><a href=#__codelineno-40-13>13</a></span>
<span class=normal><a href=#__codelineno-40-14>14</a></span>
<span class=normal><a href=#__codelineno-40-15>15</a></span>
<span class=normal><a href=#__codelineno-40-16>16</a></span>
<span class=normal><a href=#__codelineno-40-17>17</a></span>
<span class=normal><a href=#__codelineno-40-18>18</a></span>
<span class=normal><a href=#__codelineno-40-19>19</a></span>
<span class=normal><a href=#__codelineno-40-20>20</a></span>
<span class=normal><a href=#__codelineno-40-21>21</a></span>
<span class=normal><a href=#__codelineno-40-22>22</a></span>
<span class=normal><a href=#__codelineno-40-23>23</a></span>
<span class=normal><a href=#__codelineno-40-24>24</a></span>
<span class=normal><a href=#__codelineno-40-25>25</a></span>
<span class=normal><a href=#__codelineno-40-26>26</a></span>
<span class=normal><a href=#__codelineno-40-27>27</a></span>
<span class=normal><a href=#__codelineno-40-28>28</a></span>
<span class=normal><a href=#__codelineno-40-29>29</a></span>
<span class=normal><a href=#__codelineno-40-30>30</a></span>
<span class=normal><a href=#__codelineno-40-31>31</a></span>
<span class=normal><a href=#__codelineno-40-32>32</a></span>
<span class=normal><a href=#__codelineno-40-33>33</a></span>
<span class=normal><a href=#__codelineno-40-34>34</a></span>
<span class=normal><a href=#__codelineno-40-35>35</a></span>
<span class=normal><a href=#__codelineno-40-36>36</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-40-1><a id=__codelineno-40-1 name=__codelineno-40-1></a><span class=k>[main]</span>
</span><span id=__span-40-2><a id=__codelineno-40-2 name=__codelineno-40-2></a><span class=w>    </span><span class=c1># The Puppet log directory.</span>
</span><span id=__span-40-3><a id=__codelineno-40-3 name=__codelineno-40-3></a><span class=w>    </span><span class=c1># The default value is &#39;$vardir/log&#39;.</span>
</span><span id=__span-40-4><a id=__codelineno-40-4 name=__codelineno-40-4></a><span class=w>    </span><span class=na>logdir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>/var/log/puppet</span>
</span><span id=__span-40-5><a id=__codelineno-40-5 name=__codelineno-40-5></a>
</span><span id=__span-40-6><a id=__codelineno-40-6 name=__codelineno-40-6></a><span class=w>    </span><span class=c1># Where Puppet PID files are kept.</span>
</span><span id=__span-40-7><a id=__codelineno-40-7 name=__codelineno-40-7></a><span class=w>    </span><span class=c1># The default value is &#39;$vardir/run&#39;.</span>
</span><span id=__span-40-8><a id=__codelineno-40-8 name=__codelineno-40-8></a><span class=w>    </span><span class=na>rundir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>/var/run/puppet</span>
</span><span id=__span-40-9><a id=__codelineno-40-9 name=__codelineno-40-9></a>
</span><span id=__span-40-10><a id=__codelineno-40-10 name=__codelineno-40-10></a><span class=w>    </span><span class=c1># Where SSL certificates are kept.</span>
</span><span id=__span-40-11><a id=__codelineno-40-11 name=__codelineno-40-11></a><span class=w>    </span><span class=c1># The default value is &#39;$confdir/ssl&#39;.</span>
</span><span id=__span-40-12><a id=__codelineno-40-12 name=__codelineno-40-12></a><span class=w>    </span><span class=na>ssldir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>$vardir/ssl</span>
</span><span id=__span-40-13><a id=__codelineno-40-13 name=__codelineno-40-13></a>
</span><span id=__span-40-14><a id=__codelineno-40-14 name=__codelineno-40-14></a><span class=w>    </span><span class=c1># Puppet master server</span>
</span><span id=__span-40-15><a id=__codelineno-40-15 name=__codelineno-40-15></a><span class=w>    </span><span class=na>server</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>puppet-prd.deimos.fr</span>
</span><span id=__span-40-16><a id=__codelineno-40-16 name=__codelineno-40-16></a>
</span><span id=__span-40-17><a id=__codelineno-40-17 name=__codelineno-40-17></a><span class=w>    </span><span class=c1># Add custom facts</span>
</span><span id=__span-40-18><a id=__codelineno-40-18 name=__codelineno-40-18></a><span class=w>    </span><span class=na>pluginsync</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>true</span>
</span><span id=__span-40-19><a id=__codelineno-40-19 name=__codelineno-40-19></a><span class=w>    </span><span class=na>pluginsource</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>puppet://$server/plugins</span>
</span><span id=__span-40-20><a id=__codelineno-40-20 name=__codelineno-40-20></a><span class=w>    </span><span class=na>factpath</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>/var/lib/puppet/lib/facter</span>
</span><span id=__span-40-21><a id=__codelineno-40-21 name=__codelineno-40-21></a>
</span><span id=__span-40-22><a id=__codelineno-40-22 name=__codelineno-40-22></a><span class=k>[agent]</span>
</span><span id=__span-40-23><a id=__codelineno-40-23 name=__codelineno-40-23></a><span class=w>    </span><span class=c1># The file in which puppetd stores a list of the classes</span>
</span><span id=__span-40-24><a id=__codelineno-40-24 name=__codelineno-40-24></a><span class=w>    </span><span class=c1># associated with the retrieved configuratiion.  Can be loaded in</span>
</span><span id=__span-40-25><a id=__codelineno-40-25 name=__codelineno-40-25></a><span class=w>    </span><span class=c1># the separate ``puppet`` executable using the ``--loadclasses``</span>
</span><span id=__span-40-26><a id=__codelineno-40-26 name=__codelineno-40-26></a><span class=w>    </span><span class=c1># option.</span>
</span><span id=__span-40-27><a id=__codelineno-40-27 name=__codelineno-40-27></a><span class=w>    </span><span class=c1># The default value is &#39;$confdir/classes.txt&#39;.</span>
</span><span id=__span-40-28><a id=__codelineno-40-28 name=__codelineno-40-28></a><span class=w>    </span><span class=na>classfile</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>$vardir/classes.txt</span>
</span><span id=__span-40-29><a id=__codelineno-40-29 name=__codelineno-40-29></a>
</span><span id=__span-40-30><a id=__codelineno-40-30 name=__codelineno-40-30></a><span class=w>    </span><span class=c1># Where puppetd caches the local configuration.  An</span>
</span><span id=__span-40-31><a id=__codelineno-40-31 name=__codelineno-40-31></a><span class=w>    </span><span class=c1># extension indicating the cache format is added automatically.</span>
</span><span id=__span-40-32><a id=__codelineno-40-32 name=__codelineno-40-32></a><span class=w>    </span><span class=c1># The default value is &#39;$confdir/localconfig&#39;.</span>
</span><span id=__span-40-33><a id=__codelineno-40-33 name=__codelineno-40-33></a><span class=w>    </span><span class=na>localconfig</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>$vardir/localconfig</span>
</span><span id=__span-40-34><a id=__codelineno-40-34 name=__codelineno-40-34></a>
</span><span id=__span-40-35><a id=__codelineno-40-35 name=__codelineno-40-35></a><span class=w>    </span><span class=c1># Reporting</span>
</span><span id=__span-40-36><a id=__codelineno-40-36 name=__codelineno-40-36></a><span class=w>    </span><span class=na>report</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>true</span>
</span></code></pre></div></td></tr></table></div> <h5 id=solaris_1>Solaris</h5> <p>For Solaris, the configuration needed quite a bit of adaptation:</p> <div class="language-ini highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-41-1> 1</a></span>
<span class=normal><a href=#__codelineno-41-2> 2</a></span>
<span class=normal><a href=#__codelineno-41-3> 3</a></span>
<span class=normal><a href=#__codelineno-41-4> 4</a></span>
<span class=normal><a href=#__codelineno-41-5> 5</a></span>
<span class=normal><a href=#__codelineno-41-6> 6</a></span>
<span class=normal><a href=#__codelineno-41-7> 7</a></span>
<span class=normal><a href=#__codelineno-41-8> 8</a></span>
<span class=normal><a href=#__codelineno-41-9> 9</a></span>
<span class=normal><a href=#__codelineno-41-10>10</a></span>
<span class=normal><a href=#__codelineno-41-11>11</a></span>
<span class=normal><a href=#__codelineno-41-12>12</a></span>
<span class=normal><a href=#__codelineno-41-13>13</a></span>
<span class=normal><a href=#__codelineno-41-14>14</a></span>
<span class=normal><a href=#__codelineno-41-15>15</a></span>
<span class=normal><a href=#__codelineno-41-16>16</a></span>
<span class=normal><a href=#__codelineno-41-17>17</a></span>
<span class=normal><a href=#__codelineno-41-18>18</a></span>
<span class=normal><a href=#__codelineno-41-19>19</a></span>
<span class=normal><a href=#__codelineno-41-20>20</a></span>
<span class=normal><a href=#__codelineno-41-21>21</a></span>
<span class=normal><a href=#__codelineno-41-22>22</a></span>
<span class=normal><a href=#__codelineno-41-23>23</a></span>
<span class=normal><a href=#__codelineno-41-24>24</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-41-1><a id=__codelineno-41-1 name=__codelineno-41-1></a><span class=k>[main]</span>
</span><span id=__span-41-2><a id=__codelineno-41-2 name=__codelineno-41-2></a><span class=w>    </span><span class=na>logdir</span><span class=o>=</span><span class=s>/var/log/puppet</span>
</span><span id=__span-41-3><a id=__codelineno-41-3 name=__codelineno-41-3></a><span class=w>    </span><span class=na>vardir</span><span class=o>=</span><span class=s>/var/opt/csw/puppet</span>
</span><span id=__span-41-4><a id=__codelineno-41-4 name=__codelineno-41-4></a><span class=w>    </span><span class=na>rundir</span><span class=o>=</span><span class=s>/var/run/puppet</span>
</span><span id=__span-41-5><a id=__codelineno-41-5 name=__codelineno-41-5></a><span class=w>    </span><span class=c1># ssldir=/var/lib/puppet/ssl</span>
</span><span id=__span-41-6><a id=__codelineno-41-6 name=__codelineno-41-6></a><span class=w>    </span><span class=na>ssldir</span><span class=o>=</span><span class=s>/etc/puppet/ssl</span>
</span><span id=__span-41-7><a id=__codelineno-41-7 name=__codelineno-41-7></a><span class=w>    </span><span class=c1># Where 3rd party plugins and modules are installed</span>
</span><span id=__span-41-8><a id=__codelineno-41-8 name=__codelineno-41-8></a><span class=w>    </span><span class=na>libdir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>$vardir/lib</span>
</span><span id=__span-41-9><a id=__codelineno-41-9 name=__codelineno-41-9></a><span class=w>    </span><span class=na>templatedir</span><span class=o>=</span><span class=s>$vardir/templates</span>
</span><span id=__span-41-10><a id=__codelineno-41-10 name=__codelineno-41-10></a><span class=w>    </span><span class=c1># Turn plug-in synchronization on.</span>
</span><span id=__span-41-11><a id=__codelineno-41-11 name=__codelineno-41-11></a><span class=w>    </span><span class=na>pluginsync</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>true</span>
</span><span id=__span-41-12><a id=__codelineno-41-12 name=__codelineno-41-12></a><span class=w>    </span><span class=na>pluginsource</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>puppet://$server/plugins</span>
</span><span id=__span-41-13><a id=__codelineno-41-13 name=__codelineno-41-13></a><span class=w>    </span><span class=na>factpath</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>/var/puppet/lib/facter</span>
</span><span id=__span-41-14><a id=__codelineno-41-14 name=__codelineno-41-14></a>
</span><span id=__span-41-15><a id=__codelineno-41-15 name=__codelineno-41-15></a><span class=k>[puppetd]</span>
</span><span id=__span-41-16><a id=__codelineno-41-16 name=__codelineno-41-16></a><span class=w>    </span><span class=na>report</span><span class=o>=</span><span class=s>true</span>
</span><span id=__span-41-17><a id=__codelineno-41-17 name=__codelineno-41-17></a><span class=w>    </span><span class=na>server</span><span class=o>=</span><span class=s>puppet-prd.deimos.fr</span>
</span><span id=__span-41-18><a id=__codelineno-41-18 name=__codelineno-41-18></a><span class=w>    </span><span class=c1># certname=puppet-prd.deimos.fr</span>
</span><span id=__span-41-19><a id=__codelineno-41-19 name=__codelineno-41-19></a><span class=w>    </span><span class=c1># enable the marshal config format</span>
</span><span id=__span-41-20><a id=__codelineno-41-20 name=__codelineno-41-20></a><span class=w>    </span><span class=na>config_format</span><span class=o>=</span><span class=s>marshal</span>
</span><span id=__span-41-21><a id=__codelineno-41-21 name=__codelineno-41-21></a><span class=w>    </span><span class=c1># different run-interval, default= 30min</span>
</span><span id=__span-41-22><a id=__codelineno-41-22 name=__codelineno-41-22></a><span class=w>    </span><span class=c1># e.g. run puppetd every 4 hours = 14400</span>
</span><span id=__span-41-23><a id=__codelineno-41-23 name=__codelineno-41-23></a><span class=w>    </span><span class=na>runinterval</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>14400</span>
</span><span id=__span-41-24><a id=__codelineno-41-24 name=__codelineno-41-24></a><span class=w>    </span><span class=na>logdest</span><span class=o>=</span><span class=s>/var/log/puppet/puppet.log</span>
</span></code></pre></div></td></tr></table></div> <h2 id=the-language>The Language</h2> <p>Before starting to create modules, we need to know a bit more about the syntax/language used for puppet. Its syntax is close to ruby and it's even possible to write complete modules in ruby. I'll explain here some techniques/possibilities to allow you to create advanced modules later.</p> <p>We'll also use types, I won't go into detail on these, because the doc on the site is clear enough: <a href=http://docs.puppetlabs.com/references/latest/type.html>http://docs.puppetlabs.com/references/latest/type.html</a></p> <h3 id=functions>Functions</h3> <p>Here's how to define a function with multiple arguments:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-42-1>1</a></span>
<span class=normal><a href=#__codelineno-42-2>2</a></span>
<span class=normal><a href=#__codelineno-42-3>3</a></span>
<span class=normal><a href=#__codelineno-42-4>4</a></span>
<span class=normal><a href=#__codelineno-42-5>5</a></span>
<span class=normal><a href=#__codelineno-42-6>6</a></span>
<span class=normal><a href=#__codelineno-42-7>7</a></span>
<span class=normal><a href=#__codelineno-42-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-42-1><a id=__codelineno-42-1 name=__codelineno-42-1></a><span class=n>define</span><span class=w> </span><span class=n>network_config</span><span class=p>(</span><span class=w> </span><span class=vg>$ip</span><span class=p>,</span><span class=w> </span><span class=vg>$netmask</span><span class=p>,</span><span class=w> </span><span class=vg>$gateway</span><span class=w> </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-42-2><a id=__codelineno-42-2 name=__codelineno-42-2></a><span class=w>    </span><span class=n>notify</span><span class=w> </span><span class=p>{</span><span class=s2>&quot;$ip, $netmask, $gateway&quot;</span><span class=p>:}</span>
</span><span id=__span-42-3><a id=__codelineno-42-3 name=__codelineno-42-3></a><span class=p>}</span>
</span><span id=__span-42-4><a id=__codelineno-42-4 name=__codelineno-42-4></a><span class=n>network_config</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;eth0&quot;</span><span class=p>:</span>
</span><span id=__span-42-5><a id=__codelineno-42-5 name=__codelineno-42-5></a><span class=w>    </span><span class=n>ip</span><span class=w>      </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;192.168.0.1&#39;</span><span class=p>,</span>
</span><span id=__span-42-6><a id=__codelineno-42-6 name=__codelineno-42-6></a><span class=w>    </span><span class=n>netmask</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;255.255.255.0&#39;</span><span class=p>,</span>
</span><span id=__span-42-7><a id=__codelineno-42-7 name=__codelineno-42-7></a><span class=w>    </span><span class=n>gateway</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;192.168.0.254,</span>
</span><span id=__span-42-8><a id=__codelineno-42-8 name=__codelineno-42-8></a><span class=s1>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=installing-packages>Installing packages</h3> <p>We'll see here how to install a package, then use a function to easily install many more. For a single package, it's simple:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-43-1>1</a></span>
<span class=normal><a href=#__codelineno-43-2>2</a></span>
<span class=normal><a href=#__codelineno-43-3>3</a></span>
<span class=normal><a href=#__codelineno-43-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-43-1><a id=__codelineno-43-1 name=__codelineno-43-1></a><span class=c1># Install kexec-tools</span>
</span><span id=__span-43-2><a id=__codelineno-43-2 name=__codelineno-43-2></a><span class=n>package</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;kexec-tools&#39;</span><span class=p>:</span>
</span><span id=__span-43-3><a id=__codelineno-43-3 name=__codelineno-43-3></a><span class=w>    </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;installed&#39;</span>
</span><span id=__span-43-4><a id=__codelineno-43-4 name=__codelineno-43-4></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Here we're asking for a package (kexec-tool) to be installed. If we want several to be installed, we'll need to create an array:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-44-1>1</a></span>
<span class=normal><a href=#__codelineno-44-2>2</a></span>
<span class=normal><a href=#__codelineno-44-3>3</a></span>
<span class=normal><a href=#__codelineno-44-4>4</a></span>
<span class=normal><a href=#__codelineno-44-5>5</a></span>
<span class=normal><a href=#__codelineno-44-6>6</a></span>
<span class=normal><a href=#__codelineno-44-7>7</a></span>
<span class=normal><a href=#__codelineno-44-8>8</a></span>
<span class=normal><a href=#__codelineno-44-9>9</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-44-1><a id=__codelineno-44-1 name=__codelineno-44-1></a><span class=c1># Install kexec-tools</span>
</span><span id=__span-44-2><a id=__codelineno-44-2 name=__codelineno-44-2></a><span class=n>package</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-44-3><a id=__codelineno-44-3 name=__codelineno-44-3></a><span class=w>   </span><span class=o>[</span>
</span><span id=__span-44-4><a id=__codelineno-44-4 name=__codelineno-44-4></a><span class=w>      </span><span class=s1>&#39;kexec-tools&#39;</span><span class=p>,</span>
</span><span id=__span-44-5><a id=__codelineno-44-5 name=__codelineno-44-5></a><span class=w>      </span><span class=s1>&#39;package2&#39;</span><span class=p>,</span>
</span><span id=__span-44-6><a id=__codelineno-44-6 name=__codelineno-44-6></a><span class=w>      </span><span class=s1>&#39;pacakge3&#39;</span>
</span><span id=__span-44-7><a id=__codelineno-44-7 name=__codelineno-44-7></a><span class=w>   </span><span class=o>]</span><span class=p>:</span>
</span><span id=__span-44-8><a id=__codelineno-44-8 name=__codelineno-44-8></a><span class=w>   </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;installed&#39;</span>
</span><span id=__span-44-9><a id=__codelineno-44-9 name=__codelineno-44-9></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>This is quite practical and arrays often work this way for pretty much any type used. We can also create a function for this in which we'll send each element of the array:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-45-1> 1</a></span>
<span class=normal><a href=#__codelineno-45-2> 2</a></span>
<span class=normal><a href=#__codelineno-45-3> 3</a></span>
<span class=normal><a href=#__codelineno-45-4> 4</a></span>
<span class=normal><a href=#__codelineno-45-5> 5</a></span>
<span class=normal><a href=#__codelineno-45-6> 6</a></span>
<span class=normal><a href=#__codelineno-45-7> 7</a></span>
<span class=normal><a href=#__codelineno-45-8> 8</a></span>
<span class=normal><a href=#__codelineno-45-9> 9</a></span>
<span class=normal><a href=#__codelineno-45-10>10</a></span>
<span class=normal><a href=#__codelineno-45-11>11</a></span>
<span class=normal><a href=#__codelineno-45-12>12</a></span>
<span class=normal><a href=#__codelineno-45-13>13</a></span>
<span class=normal><a href=#__codelineno-45-14>14</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-45-1><a id=__codelineno-45-1 name=__codelineno-45-1></a><span class=c1># Validate that pacakges are installed</span>
</span><span id=__span-45-2><a id=__codelineno-45-2 name=__codelineno-45-2></a><span class=n>define</span><span class=w> </span><span class=n>packages_install</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-45-3><a id=__codelineno-45-3 name=__codelineno-45-3></a><span class=w>    </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Installation of ${name} package&quot;</span><span class=p>)</span>
</span><span id=__span-45-4><a id=__codelineno-45-4 name=__codelineno-45-4></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-45-5><a id=__codelineno-45-5 name=__codelineno-45-5></a><span class=w>        </span><span class=s2>&quot;${name}&quot;</span><span class=p>:</span>
</span><span id=__span-45-6><a id=__codelineno-45-6 name=__codelineno-45-6></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;installed&#39;</span>
</span><span id=__span-45-7><a id=__codelineno-45-7 name=__codelineno-45-7></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-45-8><a id=__codelineno-45-8 name=__codelineno-45-8></a><span class=p>}</span>
</span><span id=__span-45-9><a id=__codelineno-45-9 name=__codelineno-45-9></a><span class=c1># Set all custom packages (not embended in distribution) that need to be installed</span>
</span><span id=__span-45-10><a id=__codelineno-45-10 name=__codelineno-45-10></a><span class=n>packages_install</span>
</span><span id=__span-45-11><a id=__codelineno-45-11 name=__codelineno-45-11></a><span class=p>{</span><span class=w> </span><span class=o>[</span>
</span><span id=__span-45-12><a id=__codelineno-45-12 name=__codelineno-45-12></a><span class=w>   </span><span class=s1>&#39;puppet&#39;</span><span class=p>,</span>
</span><span id=__span-45-13><a id=__codelineno-45-13 name=__codelineno-45-13></a><span class=w>   </span><span class=s1>&#39;tmux&#39;</span>
</span><span id=__span-45-14><a id=__codelineno-45-14 name=__codelineno-45-14></a><span class=o>]</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Some of you will say that for this specific case, it's pointless, since the method above allows it to be done while others will find this method more elegant and easier to comprehend for a novice coming to puppet. The function name used is packages_install, the $name variable is always the first element sent to a function, which corresponds here to each element in our array.</p> <h3 id=including-excluding-modules>Including / Excluding modules</h3> <p>You've just seen functions, we'll push them a bit further with a solution to include and exclude the loading of certain modules. Here, I have a functions file:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-46-1>1</a></span>
<span class=normal><a href=#__codelineno-46-2>2</a></span>
<span class=normal><a href=#__codelineno-46-3>3</a></span>
<span class=normal><a href=#__codelineno-46-4>4</a></span>
<span class=normal><a href=#__codelineno-46-5>5</a></span>
<span class=normal><a href=#__codelineno-46-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-46-1><a id=__codelineno-46-1 name=__codelineno-46-1></a><span class=c1># Load or not modules (include/exclude)</span>
</span><span id=__span-46-2><a id=__codelineno-46-2 name=__codelineno-46-2></a><span class=n>define</span><span class=w> </span><span class=n>include_modules</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-46-3><a id=__codelineno-46-3 name=__codelineno-46-3></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=vg>$exclude_modules</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=k>undef</span><span class=p>)</span><span class=w> </span><span class=ow>or</span><span class=w> </span><span class=o>!</span><span class=p>(</span><span class=vg>$name</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=vg>$exclude_modules</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-46-4><a id=__codelineno-46-4 name=__codelineno-46-4></a><span class=w>        </span><span class=kp>include</span><span class=w> </span><span class=vg>$name</span>
</span><span id=__span-46-5><a id=__codelineno-46-5 name=__codelineno-46-5></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-46-6><a id=__codelineno-46-6 name=__codelineno-46-6></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Here I have another file representing the roles of my servers (we'll get to that later):</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-47-1>1</a></span>
<span class=normal><a href=#__codelineno-47-2>2</a></span>
<span class=normal><a href=#__codelineno-47-3>3</a></span>
<span class=normal><a href=#__codelineno-47-4>4</a></span>
<span class=normal><a href=#__codelineno-47-5>5</a></span>
<span class=normal><a href=#__codelineno-47-6>6</a></span>
<span class=normal><a href=#__codelineno-47-7>7</a></span>
<span class=normal><a href=#__codelineno-47-8>8</a></span>
<span class=normal><a href=#__codelineno-47-9>9</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-47-1><a id=__codelineno-47-1 name=__codelineno-47-1></a><span class=c1># Load modules</span>
</span><span id=__span-47-2><a id=__codelineno-47-2 name=__codelineno-47-2></a><span class=vg>$minimal_modules</span><span class=w> </span><span class=o>=</span>
</span><span id=__span-47-3><a id=__codelineno-47-3 name=__codelineno-47-3></a><span class=o>[</span>
</span><span id=__span-47-4><a id=__codelineno-47-4 name=__codelineno-47-4></a><span class=w>    </span><span class=s1>&#39;puppet&#39;</span><span class=p>,</span>
</span><span id=__span-47-5><a id=__codelineno-47-5 name=__codelineno-47-5></a><span class=w>    </span><span class=s1>&#39;resolvconf&#39;</span><span class=p>,</span>
</span><span id=__span-47-6><a id=__codelineno-47-6 name=__codelineno-47-6></a><span class=w>    </span><span class=s1>&#39;packages_defaults&#39;</span><span class=p>,</span>
</span><span id=__span-47-7><a id=__codelineno-47-7 name=__codelineno-47-7></a><span class=w>    </span><span class=s1>&#39;configurations_defaults&#39;</span>
</span><span id=__span-47-8><a id=__codelineno-47-8 name=__codelineno-47-8></a><span class=o>]</span>
</span><span id=__span-47-9><a id=__codelineno-47-9 name=__codelineno-47-9></a><span class=n>include_modules</span><span class=p>{</span><span class=w> </span><span class=vg>$minimal_modules</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>And finally a file containing the name of a server in which I'm going to ask it to load certain modules, but also exclude some:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-48-1>1</a></span>
<span class=normal><a href=#__codelineno-48-2>2</a></span>
<span class=normal><a href=#__codelineno-48-3>3</a></span>
<span class=normal><a href=#__codelineno-48-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-48-1><a id=__codelineno-48-1 name=__codelineno-48-1></a><span class=n>node</span><span class=w> </span><span class=s1>&#39;srv.deimos.fr&#39;</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-48-2><a id=__codelineno-48-2 name=__codelineno-48-2></a><span class=w>    </span><span class=vg>$exclude_modules</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=s1>&#39;resolvconf&#39;</span><span class=w> </span><span class=o>]</span>
</span><span id=__span-48-3><a id=__codelineno-48-3 name=__codelineno-48-3></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>base</span><span class=o>::</span><span class=n>minimal</span>
</span><span id=__span-48-4><a id=__codelineno-48-4 name=__codelineno-48-4></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Here I use an array '$exclude_modules' (with a single element, but you can add several separated by commas), which will allow me to specify which modules to exclude. Because by the next line it will load everything it will need through the include_modules function.</p> <h3 id=templates>Templates</h3> <p>When you write manifests, you call a directive named 'File' when you want to send a file to a server. But if the content of that file needs to change based on certain parameters (name, ip, timezone, domain...), then you need to use templates! And that's where it gets interesting as it's possible to script within a template to generate its content. Templates use a language very close to ruby.</p> <p>In a template, the following syntax is used:</p> <ul> <li>For facts, it's simple, you need to prefix the variable with a "@". For example &lt;%= fqdn %&gt; becomes &lt;%= @fqdn %&gt;.</li> <li>For your variables, if it's declared in the manifest that calls the template, also use "@".</li> <li>My variable myvar defined in the manifest that calls this template has the value &lt;%= myvar %&gt;.</li> </ul> <p>If you want to access a variable defined outside the current manifest, outside the local scope, use the scope.lookupvar function:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-49-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-49-1><a id=__codelineno-49-1 name=__codelineno-49-1></a><span class=o>&lt;%=</span><span class=w> </span><span class=n>scope</span><span class=o>.</span><span class=n>lookupvar</span><span class=p>(</span><span class=s1>&#39;common::config::myvar&#39;</span><span class=p>)</span><span class=w> </span><span class=o>%&gt;</span>
</span></code></pre></div></td></tr></table></div> <p>You can validate your template via:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-50-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-50-1><a id=__codelineno-50-1 name=__codelineno-50-1></a>erb<span class=w> </span>-P<span class=w> </span>-x<span class=w> </span>-T<span class=w> </span><span class=s1>&#39;-&#39;</span><span class=w> </span>mytemplate.erb<span class=w> </span><span class=p>|</span><span class=w> </span>ruby<span class=w> </span>-c
</span></code></pre></div></td></tr></table></div> <p>Here's an example with OpenSSH so you understand. I've taken the configuration that will vary according to certain parameters:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-51-1>  1</a></span>
<span class=normal><a href=#__codelineno-51-2>  2</a></span>
<span class=normal><a href=#__codelineno-51-3>  3</a></span>
<span class=normal><a href=#__codelineno-51-4>  4</a></span>
<span class=normal><a href=#__codelineno-51-5>  5</a></span>
<span class=normal><a href=#__codelineno-51-6>  6</a></span>
<span class=normal><a href=#__codelineno-51-7>  7</a></span>
<span class=normal><a href=#__codelineno-51-8>  8</a></span>
<span class=normal><a href=#__codelineno-51-9>  9</a></span>
<span class=normal><a href=#__codelineno-51-10> 10</a></span>
<span class=normal><a href=#__codelineno-51-11> 11</a></span>
<span class=normal><a href=#__codelineno-51-12> 12</a></span>
<span class=normal><a href=#__codelineno-51-13> 13</a></span>
<span class=normal><a href=#__codelineno-51-14> 14</a></span>
<span class=normal><a href=#__codelineno-51-15> 15</a></span>
<span class=normal><a href=#__codelineno-51-16> 16</a></span>
<span class=normal><a href=#__codelineno-51-17> 17</a></span>
<span class=normal><a href=#__codelineno-51-18> 18</a></span>
<span class=normal><a href=#__codelineno-51-19> 19</a></span>
<span class=normal><a href=#__codelineno-51-20> 20</a></span>
<span class=normal><a href=#__codelineno-51-21> 21</a></span>
<span class=normal><a href=#__codelineno-51-22> 22</a></span>
<span class=normal><a href=#__codelineno-51-23> 23</a></span>
<span class=normal><a href=#__codelineno-51-24> 24</a></span>
<span class=normal><a href=#__codelineno-51-25> 25</a></span>
<span class=normal><a href=#__codelineno-51-26> 26</a></span>
<span class=normal><a href=#__codelineno-51-27> 27</a></span>
<span class=normal><a href=#__codelineno-51-28> 28</a></span>
<span class=normal><a href=#__codelineno-51-29> 29</a></span>
<span class=normal><a href=#__codelineno-51-30> 30</a></span>
<span class=normal><a href=#__codelineno-51-31> 31</a></span>
<span class=normal><a href=#__codelineno-51-32> 32</a></span>
<span class=normal><a href=#__codelineno-51-33> 33</a></span>
<span class=normal><a href=#__codelineno-51-34> 34</a></span>
<span class=normal><a href=#__codelineno-51-35> 35</a></span>
<span class=normal><a href=#__codelineno-51-36> 36</a></span>
<span class=normal><a href=#__codelineno-51-37> 37</a></span>
<span class=normal><a href=#__codelineno-51-38> 38</a></span>
<span class=normal><a href=#__codelineno-51-39> 39</a></span>
<span class=normal><a href=#__codelineno-51-40> 40</a></span>
<span class=normal><a href=#__codelineno-51-41> 41</a></span>
<span class=normal><a href=#__codelineno-51-42> 42</a></span>
<span class=normal><a href=#__codelineno-51-43> 43</a></span>
<span class=normal><a href=#__codelineno-51-44> 44</a></span>
<span class=normal><a href=#__codelineno-51-45> 45</a></span>
<span class=normal><a href=#__codelineno-51-46> 46</a></span>
<span class=normal><a href=#__codelineno-51-47> 47</a></span>
<span class=normal><a href=#__codelineno-51-48> 48</a></span>
<span class=normal><a href=#__codelineno-51-49> 49</a></span>
<span class=normal><a href=#__codelineno-51-50> 50</a></span>
<span class=normal><a href=#__codelineno-51-51> 51</a></span>
<span class=normal><a href=#__codelineno-51-52> 52</a></span>
<span class=normal><a href=#__codelineno-51-53> 53</a></span>
<span class=normal><a href=#__codelineno-51-54> 54</a></span>
<span class=normal><a href=#__codelineno-51-55> 55</a></span>
<span class=normal><a href=#__codelineno-51-56> 56</a></span>
<span class=normal><a href=#__codelineno-51-57> 57</a></span>
<span class=normal><a href=#__codelineno-51-58> 58</a></span>
<span class=normal><a href=#__codelineno-51-59> 59</a></span>
<span class=normal><a href=#__codelineno-51-60> 60</a></span>
<span class=normal><a href=#__codelineno-51-61> 61</a></span>
<span class=normal><a href=#__codelineno-51-62> 62</a></span>
<span class=normal><a href=#__codelineno-51-63> 63</a></span>
<span class=normal><a href=#__codelineno-51-64> 64</a></span>
<span class=normal><a href=#__codelineno-51-65> 65</a></span>
<span class=normal><a href=#__codelineno-51-66> 66</a></span>
<span class=normal><a href=#__codelineno-51-67> 67</a></span>
<span class=normal><a href=#__codelineno-51-68> 68</a></span>
<span class=normal><a href=#__codelineno-51-69> 69</a></span>
<span class=normal><a href=#__codelineno-51-70> 70</a></span>
<span class=normal><a href=#__codelineno-51-71> 71</a></span>
<span class=normal><a href=#__codelineno-51-72> 72</a></span>
<span class=normal><a href=#__codelineno-51-73> 73</a></span>
<span class=normal><a href=#__codelineno-51-74> 74</a></span>
<span class=normal><a href=#__codelineno-51-75> 75</a></span>
<span class=normal><a href=#__codelineno-51-76> 76</a></span>
<span class=normal><a href=#__codelineno-51-77> 77</a></span>
<span class=normal><a href=#__codelineno-51-78> 78</a></span>
<span class=normal><a href=#__codelineno-51-79> 79</a></span>
<span class=normal><a href=#__codelineno-51-80> 80</a></span>
<span class=normal><a href=#__codelineno-51-81> 81</a></span>
<span class=normal><a href=#__codelineno-51-82> 82</a></span>
<span class=normal><a href=#__codelineno-51-83> 83</a></span>
<span class=normal><a href=#__codelineno-51-84> 84</a></span>
<span class=normal><a href=#__codelineno-51-85> 85</a></span>
<span class=normal><a href=#__codelineno-51-86> 86</a></span>
<span class=normal><a href=#__codelineno-51-87> 87</a></span>
<span class=normal><a href=#__codelineno-51-88> 88</a></span>
<span class=normal><a href=#__codelineno-51-89> 89</a></span>
<span class=normal><a href=#__codelineno-51-90> 90</a></span>
<span class=normal><a href=#__codelineno-51-91> 91</a></span>
<span class=normal><a href=#__codelineno-51-92> 92</a></span>
<span class=normal><a href=#__codelineno-51-93> 93</a></span>
<span class=normal><a href=#__codelineno-51-94> 94</a></span>
<span class=normal><a href=#__codelineno-51-95> 95</a></span>
<span class=normal><a href=#__codelineno-51-96> 96</a></span>
<span class=normal><a href=#__codelineno-51-97> 97</a></span>
<span class=normal><a href=#__codelineno-51-98> 98</a></span>
<span class=normal><a href=#__codelineno-51-99> 99</a></span>
<span class=normal><a href=#__codelineno-51-100>100</a></span>
<span class=normal><a href=#__codelineno-51-101>101</a></span>
<span class=normal><a href=#__codelineno-51-102>102</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-51-1><a id=__codelineno-51-1 name=__codelineno-51-1></a># Package generated configuration file
</span><span id=__span-51-2><a id=__codelineno-51-2 name=__codelineno-51-2></a># See the sshd(8) manpage for details
</span><span id=__span-51-3><a id=__codelineno-51-3 name=__codelineno-51-3></a>
</span><span id=__span-51-4><a id=__codelineno-51-4 name=__codelineno-51-4></a># What ports, IPs and protocols we listen for
</span><span id=__span-51-5><a id=__codelineno-51-5 name=__codelineno-51-5></a>
</span><span id=__span-51-6><a id=__codelineno-51-6 name=__codelineno-51-6></a>&lt;% ssh_default_port.each do |val| -%&gt;
</span><span id=__span-51-7><a id=__codelineno-51-7 name=__codelineno-51-7></a>Port &lt;%= val -%&gt;
</span><span id=__span-51-8><a id=__codelineno-51-8 name=__codelineno-51-8></a>&lt;% end -%&gt;
</span><span id=__span-51-9><a id=__codelineno-51-9 name=__codelineno-51-9></a>
</span><span id=__span-51-10><a id=__codelineno-51-10 name=__codelineno-51-10></a># Use these options to restrict which interfaces/protocols sshd will bind to
</span><span id=__span-51-11><a id=__codelineno-51-11 name=__codelineno-51-11></a>
</span><span id=__span-51-12><a id=__codelineno-51-12 name=__codelineno-51-12></a>#ListenAddress ::
</span><span id=__span-51-13><a id=__codelineno-51-13 name=__codelineno-51-13></a>#ListenAddress 0.0.0.0
</span><span id=__span-51-14><a id=__codelineno-51-14 name=__codelineno-51-14></a>Protocol 2
</span><span id=__span-51-15><a id=__codelineno-51-15 name=__codelineno-51-15></a>
</span><span id=__span-51-16><a id=__codelineno-51-16 name=__codelineno-51-16></a># HostKeys for protocol version 2
</span><span id=__span-51-17><a id=__codelineno-51-17 name=__codelineno-51-17></a>
</span><span id=__span-51-18><a id=__codelineno-51-18 name=__codelineno-51-18></a>HostKey /etc/ssh/ssh_host_rsa_key
</span><span id=__span-51-19><a id=__codelineno-51-19 name=__codelineno-51-19></a>HostKey /etc/ssh/ssh_host_dsa_key
</span><span id=__span-51-20><a id=__codelineno-51-20 name=__codelineno-51-20></a>#Privilege Separation is turned on for security
</span><span id=__span-51-21><a id=__codelineno-51-21 name=__codelineno-51-21></a>UsePrivilegeSeparation yes
</span><span id=__span-51-22><a id=__codelineno-51-22 name=__codelineno-51-22></a>
</span><span id=__span-51-23><a id=__codelineno-51-23 name=__codelineno-51-23></a># Lifetime and size of ephemeral version 1 server key
</span><span id=__span-51-24><a id=__codelineno-51-24 name=__codelineno-51-24></a>
</span><span id=__span-51-25><a id=__codelineno-51-25 name=__codelineno-51-25></a>KeyRegenerationInterval 3600
</span><span id=__span-51-26><a id=__codelineno-51-26 name=__codelineno-51-26></a>ServerKeyBits 768
</span><span id=__span-51-27><a id=__codelineno-51-27 name=__codelineno-51-27></a>
</span><span id=__span-51-28><a id=__codelineno-51-28 name=__codelineno-51-28></a># Logging
</span><span id=__span-51-29><a id=__codelineno-51-29 name=__codelineno-51-29></a>
</span><span id=__span-51-30><a id=__codelineno-51-30 name=__codelineno-51-30></a>SyslogFacility AUTH
</span><span id=__span-51-31><a id=__codelineno-51-31 name=__codelineno-51-31></a>LogLevel INFO
</span><span id=__span-51-32><a id=__codelineno-51-32 name=__codelineno-51-32></a>
</span><span id=__span-51-33><a id=__codelineno-51-33 name=__codelineno-51-33></a># Authentication:
</span><span id=__span-51-34><a id=__codelineno-51-34 name=__codelineno-51-34></a>
</span><span id=__span-51-35><a id=__codelineno-51-35 name=__codelineno-51-35></a>LoginGraceTime 120
</span><span id=__span-51-36><a id=__codelineno-51-36 name=__codelineno-51-36></a>PermitRootLogin yes
</span><span id=__span-51-37><a id=__codelineno-51-37 name=__codelineno-51-37></a>StrictModes yes
</span><span id=__span-51-38><a id=__codelineno-51-38 name=__codelineno-51-38></a>
</span><span id=__span-51-39><a id=__codelineno-51-39 name=__codelineno-51-39></a>RSAAuthentication yes
</span><span id=__span-51-40><a id=__codelineno-51-40 name=__codelineno-51-40></a>PubkeyAuthentication yes
</span><span id=__span-51-41><a id=__codelineno-51-41 name=__codelineno-51-41></a>#AuthorizedKeysFile %h/.ssh/authorized_keys
</span><span id=__span-51-42><a id=__codelineno-51-42 name=__codelineno-51-42></a>
</span><span id=__span-51-43><a id=__codelineno-51-43 name=__codelineno-51-43></a># Don&#39;t read the user&#39;s ~/.rhosts and ~/.shosts files
</span><span id=__span-51-44><a id=__codelineno-51-44 name=__codelineno-51-44></a>
</span><span id=__span-51-45><a id=__codelineno-51-45 name=__codelineno-51-45></a>IgnoreRhosts yes
</span><span id=__span-51-46><a id=__codelineno-51-46 name=__codelineno-51-46></a>
</span><span id=__span-51-47><a id=__codelineno-51-47 name=__codelineno-51-47></a># For this to work you will also need host keys in /etc/ssh_known_hosts
</span><span id=__span-51-48><a id=__codelineno-51-48 name=__codelineno-51-48></a>
</span><span id=__span-51-49><a id=__codelineno-51-49 name=__codelineno-51-49></a>RhostsRSAAuthentication no
</span><span id=__span-51-50><a id=__codelineno-51-50 name=__codelineno-51-50></a>
</span><span id=__span-51-51><a id=__codelineno-51-51 name=__codelineno-51-51></a># similar for protocol version 2
</span><span id=__span-51-52><a id=__codelineno-51-52 name=__codelineno-51-52></a>
</span><span id=__span-51-53><a id=__codelineno-51-53 name=__codelineno-51-53></a>HostbasedAuthentication no
</span><span id=__span-51-54><a id=__codelineno-51-54 name=__codelineno-51-54></a>
</span><span id=__span-51-55><a id=__codelineno-51-55 name=__codelineno-51-55></a># Uncomment if you don&#39;t trust ~/.ssh/known_hosts for RhostsRSAAuthentication
</span><span id=__span-51-56><a id=__codelineno-51-56 name=__codelineno-51-56></a>
</span><span id=__span-51-57><a id=__codelineno-51-57 name=__codelineno-51-57></a>#IgnoreUserKnownHosts yes
</span><span id=__span-51-58><a id=__codelineno-51-58 name=__codelineno-51-58></a>
</span><span id=__span-51-59><a id=__codelineno-51-59 name=__codelineno-51-59></a># To enable empty passwords, change to yes (NOT RECOMMENDED)
</span><span id=__span-51-60><a id=__codelineno-51-60 name=__codelineno-51-60></a>
</span><span id=__span-51-61><a id=__codelineno-51-61 name=__codelineno-51-61></a>PermitEmptyPasswords no
</span><span id=__span-51-62><a id=__codelineno-51-62 name=__codelineno-51-62></a>
</span><span id=__span-51-63><a id=__codelineno-51-63 name=__codelineno-51-63></a># Change to yes to enable challenge-response passwords (beware issues with
</span><span id=__span-51-64><a id=__codelineno-51-64 name=__codelineno-51-64></a>
</span><span id=__span-51-65><a id=__codelineno-51-65 name=__codelineno-51-65></a># some PAM modules and threads)
</span><span id=__span-51-66><a id=__codelineno-51-66 name=__codelineno-51-66></a>
</span><span id=__span-51-67><a id=__codelineno-51-67 name=__codelineno-51-67></a>ChallengeResponseAuthentication no
</span><span id=__span-51-68><a id=__codelineno-51-68 name=__codelineno-51-68></a>
</span><span id=__span-51-69><a id=__codelineno-51-69 name=__codelineno-51-69></a># Change to no to disable tunnelled clear text passwords
</span><span id=__span-51-70><a id=__codelineno-51-70 name=__codelineno-51-70></a>
</span><span id=__span-51-71><a id=__codelineno-51-71 name=__codelineno-51-71></a>#PasswordAuthentication yes
</span><span id=__span-51-72><a id=__codelineno-51-72 name=__codelineno-51-72></a>
</span><span id=__span-51-73><a id=__codelineno-51-73 name=__codelineno-51-73></a># Kerberos options
</span><span id=__span-51-74><a id=__codelineno-51-74 name=__codelineno-51-74></a>
</span><span id=__span-51-75><a id=__codelineno-51-75 name=__codelineno-51-75></a>#KerberosAuthentication no
</span><span id=__span-51-76><a id=__codelineno-51-76 name=__codelineno-51-76></a>#KerberosGetAFSToken no
</span><span id=__span-51-77><a id=__codelineno-51-77 name=__codelineno-51-77></a>#KerberosOrLocalPasswd yes
</span><span id=__span-51-78><a id=__codelineno-51-78 name=__codelineno-51-78></a>#KerberosTicketCleanup yes
</span><span id=__span-51-79><a id=__codelineno-51-79 name=__codelineno-51-79></a>
</span><span id=__span-51-80><a id=__codelineno-51-80 name=__codelineno-51-80></a># GSSAPI options
</span><span id=__span-51-81><a id=__codelineno-51-81 name=__codelineno-51-81></a>
</span><span id=__span-51-82><a id=__codelineno-51-82 name=__codelineno-51-82></a>#GSSAPIAuthentication no
</span><span id=__span-51-83><a id=__codelineno-51-83 name=__codelineno-51-83></a>#GSSAPICleanupCredentials yes
</span><span id=__span-51-84><a id=__codelineno-51-84 name=__codelineno-51-84></a>
</span><span id=__span-51-85><a id=__codelineno-51-85 name=__codelineno-51-85></a>X11Forwarding yes
</span><span id=__span-51-86><a id=__codelineno-51-86 name=__codelineno-51-86></a>X11DisplayOffset 10
</span><span id=__span-51-87><a id=__codelineno-51-87 name=__codelineno-51-87></a>PrintMotd no
</span><span id=__span-51-88><a id=__codelineno-51-88 name=__codelineno-51-88></a>PrintLastLog yes
</span><span id=__span-51-89><a id=__codelineno-51-89 name=__codelineno-51-89></a>TCPKeepAlive yes
</span><span id=__span-51-90><a id=__codelineno-51-90 name=__codelineno-51-90></a>#UseLogin no
</span><span id=__span-51-91><a id=__codelineno-51-91 name=__codelineno-51-91></a>
</span><span id=__span-51-92><a id=__codelineno-51-92 name=__codelineno-51-92></a>#MaxStartups 10:30:60
</span><span id=__span-51-93><a id=__codelineno-51-93 name=__codelineno-51-93></a>#Banner /etc/issue.net
</span><span id=__span-51-94><a id=__codelineno-51-94 name=__codelineno-51-94></a>
</span><span id=__span-51-95><a id=__codelineno-51-95 name=__codelineno-51-95></a># Allow client to pass locale environment variables
</span><span id=__span-51-96><a id=__codelineno-51-96 name=__codelineno-51-96></a>
</span><span id=__span-51-97><a id=__codelineno-51-97 name=__codelineno-51-97></a>AcceptEnv LANG LC_*
</span><span id=__span-51-98><a id=__codelineno-51-98 name=__codelineno-51-98></a>
</span><span id=__span-51-99><a id=__codelineno-51-99 name=__codelineno-51-99></a>Subsystem sftp /usr/lib/openssh/sftp-server
</span><span id=__span-51-100><a id=__codelineno-51-100 name=__codelineno-51-100></a>
</span><span id=__span-51-101><a id=__codelineno-51-101 name=__codelineno-51-101></a>UsePAM yes
</span><span id=__span-51-102><a id=__codelineno-51-102 name=__codelineno-51-102></a># AllowUsers &lt;%= ssh_allowed_users %&gt;
</span></code></pre></div></td></tr></table></div> <p>Here we're using two types of template usage. A multi-line repetition, and the other with a simple variable replacement:</p> <ul> <li>ssh_default_port.each do: allows us to put a line of "Port num_port" for each specified port</li> <li>ssh_allowed_users: allows us to give a list of users</li> </ul> <p>These variables are usually declared either in the <a href=#serverspp>node part</a> or in the <a href=#varspp>global configuration</a>. We've just seen how to put a variable or a loop in a template, but know that it's also possible to use if statements! In short, a complete language exists and allows you to modulate a file as you wish.</p> <p>These methods prove simple and very effective. Small subtlety:</p> <ul> <li>-%&gt;: When a line ends like this, there won't be a line break thanks to the - at the end.</li> <li>%&gt;: There will be a line break here.</li> </ul> <h4 id=inline-templates>Inline-templates</h4> <p>This is a small subtlety that may seem unnecessary, but is actually very useful for executing small methods within a manifest! Take for example the 'split' function that exists in puppet today, it would seem normal that the 'join' function exists, right? Well, no... at least not in the current version at the time of writing this (2.7.18). So I can use in the same way as templates code in my manifests, see for yourself:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-52-1>1</a></span>
<span class=normal><a href=#__codelineno-52-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-52-1><a id=__codelineno-52-1 name=__codelineno-52-1></a><span class=vg>$ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=s1>&#39;192.168.0.1&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;192.168.0.2&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;127.0.0.1&#39;</span><span class=w> </span><span class=o>]</span>
</span><span id=__span-52-2><a id=__codelineno-52-2 name=__codelineno-52-2></a><span class=vg>$comma_ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inline_template</span><span class=p>(</span><span class=s2>&quot;&lt;%= (ldap_servers).join(&#39;,&#39;) %&gt;&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <ul> <li>$ldap_servers: this is a simple array with my list of LDAP servers</li> <li>$comma_ldap_servers: we use the inline_template function, which will call the join function, pass it the ldap_servers array and join the content with commas.</li> </ul> <p>I would finally have:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-53-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-53-1><a id=__codelineno-53-1 name=__codelineno-53-1></a><span class=vg>$comma_ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;192.168.0.1,192.168.0.2,127.0.0.1&#39;</span>
</span></code></pre></div></td></tr></table></div> <h3 id=facters>Facters</h3> <p>"Facts" are scripts (see /usr/lib/ruby/1.8/facter for standard facts) that allow building dynamic variables, which change depending on the environment in which they are executed. For example, we could define a "fact" that determines if we are on a "cluster" type machine based on the presence or absence of a file:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-54-1>1</a></span>
<span class=normal><a href=#__codelineno-54-2>2</a></span>
<span class=normal><a href=#__codelineno-54-3>3</a></span>
<span class=normal><a href=#__codelineno-54-4>4</a></span>
<span class=normal><a href=#__codelineno-54-5>5</a></span>
<span class=normal><a href=#__codelineno-54-6>6</a></span>
<span class=normal><a href=#__codelineno-54-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-54-1><a id=__codelineno-54-1 name=__codelineno-54-1></a><span class=w> </span><span class=c1># is_cluster.rb</span>
</span><span id=__span-54-2><a id=__codelineno-54-2 name=__codelineno-54-2></a>
</span><span id=__span-54-3><a id=__codelineno-54-3 name=__codelineno-54-3></a><span class=w> </span><span class=no>Facter</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&quot;is_cluster&quot;</span><span class=p>)</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-54-4><a id=__codelineno-54-4 name=__codelineno-54-4></a><span class=w>   </span><span class=n>setcode</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-54-5><a id=__codelineno-54-5 name=__codelineno-54-5></a><span class=w>      </span><span class=no>FileTest</span><span class=o>.</span><span class=n>exists?</span><span class=p>(</span><span class=s2>&quot;/etc/cluster/nodeid&quot;</span><span class=p>)</span>
</span><span id=__span-54-6><a id=__codelineno-54-6 name=__codelineno-54-6></a><span class=w>   </span><span class=k>end</span>
</span><span id=__span-54-7><a id=__codelineno-54-7 name=__codelineno-54-7></a><span class=w> </span><span class=k>end</span>
</span></code></pre></div></td></tr></table></div> <p>You can also use functions that allow you to directly use facter-type functions in templates (downcase or upcase to change case):</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-55-1>1</a></span>
<span class=normal><a href=#__codelineno-55-2>2</a></span>
<span class=normal><a href=#__codelineno-55-3>3</a></span>
<span class=normal><a href=#__codelineno-55-4>4</a></span>
<span class=normal><a href=#__codelineno-55-5>5</a></span>
<span class=normal><a href=#__codelineno-55-6>6</a></span>
<span class=normal><a href=#__codelineno-55-7>7</a></span>
<span class=normal><a href=#__codelineno-55-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-55-1><a id=__codelineno-55-1 name=__codelineno-55-1></a><span class=c1>#</span>
</span><span id=__span-55-2><a id=__codelineno-55-2 name=__codelineno-55-2></a><span class=c1># Config file for collectd(1).</span>
</span><span id=__span-55-3><a id=__codelineno-55-3 name=__codelineno-55-3></a><span class=c1># Please read collectd.conf(5) for a list of options.</span>
</span><span id=__span-55-4><a id=__codelineno-55-4 name=__codelineno-55-4></a><span class=c1># http://collectd.org/</span>
</span><span id=__span-55-5><a id=__codelineno-55-5 name=__codelineno-55-5></a><span class=c1>#</span>
</span><span id=__span-55-6><a id=__codelineno-55-6 name=__codelineno-55-6></a>
</span><span id=__span-55-7><a id=__codelineno-55-7 name=__codelineno-55-7></a><span class=no>Hostname</span><span class=w>     </span><span class=o>&lt;%=</span><span class=w> </span><span class=n>hostname</span><span class=o>.</span><span class=n>downcase</span><span class=w> </span><span class=o>%&gt;</span>
</span><span id=__span-55-8><a id=__codelineno-55-8 name=__codelineno-55-8></a><span class=no>FQDNLookup</span><span class=w>   </span><span class=kp>true</span>
</span></code></pre></div></td></tr></table></div> <p>Be careful, if you want to test the fact on the destination machine, don't forget to specify the path where the facts are located on the machine:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-56-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-56-1><a id=__codelineno-56-1 name=__codelineno-56-1></a><span class=nb>export</span><span class=w> </span><span class=nv>FACTERLIB</span><span class=o>=</span>/var/lib/puppet/lib/facter
</span></code></pre></div></td></tr></table></div> <p>or for Solaris:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-57-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-57-1><a id=__codelineno-57-1 name=__codelineno-57-1></a><span class=nb>export</span><span class=w> </span><span class=nv>FACTERLIB</span><span class=o>=</span>/var/opt/csw/puppet/lib/facter
</span></code></pre></div></td></tr></table></div> <p>To see the list of facts currently on the system, simply type the facter command:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-58-1>1</a></span>
<span class=normal><a href=#__codelineno-58-2>2</a></span>
<span class=normal><a href=#__codelineno-58-3>3</a></span>
<span class=normal><a href=#__codelineno-58-4>4</a></span>
<span class=normal><a href=#__codelineno-58-5>5</a></span>
<span class=normal><a href=#__codelineno-58-6>6</a></span>
<span class=normal><a href=#__codelineno-58-7>7</a></span>
<span class=normal><a href=#__codelineno-58-8>8</a></span>
<span class=normal><a href=#__codelineno-58-9>9</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-58-1><a id=__codelineno-58-1 name=__codelineno-58-1></a>&gt;<span class=w> </span>facter
</span><span id=__span-58-2><a id=__codelineno-58-2 name=__codelineno-58-2></a><span class=nv>facterversion</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span><span class=m>1</span>.5.7
</span><span id=__span-58-3><a id=__codelineno-58-3 name=__codelineno-58-3></a><span class=nv>hardwareisa</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span>i386
</span><span id=__span-58-4><a id=__codelineno-58-4 name=__codelineno-58-4></a><span class=nv>hardwaremodel</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span>i86pc
</span><span id=__span-58-5><a id=__codelineno-58-5 name=__codelineno-58-5></a><span class=nv>hostname</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span>PA-OFC-SRV-UAT-2
</span><span id=__span-58-6><a id=__codelineno-58-6 name=__codelineno-58-6></a><span class=nv>hostnameldap</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span>PA-OFC-SRV-UAT
</span><span id=__span-58-7><a id=__codelineno-58-7 name=__codelineno-58-7></a><span class=nv>id</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span>root
</span><span id=__span-58-8><a id=__codelineno-58-8 name=__codelineno-58-8></a><span class=nv>interfaces</span><span class=w> </span><span class=o>=</span>&gt;<span class=w> </span>lo0,e1000g0,e1000g0_1,e1000g0_2,e1000g1,e1000g2,e1000g3,clprivnet0
</span><span id=__span-58-9><a id=__codelineno-58-9 name=__codelineno-58-9></a>...
</span></code></pre></div></td></tr></table></div> <p>See <a href=http://docs.puppetlabs.com/guides/custom_facts.html>http://docs.puppetlabs.com/guides/custom_facts.html</a> for more details.</p> <h3 id=dynamic-information>Dynamic Information</h3> <p>It's possible to use server-side scripts and retrieve their content in a variable. Here's an example:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-59-1>1</a></span>
<span class=normal><a href=#__codelineno-59-2>2</a></span>
<span class=normal><a href=#__codelineno-59-3>3</a></span>
<span class=normal><a href=#__codelineno-59-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-59-1><a id=__codelineno-59-1 name=__codelineno-59-1></a><span class=ch>#!/usr/bin/ruby</span>
</span><span id=__span-59-2><a id=__codelineno-59-2 name=__codelineno-59-2></a><span class=nb>require</span><span class=w> </span><span class=s1>&#39;open-uri&#39;</span>
</span><span id=__span-59-3><a id=__codelineno-59-3 name=__codelineno-59-3></a><span class=n>page</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>open</span><span class=p>(</span><span class=s2>&quot;http://www.puppetlabs.com/misc/download-options/&quot;</span><span class=p>)</span><span class=o>.</span><span class=n>read</span>
</span><span id=__span-59-4><a id=__codelineno-59-4 name=__codelineno-59-4></a><span class=nb>print</span><span class=w> </span><span class=n>page</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sr>/stable version is ([\d\.]*)/</span><span class=p>)</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span>
</span></code></pre></div></td></tr></table></div> <p>And in the manifest:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-60-1>1</a></span>
<span class=normal><a href=#__codelineno-60-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-60-1><a id=__codelineno-60-1 name=__codelineno-60-1></a><span class=vg>$latestversion</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>generate</span><span class=p>(</span><span class=s2>&quot;/usr/bin/latest_puppet_version.rb&quot;</span><span class=p>)</span>
</span><span id=__span-60-2><a id=__codelineno-60-2 name=__codelineno-60-2></a><span class=n>notify</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;The latest stable Puppet version is ${latestversion}. You&#39;re using ${puppetversion}.&quot;</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Magical, isn't it? :-). Know that it's even possible to pass arguments with a comma between each one!!!</p> <h3 id=parsers>Parsers</h3> <p>Parsers are the creation of special functions usable in manifests (server-side). For example, I created a parser that will allow me to do a reverse DNS lookup:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-61-1> 1</a></span>
<span class=normal><a href=#__codelineno-61-2> 2</a></span>
<span class=normal><a href=#__codelineno-61-3> 3</a></span>
<span class=normal><a href=#__codelineno-61-4> 4</a></span>
<span class=normal><a href=#__codelineno-61-5> 5</a></span>
<span class=normal><a href=#__codelineno-61-6> 6</a></span>
<span class=normal><a href=#__codelineno-61-7> 7</a></span>
<span class=normal><a href=#__codelineno-61-8> 8</a></span>
<span class=normal><a href=#__codelineno-61-9> 9</a></span>
<span class=normal><a href=#__codelineno-61-10>10</a></span>
<span class=normal><a href=#__codelineno-61-11>11</a></span>
<span class=normal><a href=#__codelineno-61-12>12</a></span>
<span class=normal><a href=#__codelineno-61-13>13</a></span>
<span class=normal><a href=#__codelineno-61-14>14</a></span>
<span class=normal><a href=#__codelineno-61-15>15</a></span>
<span class=normal><a href=#__codelineno-61-16>16</a></span>
<span class=normal><a href=#__codelineno-61-17>17</a></span>
<span class=normal><a href=#__codelineno-61-18>18</a></span>
<span class=normal><a href=#__codelineno-61-19>19</a></span>
<span class=normal><a href=#__codelineno-61-20>20</a></span>
<span class=normal><a href=#__codelineno-61-21>21</a></span>
<span class=normal><a href=#__codelineno-61-22>22</a></span>
<span class=normal><a href=#__codelineno-61-23>23</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-61-1><a id=__codelineno-61-1 name=__codelineno-61-1></a><span class=c1># Dns2IP for Puppet</span>
</span><span id=__span-61-2><a id=__codelineno-61-2 name=__codelineno-61-2></a><span class=c1># Made by Pierre Mavro</span>
</span><span id=__span-61-3><a id=__codelineno-61-3 name=__codelineno-61-3></a><span class=c1># Does a DNS lookup and returns an array of strings of the results</span>
</span><span id=__span-61-4><a id=__codelineno-61-4 name=__codelineno-61-4></a><span class=c1># Usage : need to send one string dns servers separated by comma. The return will be the same</span>
</span><span id=__span-61-5><a id=__codelineno-61-5 name=__codelineno-61-5></a>
</span><span id=__span-61-6><a id=__codelineno-61-6 name=__codelineno-61-6></a><span class=nb>require</span><span class=w> </span><span class=s1>&#39;resolv&#39;</span>
</span><span id=__span-61-7><a id=__codelineno-61-7 name=__codelineno-61-7></a>
</span><span id=__span-61-8><a id=__codelineno-61-8 name=__codelineno-61-8></a><span class=k>module</span><span class=w> </span><span class=nn>Puppet::Parser::Functions</span>
</span><span id=__span-61-9><a id=__codelineno-61-9 name=__codelineno-61-9></a><span class=w>  </span><span class=n>newfunction</span><span class=p>(</span><span class=ss>:dns2ip</span><span class=p>,</span><span class=w> </span><span class=ss>:type</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=ss>:rvalue</span><span class=p>)</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>arguments</span><span class=o>|</span>
</span><span id=__span-61-10><a id=__codelineno-61-10 name=__codelineno-61-10></a><span class=w>    </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=o>]</span>
</span><span id=__span-61-11><a id=__codelineno-61-11 name=__codelineno-61-11></a><span class=w>    </span><span class=c1># Split comma sperated list in array</span>
</span><span id=__span-61-12><a id=__codelineno-61-12 name=__codelineno-61-12></a><span class=w>    </span><span class=n>dns_array</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arguments</span><span class=o>[</span><span class=mi>0</span><span class=o>].</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>)</span>
</span><span id=__span-61-13><a id=__codelineno-61-13 name=__codelineno-61-13></a><span class=w>    </span><span class=c1># Push each DNS/IP address in result array</span>
</span><span id=__span-61-14><a id=__codelineno-61-14 name=__codelineno-61-14></a><span class=w>    </span><span class=n>dns_array</span><span class=o>.</span><span class=n>each</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>dns_name</span><span class=o>|</span>
</span><span id=__span-61-15><a id=__codelineno-61-15 name=__codelineno-61-15></a><span class=w>      </span><span class=n>result</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=no>Resolv</span><span class=o>.</span><span class=n>new</span><span class=o>.</span><span class=n>getaddresses</span><span class=p>(</span><span class=n>dns_name</span><span class=p>))</span>
</span><span id=__span-61-16><a id=__codelineno-61-16 name=__codelineno-61-16></a><span class=w>    </span><span class=k>end</span>
</span><span id=__span-61-17><a id=__codelineno-61-17 name=__codelineno-61-17></a><span class=w>    </span><span class=c1># Join array with comma</span>
</span><span id=__span-61-18><a id=__codelineno-61-18 name=__codelineno-61-18></a><span class=w>    </span><span class=n>dns_list</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>result</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>)</span>
</span><span id=__span-61-19><a id=__codelineno-61-19 name=__codelineno-61-19></a><span class=w>    </span><span class=c1># Delete last comma if exist</span>
</span><span id=__span-61-20><a id=__codelineno-61-20 name=__codelineno-61-20></a><span class=w>    </span><span class=n>good_dns_list</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dns_list</span><span class=o>.</span><span class=n>gsub</span><span class=p>(</span><span class=sr>/,$/</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span><span id=__span-61-21><a id=__codelineno-61-21 name=__codelineno-61-21></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>good_dns_list</span>
</span><span id=__span-61-22><a id=__codelineno-61-22 name=__codelineno-61-22></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-61-23><a id=__codelineno-61-23 name=__codelineno-61-23></a><span class=k>end</span>
</span></code></pre></div></td></tr></table></div> <p>We'll be able to create this variable and then insert it into our manifests:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-62-1>1</a></span>
<span class=normal><a href=#__codelineno-62-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-62-1><a id=__codelineno-62-1 name=__codelineno-62-1></a><span class=vg>$comma_ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;ldap1.deimos.fr,ldap2.deimos.fr,127.0.0.1&#39;</span>
</span><span id=__span-62-2><a id=__codelineno-62-2 name=__codelineno-62-2></a><span class=vg>$ip_ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dns2ip</span><span class=p>(</span><span class=s2>&quot;${comma_ldap_servers}&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>Here I send a list of LDAP servers and their IP addresses will be returned to me. Now you understand that it's a call, a bit like <a href=#inline-templates>inline_templates</a>, but much more powerful.</p> <div class="admonition info"> <p class=admonition-title>Info</p> <p>I've noticed a rather annoying cache behavior with this type of function! Indeed, when you develop a parser and test it, you are likely to use 'Notify' functions in your manifests for debugging. However, the changes you make to your parser won't necessarily apply until you've cleared the caches. After some research and IRC queries, it turns out that the only working method is to <strong>restart the Puppet Master and the web server (Nginx in our case)</strong>. It works very well, but it's a bit annoying during the debug phase.</p> </div> <h3 id=ruby-in-your-manifests>Ruby in your manifests</h3> <p>It's entirely possible to write Ruby in your manifests. See for yourself:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-63-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-63-1><a id=__codelineno-63-1 name=__codelineno-63-1></a><span class=n>notice</span><span class=p>(</span><span class=w> </span><span class=s2>&quot;I am running on node %s&quot;</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=n>scope</span><span class=o>.</span><span class=n>lookupvar</span><span class=p>(</span><span class=s2>&quot;fqdn&quot;</span><span class=p>)</span><span class=w> </span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>This looks a lot like sprintf.</p> <h3 id=adding-a-ruby-variable-in-manifests>Adding a Ruby variable in manifests</h3> <p>If we want to retrieve the current time in a manifest, for example:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-64-1>1</a></span>
<span class=normal><a href=#__codelineno-64-2>2</a></span>
<span class=normal><a href=#__codelineno-64-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-64-1><a id=__codelineno-64-1 name=__codelineno-64-1></a><span class=nb>require</span><span class=w> </span><span class=s1>&#39;time&#39;</span>
</span><span id=__span-64-2><a id=__codelineno-64-2 name=__codelineno-64-2></a><span class=n>scope</span><span class=o>.</span><span class=n>setvar</span><span class=p>(</span><span class=s2>&quot;now&quot;</span><span class=p>,</span><span class=w> </span><span class=no>Time</span><span class=o>.</span><span class=n>now</span><span class=p>)</span>
</span><span id=__span-64-3><a id=__codelineno-64-3 name=__codelineno-64-3></a><span class=n>notice</span><span class=p>(</span><span class=w> </span><span class=s2>&quot;Here is the current time : %s&quot;</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=n>scope</span><span class=o>.</span><span class=n>lookupvar</span><span class=p>(</span><span class=s2>&quot;now&quot;</span><span class=p>)</span><span class=w> </span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <h3 id=classes>Classes</h3> <p>You can use classes with arguments like this:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-65-1>1</a></span>
<span class=normal><a href=#__codelineno-65-2>2</a></span>
<span class=normal><a href=#__codelineno-65-3>3</a></span>
<span class=normal><a href=#__codelineno-65-4>4</a></span>
<span class=normal><a href=#__codelineno-65-5>5</a></span>
<span class=normal><a href=#__codelineno-65-6>6</a></span>
<span class=normal><a href=#__codelineno-65-7>7</a></span>
<span class=normal><a href=#__codelineno-65-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-65-1><a id=__codelineno-65-1 name=__codelineno-65-1></a><span class=k>class</span><span class=w> </span><span class=n>mysql</span><span class=p>(</span><span class=w> </span><span class=vg>$package</span><span class=p>,</span><span class=w> </span><span class=vg>$socket</span><span class=p>,</span><span class=w> </span><span class=vg>$port</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;3306&quot;</span><span class=w> </span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-65-2><a id=__codelineno-65-2 name=__codelineno-65-2></a><span class=w>    </span><span class=err></span>
</span><span id=__span-65-3><a id=__codelineno-65-3 name=__codelineno-65-3></a><span class=p>}</span>
</span><span id=__span-65-4><a id=__codelineno-65-4 name=__codelineno-65-4></a><span class=k>class</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;mysql&quot;</span><span class=p>:</span>
</span><span id=__span-65-5><a id=__codelineno-65-5 name=__codelineno-65-5></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;percona-sql-server-5.0&quot;</span><span class=p>,</span>
</span><span id=__span-65-6><a id=__codelineno-65-6 name=__codelineno-65-6></a><span class=w>    </span><span class=n>socket</span><span class=w>  </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/var/run/mysqld/mysqld.sock&quot;</span><span class=p>,</span>
</span><span id=__span-65-7><a id=__codelineno-65-7 name=__codelineno-65-7></a><span class=w>    </span><span class=n>port</span><span class=w>    </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;3306&quot;</span><span class=p>,</span>
</span><span id=__span-65-8><a id=__codelineno-65-8 name=__codelineno-65-8></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=using-hash-tables>Using hash tables</h3> <p>Just like arrays, it's also possible to use hash tables, look at this example:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-66-1>1</a></span>
<span class=normal><a href=#__codelineno-66-2>2</a></span>
<span class=normal><a href=#__codelineno-66-3>3</a></span>
<span class=normal><a href=#__codelineno-66-4>4</a></span>
<span class=normal><a href=#__codelineno-66-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-66-1><a id=__codelineno-66-1 name=__codelineno-66-1></a><span class=vg>$interface</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-66-2><a id=__codelineno-66-2 name=__codelineno-66-2></a><span class=w>    </span><span class=nb>name</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;eth0&#39;</span><span class=p>,</span>
</span><span id=__span-66-3><a id=__codelineno-66-3 name=__codelineno-66-3></a><span class=w>    </span><span class=n>address</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;192.168.0.1&#39;</span>
</span><span id=__span-66-4><a id=__codelineno-66-4 name=__codelineno-66-4></a><span class=p>}</span>
</span><span id=__span-66-5><a id=__codelineno-66-5 name=__codelineno-66-5></a><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Interface ${interface[name]} has address ${interface[address]}&quot;</span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <h3 id=regex>Regex</h3> <p>It's possible to use regex and retrieve patterns:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-67-1>1</a></span>
<span class=normal><a href=#__codelineno-67-2>2</a></span>
<span class=normal><a href=#__codelineno-67-3>3</a></span>
<span class=normal><a href=#__codelineno-67-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-67-1><a id=__codelineno-67-1 name=__codelineno-67-1></a><span class=vg>$input</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;What a great tool&quot;</span>
</span><span id=__span-67-2><a id=__codelineno-67-2 name=__codelineno-67-2></a><span class=k>if</span><span class=w> </span><span class=vg>$input</span><span class=w> </span><span class=o>=~</span> <span class=sr>/What a (\w+) tool/</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-67-3><a id=__codelineno-67-3 name=__codelineno-67-3></a><span class=w>   </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;You said the tool is : &#39;$1&#39;. The complete line is : $0&quot;</span><span class=p>)</span>
</span><span id=__span-67-4><a id=__codelineno-67-4 name=__codelineno-67-4></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=substitution>Substitution</h3> <p>Substitution is possible:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-68-1>1</a></span>
<span class=normal><a href=#__codelineno-68-2>2</a></span>
<span class=normal><a href=#__codelineno-68-3>3</a></span>
<span class=normal><a href=#__codelineno-68-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-68-1><a id=__codelineno-68-1 name=__codelineno-68-1></a><span class=vg>$ipaddress</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;192.168.0.15&#39;</span>
</span><span id=__span-68-2><a id=__codelineno-68-2 name=__codelineno-68-2></a><span class=vg>$class_c</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>regsubst</span><span class=p>(</span><span class=vg>$ipaddress</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;(.*)</span><span class=se>\\</span><span class=s2>..*&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;</span><span class=se>\\</span><span class=s2>1.0&quot;</span><span class=p>)</span>
</span><span id=__span-68-3><a id=__codelineno-68-3 name=__codelineno-68-3></a><span class=n>notify</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$ipaddress</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-68-4><a id=__codelineno-68-4 name=__codelineno-68-4></a><span class=n>notify</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$class_c</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>This will give me 192.168.0.15 and 192.168.0.0.</p> <h3 id=notify-and-require>Notify and Require</h3> <p>These two functions are very useful once inserted into a manifest. This allows, for example, a service to say that it requires (require) a Package to function and a configuration file to notify (notify) a service if it changes so that it restarts the daemon. You can also write something like this:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-69-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-69-1><a id=__codelineno-69-1 name=__codelineno-69-1></a><span class=no>Package</span><span class=o>[</span><span class=s2>&quot;ntp&quot;</span><span class=o>]</span><span class=w> </span><span class=o>-&gt;</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s2>&quot;/etc/ntp.conf&quot;</span><span class=o>]</span><span class=w> </span><span class=o>~&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;ntp&quot;</span><span class=o>]</span>
</span></code></pre></div></td></tr></table></div> <ul> <li>-&gt;: means 'require'</li> <li>~&gt;: means 'notify'</li> </ul> <p>It's also possible to do requires on classes :-)</p> <h3 id=the-operator>The +&gt; operator</h3> <p>Here's a great operator that will save us some time. The example below:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-70-1>1</a></span>
<span class=normal><a href=#__codelineno-70-2>2</a></span>
<span class=normal><a href=#__codelineno-70-3>3</a></span>
<span class=normal><a href=#__codelineno-70-4>4</a></span>
<span class=normal><a href=#__codelineno-70-5>5</a></span>
<span class=normal><a href=#__codelineno-70-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-70-1><a id=__codelineno-70-1 name=__codelineno-70-1></a><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;/etc/ssl/certs/cookbook.pem&quot;</span><span class=p>:</span>
</span><span id=__span-70-2><a id=__codelineno-70-2 name=__codelineno-70-2></a><span class=w>    </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/apache/deimos.pem&quot;</span><span class=p>,</span>
</span><span id=__span-70-3><a id=__codelineno-70-3 name=__codelineno-70-3></a><span class=p>}</span>
</span><span id=__span-70-4><a id=__codelineno-70-4 name=__codelineno-70-4></a><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;apache2&quot;</span><span class=o>]</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-70-5><a id=__codelineno-70-5 name=__codelineno-70-5></a><span class=w>    </span><span class=nb>require</span><span class=w> </span><span class=o>+&gt;</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s2>&quot;/etc/ssl/certs/deimos.pem&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-70-6><a id=__codelineno-70-6 name=__codelineno-70-6></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Corresponds to:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-71-1>1</a></span>
<span class=normal><a href=#__codelineno-71-2>2</a></span>
<span class=normal><a href=#__codelineno-71-3>3</a></span>
<span class=normal><a href=#__codelineno-71-4>4</a></span>
<span class=normal><a href=#__codelineno-71-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-71-1><a id=__codelineno-71-1 name=__codelineno-71-1></a><span class=n>service</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;apache2&quot;</span><span class=p>:</span>
</span><span id=__span-71-2><a id=__codelineno-71-2 name=__codelineno-71-2></a><span class=w>       </span><span class=n>enable</span><span class=w>  </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-71-3><a id=__codelineno-71-3 name=__codelineno-71-3></a><span class=w>       </span><span class=k>ensure</span><span class=w>  </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span><span class=p>,</span>
</span><span id=__span-71-4><a id=__codelineno-71-4 name=__codelineno-71-4></a><span class=w>       </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s2>&quot;/etc/ssl/certs/deimos.pem&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-71-5><a id=__codelineno-71-5 name=__codelineno-71-5></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=checking-software-version-number>Checking software version number</h3> <p>If you need to check the version number of a software to make a decision, here's a good example:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-72-1>1</a></span>
<span class=normal><a href=#__codelineno-72-2>2</a></span>
<span class=normal><a href=#__codelineno-72-3>3</a></span>
<span class=normal><a href=#__codelineno-72-4>4</a></span>
<span class=normal><a href=#__codelineno-72-5>5</a></span>
<span class=normal><a href=#__codelineno-72-6>6</a></span>
<span class=normal><a href=#__codelineno-72-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-72-1><a id=__codelineno-72-1 name=__codelineno-72-1></a><span class=vg>$app_version</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;2.7.16&quot;</span>
</span><span id=__span-72-2><a id=__codelineno-72-2 name=__codelineno-72-2></a><span class=vg>$min_version</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;2.7.18&quot;</span>
</span><span id=__span-72-3><a id=__codelineno-72-3 name=__codelineno-72-3></a><span class=k>if</span><span class=w> </span><span class=n>versioncmp</span><span class=p>(</span><span class=w> </span><span class=vg>$app_version</span><span class=p>,</span><span class=w> </span><span class=vg>$min_version</span><span class=w> </span><span class=p>)</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>0</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-72-4><a id=__codelineno-72-4 name=__codelineno-72-4></a><span class=w>   </span><span class=n>notify</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;Puppet version OK&quot;</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-72-5><a id=__codelineno-72-5 name=__codelineno-72-5></a><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-72-6><a id=__codelineno-72-6 name=__codelineno-72-6></a><span class=w>   </span><span class=n>notify</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;Puppet upgrade needed&quot;</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-72-7><a id=__codelineno-72-7 name=__codelineno-72-7></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=virtual-resources>Virtual resources</h3> <p>Useful for test writings, you can, for example, create a resource by preceding it with an '@'. It will be read but not executed until you explicitly tell it to (realize). Example:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-73-1>1</a></span>
<span class=normal><a href=#__codelineno-73-2>2</a></span>
<span class=normal><a href=#__codelineno-73-3>3</a></span>
<span class=normal><a href=#__codelineno-73-4>4</a></span>
<span class=normal><a href=#__codelineno-73-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-73-1><a id=__codelineno-73-1 name=__codelineno-73-1></a><span class=vi>@package</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-73-2><a id=__codelineno-73-2 name=__codelineno-73-2></a><span class=w>    </span><span class=s1>&#39;postfix&#39;</span><span class=p>:</span>
</span><span id=__span-73-3><a id=__codelineno-73-3 name=__codelineno-73-3></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>installed</span>
</span><span id=__span-73-4><a id=__codelineno-73-4 name=__codelineno-73-4></a><span class=p>}</span>
</span><span id=__span-73-5><a id=__codelineno-73-5 name=__codelineno-73-5></a><span class=n>realize</span><span class=p>(</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s1>&#39;&#39;</span><span class=n>postfix</span><span class=o>]</span><span class=w> </span><span class=p>)</span>
</span></code></pre></div></td></tr></table></div> <p>One of the big advantages of this method is that you can declare the realize in several places in your puppet master without having conflicts!</p> <h3 id=advanced-file-deletion>Advanced file deletion</h3> <p>You can request the deletion of a file after a given time or from a certain size:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-74-1>1</a></span>
<span class=normal><a href=#__codelineno-74-2>2</a></span>
<span class=normal><a href=#__codelineno-74-3>3</a></span>
<span class=normal><a href=#__codelineno-74-4>4</a></span>
<span class=normal><a href=#__codelineno-74-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-74-1><a id=__codelineno-74-1 name=__codelineno-74-1></a><span class=n>tidy</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;/var/lib/puppet/reports&quot;</span><span class=p>:</span>
</span><span id=__span-74-2><a id=__codelineno-74-2 name=__codelineno-74-2></a><span class=w>    </span><span class=n>age</span><span class=w>     </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;1w&quot;</span><span class=p>,</span>
</span><span id=__span-74-3><a id=__codelineno-74-3 name=__codelineno-74-3></a><span class=w>    </span><span class=n>size</span><span class=w>    </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;512k&quot;</span><span class=p>,</span>
</span><span id=__span-74-4><a id=__codelineno-74-4 name=__codelineno-74-4></a><span class=w>    </span><span class=n>recurse</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-74-5><a id=__codelineno-74-5 name=__codelineno-74-5></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>This will cause the deletion of a folder after a week with its content.</p> <h2 id=modules>Modules</h2> <p>It's recommended to create modules for each service to make the configuration more flexible. This is part of certain best practices.</p> <p>I'll cover different techniques here trying to keep an increasing order of difficulty.</p> <h3 id=initializing-a-module>Initializing a module</h3> <p>So we'll create the appropriate directory structure on the server. For this example, we'll start with "sudo", but you can choose something else if you want:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-75-1>1</a></span>
<span class=normal><a href=#__codelineno-75-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-75-1><a id=__codelineno-75-1 name=__codelineno-75-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/sudo/manifests
</span><span id=__span-75-2><a id=__codelineno-75-2 name=__codelineno-75-2></a>touch<span class=w> </span>/etc/puppet/modules/sudo/manifests/init.pp
</span></code></pre></div></td></tr></table></div> <p>Note that this is necessary for each module. The init.pp file is the first file that will load when the module is called.</p> <h3 id=the-initial-module-base>The initial module (base)</h3> <p>We need to create an initial module that will manage the list of servers, the functions we'll need, the roles, global variables... in short, it may seem a bit abstract at first but just know that we need a module to then manage all the others. We'll start with this one which is one of the most important for the future.</p> <p>As you now know, we need an init.pp file for the first module to be loaded. So we'll create our directory structure which we'll call "base":</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-76-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-76-1><a id=__codelineno-76-1 name=__codelineno-76-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/base/<span class=o>{</span>manifests,puppet/parser/functions<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp>init.pp</h4> <p>Then we'll create and fill the init.pp file:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-77-1> 1</a></span>
<span class=normal><a href=#__codelineno-77-2> 2</a></span>
<span class=normal><a href=#__codelineno-77-3> 3</a></span>
<span class=normal><a href=#__codelineno-77-4> 4</a></span>
<span class=normal><a href=#__codelineno-77-5> 5</a></span>
<span class=normal><a href=#__codelineno-77-6> 6</a></span>
<span class=normal><a href=#__codelineno-77-7> 7</a></span>
<span class=normal><a href=#__codelineno-77-8> 8</a></span>
<span class=normal><a href=#__codelineno-77-9> 9</a></span>
<span class=normal><a href=#__codelineno-77-10>10</a></span>
<span class=normal><a href=#__codelineno-77-11>11</a></span>
<span class=normal><a href=#__codelineno-77-12>12</a></span>
<span class=normal><a href=#__codelineno-77-13>13</a></span>
<span class=normal><a href=#__codelineno-77-14>14</a></span>
<span class=normal><a href=#__codelineno-77-15>15</a></span>
<span class=normal><a href=#__codelineno-77-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-77-1><a id=__codelineno-77-1 name=__codelineno-77-1></a><span class=c1>################################################################################</span>
</span><span id=__span-77-2><a id=__codelineno-77-2 name=__codelineno-77-2></a><span class=c1>#                                BASE MODULES                                  #</span>
</span><span id=__span-77-3><a id=__codelineno-77-3 name=__codelineno-77-3></a><span class=c1>################################################################################</span>
</span><span id=__span-77-4><a id=__codelineno-77-4 name=__codelineno-77-4></a>
</span><span id=__span-77-5><a id=__codelineno-77-5 name=__codelineno-77-5></a><span class=c1># Load defaults vars</span>
</span><span id=__span-77-6><a id=__codelineno-77-6 name=__codelineno-77-6></a><span class=n>import</span><span class=w> </span><span class=s2>&quot;vars.pp&quot;</span>
</span><span id=__span-77-7><a id=__codelineno-77-7 name=__codelineno-77-7></a><span class=c1># Load functions</span>
</span><span id=__span-77-8><a id=__codelineno-77-8 name=__codelineno-77-8></a><span class=n>import</span><span class=w> </span><span class=s2>&quot;functions.pp&quot;</span>
</span><span id=__span-77-9><a id=__codelineno-77-9 name=__codelineno-77-9></a><span class=c1># Load sysctl module</span>
</span><span id=__span-77-10><a id=__codelineno-77-10 name=__codelineno-77-10></a><span class=kp>include</span><span class=w> </span><span class=s2>&quot;sysctl&quot;</span>
</span><span id=__span-77-11><a id=__codelineno-77-11 name=__codelineno-77-11></a><span class=c1># Load network module</span>
</span><span id=__span-77-12><a id=__codelineno-77-12 name=__codelineno-77-12></a><span class=kp>include</span><span class=w> </span><span class=s2>&quot;network&quot;</span>
</span><span id=__span-77-13><a id=__codelineno-77-13 name=__codelineno-77-13></a><span class=c1># Load roles</span>
</span><span id=__span-77-14><a id=__codelineno-77-14 name=__codelineno-77-14></a><span class=n>import</span><span class=w> </span><span class=s2>&quot;roles.pp&quot;</span>
</span><span id=__span-77-15><a id=__codelineno-77-15 name=__codelineno-77-15></a><span class=c1># Set servers properties</span>
</span><span id=__span-77-16><a id=__codelineno-77-16 name=__codelineno-77-16></a><span class=n>import</span><span class=w> </span><span class=s2>&quot;servers.pp&quot;</span>
</span></code></pre></div></td></tr></table></div> <p>The lines corresponding to import are equivalent to an "include" (in services like ssh or nrpe) of my other .pp files that we'll create later. While the includes will load other modules that I'll create later.</p> <h4 id=varspp>vars.pp</h4> <p>We'll then create the vars.pp file which will contain all my global variables for my future modules or manifests (*.pp):</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-78-1> 1</a></span>
<span class=normal><a href=#__codelineno-78-2> 2</a></span>
<span class=normal><a href=#__codelineno-78-3> 3</a></span>
<span class=normal><a href=#__codelineno-78-4> 4</a></span>
<span class=normal><a href=#__codelineno-78-5> 5</a></span>
<span class=normal><a href=#__codelineno-78-6> 6</a></span>
<span class=normal><a href=#__codelineno-78-7> 7</a></span>
<span class=normal><a href=#__codelineno-78-8> 8</a></span>
<span class=normal><a href=#__codelineno-78-9> 9</a></span>
<span class=normal><a href=#__codelineno-78-10>10</a></span>
<span class=normal><a href=#__codelineno-78-11>11</a></span>
<span class=normal><a href=#__codelineno-78-12>12</a></span>
<span class=normal><a href=#__codelineno-78-13>13</a></span>
<span class=normal><a href=#__codelineno-78-14>14</a></span>
<span class=normal><a href=#__codelineno-78-15>15</a></span>
<span class=normal><a href=#__codelineno-78-16>16</a></span>
<span class=normal><a href=#__codelineno-78-17>17</a></span>
<span class=normal><a href=#__codelineno-78-18>18</a></span>
<span class=normal><a href=#__codelineno-78-19>19</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-78-1><a id=__codelineno-78-1 name=__codelineno-78-1></a><span class=c1>################################################################################</span>
</span><span id=__span-78-2><a id=__codelineno-78-2 name=__codelineno-78-2></a><span class=c1>#                                    VARS                                      #</span>
</span><span id=__span-78-3><a id=__codelineno-78-3 name=__codelineno-78-3></a><span class=c1>################################################################################</span>
</span><span id=__span-78-4><a id=__codelineno-78-4 name=__codelineno-78-4></a>
</span><span id=__span-78-5><a id=__codelineno-78-5 name=__codelineno-78-5></a><span class=c1># Default admins emails</span>
</span><span id=__span-78-6><a id=__codelineno-78-6 name=__codelineno-78-6></a><span class=vg>$root_email</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;xxx@mycompany.com&#39;</span>
</span><span id=__span-78-7><a id=__codelineno-78-7 name=__codelineno-78-7></a>
</span><span id=__span-78-8><a id=__codelineno-78-8 name=__codelineno-78-8></a><span class=c1># NTP Timezone. Usage :</span>
</span><span id=__span-78-9><a id=__codelineno-78-9 name=__codelineno-78-9></a><span class=c1># Look at /usr/share/zoneinfo/ and add the continent folder followed by the town</span>
</span><span id=__span-78-10><a id=__codelineno-78-10 name=__codelineno-78-10></a><span class=vg>$set_timezone</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Europe/Paris&#39;</span>
</span><span id=__span-78-11><a id=__codelineno-78-11 name=__codelineno-78-11></a>
</span><span id=__span-78-12><a id=__codelineno-78-12 name=__codelineno-78-12></a><span class=c1># Define empty exclude modules</span>
</span><span id=__span-78-13><a id=__codelineno-78-13 name=__codelineno-78-13></a><span class=vg>$exclude_modules</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=o>]</span>
</span><span id=__span-78-14><a id=__codelineno-78-14 name=__codelineno-78-14></a>
</span><span id=__span-78-15><a id=__codelineno-78-15 name=__codelineno-78-15></a><span class=c1># Default LDAP servers</span>
</span><span id=__span-78-16><a id=__codelineno-78-16 name=__codelineno-78-16></a><span class=vg>$ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=o>]</span>
</span><span id=__span-78-17><a id=__codelineno-78-17 name=__codelineno-78-17></a>
</span><span id=__span-78-18><a id=__codelineno-78-18 name=__codelineno-78-18></a><span class=c1># Default DNS servers</span>
</span><span id=__span-78-19><a id=__codelineno-78-19 name=__codelineno-78-19></a><span class=vg>$dns_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=s1>&#39;192.168.0.69&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;192.168.0.27&#39;</span><span class=w> </span><span class=o>]</span>
</span></code></pre></div></td></tr></table></div> <h4 id=functionspp>functions.pp</h4> <p>Now, we'll create functions that will allow us to add some features not currently present in puppet or simplify some:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-79-1>  1</a></span>
<span class=normal><a href=#__codelineno-79-2>  2</a></span>
<span class=normal><a href=#__codelineno-79-3>  3</a></span>
<span class=normal><a href=#__codelineno-79-4>  4</a></span>
<span class=normal><a href=#__codelineno-79-5>  5</a></span>
<span class=normal><a href=#__codelineno-79-6>  6</a></span>
<span class=normal><a href=#__codelineno-79-7>  7</a></span>
<span class=normal><a href=#__codelineno-79-8>  8</a></span>
<span class=normal><a href=#__codelineno-79-9>  9</a></span>
<span class=normal><a href=#__codelineno-79-10> 10</a></span>
<span class=normal><a href=#__codelineno-79-11> 11</a></span>
<span class=normal><a href=#__codelineno-79-12> 12</a></span>
<span class=normal><a href=#__codelineno-79-13> 13</a></span>
<span class=normal><a href=#__codelineno-79-14> 14</a></span>
<span class=normal><a href=#__codelineno-79-15> 15</a></span>
<span class=normal><a href=#__codelineno-79-16> 16</a></span>
<span class=normal><a href=#__codelineno-79-17> 17</a></span>
<span class=normal><a href=#__codelineno-79-18> 18</a></span>
<span class=normal><a href=#__codelineno-79-19> 19</a></span>
<span class=normal><a href=#__codelineno-79-20> 20</a></span>
<span class=normal><a href=#__codelineno-79-21> 21</a></span>
<span class=normal><a href=#__codelineno-79-22> 22</a></span>
<span class=normal><a href=#__codelineno-79-23> 23</a></span>
<span class=normal><a href=#__codelineno-79-24> 24</a></span>
<span class=normal><a href=#__codelineno-79-25> 25</a></span>
<span class=normal><a href=#__codelineno-79-26> 26</a></span>
<span class=normal><a href=#__codelineno-79-27> 27</a></span>
<span class=normal><a href=#__codelineno-79-28> 28</a></span>
<span class=normal><a href=#__codelineno-79-29> 29</a></span>
<span class=normal><a href=#__codelineno-79-30> 30</a></span>
<span class=normal><a href=#__codelineno-79-31> 31</a></span>
<span class=normal><a href=#__codelineno-79-32> 32</a></span>
<span class=normal><a href=#__codelineno-79-33> 33</a></span>
<span class=normal><a href=#__codelineno-79-34> 34</a></span>
<span class=normal><a href=#__codelineno-79-35> 35</a></span>
<span class=normal><a href=#__codelineno-79-36> 36</a></span>
<span class=normal><a href=#__codelineno-79-37> 37</a></span>
<span class=normal><a href=#__codelineno-79-38> 38</a></span>
<span class=normal><a href=#__codelineno-79-39> 39</a></span>
<span class=normal><a href=#__codelineno-79-40> 40</a></span>
<span class=normal><a href=#__codelineno-79-41> 41</a></span>
<span class=normal><a href=#__codelineno-79-42> 42</a></span>
<span class=normal><a href=#__codelineno-79-43> 43</a></span>
<span class=normal><a href=#__codelineno-79-44> 44</a></span>
<span class=normal><a href=#__codelineno-79-45> 45</a></span>
<span class=normal><a href=#__codelineno-79-46> 46</a></span>
<span class=normal><a href=#__codelineno-79-47> 47</a></span>
<span class=normal><a href=#__codelineno-79-48> 48</a></span>
<span class=normal><a href=#__codelineno-79-49> 49</a></span>
<span class=normal><a href=#__codelineno-79-50> 50</a></span>
<span class=normal><a href=#__codelineno-79-51> 51</a></span>
<span class=normal><a href=#__codelineno-79-52> 52</a></span>
<span class=normal><a href=#__codelineno-79-53> 53</a></span>
<span class=normal><a href=#__codelineno-79-54> 54</a></span>
<span class=normal><a href=#__codelineno-79-55> 55</a></span>
<span class=normal><a href=#__codelineno-79-56> 56</a></span>
<span class=normal><a href=#__codelineno-79-57> 57</a></span>
<span class=normal><a href=#__codelineno-79-58> 58</a></span>
<span class=normal><a href=#__codelineno-79-59> 59</a></span>
<span class=normal><a href=#__codelineno-79-60> 60</a></span>
<span class=normal><a href=#__codelineno-79-61> 61</a></span>
<span class=normal><a href=#__codelineno-79-62> 62</a></span>
<span class=normal><a href=#__codelineno-79-63> 63</a></span>
<span class=normal><a href=#__codelineno-79-64> 64</a></span>
<span class=normal><a href=#__codelineno-79-65> 65</a></span>
<span class=normal><a href=#__codelineno-79-66> 66</a></span>
<span class=normal><a href=#__codelineno-79-67> 67</a></span>
<span class=normal><a href=#__codelineno-79-68> 68</a></span>
<span class=normal><a href=#__codelineno-79-69> 69</a></span>
<span class=normal><a href=#__codelineno-79-70> 70</a></span>
<span class=normal><a href=#__codelineno-79-71> 71</a></span>
<span class=normal><a href=#__codelineno-79-72> 72</a></span>
<span class=normal><a href=#__codelineno-79-73> 73</a></span>
<span class=normal><a href=#__codelineno-79-74> 74</a></span>
<span class=normal><a href=#__codelineno-79-75> 75</a></span>
<span class=normal><a href=#__codelineno-79-76> 76</a></span>
<span class=normal><a href=#__codelineno-79-77> 77</a></span>
<span class=normal><a href=#__codelineno-79-78> 78</a></span>
<span class=normal><a href=#__codelineno-79-79> 79</a></span>
<span class=normal><a href=#__codelineno-79-80> 80</a></span>
<span class=normal><a href=#__codelineno-79-81> 81</a></span>
<span class=normal><a href=#__codelineno-79-82> 82</a></span>
<span class=normal><a href=#__codelineno-79-83> 83</a></span>
<span class=normal><a href=#__codelineno-79-84> 84</a></span>
<span class=normal><a href=#__codelineno-79-85> 85</a></span>
<span class=normal><a href=#__codelineno-79-86> 86</a></span>
<span class=normal><a href=#__codelineno-79-87> 87</a></span>
<span class=normal><a href=#__codelineno-79-88> 88</a></span>
<span class=normal><a href=#__codelineno-79-89> 89</a></span>
<span class=normal><a href=#__codelineno-79-90> 90</a></span>
<span class=normal><a href=#__codelineno-79-91> 91</a></span>
<span class=normal><a href=#__codelineno-79-92> 92</a></span>
<span class=normal><a href=#__codelineno-79-93> 93</a></span>
<span class=normal><a href=#__codelineno-79-94> 94</a></span>
<span class=normal><a href=#__codelineno-79-95> 95</a></span>
<span class=normal><a href=#__codelineno-79-96> 96</a></span>
<span class=normal><a href=#__codelineno-79-97> 97</a></span>
<span class=normal><a href=#__codelineno-79-98> 98</a></span>
<span class=normal><a href=#__codelineno-79-99> 99</a></span>
<span class=normal><a href=#__codelineno-79-100>100</a></span>
<span class=normal><a href=#__codelineno-79-101>101</a></span>
<span class=normal><a href=#__codelineno-79-102>102</a></span>
<span class=normal><a href=#__codelineno-79-103>103</a></span>
<span class=normal><a href=#__codelineno-79-104>104</a></span>
<span class=normal><a href=#__codelineno-79-105>105</a></span>
<span class=normal><a href=#__codelineno-79-106>106</a></span>
<span class=normal><a href=#__codelineno-79-107>107</a></span>
<span class=normal><a href=#__codelineno-79-108>108</a></span>
<span class=normal><a href=#__codelineno-79-109>109</a></span>
<span class=normal><a href=#__codelineno-79-110>110</a></span>
<span class=normal><a href=#__codelineno-79-111>111</a></span>
<span class=normal><a href=#__codelineno-79-112>112</a></span>
<span class=normal><a href=#__codelineno-79-113>113</a></span>
<span class=normal><a href=#__codelineno-79-114>114</a></span>
<span class=normal><a href=#__codelineno-79-115>115</a></span>
<span class=normal><a href=#__codelineno-79-116>116</a></span>
<span class=normal><a href=#__codelineno-79-117>117</a></span>
<span class=normal><a href=#__codelineno-79-118>118</a></span>
<span class=normal><a href=#__codelineno-79-119>119</a></span>
<span class=normal><a href=#__codelineno-79-120>120</a></span>
<span class=normal><a href=#__codelineno-79-121>121</a></span>
<span class=normal><a href=#__codelineno-79-122>122</a></span>
<span class=normal><a href=#__codelineno-79-123>123</a></span>
<span class=normal><a href=#__codelineno-79-124>124</a></span>
<span class=normal><a href=#__codelineno-79-125>125</a></span>
<span class=normal><a href=#__codelineno-79-126>126</a></span>
<span class=normal><a href=#__codelineno-79-127>127</a></span>
<span class=normal><a href=#__codelineno-79-128>128</a></span>
<span class=normal><a href=#__codelineno-79-129>129</a></span>
<span class=normal><a href=#__codelineno-79-130>130</a></span>
<span class=normal><a href=#__codelineno-79-131>131</a></span>
<span class=normal><a href=#__codelineno-79-132>132</a></span>
<span class=normal><a href=#__codelineno-79-133>133</a></span>
<span class=normal><a href=#__codelineno-79-134>134</a></span>
<span class=normal><a href=#__codelineno-79-135>135</a></span>
<span class=normal><a href=#__codelineno-79-136>136</a></span>
<span class=normal><a href=#__codelineno-79-137>137</a></span>
<span class=normal><a href=#__codelineno-79-138>138</a></span>
<span class=normal><a href=#__codelineno-79-139>139</a></span>
<span class=normal><a href=#__codelineno-79-140>140</a></span>
<span class=normal><a href=#__codelineno-79-141>141</a></span>
<span class=normal><a href=#__codelineno-79-142>142</a></span>
<span class=normal><a href=#__codelineno-79-143>143</a></span>
<span class=normal><a href=#__codelineno-79-144>144</a></span>
<span class=normal><a href=#__codelineno-79-145>145</a></span>
<span class=normal><a href=#__codelineno-79-146>146</a></span>
<span class=normal><a href=#__codelineno-79-147>147</a></span>
<span class=normal><a href=#__codelineno-79-148>148</a></span>
<span class=normal><a href=#__codelineno-79-149>149</a></span>
<span class=normal><a href=#__codelineno-79-150>150</a></span>
<span class=normal><a href=#__codelineno-79-151>151</a></span>
<span class=normal><a href=#__codelineno-79-152>152</a></span>
<span class=normal><a href=#__codelineno-79-153>153</a></span>
<span class=normal><a href=#__codelineno-79-154>154</a></span>
<span class=normal><a href=#__codelineno-79-155>155</a></span>
<span class=normal><a href=#__codelineno-79-156>156</a></span>
<span class=normal><a href=#__codelineno-79-157>157</a></span>
<span class=normal><a href=#__codelineno-79-158>158</a></span>
<span class=normal><a href=#__codelineno-79-159>159</a></span>
<span class=normal><a href=#__codelineno-79-160>160</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-79-1><a id=__codelineno-79-1 name=__codelineno-79-1></a><span class=sr>/*</span>
</span><span id=__span-79-2><a id=__codelineno-79-2 name=__codelineno-79-2></a><span class=sr>Puppet Functions</span>
</span><span id=__span-79-3><a id=__codelineno-79-3 name=__codelineno-79-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-79-4><a id=__codelineno-79-4 name=__codelineno-79-4></a><span class=sr>*/</span>
</span><span id=__span-79-5><a id=__codelineno-79-5 name=__codelineno-79-5></a><span class=c1>################################################################################</span>
</span><span id=__span-79-6><a id=__codelineno-79-6 name=__codelineno-79-6></a><span class=c1>#                             GLOBAL FUNCTIONS                                 #</span>
</span><span id=__span-79-7><a id=__codelineno-79-7 name=__codelineno-79-7></a><span class=c1>################################################################################</span>
</span><span id=__span-79-8><a id=__codelineno-79-8 name=__codelineno-79-8></a>
</span><span id=__span-79-9><a id=__codelineno-79-9 name=__codelineno-79-9></a><span class=c1># Load or not modules (include/exclude)</span>
</span><span id=__span-79-10><a id=__codelineno-79-10 name=__codelineno-79-10></a><span class=n>define</span><span class=w> </span><span class=n>include_modules</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-11><a id=__codelineno-79-11 name=__codelineno-79-11></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=vg>$exclude_modules</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=k>undef</span><span class=p>)</span><span class=w> </span><span class=ow>or</span><span class=w> </span><span class=o>!</span><span class=p>(</span><span class=vg>$name</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=vg>$exclude_modules</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-12><a id=__codelineno-79-12 name=__codelineno-79-12></a><span class=w>        </span><span class=kp>include</span><span class=w> </span><span class=vg>$name</span>
</span><span id=__span-79-13><a id=__codelineno-79-13 name=__codelineno-79-13></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-79-14><a id=__codelineno-79-14 name=__codelineno-79-14></a><span class=p>}</span>
</span><span id=__span-79-15><a id=__codelineno-79-15 name=__codelineno-79-15></a>
</span><span id=__span-79-16><a id=__codelineno-79-16 name=__codelineno-79-16></a><span class=c1># Validate that pacakges are installed</span>
</span><span id=__span-79-17><a id=__codelineno-79-17 name=__codelineno-79-17></a><span class=n>define</span><span class=w> </span><span class=n>packages_install</span><span class=w> </span><span class=p>()</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-18><a id=__codelineno-79-18 name=__codelineno-79-18></a><span class=w>    </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Installation of ${name} package&quot;</span><span class=p>)</span>
</span><span id=__span-79-19><a id=__codelineno-79-19 name=__codelineno-79-19></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-20><a id=__codelineno-79-20 name=__codelineno-79-20></a><span class=w>        </span><span class=s2>&quot;${name}&quot;</span><span class=p>:</span>
</span><span id=__span-79-21><a id=__codelineno-79-21 name=__codelineno-79-21></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span>
</span><span id=__span-79-22><a id=__codelineno-79-22 name=__codelineno-79-22></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-79-23><a id=__codelineno-79-23 name=__codelineno-79-23></a><span class=p>}</span>
</span><span id=__span-79-24><a id=__codelineno-79-24 name=__codelineno-79-24></a>
</span><span id=__span-79-25><a id=__codelineno-79-25 name=__codelineno-79-25></a><span class=c1># Check that those services are enabled on boot or not</span>
</span><span id=__span-79-26><a id=__codelineno-79-26 name=__codelineno-79-26></a><span class=n>define</span><span class=w> </span><span class=n>services_start_on_boot</span><span class=w> </span><span class=p>(</span><span class=vg>$enable_status</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-27><a id=__codelineno-79-27 name=__codelineno-79-27></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-28><a id=__codelineno-79-28 name=__codelineno-79-28></a><span class=w>        </span><span class=s2>&quot;${name}&quot;</span><span class=p>:</span>
</span><span id=__span-79-29><a id=__codelineno-79-29 name=__codelineno-79-29></a><span class=w>            </span><span class=n>enable</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;${enable_status}&quot;</span>
</span><span id=__span-79-30><a id=__codelineno-79-30 name=__codelineno-79-30></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-79-31><a id=__codelineno-79-31 name=__codelineno-79-31></a><span class=p>}</span>
</span><span id=__span-79-32><a id=__codelineno-79-32 name=__codelineno-79-32></a>
</span><span id=__span-79-33><a id=__codelineno-79-33 name=__codelineno-79-33></a><span class=c1># Add, remove, comment or uncomment lines</span>
</span><span id=__span-79-34><a id=__codelineno-79-34 name=__codelineno-79-34></a><span class=n>define</span><span class=w> </span><span class=n>line</span><span class=w> </span><span class=p>(</span><span class=vg>$file</span><span class=p>,</span><span class=w> </span><span class=vg>$line</span><span class=p>,</span><span class=w> </span><span class=vg>$ensure</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;present&#39;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-35><a id=__codelineno-79-35 name=__codelineno-79-35></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$ensure</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-36><a id=__codelineno-79-36 name=__codelineno-79-36></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-37><a id=__codelineno-79-37 name=__codelineno-79-37></a><span class=w>            </span><span class=n>err</span><span class=p>(</span><span class=s2>&quot;unknown ensure value ${ensure}&quot;</span><span class=p>)</span>
</span><span id=__span-79-38><a id=__codelineno-79-38 name=__codelineno-79-38></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-79-39><a id=__codelineno-79-39 name=__codelineno-79-39></a><span class=w>        </span><span class=n>present</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-40><a id=__codelineno-79-40 name=__codelineno-79-40></a><span class=w>            </span><span class=nb>exec</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-41><a id=__codelineno-79-41 name=__codelineno-79-41></a><span class=w>                </span><span class=s2>&quot;echo &#39;${line}&#39; &gt;&gt; &#39;${file}&#39;&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-79-42><a id=__codelineno-79-42 name=__codelineno-79-42></a><span class=w>                    </span><span class=k>unless</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;grep -qFx &#39;${line}&#39; &#39;${file}&#39;&quot;</span><span class=p>,</span>
</span><span id=__span-79-43><a id=__codelineno-79-43 name=__codelineno-79-43></a><span class=w>                    </span><span class=n>logoutput</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span>
</span><span id=__span-79-44><a id=__codelineno-79-44 name=__codelineno-79-44></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-79-45><a id=__codelineno-79-45 name=__codelineno-79-45></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-79-46><a id=__codelineno-79-46 name=__codelineno-79-46></a><span class=w>        </span><span class=n>absent</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-47><a id=__codelineno-79-47 name=__codelineno-79-47></a><span class=w>            </span><span class=nb>exec</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-48><a id=__codelineno-79-48 name=__codelineno-79-48></a><span class=w>                </span><span class=s2>&quot;grep -vFx &#39;${line}&#39; &#39;${file}&#39; | tee &#39;${file}&#39; &gt; /dev/null 2&gt;&amp;1&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-79-49><a id=__codelineno-79-49 name=__codelineno-79-49></a><span class=w>                    </span><span class=n>onlyif</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;grep -qFx &#39;${line}&#39; &#39;${file}&#39;&quot;</span><span class=p>,</span>
</span><span id=__span-79-50><a id=__codelineno-79-50 name=__codelineno-79-50></a><span class=w>                    </span><span class=n>logoutput</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span>
</span><span id=__span-79-51><a id=__codelineno-79-51 name=__codelineno-79-51></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-79-52><a id=__codelineno-79-52 name=__codelineno-79-52></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-79-53><a id=__codelineno-79-53 name=__codelineno-79-53></a><span class=w>        </span><span class=n>uncomment</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-54><a id=__codelineno-79-54 name=__codelineno-79-54></a><span class=w>            </span><span class=nb>exec</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-55><a id=__codelineno-79-55 name=__codelineno-79-55></a><span class=w>                </span><span class=s2>&quot;sed -i -e&#39;/${line}/s/#\+//&#39; &#39;${file}&#39;&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-79-56><a id=__codelineno-79-56 name=__codelineno-79-56></a><span class=w>                    </span><span class=n>onlyif</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;test `grep &#39;${line}&#39; &#39;${file}&#39; | grep &#39;^#&#39; | wc -l` -ne 0&quot;</span><span class=p>,</span>
</span><span id=__span-79-57><a id=__codelineno-79-57 name=__codelineno-79-57></a><span class=w>                    </span><span class=n>logoutput</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span>
</span><span id=__span-79-58><a id=__codelineno-79-58 name=__codelineno-79-58></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-79-59><a id=__codelineno-79-59 name=__codelineno-79-59></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-79-60><a id=__codelineno-79-60 name=__codelineno-79-60></a><span class=w>        </span><span class=n>comment</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-61><a id=__codelineno-79-61 name=__codelineno-79-61></a><span class=w>            </span><span class=nb>exec</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-62><a id=__codelineno-79-62 name=__codelineno-79-62></a><span class=w>                </span><span class=s2>&quot;/bin/sed -i -e&#39;/${line}/s/\(.\+\)$/#</span><span class=se>\1</span><span class=s2>/&#39; &#39;${file}&#39;&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-79-63><a id=__codelineno-79-63 name=__codelineno-79-63></a><span class=w>                    </span><span class=n>onlyif</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;test `grep &#39;${line}&#39; &#39;${file}&#39; | grep -v &#39;^#&#39; | wc -l` -ne 0&quot;</span><span class=p>,</span>
</span><span id=__span-79-64><a id=__codelineno-79-64 name=__codelineno-79-64></a><span class=w>                    </span><span class=n>logoutput</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span>
</span><span id=__span-79-65><a id=__codelineno-79-65 name=__codelineno-79-65></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-79-66><a id=__codelineno-79-66 name=__codelineno-79-66></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-79-67><a id=__codelineno-79-67 name=__codelineno-79-67></a>
</span><span id=__span-79-68><a id=__codelineno-79-68 name=__codelineno-79-68></a><span class=w>        </span><span class=c1># Use this resource instead if your platform&#39;s grep doesn&#39;t support -vFx;</span>
</span><span id=__span-79-69><a id=__codelineno-79-69 name=__codelineno-79-69></a><span class=w>        </span><span class=c1># note that this command has been known to have problems with lines containing quotes.</span>
</span><span id=__span-79-70><a id=__codelineno-79-70 name=__codelineno-79-70></a><span class=w>        </span><span class=c1># exec { &quot;/usr/bin/perl -ni -e &#39;print unless /^\Q${line}\E$/&#39; &#39;${file}&#39;&quot;:</span>
</span><span id=__span-79-71><a id=__codelineno-79-71 name=__codelineno-79-71></a><span class=w>        </span><span class=c1>#     onlyif =&gt; &quot;grep -qFx &#39;${line}&#39; &#39;${file}&#39;&quot;</span>
</span><span id=__span-79-72><a id=__codelineno-79-72 name=__codelineno-79-72></a><span class=w>        </span><span class=c1># }</span>
</span><span id=__span-79-73><a id=__codelineno-79-73 name=__codelineno-79-73></a>
</span><span id=__span-79-74><a id=__codelineno-79-74 name=__codelineno-79-74></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-79-75><a id=__codelineno-79-75 name=__codelineno-79-75></a><span class=p>}</span>
</span><span id=__span-79-76><a id=__codelineno-79-76 name=__codelineno-79-76></a>
</span><span id=__span-79-77><a id=__codelineno-79-77 name=__codelineno-79-77></a><span class=c1># Validate that softwares are installed</span>
</span><span id=__span-79-78><a id=__codelineno-79-78 name=__codelineno-79-78></a><span class=n>define</span><span class=w> </span><span class=n>comment_lines</span><span class=w> </span><span class=p>(</span><span class=vg>$filename</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-79><a id=__codelineno-79-79 name=__codelineno-79-79></a><span class=w>    </span><span class=n>line</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-80><a id=__codelineno-79-80 name=__codelineno-79-80></a><span class=w>        </span><span class=s2>&quot;${name}&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-79-81><a id=__codelineno-79-81 name=__codelineno-79-81></a><span class=w>            </span><span class=n>file</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;${filename}&quot;</span><span class=p>,</span>
</span><span id=__span-79-82><a id=__codelineno-79-82 name=__codelineno-79-82></a><span class=w>            </span><span class=n>line</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;${name}&quot;</span><span class=p>,</span>
</span><span id=__span-79-83><a id=__codelineno-79-83 name=__codelineno-79-83></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>comment</span>
</span><span id=__span-79-84><a id=__codelineno-79-84 name=__codelineno-79-84></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-79-85><a id=__codelineno-79-85 name=__codelineno-79-85></a><span class=p>}</span>
</span><span id=__span-79-86><a id=__codelineno-79-86 name=__codelineno-79-86></a>
</span><span id=__span-79-87><a id=__codelineno-79-87 name=__codelineno-79-87></a><span class=c1># Sysctl managment</span>
</span><span id=__span-79-88><a id=__codelineno-79-88 name=__codelineno-79-88></a><span class=k>class</span><span class=w> </span><span class=n>sysctl</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-89><a id=__codelineno-79-89 name=__codelineno-79-89></a><span class=w>    </span><span class=n>define</span><span class=w> </span><span class=n>conf</span><span class=w> </span><span class=p>(</span><span class=vg>$value</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-90><a id=__codelineno-79-90 name=__codelineno-79-90></a><span class=w>    </span><span class=c1># $name is provided by define invocation</span>
</span><span id=__span-79-91><a id=__codelineno-79-91 name=__codelineno-79-91></a><span class=w>    </span><span class=c1># guid of this entry</span>
</span><span id=__span-79-92><a id=__codelineno-79-92 name=__codelineno-79-92></a><span class=w>        </span><span class=vg>$key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=vg>$name</span>
</span><span id=__span-79-93><a id=__codelineno-79-93 name=__codelineno-79-93></a><span class=w>        </span><span class=vg>$context</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/files/etc/sysctl.conf&quot;</span>
</span><span id=__span-79-94><a id=__codelineno-79-94 name=__codelineno-79-94></a><span class=w>        </span><span class=n>augeas</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-95><a id=__codelineno-79-95 name=__codelineno-79-95></a><span class=w>            </span><span class=s2>&quot;sysctl_conf/$key&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-79-96><a id=__codelineno-79-96 name=__codelineno-79-96></a><span class=w>                </span><span class=n>context</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$context&quot;</span><span class=p>,</span>
</span><span id=__span-79-97><a id=__codelineno-79-97 name=__codelineno-79-97></a><span class=w>                </span><span class=n>onlyif</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;get $key != &#39;$value&#39;&quot;</span><span class=p>,</span>
</span><span id=__span-79-98><a id=__codelineno-79-98 name=__codelineno-79-98></a><span class=w>                </span><span class=n>changes</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;set $key &#39;$value&#39;&quot;</span><span class=p>,</span>
</span><span id=__span-79-99><a id=__codelineno-79-99 name=__codelineno-79-99></a><span class=w>                </span><span class=n>notify</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Exec</span><span class=o>[</span><span class=s2>&quot;sysctl&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-79-100><a id=__codelineno-79-100 name=__codelineno-79-100></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-79-101><a id=__codelineno-79-101 name=__codelineno-79-101></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-79-102><a id=__codelineno-79-102 name=__codelineno-79-102></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-103><a id=__codelineno-79-103 name=__codelineno-79-103></a><span class=w>        </span><span class=s2>&quot;sysctl_conf&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-79-104><a id=__codelineno-79-104 name=__codelineno-79-104></a><span class=w>            </span><span class=nb>name</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-105><a id=__codelineno-79-105 name=__codelineno-79-105></a><span class=w>                </span><span class=n>default</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/etc/sysctl.conf&quot;</span><span class=p>,</span>
</span><span id=__span-79-106><a id=__codelineno-79-106 name=__codelineno-79-106></a><span class=w>            </span><span class=p>},</span>
</span><span id=__span-79-107><a id=__codelineno-79-107 name=__codelineno-79-107></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-79-108><a id=__codelineno-79-108 name=__codelineno-79-108></a><span class=w>    </span><span class=nb>exec</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-109><a id=__codelineno-79-109 name=__codelineno-79-109></a><span class=w>        </span><span class=s2>&quot;sysctl -p&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-79-110><a id=__codelineno-79-110 name=__codelineno-79-110></a><span class=w>            </span><span class=k>alias</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;sysctl&quot;</span><span class=p>,</span>
</span><span id=__span-79-111><a id=__codelineno-79-111 name=__codelineno-79-111></a><span class=w>            </span><span class=n>refreshonly</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-79-112><a id=__codelineno-79-112 name=__codelineno-79-112></a><span class=w>            </span><span class=n>subscribe</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s2>&quot;sysctl_conf&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-79-113><a id=__codelineno-79-113 name=__codelineno-79-113></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-79-114><a id=__codelineno-79-114 name=__codelineno-79-114></a><span class=p>}</span>
</span><span id=__span-79-115><a id=__codelineno-79-115 name=__codelineno-79-115></a>
</span><span id=__span-79-116><a id=__codelineno-79-116 name=__codelineno-79-116></a><span class=c1># Function to add ssh public keys</span>
</span><span id=__span-79-117><a id=__codelineno-79-117 name=__codelineno-79-117></a><span class=n>define</span><span class=w> </span><span class=n>ssh_add_key</span><span class=w> </span><span class=p>(</span><span class=vg>$user</span><span class=p>,</span><span class=w> </span><span class=vg>$key</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-118><a id=__codelineno-79-118 name=__codelineno-79-118></a><span class=w>   </span><span class=c1># Create users home directory if absent</span>
</span><span id=__span-79-119><a id=__codelineno-79-119 name=__codelineno-79-119></a><span class=w>   </span><span class=nb>exec</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-120><a id=__codelineno-79-120 name=__codelineno-79-120></a><span class=w>      </span><span class=s2>&quot;mkhomedir_${name}&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-79-121><a id=__codelineno-79-121 name=__codelineno-79-121></a><span class=w>         </span><span class=n>path</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/bin:/usr/bin&quot;</span><span class=p>,</span>
</span><span id=__span-79-122><a id=__codelineno-79-122 name=__codelineno-79-122></a><span class=w>         </span><span class=n>command</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;cp -Rfp /etc/skel ~$user; chown -Rf $user:group ~$user&quot;</span><span class=p>,</span>
</span><span id=__span-79-123><a id=__codelineno-79-123 name=__codelineno-79-123></a><span class=w>         </span><span class=n>onlyif</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;test `ls ~$user 2&gt;&amp;1 &gt;/dev/null | wc -l` -ne 0&quot;</span>
</span><span id=__span-79-124><a id=__codelineno-79-124 name=__codelineno-79-124></a><span class=w>   </span><span class=p>}</span>
</span><span id=__span-79-125><a id=__codelineno-79-125 name=__codelineno-79-125></a>
</span><span id=__span-79-126><a id=__codelineno-79-126 name=__codelineno-79-126></a><span class=w>   </span><span class=n>ssh_authorized_key</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-127><a id=__codelineno-79-127 name=__codelineno-79-127></a><span class=w>      </span><span class=s2>&quot;${name}&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-79-128><a id=__codelineno-79-128 name=__codelineno-79-128></a><span class=w>         </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span><span class=p>,</span>
</span><span id=__span-79-129><a id=__codelineno-79-129 name=__codelineno-79-129></a><span class=w>         </span><span class=n>key</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$key&quot;</span><span class=p>,</span>
</span><span id=__span-79-130><a id=__codelineno-79-130 name=__codelineno-79-130></a><span class=w>         </span><span class=n>type</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;ssh-rsa&#39;</span><span class=p>,</span>
</span><span id=__span-79-131><a id=__codelineno-79-131 name=__codelineno-79-131></a><span class=w>         </span><span class=n>user</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$user&quot;</span><span class=p>,</span>
</span><span id=__span-79-132><a id=__codelineno-79-132 name=__codelineno-79-132></a><span class=w>         </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Exec</span><span class=o>[</span><span class=s2>&quot;mkhomedir_${name}&quot;</span><span class=o>]</span>
</span><span id=__span-79-133><a id=__codelineno-79-133 name=__codelineno-79-133></a><span class=w>   </span><span class=p>}</span>
</span><span id=__span-79-134><a id=__codelineno-79-134 name=__codelineno-79-134></a><span class=p>}</span>
</span><span id=__span-79-135><a id=__codelineno-79-135 name=__codelineno-79-135></a>
</span><span id=__span-79-136><a id=__codelineno-79-136 name=__codelineno-79-136></a><span class=c1># Limits.conf managment</span>
</span><span id=__span-79-137><a id=__codelineno-79-137 name=__codelineno-79-137></a><span class=n>define</span><span class=w> </span><span class=n>limits_conf</span><span class=w> </span><span class=p>(</span><span class=vg>$domain</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;root&quot;</span><span class=p>,</span><span class=w> </span><span class=vg>$type</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;soft&quot;</span><span class=p>,</span><span class=vg>$item</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;nofile&quot;</span><span class=p>,</span><span class=w>  </span><span class=vg>$value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;10000&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-138><a id=__codelineno-79-138 name=__codelineno-79-138></a><span class=w>    </span><span class=c1># guid of this entry</span>
</span><span id=__span-79-139><a id=__codelineno-79-139 name=__codelineno-79-139></a><span class=w>    </span><span class=vg>$key</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;$domain/$type/$item&quot;</span>
</span><span id=__span-79-140><a id=__codelineno-79-140 name=__codelineno-79-140></a>
</span><span id=__span-79-141><a id=__codelineno-79-141 name=__codelineno-79-141></a><span class=w>    </span><span class=c1># augtool&gt; match /files/etc/security/limits.conf/domain[.=&quot;root&quot;][./type=&quot;hard&quot; and ./item=&quot;nofile&quot; and ./value=&quot;10000&quot;]</span>
</span><span id=__span-79-142><a id=__codelineno-79-142 name=__codelineno-79-142></a><span class=w>    </span><span class=vg>$context</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/files/etc/security/limits.conf&quot;</span>
</span><span id=__span-79-143><a id=__codelineno-79-143 name=__codelineno-79-143></a><span class=w>    </span><span class=vg>$path_list</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;domain[.=</span><span class=se>\&quot;</span><span class=s2>$domain</span><span class=se>\&quot;</span><span class=s2>][./type=</span><span class=se>\&quot;</span><span class=s2>$type</span><span class=se>\&quot;</span><span class=s2> and ./item=</span><span class=se>\&quot;</span><span class=s2>$item</span><span class=se>\&quot;</span><span class=s2>]&quot;</span>
</span><span id=__span-79-144><a id=__codelineno-79-144 name=__codelineno-79-144></a><span class=w>    </span><span class=vg>$path_exact</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;domain[.=</span><span class=se>\&quot;</span><span class=s2>$domain</span><span class=se>\&quot;</span><span class=s2>][./type=</span><span class=se>\&quot;</span><span class=s2>$type</span><span class=se>\&quot;</span><span class=s2> and ./item=</span><span class=se>\&quot;</span><span class=s2>$item</span><span class=se>\&quot;</span><span class=s2> and ./value=</span><span class=se>\&quot;</span><span class=s2>$value</span><span class=se>\&quot;</span><span class=s2>]&quot;</span>
</span><span id=__span-79-145><a id=__codelineno-79-145 name=__codelineno-79-145></a>
</span><span id=__span-79-146><a id=__codelineno-79-146 name=__codelineno-79-146></a><span class=w>    </span><span class=n>augeas</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-79-147><a id=__codelineno-79-147 name=__codelineno-79-147></a><span class=w>        </span><span class=s2>&quot;limits_conf/$key&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-79-148><a id=__codelineno-79-148 name=__codelineno-79-148></a><span class=w>            </span><span class=n>context</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$context&quot;</span><span class=p>,</span>
</span><span id=__span-79-149><a id=__codelineno-79-149 name=__codelineno-79-149></a><span class=w>            </span><span class=n>onlyif</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;match $path_exact size==0&quot;</span><span class=p>,</span>
</span><span id=__span-79-150><a id=__codelineno-79-150 name=__codelineno-79-150></a><span class=w>            </span><span class=n>changes</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=o>[</span>
</span><span id=__span-79-151><a id=__codelineno-79-151 name=__codelineno-79-151></a><span class=w>                </span><span class=c1># remove all matching to the $domain, $type, $item, for any $value</span>
</span><span id=__span-79-152><a id=__codelineno-79-152 name=__codelineno-79-152></a><span class=w>                </span><span class=s2>&quot;rm $path_list&quot;</span><span class=p>,</span>
</span><span id=__span-79-153><a id=__codelineno-79-153 name=__codelineno-79-153></a><span class=w>                </span><span class=c1># insert new node at the end of tree</span>
</span><span id=__span-79-154><a id=__codelineno-79-154 name=__codelineno-79-154></a><span class=w>                </span><span class=s2>&quot;set domain[last()+1] $domain&quot;</span><span class=p>,</span>
</span><span id=__span-79-155><a id=__codelineno-79-155 name=__codelineno-79-155></a><span class=w>                </span><span class=c1># assign values to the new node</span>
</span><span id=__span-79-156><a id=__codelineno-79-156 name=__codelineno-79-156></a><span class=w>                </span><span class=s2>&quot;set domain[last()]/type $type&quot;</span><span class=p>,</span>
</span><span id=__span-79-157><a id=__codelineno-79-157 name=__codelineno-79-157></a><span class=w>                </span><span class=s2>&quot;set domain[last()]/item $item&quot;</span><span class=p>,</span>
</span><span id=__span-79-158><a id=__codelineno-79-158 name=__codelineno-79-158></a><span class=w>                </span><span class=s2>&quot;set domain[last()]/value $value&quot;</span><span class=p>,</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-79-159><a id=__codelineno-79-159 name=__codelineno-79-159></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-79-160><a id=__codelineno-79-160 name=__codelineno-79-160></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>So we have:</p> <ul> <li>Line 10: The ability to load or not load modules via an array sent as a function argument (as described earlier in this documentation)</li> <li>Line 17: The ability to verify that packages are installed on the machine</li> <li>Line 26: The ability to verify that services are correctly loaded at machine boot</li> <li>Line 34: The ability to ensure that a line in a file is present, absent, commented, or not commented</li> <li>Line 78: The ability to comment multiple lines via an array sent as a function argument</li> <li>Line 88: The ability to manage the sysctl.conf file</li> <li>Line 117: The ability to easily deploy SSH public keys</li> <li>Line 128: The ability to simply manage the limits.conf file</li> </ul> <p>All these functions are of course not mandatory but greatly help with the use of puppet.</p> <h4 id=rolespp>roles.pp</h4> <p>Then we have a file containing the roles of the servers. See it as groups to which we'll subscribe the servers:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-80-1> 1</a></span>
<span class=normal><a href=#__codelineno-80-2> 2</a></span>
<span class=normal><a href=#__codelineno-80-3> 3</a></span>
<span class=normal><a href=#__codelineno-80-4> 4</a></span>
<span class=normal><a href=#__codelineno-80-5> 5</a></span>
<span class=normal><a href=#__codelineno-80-6> 6</a></span>
<span class=normal><a href=#__codelineno-80-7> 7</a></span>
<span class=normal><a href=#__codelineno-80-8> 8</a></span>
<span class=normal><a href=#__codelineno-80-9> 9</a></span>
<span class=normal><a href=#__codelineno-80-10>10</a></span>
<span class=normal><a href=#__codelineno-80-11>11</a></span>
<span class=normal><a href=#__codelineno-80-12>12</a></span>
<span class=normal><a href=#__codelineno-80-13>13</a></span>
<span class=normal><a href=#__codelineno-80-14>14</a></span>
<span class=normal><a href=#__codelineno-80-15>15</a></span>
<span class=normal><a href=#__codelineno-80-16>16</a></span>
<span class=normal><a href=#__codelineno-80-17>17</a></span>
<span class=normal><a href=#__codelineno-80-18>18</a></span>
<span class=normal><a href=#__codelineno-80-19>19</a></span>
<span class=normal><a href=#__codelineno-80-20>20</a></span>
<span class=normal><a href=#__codelineno-80-21>21</a></span>
<span class=normal><a href=#__codelineno-80-22>22</a></span>
<span class=normal><a href=#__codelineno-80-23>23</a></span>
<span class=normal><a href=#__codelineno-80-24>24</a></span>
<span class=normal><a href=#__codelineno-80-25>25</a></span>
<span class=normal><a href=#__codelineno-80-26>26</a></span>
<span class=normal><a href=#__codelineno-80-27>27</a></span>
<span class=normal><a href=#__codelineno-80-28>28</a></span>
<span class=normal><a href=#__codelineno-80-29>29</a></span>
<span class=normal><a href=#__codelineno-80-30>30</a></span>
<span class=normal><a href=#__codelineno-80-31>31</a></span>
<span class=normal><a href=#__codelineno-80-32>32</a></span>
<span class=normal><a href=#__codelineno-80-33>33</a></span>
<span class=normal><a href=#__codelineno-80-34>34</a></span>
<span class=normal><a href=#__codelineno-80-35>35</a></span>
<span class=normal><a href=#__codelineno-80-36>36</a></span>
<span class=normal><a href=#__codelineno-80-37>37</a></span>
<span class=normal><a href=#__codelineno-80-38>38</a></span>
<span class=normal><a href=#__codelineno-80-39>39</a></span>
<span class=normal><a href=#__codelineno-80-40>40</a></span>
<span class=normal><a href=#__codelineno-80-41>41</a></span>
<span class=normal><a href=#__codelineno-80-42>42</a></span>
<span class=normal><a href=#__codelineno-80-43>43</a></span>
<span class=normal><a href=#__codelineno-80-44>44</a></span>
<span class=normal><a href=#__codelineno-80-45>45</a></span>
<span class=normal><a href=#__codelineno-80-46>46</a></span>
<span class=normal><a href=#__codelineno-80-47>47</a></span>
<span class=normal><a href=#__codelineno-80-48>48</a></span>
<span class=normal><a href=#__codelineno-80-49>49</a></span>
<span class=normal><a href=#__codelineno-80-50>50</a></span>
<span class=normal><a href=#__codelineno-80-51>51</a></span>
<span class=normal><a href=#__codelineno-80-52>52</a></span>
<span class=normal><a href=#__codelineno-80-53>53</a></span>
<span class=normal><a href=#__codelineno-80-54>54</a></span>
<span class=normal><a href=#__codelineno-80-55>55</a></span>
<span class=normal><a href=#__codelineno-80-56>56</a></span>
<span class=normal><a href=#__codelineno-80-57>57</a></span>
<span class=normal><a href=#__codelineno-80-58>58</a></span>
<span class=normal><a href=#__codelineno-80-59>59</a></span>
<span class=normal><a href=#__codelineno-80-60>60</a></span>
<span class=normal><a href=#__codelineno-80-61>61</a></span>
<span class=normal><a href=#__codelineno-80-62>62</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-80-1><a id=__codelineno-80-1 name=__codelineno-80-1></a><span class=c1>################################################################################</span>
</span><span id=__span-80-2><a id=__codelineno-80-2 name=__codelineno-80-2></a><span class=c1>#                                   ROLES                                      #</span>
</span><span id=__span-80-3><a id=__codelineno-80-3 name=__codelineno-80-3></a><span class=c1>################################################################################</span>
</span><span id=__span-80-4><a id=__codelineno-80-4 name=__codelineno-80-4></a>
</span><span id=__span-80-5><a id=__codelineno-80-5 name=__codelineno-80-5></a><span class=c1># Level 1 : Minimal</span>
</span><span id=__span-80-6><a id=__codelineno-80-6 name=__codelineno-80-6></a><span class=k>class</span><span class=w> </span><span class=n>base</span><span class=o>::</span><span class=n>minimal</span>
</span><span id=__span-80-7><a id=__codelineno-80-7 name=__codelineno-80-7></a><span class=p>{</span>
</span><span id=__span-80-8><a id=__codelineno-80-8 name=__codelineno-80-8></a><span class=w>    </span><span class=c1># Load modules</span>
</span><span id=__span-80-9><a id=__codelineno-80-9 name=__codelineno-80-9></a><span class=w>    </span><span class=vg>$minimal_modules</span><span class=w> </span><span class=o>=</span>
</span><span id=__span-80-10><a id=__codelineno-80-10 name=__codelineno-80-10></a><span class=w>    </span><span class=o>[</span>
</span><span id=__span-80-11><a id=__codelineno-80-11 name=__codelineno-80-11></a><span class=w>        </span><span class=s1>&#39;stdlib&#39;</span><span class=p>,</span>
</span><span id=__span-80-12><a id=__codelineno-80-12 name=__codelineno-80-12></a><span class=w>        </span><span class=s1>&#39;puppet&#39;</span><span class=p>,</span>
</span><span id=__span-80-13><a id=__codelineno-80-13 name=__codelineno-80-13></a><span class=w>        </span><span class=s1>&#39;resolvconf&#39;</span><span class=p>,</span>
</span><span id=__span-80-14><a id=__codelineno-80-14 name=__codelineno-80-14></a><span class=w>        </span><span class=s1>&#39;packages_defaults&#39;</span><span class=p>,</span>
</span><span id=__span-80-15><a id=__codelineno-80-15 name=__codelineno-80-15></a><span class=w>        </span><span class=s1>&#39;configurations_defaults&#39;</span><span class=p>,</span>
</span><span id=__span-80-16><a id=__codelineno-80-16 name=__codelineno-80-16></a><span class=w>        </span><span class=s1>&#39;openssh&#39;</span><span class=p>,</span>
</span><span id=__span-80-17><a id=__codelineno-80-17 name=__codelineno-80-17></a><span class=w>        </span><span class=s1>&#39;selinux&#39;</span><span class=p>,</span>
</span><span id=__span-80-18><a id=__codelineno-80-18 name=__codelineno-80-18></a><span class=w>        </span><span class=s1>&#39;grub&#39;</span><span class=p>,</span>
</span><span id=__span-80-19><a id=__codelineno-80-19 name=__codelineno-80-19></a><span class=w>        </span><span class=s1>&#39;kdump&#39;</span><span class=p>,</span>
</span><span id=__span-80-20><a id=__codelineno-80-20 name=__codelineno-80-20></a><span class=w>        </span><span class=s1>&#39;tools&#39;</span><span class=p>,</span>
</span><span id=__span-80-21><a id=__codelineno-80-21 name=__codelineno-80-21></a><span class=w>        </span><span class=s1>&#39;timezone&#39;</span><span class=p>,</span>
</span><span id=__span-80-22><a id=__codelineno-80-22 name=__codelineno-80-22></a><span class=w>        </span><span class=s1>&#39;ntp&#39;</span><span class=p>,</span>
</span><span id=__span-80-23><a id=__codelineno-80-23 name=__codelineno-80-23></a><span class=w>        </span><span class=s1>&#39;mysecureshell&#39;</span><span class=p>,</span>
</span><span id=__span-80-24><a id=__codelineno-80-24 name=__codelineno-80-24></a><span class=w>        </span><span class=s1>&#39;openldap&#39;</span><span class=p>,</span>
</span><span id=__span-80-25><a id=__codelineno-80-25 name=__codelineno-80-25></a><span class=w>        </span><span class=s1>&#39;acl&#39;</span><span class=p>,</span>
</span><span id=__span-80-26><a id=__codelineno-80-26 name=__codelineno-80-26></a><span class=w>        </span><span class=s1>&#39;sudo&#39;</span><span class=p>,</span>
</span><span id=__span-80-27><a id=__codelineno-80-27 name=__codelineno-80-27></a><span class=w>        </span><span class=s1>&#39;snmpd&#39;</span><span class=p>,</span>
</span><span id=__span-80-28><a id=__codelineno-80-28 name=__codelineno-80-28></a><span class=w>        </span><span class=s1>&#39;postfix&#39;</span><span class=p>,</span>
</span><span id=__span-80-29><a id=__codelineno-80-29 name=__codelineno-80-29></a><span class=w>        </span><span class=s1>&#39;nrpe&#39;</span>
</span><span id=__span-80-30><a id=__codelineno-80-30 name=__codelineno-80-30></a><span class=w>    </span><span class=o>]</span>
</span><span id=__span-80-31><a id=__codelineno-80-31 name=__codelineno-80-31></a><span class=w>    </span><span class=n>include_modules</span><span class=p>{</span><span class=w> </span><span class=vg>$minimal_modules</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-80-32><a id=__codelineno-80-32 name=__codelineno-80-32></a><span class=p>}</span>
</span><span id=__span-80-33><a id=__codelineno-80-33 name=__codelineno-80-33></a>
</span><span id=__span-80-34><a id=__codelineno-80-34 name=__codelineno-80-34></a><span class=c1># Level 2 : Cluster</span>
</span><span id=__span-80-35><a id=__codelineno-80-35 name=__codelineno-80-35></a><span class=k>class</span><span class=w> </span><span class=n>base</span><span class=o>::</span><span class=n>cluster</span><span class=w> </span><span class=n>inherits</span><span class=w> </span><span class=n>minimal</span>
</span><span id=__span-80-36><a id=__codelineno-80-36 name=__codelineno-80-36></a><span class=p>{</span>
</span><span id=__span-80-37><a id=__codelineno-80-37 name=__codelineno-80-37></a><span class=w>    </span><span class=c1># Load modules</span>
</span><span id=__span-80-38><a id=__codelineno-80-38 name=__codelineno-80-38></a><span class=w>    </span><span class=vg>$cluster_modules</span><span class=w> </span><span class=o>=</span>
</span><span id=__span-80-39><a id=__codelineno-80-39 name=__codelineno-80-39></a><span class=w>    </span><span class=o>[</span>
</span><span id=__span-80-40><a id=__codelineno-80-40 name=__codelineno-80-40></a><span class=w>        </span><span class=s1>&#39;packages_cluster&#39;</span><span class=p>,</span>
</span><span id=__span-80-41><a id=__codelineno-80-41 name=__codelineno-80-41></a><span class=w>        </span><span class=s1>&#39;configurations_cluster&#39;</span>
</span><span id=__span-80-42><a id=__codelineno-80-42 name=__codelineno-80-42></a><span class=w>    </span><span class=o>]</span>
</span><span id=__span-80-43><a id=__codelineno-80-43 name=__codelineno-80-43></a><span class=w>    </span><span class=n>include_modules</span><span class=p>{</span><span class=w> </span><span class=vg>$cluster_modules</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-80-44><a id=__codelineno-80-44 name=__codelineno-80-44></a><span class=p>}</span>
</span><span id=__span-80-45><a id=__codelineno-80-45 name=__codelineno-80-45></a>
</span><span id=__span-80-46><a id=__codelineno-80-46 name=__codelineno-80-46></a><span class=c1># Level 2 : Low Latency</span>
</span><span id=__span-80-47><a id=__codelineno-80-47 name=__codelineno-80-47></a><span class=k>class</span><span class=w> </span><span class=n>base</span><span class=o>::</span><span class=n>low_latency</span><span class=w> </span><span class=n>inherits</span><span class=w> </span><span class=n>minimal</span>
</span><span id=__span-80-48><a id=__codelineno-80-48 name=__codelineno-80-48></a><span class=p>{</span>
</span><span id=__span-80-49><a id=__codelineno-80-49 name=__codelineno-80-49></a><span class=w>    </span><span class=c1># Load modules</span>
</span><span id=__span-80-50><a id=__codelineno-80-50 name=__codelineno-80-50></a><span class=w>    </span><span class=vg>$lowlatency_modules</span><span class=w> </span><span class=o>=</span>
</span><span id=__span-80-51><a id=__codelineno-80-51 name=__codelineno-80-51></a><span class=w>    </span><span class=o>[</span>
</span><span id=__span-80-52><a id=__codelineno-80-52 name=__codelineno-80-52></a><span class=w>        </span><span class=s1>&#39;low_latency&#39;</span>
</span><span id=__span-80-53><a id=__codelineno-80-53 name=__codelineno-80-53></a><span class=w>    </span><span class=o>]</span>
</span><span id=__span-80-54><a id=__codelineno-80-54 name=__codelineno-80-54></a><span class=w>    </span><span class=n>include_modules</span><span class=p>{</span><span class=w> </span><span class=vg>$lowlatency_modules</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-80-55><a id=__codelineno-80-55 name=__codelineno-80-55></a><span class=p>}</span>
</span><span id=__span-80-56><a id=__codelineno-80-56 name=__codelineno-80-56></a>
</span><span id=__span-80-57><a id=__codelineno-80-57 name=__codelineno-80-57></a><span class=c1># Level 3 : Low Latency + Cluster</span>
</span><span id=__span-80-58><a id=__codelineno-80-58 name=__codelineno-80-58></a><span class=k>class</span><span class=w> </span><span class=n>base</span><span class=o>::</span><span class=n>low_latency_cluster</span><span class=w> </span><span class=n>inherits</span><span class=w> </span><span class=n>minimal</span>
</span><span id=__span-80-59><a id=__codelineno-80-59 name=__codelineno-80-59></a><span class=p>{</span>
</span><span id=__span-80-60><a id=__codelineno-80-60 name=__codelineno-80-60></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>base</span><span class=o>::</span><span class=n>cluster</span>
</span><span id=__span-80-61><a id=__codelineno-80-61 name=__codelineno-80-61></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>base</span><span class=o>::</span><span class=n>low_latency</span>
</span><span id=__span-80-62><a id=__codelineno-80-62 name=__codelineno-80-62></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>I've defined classes here that inherit from each other to varying degrees. It's actually defined by levels. Level 3 depends on 2 and 1, 2 depends on 1, and 1 has no dependencies. This gives me a certain flexibility. For example, I know that if I load my cluster class, my minimal class will also be loaded. You'll notice the 'base::minimal' annotation. It's recommended to load your classes by calling the module, followed by '::'. This makes it much easier to read the manifests.</p> <h4 id=serverspp>servers.pp</h4> <p>And finally, I have a file where I make my server declaration:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-81-1> 1</a></span>
<span class=normal><a href=#__codelineno-81-2> 2</a></span>
<span class=normal><a href=#__codelineno-81-3> 3</a></span>
<span class=normal><a href=#__codelineno-81-4> 4</a></span>
<span class=normal><a href=#__codelineno-81-5> 5</a></span>
<span class=normal><a href=#__codelineno-81-6> 6</a></span>
<span class=normal><a href=#__codelineno-81-7> 7</a></span>
<span class=normal><a href=#__codelineno-81-8> 8</a></span>
<span class=normal><a href=#__codelineno-81-9> 9</a></span>
<span class=normal><a href=#__codelineno-81-10>10</a></span>
<span class=normal><a href=#__codelineno-81-11>11</a></span>
<span class=normal><a href=#__codelineno-81-12>12</a></span>
<span class=normal><a href=#__codelineno-81-13>13</a></span>
<span class=normal><a href=#__codelineno-81-14>14</a></span>
<span class=normal><a href=#__codelineno-81-15>15</a></span>
<span class=normal><a href=#__codelineno-81-16>16</a></span>
<span class=normal><a href=#__codelineno-81-17>17</a></span>
<span class=normal><a href=#__codelineno-81-18>18</a></span>
<span class=normal><a href=#__codelineno-81-19>19</a></span>
<span class=normal><a href=#__codelineno-81-20>20</a></span>
<span class=normal><a href=#__codelineno-81-21>21</a></span>
<span class=normal><a href=#__codelineno-81-22>22</a></span>
<span class=normal><a href=#__codelineno-81-23>23</a></span>
<span class=normal><a href=#__codelineno-81-24>24</a></span>
<span class=normal><a href=#__codelineno-81-25>25</a></span>
<span class=normal><a href=#__codelineno-81-26>26</a></span>
<span class=normal><a href=#__codelineno-81-27>27</a></span>
<span class=normal><a href=#__codelineno-81-28>28</a></span>
<span class=normal><a href=#__codelineno-81-29>29</a></span>
<span class=normal><a href=#__codelineno-81-30>30</a></span>
<span class=normal><a href=#__codelineno-81-31>31</a></span>
<span class=normal><a href=#__codelineno-81-32>32</a></span>
<span class=normal><a href=#__codelineno-81-33>33</a></span>
<span class=normal><a href=#__codelineno-81-34>34</a></span>
<span class=normal><a href=#__codelineno-81-35>35</a></span>
<span class=normal><a href=#__codelineno-81-36>36</a></span>
<span class=normal><a href=#__codelineno-81-37>37</a></span>
<span class=normal><a href=#__codelineno-81-38>38</a></span>
<span class=normal><a href=#__codelineno-81-39>39</a></span>
<span class=normal><a href=#__codelineno-81-40>40</a></span>
<span class=normal><a href=#__codelineno-81-41>41</a></span>
<span class=normal><a href=#__codelineno-81-42>42</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-81-1><a id=__codelineno-81-1 name=__codelineno-81-1></a><span class=sr>/*##############################################################################</span>
</span><span id=__span-81-2><a id=__codelineno-81-2 name=__codelineno-81-2></a><span class=sr>#                                     SERVERS                                  #</span>
</span><span id=__span-81-3><a id=__codelineno-81-3 name=__codelineno-81-3></a><span class=sr>################################################################################</span>
</span><span id=__span-81-4><a id=__codelineno-81-4 name=__codelineno-81-4></a>
</span><span id=__span-81-5><a id=__codelineno-81-5 name=__codelineno-81-5></a><span class=sr>== Automated Dependancies Roles ==</span>
</span><span id=__span-81-6><a id=__codelineno-81-6 name=__codelineno-81-6></a><span class=sr>* cluster -&gt; minimal</span>
</span><span id=__span-81-7><a id=__codelineno-81-7 name=__codelineno-81-7></a><span class=sr>* low_latency -&gt; minimal</span>
</span><span id=__span-81-8><a id=__codelineno-81-8 name=__codelineno-81-8></a><span class=sr>* low_latency_cluster -&gt; low_latency + cluster + minimal</span>
</span><span id=__span-81-9><a id=__codelineno-81-9 name=__codelineno-81-9></a>
</span><span id=__span-81-10><a id=__codelineno-81-10 name=__codelineno-81-10></a><span class=sr>== Template for servers ==</span>
</span><span id=__span-81-11><a id=__codelineno-81-11 name=__codelineno-81-11></a><span class=sr>node /</span><span class=n>regex</span><span class=o>/</span>
</span><span id=__span-81-12><a id=__codelineno-81-12 name=__codelineno-81-12></a><span class=p>{</span>
</span><span id=__span-81-13><a id=__codelineno-81-13 name=__codelineno-81-13></a><span class=w>    </span><span class=c1>#$exclude_modules = [ ]</span>
</span><span id=__span-81-14><a id=__codelineno-81-14 name=__codelineno-81-14></a><span class=w>    </span><span class=c1>#$ldap_servers = &#39;x.x.x.x&#39;</span>
</span><span id=__span-81-15><a id=__codelineno-81-15 name=__codelineno-81-15></a><span class=w>    </span><span class=c1>#$set_timezone = &#39;Europe/Paris&#39;</span>
</span><span id=__span-81-16><a id=__codelineno-81-16 name=__codelineno-81-16></a><span class=w>    </span><span class=c1>#$dns_servers = [ ]</span>
</span><span id=__span-81-17><a id=__codelineno-81-17 name=__codelineno-81-17></a><span class=w>    </span><span class=c1>#include base::minimal</span>
</span><span id=__span-81-18><a id=__codelineno-81-18 name=__codelineno-81-18></a><span class=w>    </span><span class=c1>#include base::cluster</span>
</span><span id=__span-81-19><a id=__codelineno-81-19 name=__codelineno-81-19></a><span class=w>    </span><span class=c1>#include base::low_latency</span>
</span><span id=__span-81-20><a id=__codelineno-81-20 name=__codelineno-81-20></a><span class=w>    </span><span class=c1>#include base::low_latency_cluster</span>
</span><span id=__span-81-21><a id=__codelineno-81-21 name=__codelineno-81-21></a><span class=p>}</span>
</span><span id=__span-81-22><a id=__codelineno-81-22 name=__codelineno-81-22></a>
</span><span id=__span-81-23><a id=__codelineno-81-23 name=__codelineno-81-23></a><span class=c1>##############################################################################*/</span>
</span><span id=__span-81-24><a id=__codelineno-81-24 name=__codelineno-81-24></a>
</span><span id=__span-81-25><a id=__codelineno-81-25 name=__codelineno-81-25></a><span class=c1># One server</span>
</span><span id=__span-81-26><a id=__codelineno-81-26 name=__codelineno-81-26></a><span class=n>node</span><span class=w> </span><span class=s1>&#39;srv1.deimos.fr&#39;</span><span class=w>  </span><span class=p>{</span>
</span><span id=__span-81-27><a id=__codelineno-81-27 name=__codelineno-81-27></a><span class=w>    </span><span class=vg>$ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=s1>&#39;127.0.0.1&#39;</span><span class=w> </span><span class=o>]</span>
</span><span id=__span-81-28><a id=__codelineno-81-28 name=__codelineno-81-28></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>base</span><span class=o>::</span><span class=n>minimal</span>
</span><span id=__span-81-29><a id=__codelineno-81-29 name=__codelineno-81-29></a><span class=p>}</span>
</span><span id=__span-81-30><a id=__codelineno-81-30 name=__codelineno-81-30></a>
</span><span id=__span-81-31><a id=__codelineno-81-31 name=__codelineno-81-31></a><span class=c1># Multiple servers</span>
</span><span id=__span-81-32><a id=__codelineno-81-32 name=__codelineno-81-32></a><span class=n>node</span><span class=w> </span><span class=s1>&#39;srv2.deimos.fr&#39;</span><span class=w> </span><span class=s1>&#39;srv3.deimos.fr&#39;</span><span class=w>  </span><span class=p>{</span>
</span><span id=__span-81-33><a id=__codelineno-81-33 name=__codelineno-81-33></a><span class=w>    </span><span class=vg>$ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=s1>&#39;127.0.0.1&#39;</span><span class=w> </span><span class=o>]</span>
</span><span id=__span-81-34><a id=__codelineno-81-34 name=__codelineno-81-34></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>base</span><span class=o>::</span><span class=n>minimal</span>
</span><span id=__span-81-35><a id=__codelineno-81-35 name=__codelineno-81-35></a><span class=p>}</span>
</span><span id=__span-81-36><a id=__codelineno-81-36 name=__codelineno-81-36></a>
</span><span id=__span-81-37><a id=__codelineno-81-37 name=__codelineno-81-37></a><span class=c1># Multiple regex based servers</span>
</span><span id=__span-81-38><a id=__codelineno-81-38 name=__codelineno-81-38></a><span class=n>node</span><span class=w> </span><span class=sr>/srv-prd-\d+/</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-81-39><a id=__codelineno-81-39 name=__codelineno-81-39></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>base</span><span class=o>::</span><span class=n>minimal</span>
</span><span id=__span-81-40><a id=__codelineno-81-40 name=__codelineno-81-40></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>base</span><span class=o>::</span><span class=n>low_latency</span>
</span><span id=__span-81-41><a id=__codelineno-81-41 name=__codelineno-81-41></a><span class=w>    </span><span class=vg>$set_timezone</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Europe/London&#39;</span>
</span><span id=__span-81-42><a id=__codelineno-81-42 name=__codelineno-81-42></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Here I've put a server as an example or a regex for multiple servers. For info, the configuration can be integrated into <a href=https://reductivelabs.com/trac/puppet/wiki/LDAPNodes>LDAP</a>.</p> <h4 id=parser>Parser</h4> <p>Let's create the necessary directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-82-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-82-1><a id=__codelineno-82-1 name=__codelineno-82-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/base/puppet/parser/functions
</span></code></pre></div></td></tr></table></div> <p>Then add an empty parser that will allow us to detect if an array/variable is empty or not:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-83-1> 1</a></span>
<span class=normal><a href=#__codelineno-83-2> 2</a></span>
<span class=normal><a href=#__codelineno-83-3> 3</a></span>
<span class=normal><a href=#__codelineno-83-4> 4</a></span>
<span class=normal><a href=#__codelineno-83-5> 5</a></span>
<span class=normal><a href=#__codelineno-83-6> 6</a></span>
<span class=normal><a href=#__codelineno-83-7> 7</a></span>
<span class=normal><a href=#__codelineno-83-8> 8</a></span>
<span class=normal><a href=#__codelineno-83-9> 9</a></span>
<span class=normal><a href=#__codelineno-83-10>10</a></span>
<span class=normal><a href=#__codelineno-83-11>11</a></span>
<span class=normal><a href=#__codelineno-83-12>12</a></span>
<span class=normal><a href=#__codelineno-83-13>13</a></span>
<span class=normal><a href=#__codelineno-83-14>14</a></span>
<span class=normal><a href=#__codelineno-83-15>15</a></span>
<span class=normal><a href=#__codelineno-83-16>16</a></span>
<span class=normal><a href=#__codelineno-83-17>17</a></span>
<span class=normal><a href=#__codelineno-83-18>18</a></span>
<span class=normal><a href=#__codelineno-83-19>19</a></span>
<span class=normal><a href=#__codelineno-83-20>20</a></span>
<span class=normal><a href=#__codelineno-83-21>21</a></span>
<span class=normal><a href=#__codelineno-83-22>22</a></span>
<span class=normal><a href=#__codelineno-83-23>23</a></span>
<span class=normal><a href=#__codelineno-83-24>24</a></span>
<span class=normal><a href=#__codelineno-83-25>25</a></span>
<span class=normal><a href=#__codelineno-83-26>26</a></span>
<span class=normal><a href=#__codelineno-83-27>27</a></span>
<span class=normal><a href=#__codelineno-83-28>28</a></span>
<span class=normal><a href=#__codelineno-83-29>29</a></span>
<span class=normal><a href=#__codelineno-83-30>30</a></span>
<span class=normal><a href=#__codelineno-83-31>31</a></span>
<span class=normal><a href=#__codelineno-83-32>32</a></span>
<span class=normal><a href=#__codelineno-83-33>33</a></span>
<span class=normal><a href=#__codelineno-83-34>34</a></span>
<span class=normal><a href=#__codelineno-83-35>35</a></span>
<span class=normal><a href=#__codelineno-83-36>36</a></span>
<span class=normal><a href=#__codelineno-83-37>37</a></span>
<span class=normal><a href=#__codelineno-83-38>38</a></span>
<span class=normal><a href=#__codelineno-83-39>39</a></span>
<span class=normal><a href=#__codelineno-83-40>40</a></span>
<span class=normal><a href=#__codelineno-83-41>41</a></span>
<span class=normal><a href=#__codelineno-83-42>42</a></span>
<span class=normal><a href=#__codelineno-83-43>43</a></span>
<span class=normal><a href=#__codelineno-83-44>44</a></span>
<span class=normal><a href=#__codelineno-83-45>45</a></span>
<span class=normal><a href=#__codelineno-83-46>46</a></span>
<span class=normal><a href=#__codelineno-83-47>47</a></span>
<span class=normal><a href=#__codelineno-83-48>48</a></span>
<span class=normal><a href=#__codelineno-83-49>49</a></span>
<span class=normal><a href=#__codelineno-83-50>50</a></span>
<span class=normal><a href=#__codelineno-83-51>51</a></span>
<span class=normal><a href=#__codelineno-83-52>52</a></span>
<span class=normal><a href=#__codelineno-83-53>53</a></span>
<span class=normal><a href=#__codelineno-83-54>54</a></span>
<span class=normal><a href=#__codelineno-83-55>55</a></span>
<span class=normal><a href=#__codelineno-83-56>56</a></span>
<span class=normal><a href=#__codelineno-83-57>57</a></span>
<span class=normal><a href=#__codelineno-83-58>58</a></span>
<span class=normal><a href=#__codelineno-83-59>59</a></span>
<span class=normal><a href=#__codelineno-83-60>60</a></span>
<span class=normal><a href=#__codelineno-83-61>61</a></span>
<span class=normal><a href=#__codelineno-83-62>62</a></span>
<span class=normal><a href=#__codelineno-83-63>63</a></span>
<span class=normal><a href=#__codelineno-83-64>64</a></span>
<span class=normal><a href=#__codelineno-83-65>65</a></span>
<span class=normal><a href=#__codelineno-83-66>66</a></span>
<span class=normal><a href=#__codelineno-83-67>67</a></span>
<span class=normal><a href=#__codelineno-83-68>68</a></span>
<span class=normal><a href=#__codelineno-83-69>69</a></span>
<span class=normal><a href=#__codelineno-83-70>70</a></span>
<span class=normal><a href=#__codelineno-83-71>71</a></span>
<span class=normal><a href=#__codelineno-83-72>72</a></span>
<span class=normal><a href=#__codelineno-83-73>73</a></span>
<span class=normal><a href=#__codelineno-83-74>74</a></span>
<span class=normal><a href=#__codelineno-83-75>75</a></span>
<span class=normal><a href=#__codelineno-83-76>76</a></span>
<span class=normal><a href=#__codelineno-83-77>77</a></span>
<span class=normal><a href=#__codelineno-83-78>78</a></span>
<span class=normal><a href=#__codelineno-83-79>79</a></span>
<span class=normal><a href=#__codelineno-83-80>80</a></span>
<span class=normal><a href=#__codelineno-83-81>81</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-83-1><a id=__codelineno-83-1 name=__codelineno-83-1></a><span class=c1>#</span>
</span><span id=__span-83-2><a id=__codelineno-83-2 name=__codelineno-83-2></a><span class=c1># empty.rb</span>
</span><span id=__span-83-3><a id=__codelineno-83-3 name=__codelineno-83-3></a><span class=c1>#</span>
</span><span id=__span-83-4><a id=__codelineno-83-4 name=__codelineno-83-4></a><span class=c1># Copyright 2011 Puppet Labs Inc.</span>
</span><span id=__span-83-5><a id=__codelineno-83-5 name=__codelineno-83-5></a><span class=c1># Copyright 2011 Krzysztof Wilczynski</span>
</span><span id=__span-83-6><a id=__codelineno-83-6 name=__codelineno-83-6></a><span class=c1>#</span>
</span><span id=__span-83-7><a id=__codelineno-83-7 name=__codelineno-83-7></a><span class=c1># Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
</span><span id=__span-83-8><a id=__codelineno-83-8 name=__codelineno-83-8></a><span class=c1># you may not use this file except in compliance with the License.</span>
</span><span id=__span-83-9><a id=__codelineno-83-9 name=__codelineno-83-9></a><span class=c1># You may obtain a copy of the License at</span>
</span><span id=__span-83-10><a id=__codelineno-83-10 name=__codelineno-83-10></a><span class=c1>#</span>
</span><span id=__span-83-11><a id=__codelineno-83-11 name=__codelineno-83-11></a><span class=c1># http://www.apache.org/licenses/LICENSE-2.0</span>
</span><span id=__span-83-12><a id=__codelineno-83-12 name=__codelineno-83-12></a><span class=c1>#</span>
</span><span id=__span-83-13><a id=__codelineno-83-13 name=__codelineno-83-13></a><span class=c1># Unless required by applicable law or agreed to in writing, software</span>
</span><span id=__span-83-14><a id=__codelineno-83-14 name=__codelineno-83-14></a><span class=c1># distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
</span><span id=__span-83-15><a id=__codelineno-83-15 name=__codelineno-83-15></a><span class=c1># WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
</span><span id=__span-83-16><a id=__codelineno-83-16 name=__codelineno-83-16></a><span class=c1># See the License for the specific language governing permissions and</span>
</span><span id=__span-83-17><a id=__codelineno-83-17 name=__codelineno-83-17></a><span class=c1># limitations under the License.</span>
</span><span id=__span-83-18><a id=__codelineno-83-18 name=__codelineno-83-18></a><span class=c1>#</span>
</span><span id=__span-83-19><a id=__codelineno-83-19 name=__codelineno-83-19></a>
</span><span id=__span-83-20><a id=__codelineno-83-20 name=__codelineno-83-20></a><span class=k>module</span><span class=w> </span><span class=nn>Puppet::Parser::Functions</span>
</span><span id=__span-83-21><a id=__codelineno-83-21 name=__codelineno-83-21></a><span class=w>  </span><span class=n>newfunction</span><span class=p>(</span><span class=ss>:empty</span><span class=p>,</span><span class=w> </span><span class=ss>:type</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=ss>:rvalue</span><span class=p>,</span><span class=w> </span><span class=ss>:doc</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=o>&lt;&lt;-</span><span class=dl>EOS</span>
</span><span id=__span-83-22><a id=__codelineno-83-22 name=__codelineno-83-22></a><span class=sh>Returns true if given array type or hash type has no elements or when a string</span>
</span><span id=__span-83-23><a id=__codelineno-83-23 name=__codelineno-83-23></a><span class=sh>value is empty and false otherwise.</span>
</span><span id=__span-83-24><a id=__codelineno-83-24 name=__codelineno-83-24></a>
</span><span id=__span-83-25><a id=__codelineno-83-25 name=__codelineno-83-25></a><span class=sh>Prototype:</span>
</span><span id=__span-83-26><a id=__codelineno-83-26 name=__codelineno-83-26></a>
</span><span id=__span-83-27><a id=__codelineno-83-27 name=__codelineno-83-27></a><span class=sh>empty(x)</span>
</span><span id=__span-83-28><a id=__codelineno-83-28 name=__codelineno-83-28></a>
</span><span id=__span-83-29><a id=__codelineno-83-29 name=__codelineno-83-29></a><span class=sh>Where x is either an array, a hash or a string value.</span>
</span><span id=__span-83-30><a id=__codelineno-83-30 name=__codelineno-83-30></a>
</span><span id=__span-83-31><a id=__codelineno-83-31 name=__codelineno-83-31></a><span class=sh>For example:</span>
</span><span id=__span-83-32><a id=__codelineno-83-32 name=__codelineno-83-32></a>
</span><span id=__span-83-33><a id=__codelineno-83-33 name=__codelineno-83-33></a><span class=sh>Given the following statements:</span>
</span><span id=__span-83-34><a id=__codelineno-83-34 name=__codelineno-83-34></a>
</span><span id=__span-83-35><a id=__codelineno-83-35 name=__codelineno-83-35></a><span class=sh>$a = &#39;&#39;</span>
</span><span id=__span-83-36><a id=__codelineno-83-36 name=__codelineno-83-36></a><span class=sh>$b = &#39;abc&#39;</span>
</span><span id=__span-83-37><a id=__codelineno-83-37 name=__codelineno-83-37></a><span class=sh>$c = []</span>
</span><span id=__span-83-38><a id=__codelineno-83-38 name=__codelineno-83-38></a><span class=sh>$d = [&#39;d&#39;, &#39;e&#39;, &#39;f&#39;]</span>
</span><span id=__span-83-39><a id=__codelineno-83-39 name=__codelineno-83-39></a><span class=sh>$e = {}</span>
</span><span id=__span-83-40><a id=__codelineno-83-40 name=__codelineno-83-40></a><span class=sh>$f = { &#39;x&#39; =&gt; 1, &#39;y&#39; =&gt; 2, &#39;z&#39; =&gt; 3 }</span>
</span><span id=__span-83-41><a id=__codelineno-83-41 name=__codelineno-83-41></a>
</span><span id=__span-83-42><a id=__codelineno-83-42 name=__codelineno-83-42></a><span class=sh>notice empty($a)</span>
</span><span id=__span-83-43><a id=__codelineno-83-43 name=__codelineno-83-43></a><span class=sh>notice empty($b)</span>
</span><span id=__span-83-44><a id=__codelineno-83-44 name=__codelineno-83-44></a><span class=sh>notice empty($c)</span>
</span><span id=__span-83-45><a id=__codelineno-83-45 name=__codelineno-83-45></a><span class=sh>notice empty($d)</span>
</span><span id=__span-83-46><a id=__codelineno-83-46 name=__codelineno-83-46></a><span class=sh>notice empty($e)</span>
</span><span id=__span-83-47><a id=__codelineno-83-47 name=__codelineno-83-47></a><span class=sh>notice empty($f)</span>
</span><span id=__span-83-48><a id=__codelineno-83-48 name=__codelineno-83-48></a>
</span><span id=__span-83-49><a id=__codelineno-83-49 name=__codelineno-83-49></a><span class=sh>The result will be as follows:</span>
</span><span id=__span-83-50><a id=__codelineno-83-50 name=__codelineno-83-50></a>
</span><span id=__span-83-51><a id=__codelineno-83-51 name=__codelineno-83-51></a><span class=sh>notice: Scope(Class[main]): true</span>
</span><span id=__span-83-52><a id=__codelineno-83-52 name=__codelineno-83-52></a><span class=sh>notice: Scope(Class[main]): false</span>
</span><span id=__span-83-53><a id=__codelineno-83-53 name=__codelineno-83-53></a><span class=sh>notice: Scope(Class[main]): true</span>
</span><span id=__span-83-54><a id=__codelineno-83-54 name=__codelineno-83-54></a><span class=sh>notice: Scope(Class[main]): false</span>
</span><span id=__span-83-55><a id=__codelineno-83-55 name=__codelineno-83-55></a><span class=sh>notice: Scope(Class[main]): true</span>
</span><span id=__span-83-56><a id=__codelineno-83-56 name=__codelineno-83-56></a><span class=sh>notice: Scope(Class[main]): false</span>
</span><span id=__span-83-57><a id=__codelineno-83-57 name=__codelineno-83-57></a><span class=dl>EOS</span>
</span><span id=__span-83-58><a id=__codelineno-83-58 name=__codelineno-83-58></a><span class=w>  </span><span class=p>)</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|*</span><span class=n>arguments</span><span class=o>|</span>
</span><span id=__span-83-59><a id=__codelineno-83-59 name=__codelineno-83-59></a><span class=w>    </span><span class=c1>#</span>
</span><span id=__span-83-60><a id=__codelineno-83-60 name=__codelineno-83-60></a><span class=w>    </span><span class=c1># This is to ensure that whenever we call this function from within</span>
</span><span id=__span-83-61><a id=__codelineno-83-61 name=__codelineno-83-61></a><span class=w>    </span><span class=c1># the Puppet manifest or alternatively form a template it will always</span>
</span><span id=__span-83-62><a id=__codelineno-83-62 name=__codelineno-83-62></a><span class=w>    </span><span class=c1># do the right thing ...</span>
</span><span id=__span-83-63><a id=__codelineno-83-63 name=__codelineno-83-63></a><span class=w>    </span><span class=c1>#</span>
</span><span id=__span-83-64><a id=__codelineno-83-64 name=__codelineno-83-64></a><span class=w>    </span><span class=n>arguments</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arguments</span><span class=o>.</span><span class=n>shift</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=n>arguments</span><span class=o>.</span><span class=n>first</span><span class=o>.</span><span class=n>is_a?</span><span class=p>(</span><span class=nb>Array</span><span class=p>)</span>
</span><span id=__span-83-65><a id=__codelineno-83-65 name=__codelineno-83-65></a>
</span><span id=__span-83-66><a id=__codelineno-83-66 name=__codelineno-83-66></a><span class=w>    </span><span class=k>raise</span><span class=w> </span><span class=no>Puppet</span><span class=o>::</span><span class=no>ParseError</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;empty(): Wrong number of arguments &quot;</span><span class=w> </span><span class=o>+</span>
</span><span id=__span-83-67><a id=__codelineno-83-67 name=__codelineno-83-67></a><span class=w>      </span><span class=s2>&quot;given (</span><span class=si>#{</span><span class=n>arguments</span><span class=o>.</span><span class=n>size</span><span class=si>}</span><span class=s2> for 1)&quot;</span><span class=w> </span><span class=k>if</span><span class=w> </span><span class=n>arguments</span><span class=o>.</span><span class=n>size</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>1</span>
</span><span id=__span-83-68><a id=__codelineno-83-68 name=__codelineno-83-68></a>
</span><span id=__span-83-69><a id=__codelineno-83-69 name=__codelineno-83-69></a><span class=w>    </span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arguments</span><span class=o>.</span><span class=n>shift</span>
</span><span id=__span-83-70><a id=__codelineno-83-70 name=__codelineno-83-70></a>
</span><span id=__span-83-71><a id=__codelineno-83-71 name=__codelineno-83-71></a><span class=w>    </span><span class=k>unless</span><span class=w> </span><span class=o>[</span><span class=nb>Array</span><span class=p>,</span><span class=w> </span><span class=no>Hash</span><span class=p>,</span><span class=w> </span><span class=nb>String</span><span class=o>].</span><span class=n>include?</span><span class=p>(</span><span class=n>value</span><span class=o>.</span><span class=n>class</span><span class=p>)</span>
</span><span id=__span-83-72><a id=__codelineno-83-72 name=__codelineno-83-72></a><span class=w>      </span><span class=k>raise</span><span class=w> </span><span class=no>Puppet</span><span class=o>::</span><span class=no>ParseError</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;empty(): Requires either array, hash &#39;</span><span class=w> </span><span class=o>+</span>
</span><span id=__span-83-73><a id=__codelineno-83-73 name=__codelineno-83-73></a><span class=w>        </span><span class=s1>&#39;or string type to work with&#39;</span>
</span><span id=__span-83-74><a id=__codelineno-83-74 name=__codelineno-83-74></a><span class=w>    </span><span class=k>end</span>
</span><span id=__span-83-75><a id=__codelineno-83-75 name=__codelineno-83-75></a>
</span><span id=__span-83-76><a id=__codelineno-83-76 name=__codelineno-83-76></a><span class=w>    </span><span class=n>value</span><span class=o>.</span><span class=n>empty?</span>
</span><span id=__span-83-77><a id=__codelineno-83-77 name=__codelineno-83-77></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-83-78><a id=__codelineno-83-78 name=__codelineno-83-78></a><span class=k>end</span>
</span><span id=__span-83-79><a id=__codelineno-83-79 name=__codelineno-83-79></a>
</span><span id=__span-83-80><a id=__codelineno-83-80 name=__codelineno-83-80></a><span class=c1># vim: set ts=2 sw=2 et :</span>
</span><span id=__span-83-81><a id=__codelineno-83-81 name=__codelineno-83-81></a><span class=c1># encoding: utf-8</span>
</span></code></pre></div></td></tr></table></div> <h2 id=module-examples>Module Examples</h2> <h3 id=stdlib>stdlib</h3> <p>This <a href=https://forge.puppetlabs.com/puppetlabs/stdlib>stdlib</a> module is not essential, but it's useful if you're missing features in Puppet. Indeed, it brings a fairly large set of functions:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-84-1> 1</a></span>
<span class=normal><a href=#__codelineno-84-2> 2</a></span>
<span class=normal><a href=#__codelineno-84-3> 3</a></span>
<span class=normal><a href=#__codelineno-84-4> 4</a></span>
<span class=normal><a href=#__codelineno-84-5> 5</a></span>
<span class=normal><a href=#__codelineno-84-6> 6</a></span>
<span class=normal><a href=#__codelineno-84-7> 7</a></span>
<span class=normal><a href=#__codelineno-84-8> 8</a></span>
<span class=normal><a href=#__codelineno-84-9> 9</a></span>
<span class=normal><a href=#__codelineno-84-10>10</a></span>
<span class=normal><a href=#__codelineno-84-11>11</a></span>
<span class=normal><a href=#__codelineno-84-12>12</a></span>
<span class=normal><a href=#__codelineno-84-13>13</a></span>
<span class=normal><a href=#__codelineno-84-14>14</a></span>
<span class=normal><a href=#__codelineno-84-15>15</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-84-1><a id=__codelineno-84-1 name=__codelineno-84-1></a>abs          ensure_resource      include          loadyaml         reverse      to_bytes
</span><span id=__span-84-2><a id=__codelineno-84-2 name=__codelineno-84-2></a>bool2num         err          info             lstrip           rstrip       type
</span><span id=__span-84-3><a id=__codelineno-84-3 name=__codelineno-84-3></a>capitalize       extlookup        inline_template      md5          search       unique
</span><span id=__span-84-4><a id=__codelineno-84-4 name=__codelineno-84-4></a>chomp            fail         is_array         member           sha1         upcase
</span><span id=__span-84-5><a id=__codelineno-84-5 name=__codelineno-84-5></a>chop             file         is_domain_name       merge            shellquote       validate_absolute_pa
</span><span id=__span-84-6><a id=__codelineno-84-6 name=__codelineno-84-6></a>create_resources     flatten          is_float         notice           size         validate_array
</span><span id=__span-84-7><a id=__codelineno-84-7 name=__codelineno-84-7></a>crit             fqdn_rand        is_hash          num2bool         sort         validate_bool
</span><span id=__span-84-8><a id=__codelineno-84-8 name=__codelineno-84-8></a>debug            fqdn_rotate      is_integer           parsejson        squeeze      validate_hash
</span><span id=__span-84-9><a id=__codelineno-84-9 name=__codelineno-84-9></a>defined          generate         is_ip_address        parseyaml        str2bool         validate_re
</span><span id=__span-84-10><a id=__codelineno-84-10 name=__codelineno-84-10></a>defined_with_params  get_module_path      is_mac_address       prefix           str2saltedsha512     validate_slength
</span><span id=__span-84-11><a id=__codelineno-84-11 name=__codelineno-84-11></a>delete           getvar       is_numeric           range            strftime         validate_string
</span><span id=__span-84-12><a id=__codelineno-84-12 name=__codelineno-84-12></a>delete_at        grep         is_string        realize          strip        values
</span><span id=__span-84-13><a id=__codelineno-84-13 name=__codelineno-84-13></a>downcase         has_key          join             regsubst         swapcase         values_at
</span><span id=__span-84-14><a id=__codelineno-84-14 name=__codelineno-84-14></a>emerg            hash         keys             require          time         zip
</span><span id=__span-84-15><a id=__codelineno-84-15 name=__codelineno-84-15></a>empty
</span></code></pre></div></td></tr></table></div> <p>First create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-85-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-85-1><a id=__codelineno-85-1 name=__codelineno-85-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/stdlib
</span></code></pre></div></td></tr></table></div> <p>Download the latest version and simply decompress it:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-86-1>1</a></span>
<span class=normal><a href=#__codelineno-86-2>2</a></span>
<span class=normal><a href=#__codelineno-86-3>3</a></span>
<span class=normal><a href=#__codelineno-86-4>4</a></span>
<span class=normal><a href=#__codelineno-86-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-86-1><a id=__codelineno-86-1 name=__codelineno-86-1></a><span class=nb>cd</span><span class=w> </span>/etc/puppet/modules/stdlib
</span><span id=__span-86-2><a id=__codelineno-86-2 name=__codelineno-86-2></a>wget<span class=w> </span>http://forge.puppetlabs.com/puppetlabs/stdlib/3.2.0.tar.gz
</span><span id=__span-86-3><a id=__codelineno-86-3 name=__codelineno-86-3></a>tar<span class=w> </span>-xzf<span class=w> </span><span class=m>3</span>.2.0.tar.gz
</span><span id=__span-86-4><a id=__codelineno-86-4 name=__codelineno-86-4></a>mv<span class=w> </span>puppetlabs-stdlib-3.2.0/stdlib<span class=w> </span>stdlib
</span><span id=__span-86-5><a id=__codelineno-86-5 name=__codelineno-86-5></a>rm<span class=w> </span>-f<span class=w> </span><span class=m>3</span>.2.0.tar.gz
</span></code></pre></div></td></tr></table></div> <h3 id=puppet>Puppet</h3> <p>This one is quite funny because it's simply the configuration of the Puppet client. However, it can be very useful for managing its own updates. So let's create the directory structures:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-87-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-87-1><a id=__codelineno-87-1 name=__codelineno-87-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/puppet/<span class=o>{</span>manifests,files<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_1>init.pp</h4> <p>We create the init.pp module here that will allow us to choose the file to load according to the OS.</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-88-1> 1</a></span>
<span class=normal><a href=#__codelineno-88-2> 2</a></span>
<span class=normal><a href=#__codelineno-88-3> 3</a></span>
<span class=normal><a href=#__codelineno-88-4> 4</a></span>
<span class=normal><a href=#__codelineno-88-5> 5</a></span>
<span class=normal><a href=#__codelineno-88-6> 6</a></span>
<span class=normal><a href=#__codelineno-88-7> 7</a></span>
<span class=normal><a href=#__codelineno-88-8> 8</a></span>
<span class=normal><a href=#__codelineno-88-9> 9</a></span>
<span class=normal><a href=#__codelineno-88-10>10</a></span>
<span class=normal><a href=#__codelineno-88-11>11</a></span>
<span class=normal><a href=#__codelineno-88-12>12</a></span>
<span class=normal><a href=#__codelineno-88-13>13</a></span>
<span class=normal><a href=#__codelineno-88-14>14</a></span>
<span class=normal><a href=#__codelineno-88-15>15</a></span>
<span class=normal><a href=#__codelineno-88-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-88-1><a id=__codelineno-88-1 name=__codelineno-88-1></a><span class=sr>/*</span>
</span><span id=__span-88-2><a id=__codelineno-88-2 name=__codelineno-88-2></a><span class=sr>Puppet Module for Puppet</span>
</span><span id=__span-88-3><a id=__codelineno-88-3 name=__codelineno-88-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-88-4><a id=__codelineno-88-4 name=__codelineno-88-4></a><span class=sr>*/</span>
</span><span id=__span-88-5><a id=__codelineno-88-5 name=__codelineno-88-5></a><span class=k>class</span><span class=w> </span><span class=n>puppet</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-88-6><a id=__codelineno-88-6 name=__codelineno-88-6></a><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-88-7><a id=__codelineno-88-7 name=__codelineno-88-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-88-8><a id=__codelineno-88-8 name=__codelineno-88-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-88-9><a id=__codelineno-88-9 name=__codelineno-88-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=o>::</span><span class=n>puppet</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-88-10><a id=__codelineno-88-10 name=__codelineno-88-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-88-11><a id=__codelineno-88-11 name=__codelineno-88-11></a><span class=w>        </span><span class=c1>#&#39;sunos&#39;:  { include packages_defaults::solaris }</span>
</span><span id=__span-88-12><a id=__codelineno-88-12 name=__codelineno-88-12></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-88-13><a id=__codelineno-88-13 name=__codelineno-88-13></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-88-14><a id=__codelineno-88-14 name=__codelineno-88-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-88-15><a id=__codelineno-88-15 name=__codelineno-88-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-88-16><a id=__codelineno-88-16 name=__codelineno-88-16></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp>redhat.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-89-1> 1</a></span>
<span class=normal><a href=#__codelineno-89-2> 2</a></span>
<span class=normal><a href=#__codelineno-89-3> 3</a></span>
<span class=normal><a href=#__codelineno-89-4> 4</a></span>
<span class=normal><a href=#__codelineno-89-5> 5</a></span>
<span class=normal><a href=#__codelineno-89-6> 6</a></span>
<span class=normal><a href=#__codelineno-89-7> 7</a></span>
<span class=normal><a href=#__codelineno-89-8> 8</a></span>
<span class=normal><a href=#__codelineno-89-9> 9</a></span>
<span class=normal><a href=#__codelineno-89-10>10</a></span>
<span class=normal><a href=#__codelineno-89-11>11</a></span>
<span class=normal><a href=#__codelineno-89-12>12</a></span>
<span class=normal><a href=#__codelineno-89-13>13</a></span>
<span class=normal><a href=#__codelineno-89-14>14</a></span>
<span class=normal><a href=#__codelineno-89-15>15</a></span>
<span class=normal><a href=#__codelineno-89-16>16</a></span>
<span class=normal><a href=#__codelineno-89-17>17</a></span>
<span class=normal><a href=#__codelineno-89-18>18</a></span>
<span class=normal><a href=#__codelineno-89-19>19</a></span>
<span class=normal><a href=#__codelineno-89-20>20</a></span>
<span class=normal><a href=#__codelineno-89-21>21</a></span>
<span class=normal><a href=#__codelineno-89-22>22</a></span>
<span class=normal><a href=#__codelineno-89-23>23</a></span>
<span class=normal><a href=#__codelineno-89-24>24</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-89-1><a id=__codelineno-89-1 name=__codelineno-89-1></a><span class=sr>/*</span>
</span><span id=__span-89-2><a id=__codelineno-89-2 name=__codelineno-89-2></a><span class=sr>Puppet Module for Puppet</span>
</span><span id=__span-89-3><a id=__codelineno-89-3 name=__codelineno-89-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-89-4><a id=__codelineno-89-4 name=__codelineno-89-4></a><span class=sr>*/</span>
</span><span id=__span-89-5><a id=__codelineno-89-5 name=__codelineno-89-5></a><span class=k>class</span><span class=w> </span><span class=n>puppet</span><span class=o>::</span><span class=n>redhat</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-89-6><a id=__codelineno-89-6 name=__codelineno-89-6></a><span class=w>    </span><span class=c1># Change default configuration</span>
</span><span id=__span-89-7><a id=__codelineno-89-7 name=__codelineno-89-7></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-89-8><a id=__codelineno-89-8 name=__codelineno-89-8></a><span class=w>        </span><span class=s1>&#39;/etc/puppet/puppet.conf&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-89-9><a id=__codelineno-89-9 name=__codelineno-89-9></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span><span class=p>,</span>
</span><span id=__span-89-10><a id=__codelineno-89-10 name=__codelineno-89-10></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/puppet/${::osfamily}.puppet.conf&quot;</span><span class=p>,</span>
</span><span id=__span-89-11><a id=__codelineno-89-11 name=__codelineno-89-11></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span>
</span><span id=__span-89-12><a id=__codelineno-89-12 name=__codelineno-89-12></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-89-13><a id=__codelineno-89-13 name=__codelineno-89-13></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span>
</span><span id=__span-89-14><a id=__codelineno-89-14 name=__codelineno-89-14></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-89-15><a id=__codelineno-89-15 name=__codelineno-89-15></a>
</span><span id=__span-89-16><a id=__codelineno-89-16 name=__codelineno-89-16></a><span class=w>    </span><span class=c1># Disable service on boot and be sure it is not started</span>
</span><span id=__span-89-17><a id=__codelineno-89-17 name=__codelineno-89-17></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-89-18><a id=__codelineno-89-18 name=__codelineno-89-18></a><span class=w>        </span><span class=s1>&#39;puppet-srv&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-89-19><a id=__codelineno-89-19 name=__codelineno-89-19></a><span class=w>            </span><span class=nb>name</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;puppet&#39;</span><span class=p>,</span>
</span><span id=__span-89-20><a id=__codelineno-89-20 name=__codelineno-89-20></a><span class=w>            </span><span class=c1># Let this line commented if you&#39;re using Puppet Dashboard</span>
</span><span id=__span-89-21><a id=__codelineno-89-21 name=__codelineno-89-21></a><span class=w>            </span><span class=c1>#ensure =&gt; stopped,</span>
</span><span id=__span-89-22><a id=__codelineno-89-22 name=__codelineno-89-22></a><span class=w>            </span><span class=n>enable</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>false</span>
</span><span id=__span-89-23><a id=__codelineno-89-23 name=__codelineno-89-23></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-89-24><a id=__codelineno-89-24 name=__codelineno-89-24></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>On line 9, we use a variable available in the facts (client-side) so that depending on the response, we load a file associated with the OS. So we'll have a configuration file accessible via Puppet in the form 'RedHat.puppet.conf'. Then, for the service, we make sure it's properly stopped at startup and that it's in an off state for now. In fact, I don't want it to trigger and synchronize every 30 minutes (default value), I find it too dangerous and prefer to decide via other mechanisms (SSH, Mcollective...) when I want a synchronization to be done.</p> <h4 id=files>files</h4> <p>In files, we'll have the basic configuration file that should apply to all RedHat type machines:</p> <div class="language-ini highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-90-1> 1</a></span>
<span class=normal><a href=#__codelineno-90-2> 2</a></span>
<span class=normal><a href=#__codelineno-90-3> 3</a></span>
<span class=normal><a href=#__codelineno-90-4> 4</a></span>
<span class=normal><a href=#__codelineno-90-5> 5</a></span>
<span class=normal><a href=#__codelineno-90-6> 6</a></span>
<span class=normal><a href=#__codelineno-90-7> 7</a></span>
<span class=normal><a href=#__codelineno-90-8> 8</a></span>
<span class=normal><a href=#__codelineno-90-9> 9</a></span>
<span class=normal><a href=#__codelineno-90-10>10</a></span>
<span class=normal><a href=#__codelineno-90-11>11</a></span>
<span class=normal><a href=#__codelineno-90-12>12</a></span>
<span class=normal><a href=#__codelineno-90-13>13</a></span>
<span class=normal><a href=#__codelineno-90-14>14</a></span>
<span class=normal><a href=#__codelineno-90-15>15</a></span>
<span class=normal><a href=#__codelineno-90-16>16</a></span>
<span class=normal><a href=#__codelineno-90-17>17</a></span>
<span class=normal><a href=#__codelineno-90-18>18</a></span>
<span class=normal><a href=#__codelineno-90-19>19</a></span>
<span class=normal><a href=#__codelineno-90-20>20</a></span>
<span class=normal><a href=#__codelineno-90-21>21</a></span>
<span class=normal><a href=#__codelineno-90-22>22</a></span>
<span class=normal><a href=#__codelineno-90-23>23</a></span>
<span class=normal><a href=#__codelineno-90-24>24</a></span>
<span class=normal><a href=#__codelineno-90-25>25</a></span>
<span class=normal><a href=#__codelineno-90-26>26</a></span>
<span class=normal><a href=#__codelineno-90-27>27</a></span>
<span class=normal><a href=#__codelineno-90-28>28</a></span>
<span class=normal><a href=#__codelineno-90-29>29</a></span>
<span class=normal><a href=#__codelineno-90-30>30</a></span>
<span class=normal><a href=#__codelineno-90-31>31</a></span>
<span class=normal><a href=#__codelineno-90-32>32</a></span>
<span class=normal><a href=#__codelineno-90-33>33</a></span>
<span class=normal><a href=#__codelineno-90-34>34</a></span>
<span class=normal><a href=#__codelineno-90-35>35</a></span>
<span class=normal><a href=#__codelineno-90-36>36</a></span>
<span class=normal><a href=#__codelineno-90-37>37</a></span>
<span class=normal><a href=#__codelineno-90-38>38</a></span>
<span class=normal><a href=#__codelineno-90-39>39</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-90-1><a id=__codelineno-90-1 name=__codelineno-90-1></a><span class=k>[main]</span>
</span><span id=__span-90-2><a id=__codelineno-90-2 name=__codelineno-90-2></a><span class=w>    </span><span class=c1># The Puppet log directory.</span>
</span><span id=__span-90-3><a id=__codelineno-90-3 name=__codelineno-90-3></a><span class=w>    </span><span class=c1># The default value is &#39;$vardir/log&#39;.</span>
</span><span id=__span-90-4><a id=__codelineno-90-4 name=__codelineno-90-4></a><span class=w>    </span><span class=na>logdir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>/var/log/puppet</span>
</span><span id=__span-90-5><a id=__codelineno-90-5 name=__codelineno-90-5></a>
</span><span id=__span-90-6><a id=__codelineno-90-6 name=__codelineno-90-6></a><span class=w>    </span><span class=c1># Where Puppet PID files are kept.</span>
</span><span id=__span-90-7><a id=__codelineno-90-7 name=__codelineno-90-7></a><span class=w>    </span><span class=c1># The default value is &#39;$vardir/run&#39;.</span>
</span><span id=__span-90-8><a id=__codelineno-90-8 name=__codelineno-90-8></a><span class=w>    </span><span class=na>rundir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>/var/run/puppet</span>
</span><span id=__span-90-9><a id=__codelineno-90-9 name=__codelineno-90-9></a>
</span><span id=__span-90-10><a id=__codelineno-90-10 name=__codelineno-90-10></a><span class=w>    </span><span class=c1># Where SSL certificates are kept.</span>
</span><span id=__span-90-11><a id=__codelineno-90-11 name=__codelineno-90-11></a><span class=w>    </span><span class=c1># The default value is &#39;$confdir/ssl&#39;.</span>
</span><span id=__span-90-12><a id=__codelineno-90-12 name=__codelineno-90-12></a><span class=w>    </span><span class=na>ssldir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>$vardir/ssl</span>
</span><span id=__span-90-13><a id=__codelineno-90-13 name=__codelineno-90-13></a>
</span><span id=__span-90-14><a id=__codelineno-90-14 name=__codelineno-90-14></a><span class=w>    </span><span class=c1># Puppet master server</span>
</span><span id=__span-90-15><a id=__codelineno-90-15 name=__codelineno-90-15></a><span class=w>    </span><span class=na>server</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>puppet-prd.deimos.fr</span>
</span><span id=__span-90-16><a id=__codelineno-90-16 name=__codelineno-90-16></a>
</span><span id=__span-90-17><a id=__codelineno-90-17 name=__codelineno-90-17></a><span class=w>    </span><span class=c1># Add custom facts</span>
</span><span id=__span-90-18><a id=__codelineno-90-18 name=__codelineno-90-18></a><span class=w>    </span><span class=na>pluginsync</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>true</span>
</span><span id=__span-90-19><a id=__codelineno-90-19 name=__codelineno-90-19></a><span class=w>    </span><span class=na>pluginsource</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>puppet://$server/plugins</span>
</span><span id=__span-90-20><a id=__codelineno-90-20 name=__codelineno-90-20></a><span class=w>    </span><span class=na>factpath</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>/var/lib/puppet/lib/facter</span>
</span><span id=__span-90-21><a id=__codelineno-90-21 name=__codelineno-90-21></a>
</span><span id=__span-90-22><a id=__codelineno-90-22 name=__codelineno-90-22></a><span class=k>[agent]</span>
</span><span id=__span-90-23><a id=__codelineno-90-23 name=__codelineno-90-23></a><span class=w>    </span><span class=c1># The file in which puppetd stores a list of the classes</span>
</span><span id=__span-90-24><a id=__codelineno-90-24 name=__codelineno-90-24></a><span class=w>    </span><span class=c1># associated with the retrieved configuratiion.  Can be loaded in</span>
</span><span id=__span-90-25><a id=__codelineno-90-25 name=__codelineno-90-25></a><span class=w>    </span><span class=c1># the separate ``puppet`` executable using the ``--loadclasses``</span>
</span><span id=__span-90-26><a id=__codelineno-90-26 name=__codelineno-90-26></a><span class=w>    </span><span class=c1># option.</span>
</span><span id=__span-90-27><a id=__codelineno-90-27 name=__codelineno-90-27></a><span class=w>    </span><span class=c1># The default value is &#39;$confdir/classes.txt&#39;.</span>
</span><span id=__span-90-28><a id=__codelineno-90-28 name=__codelineno-90-28></a><span class=w>    </span><span class=na>classfile</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>$vardir/classes.txt</span>
</span><span id=__span-90-29><a id=__codelineno-90-29 name=__codelineno-90-29></a>
</span><span id=__span-90-30><a id=__codelineno-90-30 name=__codelineno-90-30></a><span class=w>    </span><span class=c1># Where puppetd caches the local configuration.  An</span>
</span><span id=__span-90-31><a id=__codelineno-90-31 name=__codelineno-90-31></a><span class=w>    </span><span class=c1># extension indicating the cache format is added automatically.</span>
</span><span id=__span-90-32><a id=__codelineno-90-32 name=__codelineno-90-32></a><span class=w>    </span><span class=c1># The default value is &#39;$confdir/localconfig&#39;.</span>
</span><span id=__span-90-33><a id=__codelineno-90-33 name=__codelineno-90-33></a><span class=w>    </span><span class=na>localconfig</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>$vardir/localconfig</span>
</span><span id=__span-90-34><a id=__codelineno-90-34 name=__codelineno-90-34></a>
</span><span id=__span-90-35><a id=__codelineno-90-35 name=__codelineno-90-35></a><span class=w>    </span><span class=c1># Reporting</span>
</span><span id=__span-90-36><a id=__codelineno-90-36 name=__codelineno-90-36></a><span class=w>    </span><span class=na>report</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>true</span>
</span><span id=__span-90-37><a id=__codelineno-90-37 name=__codelineno-90-37></a>
</span><span id=__span-90-38><a id=__codelineno-90-38 name=__codelineno-90-38></a><span class=w>    </span><span class=c1># Inspect reports for a compliance workflow</span>
</span><span id=__span-90-39><a id=__codelineno-90-39 name=__codelineno-90-39></a><span class=w>    </span><span class=na>archive_files</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s>true</span>
</span></code></pre></div></td></tr></table></div> <h3 id=resolvconf>resolvconf</h3> <p>I made this module to manage the resolv.conf configuration file. The usage is quite simple, it will retrieve the information of the DNS servers filled in the array available in <a href=#varspp>vars.pp of the base module</a>. So fill in the default DNS servers:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-91-1>1</a></span>
<span class=normal><a href=#__codelineno-91-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-91-1><a id=__codelineno-91-1 name=__codelineno-91-1></a><span class=c1># Default DNS servers</span>
</span><span id=__span-91-2><a id=__codelineno-91-2 name=__codelineno-91-2></a><span class=vg>$dns_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=s1>&#39;192.168.0.69&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;192.168.0.27&#39;</span><span class=w> </span><span class=o>]</span>
</span></code></pre></div></td></tr></table></div> <p>You can override these values directly at the level of one or more nodes if you need to have specific configurations for certain nodes (in the <a href=#serverspp>servers.pp file of the base module</a>):</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-92-1>1</a></span>
<span class=normal><a href=#__codelineno-92-2>2</a></span>
<span class=normal><a href=#__codelineno-92-3>3</a></span>
<span class=normal><a href=#__codelineno-92-4>4</a></span>
<span class=normal><a href=#__codelineno-92-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-92-1><a id=__codelineno-92-1 name=__codelineno-92-1></a><span class=c1># One server</span>
</span><span id=__span-92-2><a id=__codelineno-92-2 name=__codelineno-92-2></a><span class=n>node</span><span class=w> </span><span class=s1>&#39;srv.deimos.fr&#39;</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-92-3><a id=__codelineno-92-3 name=__codelineno-92-3></a><span class=w>    </span><span class=vg>$dns_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=s1>&#39;127.0.0.1&#39;</span><span class=w> </span><span class=o>]</span>
</span><span id=__span-92-4><a id=__codelineno-92-4 name=__codelineno-92-4></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>base</span><span class=o>::</span><span class=n>minimal</span>
</span><span id=__span-92-5><a id=__codelineno-92-5 name=__codelineno-92-5></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-93-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-93-1><a id=__codelineno-93-1 name=__codelineno-93-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/resolvconf/<span class=o>{</span>manifests,templates<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_2>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-94-1> 1</a></span>
<span class=normal><a href=#__codelineno-94-2> 2</a></span>
<span class=normal><a href=#__codelineno-94-3> 3</a></span>
<span class=normal><a href=#__codelineno-94-4> 4</a></span>
<span class=normal><a href=#__codelineno-94-5> 5</a></span>
<span class=normal><a href=#__codelineno-94-6> 6</a></span>
<span class=normal><a href=#__codelineno-94-7> 7</a></span>
<span class=normal><a href=#__codelineno-94-8> 8</a></span>
<span class=normal><a href=#__codelineno-94-9> 9</a></span>
<span class=normal><a href=#__codelineno-94-10>10</a></span>
<span class=normal><a href=#__codelineno-94-11>11</a></span>
<span class=normal><a href=#__codelineno-94-12>12</a></span>
<span class=normal><a href=#__codelineno-94-13>13</a></span>
<span class=normal><a href=#__codelineno-94-14>14</a></span>
<span class=normal><a href=#__codelineno-94-15>15</a></span>
<span class=normal><a href=#__codelineno-94-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-94-1><a id=__codelineno-94-1 name=__codelineno-94-1></a><span class=sr>/*</span>
</span><span id=__span-94-2><a id=__codelineno-94-2 name=__codelineno-94-2></a><span class=sr>Resolv.conf Module for Puppet</span>
</span><span id=__span-94-3><a id=__codelineno-94-3 name=__codelineno-94-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-94-4><a id=__codelineno-94-4 name=__codelineno-94-4></a><span class=sr>*/</span>
</span><span id=__span-94-5><a id=__codelineno-94-5 name=__codelineno-94-5></a><span class=k>class</span><span class=w> </span><span class=n>resolvconf</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-94-6><a id=__codelineno-94-6 name=__codelineno-94-6></a><span class=w>    </span><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-94-7><a id=__codelineno-94-7 name=__codelineno-94-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-94-8><a id=__codelineno-94-8 name=__codelineno-94-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-94-9><a id=__codelineno-94-9 name=__codelineno-94-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>resolvconf</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-94-10><a id=__codelineno-94-10 name=__codelineno-94-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-94-11><a id=__codelineno-94-11 name=__codelineno-94-11></a><span class=w>        </span><span class=c1>#&#39;sunos&#39;:  { include packages_defaults::solaris }</span>
</span><span id=__span-94-12><a id=__codelineno-94-12 name=__codelineno-94-12></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-94-13><a id=__codelineno-94-13 name=__codelineno-94-13></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-94-14><a id=__codelineno-94-14 name=__codelineno-94-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-94-15><a id=__codelineno-94-15 name=__codelineno-94-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-94-16><a id=__codelineno-94-16 name=__codelineno-94-16></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_1>redhat.pp</h4> <p>Here's the configuration for Red Hat, I use a template file here, which will be filled with the information present in the $dns_servers array:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-95-1> 1</a></span>
<span class=normal><a href=#__codelineno-95-2> 2</a></span>
<span class=normal><a href=#__codelineno-95-3> 3</a></span>
<span class=normal><a href=#__codelineno-95-4> 4</a></span>
<span class=normal><a href=#__codelineno-95-5> 5</a></span>
<span class=normal><a href=#__codelineno-95-6> 6</a></span>
<span class=normal><a href=#__codelineno-95-7> 7</a></span>
<span class=normal><a href=#__codelineno-95-8> 8</a></span>
<span class=normal><a href=#__codelineno-95-9> 9</a></span>
<span class=normal><a href=#__codelineno-95-10>10</a></span>
<span class=normal><a href=#__codelineno-95-11>11</a></span>
<span class=normal><a href=#__codelineno-95-12>12</a></span>
<span class=normal><a href=#__codelineno-95-13>13</a></span>
<span class=normal><a href=#__codelineno-95-14>14</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-95-1><a id=__codelineno-95-1 name=__codelineno-95-1></a><span class=sr>/*</span>
</span><span id=__span-95-2><a id=__codelineno-95-2 name=__codelineno-95-2></a><span class=sr>Resolvconf Module for Puppet</span>
</span><span id=__span-95-3><a id=__codelineno-95-3 name=__codelineno-95-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-95-4><a id=__codelineno-95-4 name=__codelineno-95-4></a><span class=sr>*/</span>
</span><span id=__span-95-5><a id=__codelineno-95-5 name=__codelineno-95-5></a><span class=k>class</span><span class=w> </span><span class=n>resolvconf</span><span class=o>::</span><span class=n>redhat</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-95-6><a id=__codelineno-95-6 name=__codelineno-95-6></a><span class=w>    </span><span class=c1># resolv.conf file</span>
</span><span id=__span-95-7><a id=__codelineno-95-7 name=__codelineno-95-7></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-95-8><a id=__codelineno-95-8 name=__codelineno-95-8></a><span class=w>        </span><span class=s2>&quot;/etc/resolv.conf&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-95-9><a id=__codelineno-95-9 name=__codelineno-95-9></a><span class=w>            </span><span class=n>content</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>template</span><span class=p>(</span><span class=s2>&quot;resolvconf/resolv.conf&quot;</span><span class=p>),</span>
</span><span id=__span-95-10><a id=__codelineno-95-10 name=__codelineno-95-10></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>744</span><span class=p>,</span>
</span><span id=__span-95-11><a id=__codelineno-95-11 name=__codelineno-95-11></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-95-12><a id=__codelineno-95-12 name=__codelineno-95-12></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span>
</span><span id=__span-95-13><a id=__codelineno-95-13 name=__codelineno-95-13></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-95-14><a id=__codelineno-95-14 name=__codelineno-95-14></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=templates_1>templates</h4> <p>And finally my resolv.conf template file:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-96-1>1</a></span>
<span class=normal><a href=#__codelineno-96-2>2</a></span>
<span class=normal><a href=#__codelineno-96-3>3</a></span>
<span class=normal><a href=#__codelineno-96-4>4</a></span>
<span class=normal><a href=#__codelineno-96-5>5</a></span>
<span class=normal><a href=#__codelineno-96-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-96-1><a id=__codelineno-96-1 name=__codelineno-96-1></a><span class=c1># Generated by Puppet</span>
</span><span id=__span-96-2><a id=__codelineno-96-2 name=__codelineno-96-2></a><span class=n>domain</span><span class=w> </span><span class=n>deimos</span><span class=o>.</span><span class=n>fr</span>
</span><span id=__span-96-3><a id=__codelineno-96-3 name=__codelineno-96-3></a><span class=n>search</span><span class=w> </span><span class=n>deimos</span><span class=o>.</span><span class=n>fr</span><span class=w> </span><span class=n>deimos</span><span class=o>.</span><span class=n>lan</span>
</span><span id=__span-96-4><a id=__codelineno-96-4 name=__codelineno-96-4></a><span class=o>&lt;</span><span class=sx>% dns_servers.each </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>dnsval</span><span class=o>|</span><span class=w> </span><span class=o>-</span><span class=sx>%&gt;</span>
</span><span id=__span-96-5><a id=__codelineno-96-5 name=__codelineno-96-5></a><span class=sx>nameserver &lt;%= dnsval %&gt;</span>
</span><span id=__span-96-6><a id=__codelineno-96-6 name=__codelineno-96-6></a><span class=o>&lt;</span><span class=sx>% end </span><span class=o>-%&gt;</span>
</span></code></pre></div></td></tr></table></div> <p>Here we have a ruby loop that will go through the $dns_servers array and build the resolv.conf file by inserting line by line 'nameserver' with the associated server.</p> <h2 id=puppet-configuration-file-management-solution>Puppet: Configuration File Management Solution</h2> <h3 id=packages_defaults>packages_defaults</h3> <p>I use this module to install or uninstall packages that I absolutely need on all my machines. Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-97-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-97-1><a id=__codelineno-97-1 name=__codelineno-97-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/packages_defaults/manifests
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_3>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-98-1> 1</a></span>
<span class=normal><a href=#__codelineno-98-2> 2</a></span>
<span class=normal><a href=#__codelineno-98-3> 3</a></span>
<span class=normal><a href=#__codelineno-98-4> 4</a></span>
<span class=normal><a href=#__codelineno-98-5> 5</a></span>
<span class=normal><a href=#__codelineno-98-6> 6</a></span>
<span class=normal><a href=#__codelineno-98-7> 7</a></span>
<span class=normal><a href=#__codelineno-98-8> 8</a></span>
<span class=normal><a href=#__codelineno-98-9> 9</a></span>
<span class=normal><a href=#__codelineno-98-10>10</a></span>
<span class=normal><a href=#__codelineno-98-11>11</a></span>
<span class=normal><a href=#__codelineno-98-12>12</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-98-1><a id=__codelineno-98-1 name=__codelineno-98-1></a><span class=k>class</span><span class=w> </span><span class=n>packages_defaults</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-98-2><a id=__codelineno-98-2 name=__codelineno-98-2></a><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-98-3><a id=__codelineno-98-3 name=__codelineno-98-3></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-98-4><a id=__codelineno-98-4 name=__codelineno-98-4></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-98-5><a id=__codelineno-98-5 name=__codelineno-98-5></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=o>::</span><span class=n>packages_defaults</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-98-6><a id=__codelineno-98-6 name=__codelineno-98-6></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-98-7><a id=__codelineno-98-7 name=__codelineno-98-7></a><span class=w>        </span><span class=c1>#&#39;sunos&#39;:  { include packages_defaults::solaris }</span>
</span><span id=__span-98-8><a id=__codelineno-98-8 name=__codelineno-98-8></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-98-9><a id=__codelineno-98-9 name=__codelineno-98-9></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-98-10><a id=__codelineno-98-10 name=__codelineno-98-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-98-11><a id=__codelineno-98-11 name=__codelineno-98-11></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-98-12><a id=__codelineno-98-12 name=__codelineno-98-12></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_2>redhat.pp</h4> <p>I could have grouped everything into a single block, but for the sake of readability on the packages included in the distribution and those I added in a custom repository, I preferred to make a separation:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-99-1> 1</a></span>
<span class=normal><a href=#__codelineno-99-2> 2</a></span>
<span class=normal><a href=#__codelineno-99-3> 3</a></span>
<span class=normal><a href=#__codelineno-99-4> 4</a></span>
<span class=normal><a href=#__codelineno-99-5> 5</a></span>
<span class=normal><a href=#__codelineno-99-6> 6</a></span>
<span class=normal><a href=#__codelineno-99-7> 7</a></span>
<span class=normal><a href=#__codelineno-99-8> 8</a></span>
<span class=normal><a href=#__codelineno-99-9> 9</a></span>
<span class=normal><a href=#__codelineno-99-10>10</a></span>
<span class=normal><a href=#__codelineno-99-11>11</a></span>
<span class=normal><a href=#__codelineno-99-12>12</a></span>
<span class=normal><a href=#__codelineno-99-13>13</a></span>
<span class=normal><a href=#__codelineno-99-14>14</a></span>
<span class=normal><a href=#__codelineno-99-15>15</a></span>
<span class=normal><a href=#__codelineno-99-16>16</a></span>
<span class=normal><a href=#__codelineno-99-17>17</a></span>
<span class=normal><a href=#__codelineno-99-18>18</a></span>
<span class=normal><a href=#__codelineno-99-19>19</a></span>
<span class=normal><a href=#__codelineno-99-20>20</a></span>
<span class=normal><a href=#__codelineno-99-21>21</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-99-1><a id=__codelineno-99-1 name=__codelineno-99-1></a><span class=c1># Red Hat Defaults packages</span>
</span><span id=__span-99-2><a id=__codelineno-99-2 name=__codelineno-99-2></a><span class=k>class</span><span class=w> </span><span class=n>packages_defaults</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-99-3><a id=__codelineno-99-3 name=__codelineno-99-3></a><span class=p>{</span>
</span><span id=__span-99-4><a id=__codelineno-99-4 name=__codelineno-99-4></a><span class=w>    </span><span class=c1># Set all default packages (embended in distribution) that need to be installed</span>
</span><span id=__span-99-5><a id=__codelineno-99-5 name=__codelineno-99-5></a><span class=w>    </span><span class=n>packages_install</span>
</span><span id=__span-99-6><a id=__codelineno-99-6 name=__codelineno-99-6></a><span class=w>    </span><span class=p>{</span><span class=w> </span><span class=o>[</span>
</span><span id=__span-99-7><a id=__codelineno-99-7 name=__codelineno-99-7></a><span class=w>        </span><span class=s1>&#39;nc&#39;</span><span class=p>,</span>
</span><span id=__span-99-8><a id=__codelineno-99-8 name=__codelineno-99-8></a><span class=w>        </span><span class=s1>&#39;tree&#39;</span><span class=p>,</span>
</span><span id=__span-99-9><a id=__codelineno-99-9 name=__codelineno-99-9></a><span class=w>        </span><span class=s1>&#39;telnet&#39;</span><span class=p>,</span>
</span><span id=__span-99-10><a id=__codelineno-99-10 name=__codelineno-99-10></a><span class=w>        </span><span class=s1>&#39;dialog&#39;</span><span class=p>,</span>
</span><span id=__span-99-11><a id=__codelineno-99-11 name=__codelineno-99-11></a><span class=w>        </span><span class=s1>&#39;freeipmi&#39;</span><span class=p>,</span>
</span><span id=__span-99-12><a id=__codelineno-99-12 name=__codelineno-99-12></a><span class=w>        </span><span class=s1>&#39;glibc-2.12-1.80.el6.i686&#39;</span>
</span><span id=__span-99-13><a id=__codelineno-99-13 name=__codelineno-99-13></a><span class=w>    </span><span class=o>]</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-99-14><a id=__codelineno-99-14 name=__codelineno-99-14></a>
</span><span id=__span-99-15><a id=__codelineno-99-15 name=__codelineno-99-15></a><span class=w>    </span><span class=c1># Set all custom packages (not embended in distribution) that need to be installed</span>
</span><span id=__span-99-16><a id=__codelineno-99-16 name=__codelineno-99-16></a><span class=w>    </span><span class=n>packages_install</span>
</span><span id=__span-99-17><a id=__codelineno-99-17 name=__codelineno-99-17></a><span class=w>    </span><span class=p>{</span><span class=w> </span><span class=o>[</span>
</span><span id=__span-99-18><a id=__codelineno-99-18 name=__codelineno-99-18></a><span class=w>        </span><span class=s1>&#39;puppet&#39;</span><span class=p>,</span>
</span><span id=__span-99-19><a id=__codelineno-99-19 name=__codelineno-99-19></a><span class=w>        </span><span class=s1>&#39;tmux&#39;</span>
</span><span id=__span-99-20><a id=__codelineno-99-20 name=__codelineno-99-20></a><span class=w>    </span><span class=o>]</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-99-21><a id=__codelineno-99-21 name=__codelineno-99-21></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=configurations_defaults>configurations_defaults</h3> <p>This module, like the previous one, is used for the configuration of the OS delivered as standard. I actually want to make adjustments to parts of the pure system here, without really getting into a particular software. Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-100-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-100-1><a id=__codelineno-100-1 name=__codelineno-100-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/configuration_defaults/<span class=o>{</span>manifests,templates,lib/facter<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_4>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-101-1> 1</a></span>
<span class=normal><a href=#__codelineno-101-2> 2</a></span>
<span class=normal><a href=#__codelineno-101-3> 3</a></span>
<span class=normal><a href=#__codelineno-101-4> 4</a></span>
<span class=normal><a href=#__codelineno-101-5> 5</a></span>
<span class=normal><a href=#__codelineno-101-6> 6</a></span>
<span class=normal><a href=#__codelineno-101-7> 7</a></span>
<span class=normal><a href=#__codelineno-101-8> 8</a></span>
<span class=normal><a href=#__codelineno-101-9> 9</a></span>
<span class=normal><a href=#__codelineno-101-10>10</a></span>
<span class=normal><a href=#__codelineno-101-11>11</a></span>
<span class=normal><a href=#__codelineno-101-12>12</a></span>
<span class=normal><a href=#__codelineno-101-13>13</a></span>
<span class=normal><a href=#__codelineno-101-14>14</a></span>
<span class=normal><a href=#__codelineno-101-15>15</a></span>
<span class=normal><a href=#__codelineno-101-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-101-1><a id=__codelineno-101-1 name=__codelineno-101-1></a><span class=k>class</span><span class=w> </span><span class=n>configurations_defaults</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-101-2><a id=__codelineno-101-2 name=__codelineno-101-2></a><span class=w>    </span><span class=n>import</span><span class=w> </span><span class=s1>&#39;*.pp&#39;</span>
</span><span id=__span-101-3><a id=__codelineno-101-3 name=__codelineno-101-3></a>
</span><span id=__span-101-4><a id=__codelineno-101-4 name=__codelineno-101-4></a><span class=w>    </span><span class=c1># Configure common security parameters</span>
</span><span id=__span-101-5><a id=__codelineno-101-5 name=__codelineno-101-5></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>configurations_defaults</span><span class=o>::</span><span class=n>common</span>
</span><span id=__span-101-6><a id=__codelineno-101-6 name=__codelineno-101-6></a>
</span><span id=__span-101-7><a id=__codelineno-101-7 name=__codelineno-101-7></a><span class=w>    </span><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-101-8><a id=__codelineno-101-8 name=__codelineno-101-8></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-101-9><a id=__codelineno-101-9 name=__codelineno-101-9></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-101-10><a id=__codelineno-101-10 name=__codelineno-101-10></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>configurations_defaults</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-101-11><a id=__codelineno-101-11 name=__codelineno-101-11></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-101-12><a id=__codelineno-101-12 name=__codelineno-101-12></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-101-13><a id=__codelineno-101-13 name=__codelineno-101-13></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-101-14><a id=__codelineno-101-14 name=__codelineno-101-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-101-15><a id=__codelineno-101-15 name=__codelineno-101-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-101-16><a id=__codelineno-101-16 name=__codelineno-101-16></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Here I load all .pp files at startup, then call and import common configurations (common), then apply configurations specific to each OS.</p> <h4 id=commonpp_1>common.pp</h4> <p>Here I want to have the same base motd file for all my machines. You'll see later why it appears as a template:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-102-1> 1</a></span>
<span class=normal><a href=#__codelineno-102-2> 2</a></span>
<span class=normal><a href=#__codelineno-102-3> 3</a></span>
<span class=normal><a href=#__codelineno-102-4> 4</a></span>
<span class=normal><a href=#__codelineno-102-5> 5</a></span>
<span class=normal><a href=#__codelineno-102-6> 6</a></span>
<span class=normal><a href=#__codelineno-102-7> 7</a></span>
<span class=normal><a href=#__codelineno-102-8> 8</a></span>
<span class=normal><a href=#__codelineno-102-9> 9</a></span>
<span class=normal><a href=#__codelineno-102-10>10</a></span>
<span class=normal><a href=#__codelineno-102-11>11</a></span>
<span class=normal><a href=#__codelineno-102-12>12</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-102-1><a id=__codelineno-102-1 name=__codelineno-102-1></a><span class=k>class</span><span class=w> </span><span class=n>configurations_defaults</span><span class=o>::</span><span class=n>common</span>
</span><span id=__span-102-2><a id=__codelineno-102-2 name=__codelineno-102-2></a><span class=p>{</span>
</span><span id=__span-102-3><a id=__codelineno-102-3 name=__codelineno-102-3></a><span class=w>    </span><span class=c1># Motd banner for all servers</span>
</span><span id=__span-102-4><a id=__codelineno-102-4 name=__codelineno-102-4></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-102-5><a id=__codelineno-102-5 name=__codelineno-102-5></a><span class=w>        </span><span class=s1>&#39;/etc/motd&#39;</span><span class=p>:</span>
</span><span id=__span-102-6><a id=__codelineno-102-6 name=__codelineno-102-6></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span><span class=p>,</span>
</span><span id=__span-102-7><a id=__codelineno-102-7 name=__codelineno-102-7></a><span class=w>            </span><span class=n>content</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>template</span><span class=p>(</span><span class=s2>&quot;configurations_defaults/motd&quot;</span><span class=p>),</span>
</span><span id=__span-102-8><a id=__codelineno-102-8 name=__codelineno-102-8></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span>
</span><span id=__span-102-9><a id=__codelineno-102-9 name=__codelineno-102-9></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-102-10><a id=__codelineno-102-10 name=__codelineno-102-10></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span>
</span><span id=__span-102-11><a id=__codelineno-102-11 name=__codelineno-102-11></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-102-12><a id=__codelineno-102-12 name=__codelineno-102-12></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_3>redhat.pp</h4> <p>I will load security options here, automatically configure bonding on my machines, and a sysctl option:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-103-1> 1</a></span>
<span class=normal><a href=#__codelineno-103-2> 2</a></span>
<span class=normal><a href=#__codelineno-103-3> 3</a></span>
<span class=normal><a href=#__codelineno-103-4> 4</a></span>
<span class=normal><a href=#__codelineno-103-5> 5</a></span>
<span class=normal><a href=#__codelineno-103-6> 6</a></span>
<span class=normal><a href=#__codelineno-103-7> 7</a></span>
<span class=normal><a href=#__codelineno-103-8> 8</a></span>
<span class=normal><a href=#__codelineno-103-9> 9</a></span>
<span class=normal><a href=#__codelineno-103-10>10</a></span>
<span class=normal><a href=#__codelineno-103-11>11</a></span>
<span class=normal><a href=#__codelineno-103-12>12</a></span>
<span class=normal><a href=#__codelineno-103-13>13</a></span>
<span class=normal><a href=#__codelineno-103-14>14</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-103-1><a id=__codelineno-103-1 name=__codelineno-103-1></a><span class=k>class</span><span class=w> </span><span class=n>configurations_defaults</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-103-2><a id=__codelineno-103-2 name=__codelineno-103-2></a><span class=p>{</span>
</span><span id=__span-103-3><a id=__codelineno-103-3 name=__codelineno-103-3></a><span class=w>    </span><span class=c1># Security configurations</span>
</span><span id=__span-103-4><a id=__codelineno-103-4 name=__codelineno-103-4></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=s1>&#39;configurations_defaults::redhat::security&#39;</span>
</span><span id=__span-103-5><a id=__codelineno-103-5 name=__codelineno-103-5></a>
</span><span id=__span-103-6><a id=__codelineno-103-6 name=__codelineno-103-6></a><span class=w>    </span><span class=c1># Configure bonding</span>
</span><span id=__span-103-7><a id=__codelineno-103-7 name=__codelineno-103-7></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=s1>&#39;configurations_defaults::redhat::network&#39;</span>
</span><span id=__span-103-8><a id=__codelineno-103-8 name=__codelineno-103-8></a>
</span><span id=__span-103-9><a id=__codelineno-103-9 name=__codelineno-103-9></a><span class=w>    </span><span class=c1># Set sysctl options</span>
</span><span id=__span-103-10><a id=__codelineno-103-10 name=__codelineno-103-10></a><span class=w>    </span><span class=n>sysctl</span><span class=o>::</span><span class=n>conf</span>
</span><span id=__span-103-11><a id=__codelineno-103-11 name=__codelineno-103-11></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-103-12><a id=__codelineno-103-12 name=__codelineno-103-12></a><span class=w>        </span><span class=s1>&#39;vm.swappiness&#39;</span><span class=p>:</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;0&#39;</span><span class=p>;</span>
</span><span id=__span-103-13><a id=__codelineno-103-13 name=__codelineno-103-13></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-103-14><a id=__codelineno-103-14 name=__codelineno-103-14></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=securitypp>security.pp</h4> <p>You'll see that this file does quite a lot:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-104-1> 1</a></span>
<span class=normal><a href=#__codelineno-104-2> 2</a></span>
<span class=normal><a href=#__codelineno-104-3> 3</a></span>
<span class=normal><a href=#__codelineno-104-4> 4</a></span>
<span class=normal><a href=#__codelineno-104-5> 5</a></span>
<span class=normal><a href=#__codelineno-104-6> 6</a></span>
<span class=normal><a href=#__codelineno-104-7> 7</a></span>
<span class=normal><a href=#__codelineno-104-8> 8</a></span>
<span class=normal><a href=#__codelineno-104-9> 9</a></span>
<span class=normal><a href=#__codelineno-104-10>10</a></span>
<span class=normal><a href=#__codelineno-104-11>11</a></span>
<span class=normal><a href=#__codelineno-104-12>12</a></span>
<span class=normal><a href=#__codelineno-104-13>13</a></span>
<span class=normal><a href=#__codelineno-104-14>14</a></span>
<span class=normal><a href=#__codelineno-104-15>15</a></span>
<span class=normal><a href=#__codelineno-104-16>16</a></span>
<span class=normal><a href=#__codelineno-104-17>17</a></span>
<span class=normal><a href=#__codelineno-104-18>18</a></span>
<span class=normal><a href=#__codelineno-104-19>19</a></span>
<span class=normal><a href=#__codelineno-104-20>20</a></span>
<span class=normal><a href=#__codelineno-104-21>21</a></span>
<span class=normal><a href=#__codelineno-104-22>22</a></span>
<span class=normal><a href=#__codelineno-104-23>23</a></span>
<span class=normal><a href=#__codelineno-104-24>24</a></span>
<span class=normal><a href=#__codelineno-104-25>25</a></span>
<span class=normal><a href=#__codelineno-104-26>26</a></span>
<span class=normal><a href=#__codelineno-104-27>27</a></span>
<span class=normal><a href=#__codelineno-104-28>28</a></span>
<span class=normal><a href=#__codelineno-104-29>29</a></span>
<span class=normal><a href=#__codelineno-104-30>30</a></span>
<span class=normal><a href=#__codelineno-104-31>31</a></span>
<span class=normal><a href=#__codelineno-104-32>32</a></span>
<span class=normal><a href=#__codelineno-104-33>33</a></span>
<span class=normal><a href=#__codelineno-104-34>34</a></span>
<span class=normal><a href=#__codelineno-104-35>35</a></span>
<span class=normal><a href=#__codelineno-104-36>36</a></span>
<span class=normal><a href=#__codelineno-104-37>37</a></span>
<span class=normal><a href=#__codelineno-104-38>38</a></span>
<span class=normal><a href=#__codelineno-104-39>39</a></span>
<span class=normal><a href=#__codelineno-104-40>40</a></span>
<span class=normal><a href=#__codelineno-104-41>41</a></span>
<span class=normal><a href=#__codelineno-104-42>42</a></span>
<span class=normal><a href=#__codelineno-104-43>43</a></span>
<span class=normal><a href=#__codelineno-104-44>44</a></span>
<span class=normal><a href=#__codelineno-104-45>45</a></span>
<span class=normal><a href=#__codelineno-104-46>46</a></span>
<span class=normal><a href=#__codelineno-104-47>47</a></span>
<span class=normal><a href=#__codelineno-104-48>48</a></span>
<span class=normal><a href=#__codelineno-104-49>49</a></span>
<span class=normal><a href=#__codelineno-104-50>50</a></span>
<span class=normal><a href=#__codelineno-104-51>51</a></span>
<span class=normal><a href=#__codelineno-104-52>52</a></span>
<span class=normal><a href=#__codelineno-104-53>53</a></span>
<span class=normal><a href=#__codelineno-104-54>54</a></span>
<span class=normal><a href=#__codelineno-104-55>55</a></span>
<span class=normal><a href=#__codelineno-104-56>56</a></span>
<span class=normal><a href=#__codelineno-104-57>57</a></span>
<span class=normal><a href=#__codelineno-104-58>58</a></span>
<span class=normal><a href=#__codelineno-104-59>59</a></span>
<span class=normal><a href=#__codelineno-104-60>60</a></span>
<span class=normal><a href=#__codelineno-104-61>61</a></span>
<span class=normal><a href=#__codelineno-104-62>62</a></span>
<span class=normal><a href=#__codelineno-104-63>63</a></span>
<span class=normal><a href=#__codelineno-104-64>64</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-104-1><a id=__codelineno-104-1 name=__codelineno-104-1></a><span class=k>class</span><span class=w> </span><span class=n>configurations_defaults</span><span class=o>::</span><span class=n>redhat</span><span class=o>::</span><span class=n>security</span><span class=w> </span><span class=n>inherits</span><span class=w> </span><span class=n>configurations_defaults</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-104-2><a id=__codelineno-104-2 name=__codelineno-104-2></a><span class=p>{</span>
</span><span id=__span-104-3><a id=__codelineno-104-3 name=__codelineno-104-3></a><span class=w>    </span><span class=c1># Manage Root passwords    $sha512_passwd=&#39;$6$lhkAz...&#39;</span>
</span><span id=__span-104-4><a id=__codelineno-104-4 name=__codelineno-104-4></a><span class=w>    </span><span class=vg>$md5_passwd</span><span class=o>=</span><span class=s1>&#39;$1$Fcwy...&#39;</span>
</span><span id=__span-104-5><a id=__codelineno-104-5 name=__codelineno-104-5></a>
</span><span id=__span-104-6><a id=__codelineno-104-6 name=__codelineno-104-6></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=vg>$:</span><span class=ss>:passwd_algorithm</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>sha512</span><span class=p>)</span>
</span><span id=__span-104-7><a id=__codelineno-104-7 name=__codelineno-104-7></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-104-8><a id=__codelineno-104-8 name=__codelineno-104-8></a><span class=w>        </span><span class=c1># sha512 root password</span>
</span><span id=__span-104-9><a id=__codelineno-104-9 name=__codelineno-104-9></a><span class=w>        </span><span class=vg>$root_password</span><span class=o>=</span><span class=s2>&quot;$sha512_passwd&quot;</span>
</span><span id=__span-104-10><a id=__codelineno-104-10 name=__codelineno-104-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-104-11><a id=__codelineno-104-11 name=__codelineno-104-11></a><span class=w>    </span><span class=k>else</span>
</span><span id=__span-104-12><a id=__codelineno-104-12 name=__codelineno-104-12></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-104-13><a id=__codelineno-104-13 name=__codelineno-104-13></a><span class=w>        </span><span class=c1># MD5 root password</span>
</span><span id=__span-104-14><a id=__codelineno-104-14 name=__codelineno-104-14></a><span class=w>        </span><span class=vg>$root_password</span><span class=o>=</span><span class=s2>&quot;$md5_passwd&quot;</span>
</span><span id=__span-104-15><a id=__codelineno-104-15 name=__codelineno-104-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-104-16><a id=__codelineno-104-16 name=__codelineno-104-16></a><span class=w>    </span><span class=n>user</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-104-17><a id=__codelineno-104-17 name=__codelineno-104-17></a><span class=w>        </span><span class=s1>&#39;root&#39;</span><span class=p>:</span>
</span><span id=__span-104-18><a id=__codelineno-104-18 name=__codelineno-104-18></a><span class=w>            </span><span class=k>ensure</span><span class=w>   </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span><span class=p>,</span>
</span><span id=__span-104-19><a id=__codelineno-104-19 name=__codelineno-104-19></a><span class=w>            </span><span class=n>password</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$root_password&quot;</span>
</span><span id=__span-104-20><a id=__codelineno-104-20 name=__codelineno-104-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-104-21><a id=__codelineno-104-21 name=__codelineno-104-21></a>
</span><span id=__span-104-22><a id=__codelineno-104-22 name=__codelineno-104-22></a><span class=w>    </span><span class=c1># Enable auditd service    service {</span>
</span><span id=__span-104-23><a id=__codelineno-104-23 name=__codelineno-104-23></a><span class=w>        </span><span class=s2>&quot;auditd&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-104-24><a id=__codelineno-104-24 name=__codelineno-104-24></a><span class=w>            </span><span class=n>enable</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-104-25><a id=__codelineno-104-25 name=__codelineno-104-25></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;running&#39;</span><span class=p>,</span>
</span><span id=__span-104-26><a id=__codelineno-104-26 name=__codelineno-104-26></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-104-27><a id=__codelineno-104-27 name=__codelineno-104-27></a>
</span><span id=__span-104-28><a id=__codelineno-104-28 name=__codelineno-104-28></a><span class=w>    </span><span class=c1># Comment unwanted sysctl lines    $sysctl_file = &#39;/etc/sysctl.conf&#39;</span>
</span><span id=__span-104-29><a id=__codelineno-104-29 name=__codelineno-104-29></a><span class=w>    </span><span class=vg>$sysctl_comment_lines</span><span class=w> </span><span class=o>=</span>
</span><span id=__span-104-30><a id=__codelineno-104-30 name=__codelineno-104-30></a><span class=w>    </span><span class=o>[</span>
</span><span id=__span-104-31><a id=__codelineno-104-31 name=__codelineno-104-31></a><span class=w>        </span><span class=s2>&quot;net.bridge.bridge-nf-call-ip6tables&quot;</span><span class=p>,</span>
</span><span id=__span-104-32><a id=__codelineno-104-32 name=__codelineno-104-32></a><span class=w>        </span><span class=s2>&quot;net.bridge.bridge-nf-call-iptables&quot;</span><span class=p>,</span>
</span><span id=__span-104-33><a id=__codelineno-104-33 name=__codelineno-104-33></a><span class=w>        </span><span class=s2>&quot;net.bridge.bridge-nf-call-arptables&quot;</span>
</span><span id=__span-104-34><a id=__codelineno-104-34 name=__codelineno-104-34></a><span class=w>    </span><span class=o>]</span>
</span><span id=__span-104-35><a id=__codelineno-104-35 name=__codelineno-104-35></a><span class=w>    </span><span class=n>comment_lines</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-104-36><a id=__codelineno-104-36 name=__codelineno-104-36></a><span class=w>        </span><span class=vg>$sysctl_comment_lines</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-104-37><a id=__codelineno-104-37 name=__codelineno-104-37></a><span class=w>            </span><span class=n>filename</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$sysctl_file&quot;</span>
</span><span id=__span-104-38><a id=__codelineno-104-38 name=__codelineno-104-38></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-104-39><a id=__codelineno-104-39 name=__codelineno-104-39></a>
</span><span id=__span-104-40><a id=__codelineno-104-40 name=__codelineno-104-40></a><span class=w>    </span><span class=c1># Add security sysctl values    sysctl::conf</span>
</span><span id=__span-104-41><a id=__codelineno-104-41 name=__codelineno-104-41></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-104-42><a id=__codelineno-104-42 name=__codelineno-104-42></a><span class=w>        </span><span class=s1>&#39;vm.mmap_min_addr&#39;</span><span class=p>:</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;65536&#39;</span><span class=p>;</span>
</span><span id=__span-104-43><a id=__codelineno-104-43 name=__codelineno-104-43></a><span class=w>        </span><span class=s1>&#39;kernel.modprobe&#39;</span><span class=p>:</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;/bin/false&#39;</span><span class=p>;</span>
</span><span id=__span-104-44><a id=__codelineno-104-44 name=__codelineno-104-44></a><span class=w>        </span><span class=s1>&#39;kernel.kptr_restrict&#39;</span><span class=p>:</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;1&#39;</span><span class=p>;</span>
</span><span id=__span-104-45><a id=__codelineno-104-45 name=__codelineno-104-45></a><span class=w>        </span><span class=s1>&#39;net.ipv6.conf.all.disable_ipv6&#39;</span><span class=p>:</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;1&#39;</span><span class=p>;</span>
</span><span id=__span-104-46><a id=__codelineno-104-46 name=__codelineno-104-46></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-104-47><a id=__codelineno-104-47 name=__codelineno-104-47></a>
</span><span id=__span-104-48><a id=__codelineno-104-48 name=__codelineno-104-48></a><span class=w>    </span><span class=c1># Deny kernel read to others users    case $::kernel_security_rights {</span>
</span><span id=__span-104-49><a id=__codelineno-104-49 name=__codelineno-104-49></a><span class=w>        </span><span class=s1>&#39;0&#39;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-104-50><a id=__codelineno-104-50 name=__codelineno-104-50></a><span class=w>            </span><span class=nb>exec</span><span class=w> </span><span class=p>{</span><span class=s1>&#39;chmod_kernel&#39;</span><span class=p>:</span>
</span><span id=__span-104-51><a id=__codelineno-104-51 name=__codelineno-104-51></a><span class=w>                </span><span class=n>command</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;chmod o-r /boot/{vmlinuz,System.map}-*&#39;</span>
</span><span id=__span-104-52><a id=__codelineno-104-52 name=__codelineno-104-52></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-104-53><a id=__codelineno-104-53 name=__codelineno-104-53></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-104-54><a id=__codelineno-104-54 name=__codelineno-104-54></a><span class=w>        </span><span class=s1>&#39;1&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-104-55><a id=__codelineno-104-55 name=__codelineno-104-55></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Kernel files have security rights&quot;</span><span class=p>)</span>
</span><span id=__span-104-56><a id=__codelineno-104-56 name=__codelineno-104-56></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-104-57><a id=__codelineno-104-57 name=__codelineno-104-57></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-104-58><a id=__codelineno-104-58 name=__codelineno-104-58></a>
</span><span id=__span-104-59><a id=__codelineno-104-59 name=__codelineno-104-59></a><span class=w>    </span><span class=c1># Change opened file descriptor value and avoid fork bomb by limiting number of process    limits_conf {</span>
</span><span id=__span-104-60><a id=__codelineno-104-60 name=__codelineno-104-60></a><span class=w>        </span><span class=s2>&quot;open_fd&quot;</span><span class=p>:</span><span class=w> </span><span class=n>domain</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;*&#39;</span><span class=p>,</span><span class=w> </span><span class=n>type</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;-&#39;</span><span class=p>,</span><span class=w> </span><span class=n>item</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>nofile</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>2048</span><span class=p>;</span>
</span><span id=__span-104-61><a id=__codelineno-104-61 name=__codelineno-104-61></a><span class=w>        </span><span class=s2>&quot;fork_bomb_soft&quot;</span><span class=p>:</span><span class=w> </span><span class=n>domain</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;@users&#39;</span><span class=p>,</span><span class=w> </span><span class=n>type</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>soft</span><span class=p>,</span><span class=w> </span><span class=n>item</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>nproc</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>200</span><span class=p>;</span>
</span><span id=__span-104-62><a id=__codelineno-104-62 name=__codelineno-104-62></a><span class=w>        </span><span class=s2>&quot;fork_bomb_hard&quot;</span><span class=p>:</span><span class=w> </span><span class=n>domain</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;@users&#39;</span><span class=p>,</span><span class=w> </span><span class=n>type</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>hard</span><span class=p>,</span><span class=w> </span><span class=n>item</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>nproc</span><span class=p>,</span><span class=w> </span><span class=n>value</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>300</span><span class=p>;</span>
</span><span id=__span-104-63><a id=__codelineno-104-63 name=__codelineno-104-63></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-104-64><a id=__codelineno-104-64 name=__codelineno-104-64></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Some explanations are needed:</p> <ul> <li>Manage Root passwords: We define the desired root password in md5 and sha1 form. Depending on what's configured on the machine, it will configure the desired password. For this detection I use a facter (passwd_algorithm.rb)</li> <li>Enable auditd service: we make sure that the auditd service will start at boot and is currently running</li> <li>Comment unwanted sysctl lines: we ask that certain lines present in sysctl be commented if they exist</li> <li>Add security sysctl values: we add sysctl rules, and assign them a value</li> <li>Deny kernel read to others users: I created a facter here, which checks the rights of kernel files (kernel_rights.rb)</li> <li>Change opened file descriptor value: allows to use the limits_conf function to manage the limits.conf file. Here I've changed the default value of file descriptors and added a small security to avoid fork bombs.</li> </ul> <h4 id=facter>facter</h4> <p>We'll insert here the facters that will be used for certain functions requested above.</p> <h5 id=passwd_algorithmrb>passwd_algorithm.rb</h5> <p>This facter will determine the algorithm used for authentication:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-105-1>1</a></span>
<span class=normal><a href=#__codelineno-105-2>2</a></span>
<span class=normal><a href=#__codelineno-105-3>3</a></span>
<span class=normal><a href=#__codelineno-105-4>4</a></span>
<span class=normal><a href=#__codelineno-105-5>5</a></span>
<span class=normal><a href=#__codelineno-105-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-105-1><a id=__codelineno-105-1 name=__codelineno-105-1></a><span class=c1># Get Passwd Algorithm</span>
</span><span id=__span-105-2><a id=__codelineno-105-2 name=__codelineno-105-2></a><span class=no>Facter</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&quot;passwd_algorithm&quot;</span><span class=p>)</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-105-3><a id=__codelineno-105-3 name=__codelineno-105-3></a><span class=w>  </span><span class=n>setcode</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-105-4><a id=__codelineno-105-4 name=__codelineno-105-4></a><span class=w>    </span><span class=no>Facter</span><span class=o>::</span><span class=no>Util</span><span class=o>::</span><span class=no>Resolution</span><span class=o>.</span><span class=n>exec</span><span class=p>(</span><span class=s2>&quot;grep ^PASSWDALGORITHM /etc/sysconfig/authconfig | awk -F&#39;=&#39; &#39;{ print $2 }&#39;&quot;</span><span class=p>)</span>
</span><span id=__span-105-5><a id=__codelineno-105-5 name=__codelineno-105-5></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-105-6><a id=__codelineno-105-6 name=__codelineno-105-6></a><span class=k>end</span>
</span></code></pre></div></td></tr></table></div> <h5 id=kernel_rightsrb>kernel_rights.rb</h5> <p>This facter will determine if any user has the right to read the kernels installed on the current machine:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-106-1> 1</a></span>
<span class=normal><a href=#__codelineno-106-2> 2</a></span>
<span class=normal><a href=#__codelineno-106-3> 3</a></span>
<span class=normal><a href=#__codelineno-106-4> 4</a></span>
<span class=normal><a href=#__codelineno-106-5> 5</a></span>
<span class=normal><a href=#__codelineno-106-6> 6</a></span>
<span class=normal><a href=#__codelineno-106-7> 7</a></span>
<span class=normal><a href=#__codelineno-106-8> 8</a></span>
<span class=normal><a href=#__codelineno-106-9> 9</a></span>
<span class=normal><a href=#__codelineno-106-10>10</a></span>
<span class=normal><a href=#__codelineno-106-11>11</a></span>
<span class=normal><a href=#__codelineno-106-12>12</a></span>
<span class=normal><a href=#__codelineno-106-13>13</a></span>
<span class=normal><a href=#__codelineno-106-14>14</a></span>
<span class=normal><a href=#__codelineno-106-15>15</a></span>
<span class=normal><a href=#__codelineno-106-16>16</a></span>
<span class=normal><a href=#__codelineno-106-17>17</a></span>
<span class=normal><a href=#__codelineno-106-18>18</a></span>
<span class=normal><a href=#__codelineno-106-19>19</a></span>
<span class=normal><a href=#__codelineno-106-20>20</a></span>
<span class=normal><a href=#__codelineno-106-21>21</a></span>
<span class=normal><a href=#__codelineno-106-22>22</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-106-1><a id=__codelineno-106-1 name=__codelineno-106-1></a><span class=c1># Get security rights</span>
</span><span id=__span-106-2><a id=__codelineno-106-2 name=__codelineno-106-2></a><span class=no>Facter</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=ss>:kernel_security_rights</span><span class=p>)</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-106-3><a id=__codelineno-106-3 name=__codelineno-106-3></a><span class=w>  </span><span class=c1># Get kernel files where rights will be checked</span>
</span><span id=__span-106-4><a id=__codelineno-106-4 name=__codelineno-106-4></a><span class=w>  </span><span class=n>kernel_files</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=no>Dir</span><span class=o>.</span><span class=n>glob</span><span class=p>(</span><span class=s2>&quot;/boot/{vmlinuz,System.map}-*&quot;</span><span class=p>)</span>
</span><span id=__span-106-5><a id=__codelineno-106-5 name=__codelineno-106-5></a><span class=w>  </span><span class=n>current_rights</span><span class=o>=</span><span class=mi>1</span>
</span><span id=__span-106-6><a id=__codelineno-106-6 name=__codelineno-106-6></a>
</span><span id=__span-106-7><a id=__codelineno-106-7 name=__codelineno-106-7></a><span class=w>  </span><span class=c1># Check each files</span>
</span><span id=__span-106-8><a id=__codelineno-106-8 name=__codelineno-106-8></a><span class=w>  </span><span class=n>kernel_files</span><span class=o>.</span><span class=n>each</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>file</span><span class=o>|</span>
</span><span id=__span-106-9><a id=__codelineno-106-9 name=__codelineno-106-9></a><span class=w>    </span><span class=c1># Get file mode</span>
</span><span id=__span-106-10><a id=__codelineno-106-10 name=__codelineno-106-10></a><span class=w>    </span><span class=n>full_rights</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>sprintf</span><span class=p>(</span><span class=s2>&quot;%o&quot;</span><span class=p>,</span><span class=w> </span><span class=no>File</span><span class=o>.</span><span class=n>stat</span><span class=p>(</span><span class=n>file</span><span class=p>)</span><span class=o>.</span><span class=n>mode</span><span class=p>)</span>
</span><span id=__span-106-11><a id=__codelineno-106-11 name=__codelineno-106-11></a><span class=w>    </span><span class=c1># Get last number (correponding to other rights)</span>
</span><span id=__span-106-12><a id=__codelineno-106-12 name=__codelineno-106-12></a><span class=w>    </span><span class=n>other_rights</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>Integer</span><span class=p>(</span><span class=n>full_rights</span><span class=p>)</span><span class=w> </span><span class=o>%</span><span class=w> </span><span class=mi>10</span>
</span><span id=__span-106-13><a id=__codelineno-106-13 name=__codelineno-106-13></a><span class=w>    </span><span class=c1># Check if other got read rights</span>
</span><span id=__span-106-14><a id=__codelineno-106-14 name=__codelineno-106-14></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=n>other_rights</span><span class=w> </span><span class=o>&gt;=</span><span class=w> </span><span class=mi>4</span>
</span><span id=__span-106-15><a id=__codelineno-106-15 name=__codelineno-106-15></a><span class=w>      </span><span class=n>current_rights</span><span class=o>=</span><span class=mi>0</span>
</span><span id=__span-106-16><a id=__codelineno-106-16 name=__codelineno-106-16></a><span class=w>    </span><span class=k>end</span>
</span><span id=__span-106-17><a id=__codelineno-106-17 name=__codelineno-106-17></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-106-18><a id=__codelineno-106-18 name=__codelineno-106-18></a><span class=w>  </span><span class=n>setcode</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-106-19><a id=__codelineno-106-19 name=__codelineno-106-19></a><span class=w>    </span><span class=c1># Set kernel_security_rights to 1 if read value is detected</span>
</span><span id=__span-106-20><a id=__codelineno-106-20 name=__codelineno-106-20></a><span class=w>    </span><span class=n>current_rights</span>
</span><span id=__span-106-21><a id=__codelineno-106-21 name=__codelineno-106-21></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-106-22><a id=__codelineno-106-22 name=__codelineno-106-22></a><span class=k>end</span>
</span></code></pre></div></td></tr></table></div> <h5 id=get_network_infosrb>get_network_infos.rb</h5> <p>This facter allows to retrieve the current ip on eth0, the netmask and the gateway:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-107-1> 1</a></span>
<span class=normal><a href=#__codelineno-107-2> 2</a></span>
<span class=normal><a href=#__codelineno-107-3> 3</a></span>
<span class=normal><a href=#__codelineno-107-4> 4</a></span>
<span class=normal><a href=#__codelineno-107-5> 5</a></span>
<span class=normal><a href=#__codelineno-107-6> 6</a></span>
<span class=normal><a href=#__codelineno-107-7> 7</a></span>
<span class=normal><a href=#__codelineno-107-8> 8</a></span>
<span class=normal><a href=#__codelineno-107-9> 9</a></span>
<span class=normal><a href=#__codelineno-107-10>10</a></span>
<span class=normal><a href=#__codelineno-107-11>11</a></span>
<span class=normal><a href=#__codelineno-107-12>12</a></span>
<span class=normal><a href=#__codelineno-107-13>13</a></span>
<span class=normal><a href=#__codelineno-107-14>14</a></span>
<span class=normal><a href=#__codelineno-107-15>15</a></span>
<span class=normal><a href=#__codelineno-107-16>16</a></span>
<span class=normal><a href=#__codelineno-107-17>17</a></span>
<span class=normal><a href=#__codelineno-107-18>18</a></span>
<span class=normal><a href=#__codelineno-107-19>19</a></span>
<span class=normal><a href=#__codelineno-107-20>20</a></span>
<span class=normal><a href=#__codelineno-107-21>21</a></span>
<span class=normal><a href=#__codelineno-107-22>22</a></span>
<span class=normal><a href=#__codelineno-107-23>23</a></span>
<span class=normal><a href=#__codelineno-107-24>24</a></span>
<span class=normal><a href=#__codelineno-107-25>25</a></span>
<span class=normal><a href=#__codelineno-107-26>26</a></span>
<span class=normal><a href=#__codelineno-107-27>27</a></span>
<span class=normal><a href=#__codelineno-107-28>28</a></span>
<span class=normal><a href=#__codelineno-107-29>29</a></span>
<span class=normal><a href=#__codelineno-107-30>30</a></span>
<span class=normal><a href=#__codelineno-107-31>31</a></span>
<span class=normal><a href=#__codelineno-107-32>32</a></span>
<span class=normal><a href=#__codelineno-107-33>33</a></span>
<span class=normal><a href=#__codelineno-107-34>34</a></span>
<span class=normal><a href=#__codelineno-107-35>35</a></span>
<span class=normal><a href=#__codelineno-107-36>36</a></span>
<span class=normal><a href=#__codelineno-107-37>37</a></span>
<span class=normal><a href=#__codelineno-107-38>38</a></span>
<span class=normal><a href=#__codelineno-107-39>39</a></span>
<span class=normal><a href=#__codelineno-107-40>40</a></span>
<span class=normal><a href=#__codelineno-107-41>41</a></span>
<span class=normal><a href=#__codelineno-107-42>42</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-107-1><a id=__codelineno-107-1 name=__codelineno-107-1></a><span class=c1># Get public IP address</span>
</span><span id=__span-107-2><a id=__codelineno-107-2 name=__codelineno-107-2></a><span class=no>Facter</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=ss>:public_ip</span><span class=p>)</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-107-3><a id=__codelineno-107-3 name=__codelineno-107-3></a><span class=w>  </span><span class=n>setcode</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-107-4><a id=__codelineno-107-4 name=__codelineno-107-4></a><span class=w>    </span><span class=c1># Get bond0 ip if exist</span>
</span><span id=__span-107-5><a id=__codelineno-107-5 name=__codelineno-107-5></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=no>File</span><span class=o>.</span><span class=n>exist?</span><span class=w> </span><span class=s2>&quot;/proc/sys/net/ipv4/conf/bond0&quot;</span>
</span><span id=__span-107-6><a id=__codelineno-107-6 name=__codelineno-107-6></a><span class=w>      </span><span class=no>Facter</span><span class=o>::</span><span class=no>Util</span><span class=o>::</span><span class=no>Resolution</span><span class=o>.</span><span class=n>exec</span><span class=p>(</span><span class=s2>&quot;ip addr show dev bond0 | awk &#39;/inet/{print $2}&#39; | head -1 | sed &#39;s/</span><span class=se>\\</span><span class=s2>/.*//&#39;&quot;</span><span class=p>)</span>
</span><span id=__span-107-7><a id=__codelineno-107-7 name=__codelineno-107-7></a><span class=w>    </span><span class=k>else</span>
</span><span id=__span-107-8><a id=__codelineno-107-8 name=__codelineno-107-8></a><span class=w>      </span><span class=c1># Or eth0 ip if exist</span>
</span><span id=__span-107-9><a id=__codelineno-107-9 name=__codelineno-107-9></a><span class=w>      </span><span class=k>if</span><span class=w> </span><span class=no>File</span><span class=o>.</span><span class=n>exist?</span><span class=w> </span><span class=s2>&quot;/proc/sys/net/ipv4/conf/eth0&quot;</span>
</span><span id=__span-107-10><a id=__codelineno-107-10 name=__codelineno-107-10></a><span class=w>        </span><span class=no>Facter</span><span class=o>::</span><span class=no>Util</span><span class=o>::</span><span class=no>Resolution</span><span class=o>.</span><span class=n>exec</span><span class=p>(</span><span class=s2>&quot;ip addr show dev eth0 | awk &#39;/inet/{print $2}&#39; | head -1 | sed &#39;s/</span><span class=se>\\</span><span class=s2>/.*//&#39;&quot;</span><span class=p>)</span>
</span><span id=__span-107-11><a id=__codelineno-107-11 name=__codelineno-107-11></a><span class=w>      </span><span class=k>else</span>
</span><span id=__span-107-12><a id=__codelineno-107-12 name=__codelineno-107-12></a><span class=w>        </span><span class=c1># Else return error</span>
</span><span id=__span-107-13><a id=__codelineno-107-13 name=__codelineno-107-13></a><span class=w>        </span><span class=s1>&#39;unknow (puppet issue)&#39;</span>
</span><span id=__span-107-14><a id=__codelineno-107-14 name=__codelineno-107-14></a><span class=w>      </span><span class=k>end</span>
</span><span id=__span-107-15><a id=__codelineno-107-15 name=__codelineno-107-15></a><span class=w>    </span><span class=k>end</span>
</span><span id=__span-107-16><a id=__codelineno-107-16 name=__codelineno-107-16></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-107-17><a id=__codelineno-107-17 name=__codelineno-107-17></a><span class=k>end</span>
</span><span id=__span-107-18><a id=__codelineno-107-18 name=__codelineno-107-18></a>
</span><span id=__span-107-19><a id=__codelineno-107-19 name=__codelineno-107-19></a><span class=c1># Get netmask on the fist interface</span>
</span><span id=__span-107-20><a id=__codelineno-107-20 name=__codelineno-107-20></a><span class=no>Facter</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=ss>:public_netmask</span><span class=p>)</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-107-21><a id=__codelineno-107-21 name=__codelineno-107-21></a><span class=w>  </span><span class=n>setcode</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-107-22><a id=__codelineno-107-22 name=__codelineno-107-22></a><span class=w>    </span><span class=c1># Get bond0 netmask if exist</span>
</span><span id=__span-107-23><a id=__codelineno-107-23 name=__codelineno-107-23></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=no>File</span><span class=o>.</span><span class=n>exist?</span><span class=w> </span><span class=s2>&quot;/proc/sys/net/ipv4/conf/bond0&quot;</span>
</span><span id=__span-107-24><a id=__codelineno-107-24 name=__codelineno-107-24></a><span class=w>      </span><span class=no>Facter</span><span class=o>::</span><span class=no>Util</span><span class=o>::</span><span class=no>Resolution</span><span class=o>.</span><span class=n>exec</span><span class=p>(</span><span class=s2>&quot;ifconfig bond0 | awk &#39;/inet/{print $4}&#39; | sed &#39;s/.*://&#39;&quot;</span><span class=p>)</span>
</span><span id=__span-107-25><a id=__codelineno-107-25 name=__codelineno-107-25></a><span class=w>    </span><span class=k>else</span>
</span><span id=__span-107-26><a id=__codelineno-107-26 name=__codelineno-107-26></a><span class=w>      </span><span class=c1># Or eth0 netmask if exist</span>
</span><span id=__span-107-27><a id=__codelineno-107-27 name=__codelineno-107-27></a><span class=w>      </span><span class=k>if</span><span class=w> </span><span class=no>File</span><span class=o>.</span><span class=n>exist?</span><span class=w> </span><span class=s2>&quot;/proc/sys/net/ipv4/conf/eth0&quot;</span>
</span><span id=__span-107-28><a id=__codelineno-107-28 name=__codelineno-107-28></a><span class=w>        </span><span class=no>Facter</span><span class=o>::</span><span class=no>Util</span><span class=o>::</span><span class=no>Resolution</span><span class=o>.</span><span class=n>exec</span><span class=p>(</span><span class=s2>&quot;ifconfig eth0 | awk &#39;/inet/{print $4}&#39; | sed &#39;s/.*://&#39;&quot;</span><span class=p>)</span>
</span><span id=__span-107-29><a id=__codelineno-107-29 name=__codelineno-107-29></a><span class=w>      </span><span class=k>else</span>
</span><span id=__span-107-30><a id=__codelineno-107-30 name=__codelineno-107-30></a><span class=w>        </span><span class=c1># Else set a default netmask</span>
</span><span id=__span-107-31><a id=__codelineno-107-31 name=__codelineno-107-31></a><span class=w>        </span><span class=s1>&#39;255.255.255.0&#39;</span>
</span><span id=__span-107-32><a id=__codelineno-107-32 name=__codelineno-107-32></a><span class=w>      </span><span class=k>end</span>
</span><span id=__span-107-33><a id=__codelineno-107-33 name=__codelineno-107-33></a><span class=w>    </span><span class=k>end</span>
</span><span id=__span-107-34><a id=__codelineno-107-34 name=__codelineno-107-34></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-107-35><a id=__codelineno-107-35 name=__codelineno-107-35></a><span class=k>end</span>
</span><span id=__span-107-36><a id=__codelineno-107-36 name=__codelineno-107-36></a>
</span><span id=__span-107-37><a id=__codelineno-107-37 name=__codelineno-107-37></a><span class=c1># Get default gateway</span>
</span><span id=__span-107-38><a id=__codelineno-107-38 name=__codelineno-107-38></a><span class=no>Facter</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=ss>:default_gateway</span><span class=p>)</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-107-39><a id=__codelineno-107-39 name=__codelineno-107-39></a><span class=w>  </span><span class=n>setcode</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-107-40><a id=__codelineno-107-40 name=__codelineno-107-40></a><span class=w>    </span><span class=no>Facter</span><span class=o>::</span><span class=no>Util</span><span class=o>::</span><span class=no>Resolution</span><span class=o>.</span><span class=n>exec</span><span class=p>(</span><span class=s2>&quot;ip route | awk &#39;/default/{print $3}&#39;&quot;</span><span class=p>)</span>
</span><span id=__span-107-41><a id=__codelineno-107-41 name=__codelineno-107-41></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-107-42><a id=__codelineno-107-42 name=__codelineno-107-42></a><span class=k>end</span>
</span></code></pre></div></td></tr></table></div> <h4 id=networkpp>network.pp</h4> <p>Here we will load the bonding configuration and other network-related things:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-108-1> 1</a></span>
<span class=normal><a href=#__codelineno-108-2> 2</a></span>
<span class=normal><a href=#__codelineno-108-3> 3</a></span>
<span class=normal><a href=#__codelineno-108-4> 4</a></span>
<span class=normal><a href=#__codelineno-108-5> 5</a></span>
<span class=normal><a href=#__codelineno-108-6> 6</a></span>
<span class=normal><a href=#__codelineno-108-7> 7</a></span>
<span class=normal><a href=#__codelineno-108-8> 8</a></span>
<span class=normal><a href=#__codelineno-108-9> 9</a></span>
<span class=normal><a href=#__codelineno-108-10>10</a></span>
<span class=normal><a href=#__codelineno-108-11>11</a></span>
<span class=normal><a href=#__codelineno-108-12>12</a></span>
<span class=normal><a href=#__codelineno-108-13>13</a></span>
<span class=normal><a href=#__codelineno-108-14>14</a></span>
<span class=normal><a href=#__codelineno-108-15>15</a></span>
<span class=normal><a href=#__codelineno-108-16>16</a></span>
<span class=normal><a href=#__codelineno-108-17>17</a></span>
<span class=normal><a href=#__codelineno-108-18>18</a></span>
<span class=normal><a href=#__codelineno-108-19>19</a></span>
<span class=normal><a href=#__codelineno-108-20>20</a></span>
<span class=normal><a href=#__codelineno-108-21>21</a></span>
<span class=normal><a href=#__codelineno-108-22>22</a></span>
<span class=normal><a href=#__codelineno-108-23>23</a></span>
<span class=normal><a href=#__codelineno-108-24>24</a></span>
<span class=normal><a href=#__codelineno-108-25>25</a></span>
<span class=normal><a href=#__codelineno-108-26>26</a></span>
<span class=normal><a href=#__codelineno-108-27>27</a></span>
<span class=normal><a href=#__codelineno-108-28>28</a></span>
<span class=normal><a href=#__codelineno-108-29>29</a></span>
<span class=normal><a href=#__codelineno-108-30>30</a></span>
<span class=normal><a href=#__codelineno-108-31>31</a></span>
<span class=normal><a href=#__codelineno-108-32>32</a></span>
<span class=normal><a href=#__codelineno-108-33>33</a></span>
<span class=normal><a href=#__codelineno-108-34>34</a></span>
<span class=normal><a href=#__codelineno-108-35>35</a></span>
<span class=normal><a href=#__codelineno-108-36>36</a></span>
<span class=normal><a href=#__codelineno-108-37>37</a></span>
<span class=normal><a href=#__codelineno-108-38>38</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-108-1><a id=__codelineno-108-1 name=__codelineno-108-1></a><span class=k>class</span><span class=w> </span><span class=n>configurations_defaults</span><span class=o>::</span><span class=n>redhat</span><span class=o>::</span><span class=n>network</span><span class=w> </span><span class=n>inherits</span><span class=w> </span><span class=n>configurations_defaults</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-108-2><a id=__codelineno-108-2 name=__codelineno-108-2></a><span class=p>{</span>
</span><span id=__span-108-3><a id=__codelineno-108-3 name=__codelineno-108-3></a><span class=w>    </span><span class=c1># Disable network interface renaming    augeas {</span>
</span><span id=__span-108-4><a id=__codelineno-108-4 name=__codelineno-108-4></a><span class=w>        </span><span class=s2>&quot;grub_udev_net&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-108-5><a id=__codelineno-108-5 name=__codelineno-108-5></a><span class=w>            </span><span class=n>context</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/files/etc/grub.conf&quot;</span><span class=p>,</span>
</span><span id=__span-108-6><a id=__codelineno-108-6 name=__codelineno-108-6></a><span class=w>            </span><span class=n>changes</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;set title[1]/kernel/biosdevname 0&quot;</span>
</span><span id=__span-108-7><a id=__codelineno-108-7 name=__codelineno-108-7></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-108-8><a id=__codelineno-108-8 name=__codelineno-108-8></a>
</span><span id=__span-108-9><a id=__codelineno-108-9 name=__codelineno-108-9></a><span class=w>    </span><span class=c1># Load bonding module at boot    line {</span>
</span><span id=__span-108-10><a id=__codelineno-108-10 name=__codelineno-108-10></a><span class=w>        </span><span class=s1>&#39;load_bonding&#39;</span><span class=p>:</span>
</span><span id=__span-108-11><a id=__codelineno-108-11 name=__codelineno-108-11></a><span class=w>            </span><span class=n>file</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;/etc/modprobe.d/bonding.conf&#39;</span><span class=p>,</span>
</span><span id=__span-108-12><a id=__codelineno-108-12 name=__codelineno-108-12></a><span class=w>            </span><span class=n>line</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;alias bond0 bonding&#39;</span><span class=p>,</span>
</span><span id=__span-108-13><a id=__codelineno-108-13 name=__codelineno-108-13></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span>
</span><span id=__span-108-14><a id=__codelineno-108-14 name=__codelineno-108-14></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-108-15><a id=__codelineno-108-15 name=__codelineno-108-15></a>
</span><span id=__span-108-16><a id=__codelineno-108-16 name=__codelineno-108-16></a><span class=w>    </span><span class=c1># Bonded master interface - static    network::bond::static {</span>
</span><span id=__span-108-17><a id=__codelineno-108-17 name=__codelineno-108-17></a><span class=w>        </span><span class=s2>&quot;bond0&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-108-18><a id=__codelineno-108-18 name=__codelineno-108-18></a><span class=w>            </span><span class=n>ipaddress</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$::public_ip&quot;</span><span class=p>,</span>
</span><span id=__span-108-19><a id=__codelineno-108-19 name=__codelineno-108-19></a><span class=w>            </span><span class=n>netmask</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$::public_netmask&quot;</span><span class=p>,</span>
</span><span id=__span-108-20><a id=__codelineno-108-20 name=__codelineno-108-20></a><span class=w>            </span><span class=n>gateway</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$::default_gateway&quot;</span><span class=p>,</span>
</span><span id=__span-108-21><a id=__codelineno-108-21 name=__codelineno-108-21></a><span class=w>            </span><span class=n>bonding_opts</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;mode=active-backup&quot;</span><span class=p>,</span>
</span><span id=__span-108-22><a id=__codelineno-108-22 name=__codelineno-108-22></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;up&quot;</span>
</span><span id=__span-108-23><a id=__codelineno-108-23 name=__codelineno-108-23></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-108-24><a id=__codelineno-108-24 name=__codelineno-108-24></a>
</span><span id=__span-108-25><a id=__codelineno-108-25 name=__codelineno-108-25></a><span class=w>    </span><span class=c1># Bonded slave interface - static</span>
</span><span id=__span-108-26><a id=__codelineno-108-26 name=__codelineno-108-26></a><span class=w>    </span><span class=n>network</span><span class=o>::</span><span class=n>bond</span><span class=o>::</span><span class=n>slave</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-108-27><a id=__codelineno-108-27 name=__codelineno-108-27></a><span class=w>        </span><span class=s2>&quot;eth0&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-108-28><a id=__codelineno-108-28 name=__codelineno-108-28></a><span class=w>            </span><span class=n>macaddress</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=vg>$:</span><span class=ss>:macaddress_eth0</span><span class=p>,</span>
</span><span id=__span-108-29><a id=__codelineno-108-29 name=__codelineno-108-29></a><span class=w>            </span><span class=n>master</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;bond0&quot;</span><span class=p>,</span>
</span><span id=__span-108-30><a id=__codelineno-108-30 name=__codelineno-108-30></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-108-31><a id=__codelineno-108-31 name=__codelineno-108-31></a>
</span><span id=__span-108-32><a id=__codelineno-108-32 name=__codelineno-108-32></a><span class=w>    </span><span class=c1># Bonded slave interface - static</span>
</span><span id=__span-108-33><a id=__codelineno-108-33 name=__codelineno-108-33></a><span class=w>    </span><span class=n>network</span><span class=o>::</span><span class=n>bond</span><span class=o>::</span><span class=n>slave</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-108-34><a id=__codelineno-108-34 name=__codelineno-108-34></a><span class=w>        </span><span class=s2>&quot;eth1&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-108-35><a id=__codelineno-108-35 name=__codelineno-108-35></a><span class=w>            </span><span class=n>macaddress</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=vg>$:</span><span class=ss>:macaddress_eth1</span><span class=p>,</span>
</span><span id=__span-108-36><a id=__codelineno-108-36 name=__codelineno-108-36></a><span class=w>            </span><span class=n>master</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;bond0&quot;</span><span class=p>,</span>
</span><span id=__span-108-37><a id=__codelineno-108-37 name=__codelineno-108-37></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-108-38><a id=__codelineno-108-38 name=__codelineno-108-38></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <ul> <li>Disable network interface renaming: we add an argument and set its value to 0 in grub so that it doesn't rename the interfaces and leaves them as ethX. I wrote an article about this if you're interested.</li> <li>Load bonding module at boot: We make sure that the bonding module will be loaded at boot time and that an alias on bond0 exists</li> <li>Bonded interfaces: I refer you to the bonding module available on Puppet Forge, as well as the documentation on bonding if you don't know what it is. I also created a facter (get_network_infos.rb) for this to retrieve the public interface (eth0, on which I would connect), the netmask and gateway already present and configured on the machine</li> </ul> <h4 id=templates_2>templates</h4> <p>We had talked about it earlier, we manage a template for motd to display, in addition to a text, the hostname of the machine you connect to (line 16):</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-109-1> 1</a></span>
<span class=normal><a href=#__codelineno-109-2> 2</a></span>
<span class=normal><a href=#__codelineno-109-3> 3</a></span>
<span class=normal><a href=#__codelineno-109-4> 4</a></span>
<span class=normal><a href=#__codelineno-109-5> 5</a></span>
<span class=normal><a href=#__codelineno-109-6> 6</a></span>
<span class=normal><a href=#__codelineno-109-7> 7</a></span>
<span class=normal><a href=#__codelineno-109-8> 8</a></span>
<span class=normal><a href=#__codelineno-109-9> 9</a></span>
<span class=normal><a href=#__codelineno-109-10>10</a></span>
<span class=normal><a href=#__codelineno-109-11>11</a></span>
<span class=normal><a href=#__codelineno-109-12>12</a></span>
<span class=normal><a href=#__codelineno-109-13>13</a></span>
<span class=normal><a href=#__codelineno-109-14>14</a></span>
<span class=normal><a href=#__codelineno-109-15>15</a></span>
<span class=normal><a href=#__codelineno-109-16>16</a></span>
<span class=normal><a href=#__codelineno-109-17>17</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-109-1><a id=__codelineno-109-1 name=__codelineno-109-1></a>================================================================================
</span><span id=__span-109-2><a id=__codelineno-109-2 name=__codelineno-109-2></a>This is an official computer system and is the property of Deimos. It
</span><span id=__span-109-3><a id=__codelineno-109-3 name=__codelineno-109-3></a>is for authorized users only. Unauthorized users are prohibited. Users
</span><span id=__span-109-4><a id=__codelineno-109-4 name=__codelineno-109-4></a>(authorized or unauthorized) have no explicit or implicit expectation of
</span><span id=__span-109-5><a id=__codelineno-109-5 name=__codelineno-109-5></a>privacy. Any or all uses of this system may be subject to one or more of
</span><span id=__span-109-6><a id=__codelineno-109-6 name=__codelineno-109-6></a>the following actions: interception, monitoring, recording, auditing,
</span><span id=__span-109-7><a id=__codelineno-109-7 name=__codelineno-109-7></a>inspection and disclosing to security personnel and law enforcement
</span><span id=__span-109-8><a id=__codelineno-109-8 name=__codelineno-109-8></a>personnel, as well as authorized officials of other agencies, both domestic
</span><span id=__span-109-9><a id=__codelineno-109-9 name=__codelineno-109-9></a>and foreign. By using this system, the user consents to these actions.
</span><span id=__span-109-10><a id=__codelineno-109-10 name=__codelineno-109-10></a>Unauthorized or improper use of this system may result in administrative
</span><span id=__span-109-11><a id=__codelineno-109-11 name=__codelineno-109-11></a>disciplinary action and civil and criminal penalties. By accessing this
</span><span id=__span-109-12><a id=__codelineno-109-12 name=__codelineno-109-12></a>system you indicate your awareness of and consent to these terms and
</span><span id=__span-109-13><a id=__codelineno-109-13 name=__codelineno-109-13></a>conditions of use. Discontinue access immediately if you do not agree to
</span><span id=__span-109-14><a id=__codelineno-109-14 name=__codelineno-109-14></a>the conditions stated in this notice.
</span><span id=__span-109-15><a id=__codelineno-109-15 name=__codelineno-109-15></a>================================================================================
</span><span id=__span-109-16><a id=__codelineno-109-16 name=__codelineno-109-16></a>
</span><span id=__span-109-17><a id=__codelineno-109-17 name=__codelineno-109-17></a>                             &lt;%= hostname %&gt;
</span></code></pre></div></td></tr></table></div> <h3 id=openssh-1>OpenSSH - 1</h3> <p>Here's a first example for OpenSSH. Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-110-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-110-1><a id=__codelineno-110-1 name=__codelineno-110-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/openssh/<span class=o>{</span>manifests,templates,lib/facter<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_5>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-111-1> 1</a></span>
<span class=normal><a href=#__codelineno-111-2> 2</a></span>
<span class=normal><a href=#__codelineno-111-3> 3</a></span>
<span class=normal><a href=#__codelineno-111-4> 4</a></span>
<span class=normal><a href=#__codelineno-111-5> 5</a></span>
<span class=normal><a href=#__codelineno-111-6> 6</a></span>
<span class=normal><a href=#__codelineno-111-7> 7</a></span>
<span class=normal><a href=#__codelineno-111-8> 8</a></span>
<span class=normal><a href=#__codelineno-111-9> 9</a></span>
<span class=normal><a href=#__codelineno-111-10>10</a></span>
<span class=normal><a href=#__codelineno-111-11>11</a></span>
<span class=normal><a href=#__codelineno-111-12>12</a></span>
<span class=normal><a href=#__codelineno-111-13>13</a></span>
<span class=normal><a href=#__codelineno-111-14>14</a></span>
<span class=normal><a href=#__codelineno-111-15>15</a></span>
<span class=normal><a href=#__codelineno-111-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-111-1><a id=__codelineno-111-1 name=__codelineno-111-1></a><span class=sr>/*</span>
</span><span id=__span-111-2><a id=__codelineno-111-2 name=__codelineno-111-2></a><span class=sr>OpenSSH Module for Puppet</span>
</span><span id=__span-111-3><a id=__codelineno-111-3 name=__codelineno-111-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-111-4><a id=__codelineno-111-4 name=__codelineno-111-4></a><span class=sr>*/</span>
</span><span id=__span-111-5><a id=__codelineno-111-5 name=__codelineno-111-5></a><span class=k>class</span><span class=w> </span><span class=n>openssh</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-111-6><a id=__codelineno-111-6 name=__codelineno-111-6></a><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-111-7><a id=__codelineno-111-7 name=__codelineno-111-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-111-8><a id=__codelineno-111-8 name=__codelineno-111-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-111-9><a id=__codelineno-111-9 name=__codelineno-111-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>openssh</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-111-10><a id=__codelineno-111-10 name=__codelineno-111-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-111-11><a id=__codelineno-111-11 name=__codelineno-111-11></a><span class=w>        </span><span class=c1>#&#39;sunos&#39;:  { include packages_defaults::solaris }</span>
</span><span id=__span-111-12><a id=__codelineno-111-12 name=__codelineno-111-12></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-111-13><a id=__codelineno-111-13 name=__codelineno-111-13></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-111-14><a id=__codelineno-111-14 name=__codelineno-111-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-111-15><a id=__codelineno-111-15 name=__codelineno-111-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-111-16><a id=__codelineno-111-16 name=__codelineno-111-16></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_4>redhat.pp</h4> <p>Here we load everything we need, then load the common because OpenSSH needs to be installed and configured before moving on to the common part:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-112-1> 1</a></span>
<span class=normal><a href=#__codelineno-112-2> 2</a></span>
<span class=normal><a href=#__codelineno-112-3> 3</a></span>
<span class=normal><a href=#__codelineno-112-4> 4</a></span>
<span class=normal><a href=#__codelineno-112-5> 5</a></span>
<span class=normal><a href=#__codelineno-112-6> 6</a></span>
<span class=normal><a href=#__codelineno-112-7> 7</a></span>
<span class=normal><a href=#__codelineno-112-8> 8</a></span>
<span class=normal><a href=#__codelineno-112-9> 9</a></span>
<span class=normal><a href=#__codelineno-112-10>10</a></span>
<span class=normal><a href=#__codelineno-112-11>11</a></span>
<span class=normal><a href=#__codelineno-112-12>12</a></span>
<span class=normal><a href=#__codelineno-112-13>13</a></span>
<span class=normal><a href=#__codelineno-112-14>14</a></span>
<span class=normal><a href=#__codelineno-112-15>15</a></span>
<span class=normal><a href=#__codelineno-112-16>16</a></span>
<span class=normal><a href=#__codelineno-112-17>17</a></span>
<span class=normal><a href=#__codelineno-112-18>18</a></span>
<span class=normal><a href=#__codelineno-112-19>19</a></span>
<span class=normal><a href=#__codelineno-112-20>20</a></span>
<span class=normal><a href=#__codelineno-112-21>21</a></span>
<span class=normal><a href=#__codelineno-112-22>22</a></span>
<span class=normal><a href=#__codelineno-112-23>23</a></span>
<span class=normal><a href=#__codelineno-112-24>24</a></span>
<span class=normal><a href=#__codelineno-112-25>25</a></span>
<span class=normal><a href=#__codelineno-112-26>26</a></span>
<span class=normal><a href=#__codelineno-112-27>27</a></span>
<span class=normal><a href=#__codelineno-112-28>28</a></span>
<span class=normal><a href=#__codelineno-112-29>29</a></span>
<span class=normal><a href=#__codelineno-112-30>30</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-112-1><a id=__codelineno-112-1 name=__codelineno-112-1></a><span class=sr>/*</span>
</span><span id=__span-112-2><a id=__codelineno-112-2 name=__codelineno-112-2></a><span class=sr>OpenSSH Module for Puppet</span>
</span><span id=__span-112-3><a id=__codelineno-112-3 name=__codelineno-112-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-112-4><a id=__codelineno-112-4 name=__codelineno-112-4></a><span class=sr>*/</span>
</span><span id=__span-112-5><a id=__codelineno-112-5 name=__codelineno-112-5></a><span class=k>class</span><span class=w> </span><span class=n>openssh</span><span class=o>::</span><span class=n>redhat</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-112-6><a id=__codelineno-112-6 name=__codelineno-112-6></a><span class=w>    </span><span class=c1># Install ssh package</span>
</span><span id=__span-112-7><a id=__codelineno-112-7 name=__codelineno-112-7></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-112-8><a id=__codelineno-112-8 name=__codelineno-112-8></a><span class=w>        </span><span class=s1>&#39;openssh-server&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-112-9><a id=__codelineno-112-9 name=__codelineno-112-9></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span>
</span><span id=__span-112-10><a id=__codelineno-112-10 name=__codelineno-112-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-112-11><a id=__codelineno-112-11 name=__codelineno-112-11></a>
</span><span id=__span-112-12><a id=__codelineno-112-12 name=__codelineno-112-12></a><span class=w>    </span><span class=c1># SSHd config file</span>
</span><span id=__span-112-13><a id=__codelineno-112-13 name=__codelineno-112-13></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-112-14><a id=__codelineno-112-14 name=__codelineno-112-14></a><span class=w>        </span><span class=s2>&quot;/etc/ssh/sshd_config&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-112-15><a id=__codelineno-112-15 name=__codelineno-112-15></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/openssh/sshd_config.$::operatingsystem&quot;</span><span class=p>,</span>
</span><span id=__span-112-16><a id=__codelineno-112-16 name=__codelineno-112-16></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>600</span><span class=p>,</span>
</span><span id=__span-112-17><a id=__codelineno-112-17 name=__codelineno-112-17></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-112-18><a id=__codelineno-112-18 name=__codelineno-112-18></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-112-19><a id=__codelineno-112-19 name=__codelineno-112-19></a><span class=w>            </span><span class=n>notify</span><span class=w>  </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;sshd&quot;</span><span class=o>]</span>
</span><span id=__span-112-20><a id=__codelineno-112-20 name=__codelineno-112-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-112-21><a id=__codelineno-112-21 name=__codelineno-112-21></a>
</span><span id=__span-112-22><a id=__codelineno-112-22 name=__codelineno-112-22></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-112-23><a id=__codelineno-112-23 name=__codelineno-112-23></a><span class=w>        </span><span class=s1>&#39;sshd&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-112-24><a id=__codelineno-112-24 name=__codelineno-112-24></a><span class=w>            </span><span class=n>enable</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-112-25><a id=__codelineno-112-25 name=__codelineno-112-25></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span><span class=p>,</span>
</span><span id=__span-112-26><a id=__codelineno-112-26 name=__codelineno-112-26></a><span class=w>            </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s1>&#39;/etc/ssh/sshd_config&#39;</span><span class=o>]</span>
</span><span id=__span-112-27><a id=__codelineno-112-27 name=__codelineno-112-27></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-112-28><a id=__codelineno-112-28 name=__codelineno-112-28></a>
</span><span id=__span-112-29><a id=__codelineno-112-29 name=__codelineno-112-29></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>openssh</span><span class=o>::</span><span class=n>common</span>
</span><span id=__span-112-30><a id=__codelineno-112-30 name=__codelineno-112-30></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>In the service part, there is important information (require), which will restart the service if the configuration file changes.</p> <h4 id=commonpp_2>common.pp</h4> <p>Here, we make sure that the folder where SSH keys are stored is present with the right permissions, then we call another file that will contain all the keys we want to export:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-113-1> 1</a></span>
<span class=normal><a href=#__codelineno-113-2> 2</a></span>
<span class=normal><a href=#__codelineno-113-3> 3</a></span>
<span class=normal><a href=#__codelineno-113-4> 4</a></span>
<span class=normal><a href=#__codelineno-113-5> 5</a></span>
<span class=normal><a href=#__codelineno-113-6> 6</a></span>
<span class=normal><a href=#__codelineno-113-7> 7</a></span>
<span class=normal><a href=#__codelineno-113-8> 8</a></span>
<span class=normal><a href=#__codelineno-113-9> 9</a></span>
<span class=normal><a href=#__codelineno-113-10>10</a></span>
<span class=normal><a href=#__codelineno-113-11>11</a></span>
<span class=normal><a href=#__codelineno-113-12>12</a></span>
<span class=normal><a href=#__codelineno-113-13>13</a></span>
<span class=normal><a href=#__codelineno-113-14>14</a></span>
<span class=normal><a href=#__codelineno-113-15>15</a></span>
<span class=normal><a href=#__codelineno-113-16>16</a></span>
<span class=normal><a href=#__codelineno-113-17>17</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-113-1><a id=__codelineno-113-1 name=__codelineno-113-1></a><span class=sr>/*</span>
</span><span id=__span-113-2><a id=__codelineno-113-2 name=__codelineno-113-2></a><span class=sr>OpenSSH Module for Puppet</span>
</span><span id=__span-113-3><a id=__codelineno-113-3 name=__codelineno-113-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-113-4><a id=__codelineno-113-4 name=__codelineno-113-4></a><span class=sr>*/</span>
</span><span id=__span-113-5><a id=__codelineno-113-5 name=__codelineno-113-5></a><span class=k>class</span><span class=w> </span><span class=n>openssh</span><span class=o>::</span><span class=n>common</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-113-6><a id=__codelineno-113-6 name=__codelineno-113-6></a><span class=w>    </span><span class=c1># Check that .ssh directory exist with correct rights</span>
</span><span id=__span-113-7><a id=__codelineno-113-7 name=__codelineno-113-7></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-113-8><a id=__codelineno-113-8 name=__codelineno-113-8></a><span class=w>        </span><span class=s2>&quot;$::home_root/.ssh&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-113-9><a id=__codelineno-113-9 name=__codelineno-113-9></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-113-10><a id=__codelineno-113-10 name=__codelineno-113-10></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0700</span><span class=p>,</span>
</span><span id=__span-113-11><a id=__codelineno-113-11 name=__codelineno-113-11></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-113-12><a id=__codelineno-113-12 name=__codelineno-113-12></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span>
</span><span id=__span-113-13><a id=__codelineno-113-13 name=__codelineno-113-13></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-113-14><a id=__codelineno-113-14 name=__codelineno-113-14></a>
</span><span id=__span-113-15><a id=__codelineno-113-15 name=__codelineno-113-15></a><span class=w>    </span><span class=c1># Load all public keys</span>
</span><span id=__span-113-16><a id=__codelineno-113-16 name=__codelineno-113-16></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>openssh</span><span class=o>::</span><span class=n>ssh_keys</span>
</span><span id=__span-113-17><a id=__codelineno-113-17 name=__codelineno-113-17></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>The 'home_root' directive is generated from a facter provided below.</p> <h4 id=facter_1>facter</h4> <p>Here's the facter that allows you to retrieve the home of the root user:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-114-1>1</a></span>
<span class=normal><a href=#__codelineno-114-2>2</a></span>
<span class=normal><a href=#__codelineno-114-3>3</a></span>
<span class=normal><a href=#__codelineno-114-4>4</a></span>
<span class=normal><a href=#__codelineno-114-5>5</a></span>
<span class=normal><a href=#__codelineno-114-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-114-1><a id=__codelineno-114-1 name=__codelineno-114-1></a><span class=c1># Get Home directory</span>
</span><span id=__span-114-2><a id=__codelineno-114-2 name=__codelineno-114-2></a><span class=no>Facter</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&quot;home_root&quot;</span><span class=p>)</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-114-3><a id=__codelineno-114-3 name=__codelineno-114-3></a><span class=w>  </span><span class=n>setcode</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-114-4><a id=__codelineno-114-4 name=__codelineno-114-4></a><span class=w>    </span><span class=no>Facter</span><span class=o>::</span><span class=no>Util</span><span class=o>::</span><span class=no>Resolution</span><span class=o>.</span><span class=n>exec</span><span class=p>(</span><span class=s2>&quot;echo ~root&quot;</span><span class=p>)</span>
</span><span id=__span-114-5><a id=__codelineno-114-5 name=__codelineno-114-5></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-114-6><a id=__codelineno-114-6 name=__codelineno-114-6></a><span class=k>end</span>
</span></code></pre></div></td></tr></table></div> <h4 id=ssh_keyspp>ssh_keys.pp</h4> <p>Here I add the keys, both for access from other servers or users:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-115-1> 1</a></span>
<span class=normal><a href=#__codelineno-115-2> 2</a></span>
<span class=normal><a href=#__codelineno-115-3> 3</a></span>
<span class=normal><a href=#__codelineno-115-4> 4</a></span>
<span class=normal><a href=#__codelineno-115-5> 5</a></span>
<span class=normal><a href=#__codelineno-115-6> 6</a></span>
<span class=normal><a href=#__codelineno-115-7> 7</a></span>
<span class=normal><a href=#__codelineno-115-8> 8</a></span>
<span class=normal><a href=#__codelineno-115-9> 9</a></span>
<span class=normal><a href=#__codelineno-115-10>10</a></span>
<span class=normal><a href=#__codelineno-115-11>11</a></span>
<span class=normal><a href=#__codelineno-115-12>12</a></span>
<span class=normal><a href=#__codelineno-115-13>13</a></span>
<span class=normal><a href=#__codelineno-115-14>14</a></span>
<span class=normal><a href=#__codelineno-115-15>15</a></span>
<span class=normal><a href=#__codelineno-115-16>16</a></span>
<span class=normal><a href=#__codelineno-115-17>17</a></span>
<span class=normal><a href=#__codelineno-115-18>18</a></span>
<span class=normal><a href=#__codelineno-115-19>19</a></span>
<span class=normal><a href=#__codelineno-115-20>20</a></span>
<span class=normal><a href=#__codelineno-115-21>21</a></span>
<span class=normal><a href=#__codelineno-115-22>22</a></span>
<span class=normal><a href=#__codelineno-115-23>23</a></span>
<span class=normal><a href=#__codelineno-115-24>24</a></span>
<span class=normal><a href=#__codelineno-115-25>25</a></span>
<span class=normal><a href=#__codelineno-115-26>26</a></span>
<span class=normal><a href=#__codelineno-115-27>27</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-115-1><a id=__codelineno-115-1 name=__codelineno-115-1></a><span class=sr>/*</span>
</span><span id=__span-115-2><a id=__codelineno-115-2 name=__codelineno-115-2></a><span class=sr>OpenSSH Module for Puppet</span>
</span><span id=__span-115-3><a id=__codelineno-115-3 name=__codelineno-115-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-115-4><a id=__codelineno-115-4 name=__codelineno-115-4></a><span class=sr>*/</span>
</span><span id=__span-115-5><a id=__codelineno-115-5 name=__codelineno-115-5></a><span class=k>class</span><span class=w> </span><span class=n>openssh</span><span class=o>::</span><span class=n>ssh_keys</span><span class=w> </span><span class=n>inherits</span><span class=w> </span><span class=n>openssh</span><span class=o>::</span><span class=n>common</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-115-6><a id=__codelineno-115-6 name=__codelineno-115-6></a><span class=w>    </span><span class=c1>###################################</span>
</span><span id=__span-115-7><a id=__codelineno-115-7 name=__codelineno-115-7></a><span class=w>    </span><span class=c1># Servers</span>
</span><span id=__span-115-8><a id=__codelineno-115-8 name=__codelineno-115-8></a><span class=w>    </span><span class=c1>###################################</span>
</span><span id=__span-115-9><a id=__codelineno-115-9 name=__codelineno-115-9></a>
</span><span id=__span-115-10><a id=__codelineno-115-10 name=__codelineno-115-10></a><span class=w>    </span><span class=c1># Puppet master</span>
</span><span id=__span-115-11><a id=__codelineno-115-11 name=__codelineno-115-11></a><span class=w>    </span><span class=n>ssh_add_key</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-115-12><a id=__codelineno-115-12 name=__codelineno-115-12></a><span class=w>        </span><span class=s1>&#39;puppet_root&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-115-13><a id=__codelineno-115-13 name=__codelineno-115-13></a><span class=w>            </span><span class=n>user</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;root&#39;</span><span class=p>,</span>
</span><span id=__span-115-14><a id=__codelineno-115-14 name=__codelineno-115-14></a><span class=w>            </span><span class=n>key</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;AAAA...&#39;</span>
</span><span id=__span-115-15><a id=__codelineno-115-15 name=__codelineno-115-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-115-16><a id=__codelineno-115-16 name=__codelineno-115-16></a>
</span><span id=__span-115-17><a id=__codelineno-115-17 name=__codelineno-115-17></a><span class=w>    </span><span class=c1>###################################</span>
</span><span id=__span-115-18><a id=__codelineno-115-18 name=__codelineno-115-18></a><span class=w>    </span><span class=c1># Sys-Admins</span>
</span><span id=__span-115-19><a id=__codelineno-115-19 name=__codelineno-115-19></a><span class=w>    </span><span class=c1>###################################</span>
</span><span id=__span-115-20><a id=__codelineno-115-20 name=__codelineno-115-20></a>
</span><span id=__span-115-21><a id=__codelineno-115-21 name=__codelineno-115-21></a><span class=w>    </span><span class=c1># Pierre Mavro</span>
</span><span id=__span-115-22><a id=__codelineno-115-22 name=__codelineno-115-22></a><span class=w>    </span><span class=n>ssh_add_key</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-115-23><a id=__codelineno-115-23 name=__codelineno-115-23></a><span class=w>        </span><span class=s1>&#39;pmavro_root&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-115-24><a id=__codelineno-115-24 name=__codelineno-115-24></a><span class=w>            </span><span class=n>user</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;root&#39;</span><span class=p>,</span>
</span><span id=__span-115-25><a id=__codelineno-115-25 name=__codelineno-115-25></a><span class=w>            </span><span class=n>key</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;AAAA...&#39;</span>
</span><span id=__span-115-26><a id=__codelineno-115-26 name=__codelineno-115-26></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-115-27><a id=__codelineno-115-27 name=__codelineno-115-27></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=files_1>files</h4> <p>The OpenSSH configuration file for Red Hat:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-116-1>  1</a></span>
<span class=normal><a href=#__codelineno-116-2>  2</a></span>
<span class=normal><a href=#__codelineno-116-3>  3</a></span>
<span class=normal><a href=#__codelineno-116-4>  4</a></span>
<span class=normal><a href=#__codelineno-116-5>  5</a></span>
<span class=normal><a href=#__codelineno-116-6>  6</a></span>
<span class=normal><a href=#__codelineno-116-7>  7</a></span>
<span class=normal><a href=#__codelineno-116-8>  8</a></span>
<span class=normal><a href=#__codelineno-116-9>  9</a></span>
<span class=normal><a href=#__codelineno-116-10> 10</a></span>
<span class=normal><a href=#__codelineno-116-11> 11</a></span>
<span class=normal><a href=#__codelineno-116-12> 12</a></span>
<span class=normal><a href=#__codelineno-116-13> 13</a></span>
<span class=normal><a href=#__codelineno-116-14> 14</a></span>
<span class=normal><a href=#__codelineno-116-15> 15</a></span>
<span class=normal><a href=#__codelineno-116-16> 16</a></span>
<span class=normal><a href=#__codelineno-116-17> 17</a></span>
<span class=normal><a href=#__codelineno-116-18> 18</a></span>
<span class=normal><a href=#__codelineno-116-19> 19</a></span>
<span class=normal><a href=#__codelineno-116-20> 20</a></span>
<span class=normal><a href=#__codelineno-116-21> 21</a></span>
<span class=normal><a href=#__codelineno-116-22> 22</a></span>
<span class=normal><a href=#__codelineno-116-23> 23</a></span>
<span class=normal><a href=#__codelineno-116-24> 24</a></span>
<span class=normal><a href=#__codelineno-116-25> 25</a></span>
<span class=normal><a href=#__codelineno-116-26> 26</a></span>
<span class=normal><a href=#__codelineno-116-27> 27</a></span>
<span class=normal><a href=#__codelineno-116-28> 28</a></span>
<span class=normal><a href=#__codelineno-116-29> 29</a></span>
<span class=normal><a href=#__codelineno-116-30> 30</a></span>
<span class=normal><a href=#__codelineno-116-31> 31</a></span>
<span class=normal><a href=#__codelineno-116-32> 32</a></span>
<span class=normal><a href=#__codelineno-116-33> 33</a></span>
<span class=normal><a href=#__codelineno-116-34> 34</a></span>
<span class=normal><a href=#__codelineno-116-35> 35</a></span>
<span class=normal><a href=#__codelineno-116-36> 36</a></span>
<span class=normal><a href=#__codelineno-116-37> 37</a></span>
<span class=normal><a href=#__codelineno-116-38> 38</a></span>
<span class=normal><a href=#__codelineno-116-39> 39</a></span>
<span class=normal><a href=#__codelineno-116-40> 40</a></span>
<span class=normal><a href=#__codelineno-116-41> 41</a></span>
<span class=normal><a href=#__codelineno-116-42> 42</a></span>
<span class=normal><a href=#__codelineno-116-43> 43</a></span>
<span class=normal><a href=#__codelineno-116-44> 44</a></span>
<span class=normal><a href=#__codelineno-116-45> 45</a></span>
<span class=normal><a href=#__codelineno-116-46> 46</a></span>
<span class=normal><a href=#__codelineno-116-47> 47</a></span>
<span class=normal><a href=#__codelineno-116-48> 48</a></span>
<span class=normal><a href=#__codelineno-116-49> 49</a></span>
<span class=normal><a href=#__codelineno-116-50> 50</a></span>
<span class=normal><a href=#__codelineno-116-51> 51</a></span>
<span class=normal><a href=#__codelineno-116-52> 52</a></span>
<span class=normal><a href=#__codelineno-116-53> 53</a></span>
<span class=normal><a href=#__codelineno-116-54> 54</a></span>
<span class=normal><a href=#__codelineno-116-55> 55</a></span>
<span class=normal><a href=#__codelineno-116-56> 56</a></span>
<span class=normal><a href=#__codelineno-116-57> 57</a></span>
<span class=normal><a href=#__codelineno-116-58> 58</a></span>
<span class=normal><a href=#__codelineno-116-59> 59</a></span>
<span class=normal><a href=#__codelineno-116-60> 60</a></span>
<span class=normal><a href=#__codelineno-116-61> 61</a></span>
<span class=normal><a href=#__codelineno-116-62> 62</a></span>
<span class=normal><a href=#__codelineno-116-63> 63</a></span>
<span class=normal><a href=#__codelineno-116-64> 64</a></span>
<span class=normal><a href=#__codelineno-116-65> 65</a></span>
<span class=normal><a href=#__codelineno-116-66> 66</a></span>
<span class=normal><a href=#__codelineno-116-67> 67</a></span>
<span class=normal><a href=#__codelineno-116-68> 68</a></span>
<span class=normal><a href=#__codelineno-116-69> 69</a></span>
<span class=normal><a href=#__codelineno-116-70> 70</a></span>
<span class=normal><a href=#__codelineno-116-71> 71</a></span>
<span class=normal><a href=#__codelineno-116-72> 72</a></span>
<span class=normal><a href=#__codelineno-116-73> 73</a></span>
<span class=normal><a href=#__codelineno-116-74> 74</a></span>
<span class=normal><a href=#__codelineno-116-75> 75</a></span>
<span class=normal><a href=#__codelineno-116-76> 76</a></span>
<span class=normal><a href=#__codelineno-116-77> 77</a></span>
<span class=normal><a href=#__codelineno-116-78> 78</a></span>
<span class=normal><a href=#__codelineno-116-79> 79</a></span>
<span class=normal><a href=#__codelineno-116-80> 80</a></span>
<span class=normal><a href=#__codelineno-116-81> 81</a></span>
<span class=normal><a href=#__codelineno-116-82> 82</a></span>
<span class=normal><a href=#__codelineno-116-83> 83</a></span>
<span class=normal><a href=#__codelineno-116-84> 84</a></span>
<span class=normal><a href=#__codelineno-116-85> 85</a></span>
<span class=normal><a href=#__codelineno-116-86> 86</a></span>
<span class=normal><a href=#__codelineno-116-87> 87</a></span>
<span class=normal><a href=#__codelineno-116-88> 88</a></span>
<span class=normal><a href=#__codelineno-116-89> 89</a></span>
<span class=normal><a href=#__codelineno-116-90> 90</a></span>
<span class=normal><a href=#__codelineno-116-91> 91</a></span>
<span class=normal><a href=#__codelineno-116-92> 92</a></span>
<span class=normal><a href=#__codelineno-116-93> 93</a></span>
<span class=normal><a href=#__codelineno-116-94> 94</a></span>
<span class=normal><a href=#__codelineno-116-95> 95</a></span>
<span class=normal><a href=#__codelineno-116-96> 96</a></span>
<span class=normal><a href=#__codelineno-116-97> 97</a></span>
<span class=normal><a href=#__codelineno-116-98> 98</a></span>
<span class=normal><a href=#__codelineno-116-99> 99</a></span>
<span class=normal><a href=#__codelineno-116-100>100</a></span>
<span class=normal><a href=#__codelineno-116-101>101</a></span>
<span class=normal><a href=#__codelineno-116-102>102</a></span>
<span class=normal><a href=#__codelineno-116-103>103</a></span>
<span class=normal><a href=#__codelineno-116-104>104</a></span>
<span class=normal><a href=#__codelineno-116-105>105</a></span>
<span class=normal><a href=#__codelineno-116-106>106</a></span>
<span class=normal><a href=#__codelineno-116-107>107</a></span>
<span class=normal><a href=#__codelineno-116-108>108</a></span>
<span class=normal><a href=#__codelineno-116-109>109</a></span>
<span class=normal><a href=#__codelineno-116-110>110</a></span>
<span class=normal><a href=#__codelineno-116-111>111</a></span>
<span class=normal><a href=#__codelineno-116-112>112</a></span>
<span class=normal><a href=#__codelineno-116-113>113</a></span>
<span class=normal><a href=#__codelineno-116-114>114</a></span>
<span class=normal><a href=#__codelineno-116-115>115</a></span>
<span class=normal><a href=#__codelineno-116-116>116</a></span>
<span class=normal><a href=#__codelineno-116-117>117</a></span>
<span class=normal><a href=#__codelineno-116-118>118</a></span>
<span class=normal><a href=#__codelineno-116-119>119</a></span>
<span class=normal><a href=#__codelineno-116-120>120</a></span>
<span class=normal><a href=#__codelineno-116-121>121</a></span>
<span class=normal><a href=#__codelineno-116-122>122</a></span>
<span class=normal><a href=#__codelineno-116-123>123</a></span>
<span class=normal><a href=#__codelineno-116-124>124</a></span>
<span class=normal><a href=#__codelineno-116-125>125</a></span>
<span class=normal><a href=#__codelineno-116-126>126</a></span>
<span class=normal><a href=#__codelineno-116-127>127</a></span>
<span class=normal><a href=#__codelineno-116-128>128</a></span>
<span class=normal><a href=#__codelineno-116-129>129</a></span>
<span class=normal><a href=#__codelineno-116-130>130</a></span>
<span class=normal><a href=#__codelineno-116-131>131</a></span>
<span class=normal><a href=#__codelineno-116-132>132</a></span>
<span class=normal><a href=#__codelineno-116-133>133</a></span>
<span class=normal><a href=#__codelineno-116-134>134</a></span>
<span class=normal><a href=#__codelineno-116-135>135</a></span>
<span class=normal><a href=#__codelineno-116-136>136</a></span>
<span class=normal><a href=#__codelineno-116-137>137</a></span>
<span class=normal><a href=#__codelineno-116-138>138</a></span>
<span class=normal><a href=#__codelineno-116-139>139</a></span>
<span class=normal><a href=#__codelineno-116-140>140</a></span>
<span class=normal><a href=#__codelineno-116-141>141</a></span>
<span class=normal><a href=#__codelineno-116-142>142</a></span>
<span class=normal><a href=#__codelineno-116-143>143</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-116-1><a id=__codelineno-116-1 name=__codelineno-116-1></a># $OpenBSD: sshd_config,v 1.80 2008/07/02 02:24:18 djm Exp $
</span><span id=__span-116-2><a id=__codelineno-116-2 name=__codelineno-116-2></a>
</span><span id=__span-116-3><a id=__codelineno-116-3 name=__codelineno-116-3></a># This is the sshd server system-wide configuration file.  See
</span><span id=__span-116-4><a id=__codelineno-116-4 name=__codelineno-116-4></a># sshd_config(5) for more information.
</span><span id=__span-116-5><a id=__codelineno-116-5 name=__codelineno-116-5></a>
</span><span id=__span-116-6><a id=__codelineno-116-6 name=__codelineno-116-6></a># This sshd was compiled with PATH=/usr/local/bin:/bin:/usr/bin
</span><span id=__span-116-7><a id=__codelineno-116-7 name=__codelineno-116-7></a>
</span><span id=__span-116-8><a id=__codelineno-116-8 name=__codelineno-116-8></a># The strategy used for options in the default sshd_config shipped with
</span><span id=__span-116-9><a id=__codelineno-116-9 name=__codelineno-116-9></a># OpenSSH is to specify options with their default value where
</span><span id=__span-116-10><a id=__codelineno-116-10 name=__codelineno-116-10></a># possible, but leave them commented.  Uncommented options change a
</span><span id=__span-116-11><a id=__codelineno-116-11 name=__codelineno-116-11></a># default value.
</span><span id=__span-116-12><a id=__codelineno-116-12 name=__codelineno-116-12></a>
</span><span id=__span-116-13><a id=__codelineno-116-13 name=__codelineno-116-13></a>Port 22
</span><span id=__span-116-14><a id=__codelineno-116-14 name=__codelineno-116-14></a>#AddressFamily any
</span><span id=__span-116-15><a id=__codelineno-116-15 name=__codelineno-116-15></a>#ListenAddress 0.0.0.0
</span><span id=__span-116-16><a id=__codelineno-116-16 name=__codelineno-116-16></a>#ListenAddress ::
</span><span id=__span-116-17><a id=__codelineno-116-17 name=__codelineno-116-17></a>
</span><span id=__span-116-18><a id=__codelineno-116-18 name=__codelineno-116-18></a># Disable legacy (protocol version 1) support in the server for new
</span><span id=__span-116-19><a id=__codelineno-116-19 name=__codelineno-116-19></a># installations. In future the default will change to require explicit
</span><span id=__span-116-20><a id=__codelineno-116-20 name=__codelineno-116-20></a># activation of protocol 1
</span><span id=__span-116-21><a id=__codelineno-116-21 name=__codelineno-116-21></a>Protocol 2
</span><span id=__span-116-22><a id=__codelineno-116-22 name=__codelineno-116-22></a>
</span><span id=__span-116-23><a id=__codelineno-116-23 name=__codelineno-116-23></a># HostKey for protocol version 1
</span><span id=__span-116-24><a id=__codelineno-116-24 name=__codelineno-116-24></a>#HostKey /etc/ssh/ssh_host_key
</span><span id=__span-116-25><a id=__codelineno-116-25 name=__codelineno-116-25></a># HostKeys for protocol version 2
</span><span id=__span-116-26><a id=__codelineno-116-26 name=__codelineno-116-26></a>#HostKey /etc/ssh/ssh_host_rsa_key
</span><span id=__span-116-27><a id=__codelineno-116-27 name=__codelineno-116-27></a>#HostKey /etc/ssh/ssh_host_dsa_key
</span><span id=__span-116-28><a id=__codelineno-116-28 name=__codelineno-116-28></a>
</span><span id=__span-116-29><a id=__codelineno-116-29 name=__codelineno-116-29></a># Lifetime and size of ephemeral version 1 server key
</span><span id=__span-116-30><a id=__codelineno-116-30 name=__codelineno-116-30></a>#KeyRegenerationInterval 1h
</span><span id=__span-116-31><a id=__codelineno-116-31 name=__codelineno-116-31></a>#ServerKeyBits 1024
</span><span id=__span-116-32><a id=__codelineno-116-32 name=__codelineno-116-32></a>
</span><span id=__span-116-33><a id=__codelineno-116-33 name=__codelineno-116-33></a># Logging
</span><span id=__span-116-34><a id=__codelineno-116-34 name=__codelineno-116-34></a># obsoletes QuietMode and FascistLogging
</span><span id=__span-116-35><a id=__codelineno-116-35 name=__codelineno-116-35></a>#SyslogFacility AUTH
</span><span id=__span-116-36><a id=__codelineno-116-36 name=__codelineno-116-36></a>SyslogFacility AUTHPRIV
</span><span id=__span-116-37><a id=__codelineno-116-37 name=__codelineno-116-37></a>#LogLevel INFO
</span><span id=__span-116-38><a id=__codelineno-116-38 name=__codelineno-116-38></a>
</span><span id=__span-116-39><a id=__codelineno-116-39 name=__codelineno-116-39></a># Authentication:
</span><span id=__span-116-40><a id=__codelineno-116-40 name=__codelineno-116-40></a>
</span><span id=__span-116-41><a id=__codelineno-116-41 name=__codelineno-116-41></a>LoginGraceTime 2m
</span><span id=__span-116-42><a id=__codelineno-116-42 name=__codelineno-116-42></a>PermitRootLogin without-password
</span><span id=__span-116-43><a id=__codelineno-116-43 name=__codelineno-116-43></a>#StrictModes yes
</span><span id=__span-116-44><a id=__codelineno-116-44 name=__codelineno-116-44></a>#MaxAuthTries 6
</span><span id=__span-116-45><a id=__codelineno-116-45 name=__codelineno-116-45></a>#MaxSessions 10
</span><span id=__span-116-46><a id=__codelineno-116-46 name=__codelineno-116-46></a>
</span><span id=__span-116-47><a id=__codelineno-116-47 name=__codelineno-116-47></a>#RSAAuthentication yes
</span><span id=__span-116-48><a id=__codelineno-116-48 name=__codelineno-116-48></a>#PubkeyAuthentication yes
</span><span id=__span-116-49><a id=__codelineno-116-49 name=__codelineno-116-49></a>#AuthorizedKeysFile .ssh/authorized_keys
</span><span id=__span-116-50><a id=__codelineno-116-50 name=__codelineno-116-50></a>#AuthorizedKeysCommand none
</span><span id=__span-116-51><a id=__codelineno-116-51 name=__codelineno-116-51></a>#AuthorizedKeysCommandRunAs nobody
</span><span id=__span-116-52><a id=__codelineno-116-52 name=__codelineno-116-52></a>
</span><span id=__span-116-53><a id=__codelineno-116-53 name=__codelineno-116-53></a># For this to work you will also need host keys in /etc/ssh/ssh_known_hosts
</span><span id=__span-116-54><a id=__codelineno-116-54 name=__codelineno-116-54></a>#RhostsRSAAuthentication no
</span><span id=__span-116-55><a id=__codelineno-116-55 name=__codelineno-116-55></a># similar for protocol version 2
</span><span id=__span-116-56><a id=__codelineno-116-56 name=__codelineno-116-56></a>#HostbasedAuthentication no
</span><span id=__span-116-57><a id=__codelineno-116-57 name=__codelineno-116-57></a># Change to yes if you don&#39;t trust ~/.ssh/known_hosts for
</span><span id=__span-116-58><a id=__codelineno-116-58 name=__codelineno-116-58></a># RhostsRSAAuthentication and HostbasedAuthentication
</span><span id=__span-116-59><a id=__codelineno-116-59 name=__codelineno-116-59></a>#IgnoreUserKnownHosts no
</span><span id=__span-116-60><a id=__codelineno-116-60 name=__codelineno-116-60></a># Don&#39;t read the user&#39;s ~/.rhosts and ~/.shosts files
</span><span id=__span-116-61><a id=__codelineno-116-61 name=__codelineno-116-61></a>#IgnoreRhosts yes
</span><span id=__span-116-62><a id=__codelineno-116-62 name=__codelineno-116-62></a>
</span><span id=__span-116-63><a id=__codelineno-116-63 name=__codelineno-116-63></a># To disable tunneled clear text passwords, change to no here!
</span><span id=__span-116-64><a id=__codelineno-116-64 name=__codelineno-116-64></a>#PasswordAuthentication yes
</span><span id=__span-116-65><a id=__codelineno-116-65 name=__codelineno-116-65></a>#PermitEmptyPasswords no
</span><span id=__span-116-66><a id=__codelineno-116-66 name=__codelineno-116-66></a>PasswordAuthentication yes
</span><span id=__span-116-67><a id=__codelineno-116-67 name=__codelineno-116-67></a>
</span><span id=__span-116-68><a id=__codelineno-116-68 name=__codelineno-116-68></a># Change to no to disable s/key passwords
</span><span id=__span-116-69><a id=__codelineno-116-69 name=__codelineno-116-69></a>#ChallengeResponseAuthentication yes
</span><span id=__span-116-70><a id=__codelineno-116-70 name=__codelineno-116-70></a>ChallengeResponseAuthentication no
</span><span id=__span-116-71><a id=__codelineno-116-71 name=__codelineno-116-71></a>
</span><span id=__span-116-72><a id=__codelineno-116-72 name=__codelineno-116-72></a># Kerberos options
</span><span id=__span-116-73><a id=__codelineno-116-73 name=__codelineno-116-73></a>#KerberosAuthentication no
</span><span id=__span-116-74><a id=__codelineno-116-74 name=__codelineno-116-74></a>#KerberosOrLocalPasswd yes
</span><span id=__span-116-75><a id=__codelineno-116-75 name=__codelineno-116-75></a>#KerberosTicketCleanup yes
</span><span id=__span-116-76><a id=__codelineno-116-76 name=__codelineno-116-76></a>#KerberosGetAFSToken no
</span><span id=__span-116-77><a id=__codelineno-116-77 name=__codelineno-116-77></a>#KerberosUseKuserok yes
</span><span id=__span-116-78><a id=__codelineno-116-78 name=__codelineno-116-78></a>
</span><span id=__span-116-79><a id=__codelineno-116-79 name=__codelineno-116-79></a># GSSAPI options
</span><span id=__span-116-80><a id=__codelineno-116-80 name=__codelineno-116-80></a># Disable GSSAPI to avoid login slowdown
</span><span id=__span-116-81><a id=__codelineno-116-81 name=__codelineno-116-81></a>GSSAPIAuthentication no
</span><span id=__span-116-82><a id=__codelineno-116-82 name=__codelineno-116-82></a>#GSSAPIAuthentication yes
</span><span id=__span-116-83><a id=__codelineno-116-83 name=__codelineno-116-83></a>#GSSAPICleanupCredentials yes
</span><span id=__span-116-84><a id=__codelineno-116-84 name=__codelineno-116-84></a>#GSSAPICleanupCredentials no
</span><span id=__span-116-85><a id=__codelineno-116-85 name=__codelineno-116-85></a>#GSSAPIStrictAcceptorCheck yes
</span><span id=__span-116-86><a id=__codelineno-116-86 name=__codelineno-116-86></a>#GSSAPIKeyExchange no
</span><span id=__span-116-87><a id=__codelineno-116-87 name=__codelineno-116-87></a>
</span><span id=__span-116-88><a id=__codelineno-116-88 name=__codelineno-116-88></a># Set this to &#39;yes&#39; to enable PAM authentication, account processing,
</span><span id=__span-116-89><a id=__codelineno-116-89 name=__codelineno-116-89></a># and session processing. If this is enabled, PAM authentication will
</span><span id=__span-116-90><a id=__codelineno-116-90 name=__codelineno-116-90></a># be allowed through the ChallengeResponseAuthentication and
</span><span id=__span-116-91><a id=__codelineno-116-91 name=__codelineno-116-91></a># PasswordAuthentication.  Depending on your PAM configuration,
</span><span id=__span-116-92><a id=__codelineno-116-92 name=__codelineno-116-92></a># PAM authentication via ChallengeResponseAuthentication may bypass
</span><span id=__span-116-93><a id=__codelineno-116-93 name=__codelineno-116-93></a># the setting of &quot;PermitRootLogin without-password&quot;.
</span><span id=__span-116-94><a id=__codelineno-116-94 name=__codelineno-116-94></a># If you just want the PAM account and session checks to run without
</span><span id=__span-116-95><a id=__codelineno-116-95 name=__codelineno-116-95></a># PAM authentication, then enable this but set PasswordAuthentication
</span><span id=__span-116-96><a id=__codelineno-116-96 name=__codelineno-116-96></a># and ChallengeResponseAuthentication to &#39;no&#39;.
</span><span id=__span-116-97><a id=__codelineno-116-97 name=__codelineno-116-97></a>#UsePAM no
</span><span id=__span-116-98><a id=__codelineno-116-98 name=__codelineno-116-98></a>UsePAM yes
</span><span id=__span-116-99><a id=__codelineno-116-99 name=__codelineno-116-99></a>
</span><span id=__span-116-100><a id=__codelineno-116-100 name=__codelineno-116-100></a># Accept locale-related environment variables
</span><span id=__span-116-101><a id=__codelineno-116-101 name=__codelineno-116-101></a>AcceptEnv LANG LC_CTYPE LC_NUMERIC LC_TIME LC_COLLATE LC_MONETARY LC_MESSAGES
</span><span id=__span-116-102><a id=__codelineno-116-102 name=__codelineno-116-102></a>AcceptEnv LC_PAPER LC_NAME LC_ADDRESS LC_TELEPHONE LC_MEASUREMENT
</span><span id=__span-116-103><a id=__codelineno-116-103 name=__codelineno-116-103></a>AcceptEnv LC_IDENTIFICATION LC_ALL LANGUAGE
</span><span id=__span-116-104><a id=__codelineno-116-104 name=__codelineno-116-104></a>AcceptEnv XMODIFIERS
</span><span id=__span-116-105><a id=__codelineno-116-105 name=__codelineno-116-105></a>
</span><span id=__span-116-106><a id=__codelineno-116-106 name=__codelineno-116-106></a># For security reasons, deny tcp forwarding
</span><span id=__span-116-107><a id=__codelineno-116-107 name=__codelineno-116-107></a>AllowTcpForwarding no
</span><span id=__span-116-108><a id=__codelineno-116-108 name=__codelineno-116-108></a>X11Forwarding no
</span><span id=__span-116-109><a id=__codelineno-116-109 name=__codelineno-116-109></a># Disable DNS usage to avoid login slowdown
</span><span id=__span-116-110><a id=__codelineno-116-110 name=__codelineno-116-110></a>UseDNS no
</span><span id=__span-116-111><a id=__codelineno-116-111 name=__codelineno-116-111></a># Disconnect client if they are idle
</span><span id=__span-116-112><a id=__codelineno-116-112 name=__codelineno-116-112></a>ClientAliveInterval 600
</span><span id=__span-116-113><a id=__codelineno-116-113 name=__codelineno-116-113></a>ClientAliveCountMax 0
</span><span id=__span-116-114><a id=__codelineno-116-114 name=__codelineno-116-114></a>
</span><span id=__span-116-115><a id=__codelineno-116-115 name=__codelineno-116-115></a>#AllowAgentForwarding yes
</span><span id=__span-116-116><a id=__codelineno-116-116 name=__codelineno-116-116></a>#GatewayPorts no
</span><span id=__span-116-117><a id=__codelineno-116-117 name=__codelineno-116-117></a>#X11Forwarding no
</span><span id=__span-116-118><a id=__codelineno-116-118 name=__codelineno-116-118></a>#X11DisplayOffset 10
</span><span id=__span-116-119><a id=__codelineno-116-119 name=__codelineno-116-119></a>#X11UseLocalhost yes
</span><span id=__span-116-120><a id=__codelineno-116-120 name=__codelineno-116-120></a>#PrintMotd yes
</span><span id=__span-116-121><a id=__codelineno-116-121 name=__codelineno-116-121></a>#PrintLastLog yes
</span><span id=__span-116-122><a id=__codelineno-116-122 name=__codelineno-116-122></a>#TCPKeepAlive yes
</span><span id=__span-116-123><a id=__codelineno-116-123 name=__codelineno-116-123></a>#UseLogin no
</span><span id=__span-116-124><a id=__codelineno-116-124 name=__codelineno-116-124></a>#UsePrivilegeSeparation yes
</span><span id=__span-116-125><a id=__codelineno-116-125 name=__codelineno-116-125></a>#PermitUserEnvironment no
</span><span id=__span-116-126><a id=__codelineno-116-126 name=__codelineno-116-126></a>#Compression delayed
</span><span id=__span-116-127><a id=__codelineno-116-127 name=__codelineno-116-127></a>#ShowPatchLevel no
</span><span id=__span-116-128><a id=__codelineno-116-128 name=__codelineno-116-128></a>#PidFile /var/run/sshd.pid
</span><span id=__span-116-129><a id=__codelineno-116-129 name=__codelineno-116-129></a>#MaxStartups 10
</span><span id=__span-116-130><a id=__codelineno-116-130 name=__codelineno-116-130></a>#PermitTunnel no
</span><span id=__span-116-131><a id=__codelineno-116-131 name=__codelineno-116-131></a>#ChrootDirectory none
</span><span id=__span-116-132><a id=__codelineno-116-132 name=__codelineno-116-132></a>
</span><span id=__span-116-133><a id=__codelineno-116-133 name=__codelineno-116-133></a># no default banner path
</span><span id=__span-116-134><a id=__codelineno-116-134 name=__codelineno-116-134></a>#Banner none
</span><span id=__span-116-135><a id=__codelineno-116-135 name=__codelineno-116-135></a>
</span><span id=__span-116-136><a id=__codelineno-116-136 name=__codelineno-116-136></a># override default of no subsystems
</span><span id=__span-116-137><a id=__codelineno-116-137 name=__codelineno-116-137></a>Subsystem   sftp    /usr/libexec/openssh/sftp-server
</span><span id=__span-116-138><a id=__codelineno-116-138 name=__codelineno-116-138></a>
</span><span id=__span-116-139><a id=__codelineno-116-139 name=__codelineno-116-139></a># Example of overriding settings on a per-user basis
</span><span id=__span-116-140><a id=__codelineno-116-140 name=__codelineno-116-140></a>#Match User anoncvs
</span><span id=__span-116-141><a id=__codelineno-116-141 name=__codelineno-116-141></a>#   X11Forwarding no
</span><span id=__span-116-142><a id=__codelineno-116-142 name=__codelineno-116-142></a>#   AllowTcpForwarding no
</span><span id=__span-116-143><a id=__codelineno-116-143 name=__codelineno-116-143></a>#   ForceCommand cvs server
</span></code></pre></div></td></tr></table></div> <h3 id=openssh-2>OpenSSH - 2</h3> <p>Here's a second example for OpenSSH, slightly different. You need to initialize the module before continuing.</p> <h4 id=initpp_6>init.pp</h4> <p>Here I want my sshd_config file to be of interest:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-117-1> 1</a></span>
<span class=normal><a href=#__codelineno-117-2> 2</a></span>
<span class=normal><a href=#__codelineno-117-3> 3</a></span>
<span class=normal><a href=#__codelineno-117-4> 4</a></span>
<span class=normal><a href=#__codelineno-117-5> 5</a></span>
<span class=normal><a href=#__codelineno-117-6> 6</a></span>
<span class=normal><a href=#__codelineno-117-7> 7</a></span>
<span class=normal><a href=#__codelineno-117-8> 8</a></span>
<span class=normal><a href=#__codelineno-117-9> 9</a></span>
<span class=normal><a href=#__codelineno-117-10>10</a></span>
<span class=normal><a href=#__codelineno-117-11>11</a></span>
<span class=normal><a href=#__codelineno-117-12>12</a></span>
<span class=normal><a href=#__codelineno-117-13>13</a></span>
<span class=normal><a href=#__codelineno-117-14>14</a></span>
<span class=normal><a href=#__codelineno-117-15>15</a></span>
<span class=normal><a href=#__codelineno-117-16>16</a></span>
<span class=normal><a href=#__codelineno-117-17>17</a></span>
<span class=normal><a href=#__codelineno-117-18>18</a></span>
<span class=normal><a href=#__codelineno-117-19>19</a></span>
<span class=normal><a href=#__codelineno-117-20>20</a></span>
<span class=normal><a href=#__codelineno-117-21>21</a></span>
<span class=normal><a href=#__codelineno-117-22>22</a></span>
<span class=normal><a href=#__codelineno-117-23>23</a></span>
<span class=normal><a href=#__codelineno-117-24>24</a></span>
<span class=normal><a href=#__codelineno-117-25>25</a></span>
<span class=normal><a href=#__codelineno-117-26>26</a></span>
<span class=normal><a href=#__codelineno-117-27>27</a></span>
<span class=normal><a href=#__codelineno-117-28>28</a></span>
<span class=normal><a href=#__codelineno-117-29>29</a></span>
<span class=normal><a href=#__codelineno-117-30>30</a></span>
<span class=normal><a href=#__codelineno-117-31>31</a></span>
<span class=normal><a href=#__codelineno-117-32>32</a></span>
<span class=normal><a href=#__codelineno-117-33>33</a></span>
<span class=normal><a href=#__codelineno-117-34>34</a></span>
<span class=normal><a href=#__codelineno-117-35>35</a></span>
<span class=normal><a href=#__codelineno-117-36>36</a></span>
<span class=normal><a href=#__codelineno-117-37>37</a></span>
<span class=normal><a href=#__codelineno-117-38>38</a></span>
<span class=normal><a href=#__codelineno-117-39>39</a></span>
<span class=normal><a href=#__codelineno-117-40>40</a></span>
<span class=normal><a href=#__codelineno-117-41>41</a></span>
<span class=normal><a href=#__codelineno-117-42>42</a></span>
<span class=normal><a href=#__codelineno-117-43>43</a></span>
<span class=normal><a href=#__codelineno-117-44>44</a></span>
<span class=normal><a href=#__codelineno-117-45>45</a></span>
<span class=normal><a href=#__codelineno-117-46>46</a></span>
<span class=normal><a href=#__codelineno-117-47>47</a></span>
<span class=normal><a href=#__codelineno-117-48>48</a></span>
<span class=normal><a href=#__codelineno-117-49>49</a></span>
<span class=normal><a href=#__codelineno-117-50>50</a></span>
<span class=normal><a href=#__codelineno-117-51>51</a></span>
<span class=normal><a href=#__codelineno-117-52>52</a></span>
<span class=normal><a href=#__codelineno-117-53>53</a></span>
<span class=normal><a href=#__codelineno-117-54>54</a></span>
<span class=normal><a href=#__codelineno-117-55>55</a></span>
<span class=normal><a href=#__codelineno-117-56>56</a></span>
<span class=normal><a href=#__codelineno-117-57>57</a></span>
<span class=normal><a href=#__codelineno-117-58>58</a></span>
<span class=normal><a href=#__codelineno-117-59>59</a></span>
<span class=normal><a href=#__codelineno-117-60>60</a></span>
<span class=normal><a href=#__codelineno-117-61>61</a></span>
<span class=normal><a href=#__codelineno-117-62>62</a></span>
<span class=normal><a href=#__codelineno-117-63>63</a></span>
<span class=normal><a href=#__codelineno-117-64>64</a></span>
<span class=normal><a href=#__codelineno-117-65>65</a></span>
<span class=normal><a href=#__codelineno-117-66>66</a></span>
<span class=normal><a href=#__codelineno-117-67>67</a></span>
<span class=normal><a href=#__codelineno-117-68>68</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-117-1><a id=__codelineno-117-1 name=__codelineno-117-1></a><span class=c1>#ssh.pp</span>
</span><span id=__span-117-2><a id=__codelineno-117-2 name=__codelineno-117-2></a>
</span><span id=__span-117-3><a id=__codelineno-117-3 name=__codelineno-117-3></a><span class=c1># SSH Class with all includes</span>
</span><span id=__span-117-4><a id=__codelineno-117-4 name=__codelineno-117-4></a><span class=k>class</span><span class=w> </span><span class=n>ssh</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-117-5><a id=__codelineno-117-5 name=__codelineno-117-5></a><span class=w>   </span><span class=vg>$ssh_default_port</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=s2>&quot;22&quot;</span><span class=o>]</span>
</span><span id=__span-117-6><a id=__codelineno-117-6 name=__codelineno-117-6></a><span class=w>   </span><span class=vg>$ssh_allowed_users</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;root&quot;</span>
</span><span id=__span-117-7><a id=__codelineno-117-7 name=__codelineno-117-7></a><span class=w>   </span><span class=kp>include</span><span class=w> </span><span class=n>ssh</span><span class=o>::</span><span class=n>config</span><span class=p>,</span><span class=w> </span><span class=n>ssh</span><span class=o>::</span><span class=n>key</span><span class=p>,</span><span class=w> </span><span class=n>ssh</span><span class=o>::</span><span class=n>service</span>
</span><span id=__span-117-8><a id=__codelineno-117-8 name=__codelineno-117-8></a><span class=p>}</span>
</span><span id=__span-117-9><a id=__codelineno-117-9 name=__codelineno-117-9></a>
</span><span id=__span-117-10><a id=__codelineno-117-10 name=__codelineno-117-10></a><span class=c1># SSHD Config file</span>
</span><span id=__span-117-11><a id=__codelineno-117-11 name=__codelineno-117-11></a><span class=k>class</span><span class=w> </span><span class=n>ssh</span><span class=o>::</span><span class=n>config</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-117-12><a id=__codelineno-117-12 name=__codelineno-117-12></a><span class=w>  </span><span class=no>File</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-117-13><a id=__codelineno-117-13 name=__codelineno-117-13></a><span class=w>    </span><span class=nb>name</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-117-14><a id=__codelineno-117-14 name=__codelineno-117-14></a><span class=w>      </span><span class=no>Solaris</span><span class=w>  </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/etc/ssh/sshd_config&quot;</span><span class=p>,</span>
</span><span id=__span-117-15><a id=__codelineno-117-15 name=__codelineno-117-15></a><span class=w>      </span><span class=n>default</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/etc/ssh/sshd_config&quot;</span>
</span><span id=__span-117-16><a id=__codelineno-117-16 name=__codelineno-117-16></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-117-17><a id=__codelineno-117-17 name=__codelineno-117-17></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-117-18><a id=__codelineno-117-18 name=__codelineno-117-18></a>
</span><span id=__span-117-19><a id=__codelineno-117-19 name=__codelineno-117-19></a><span class=w>  </span><span class=c1># Using templates for sshd_config</span>
</span><span id=__span-117-20><a id=__codelineno-117-20 name=__codelineno-117-20></a><span class=w>  </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=ss>sshd_config</span><span class=p>:</span>
</span><span id=__span-117-21><a id=__codelineno-117-21 name=__codelineno-117-21></a><span class=w>    </span><span class=n>content</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-117-22><a id=__codelineno-117-22 name=__codelineno-117-22></a><span class=w>       </span><span class=n>default</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>template</span><span class=p>(</span><span class=s2>&quot;ssh/sshd_config&quot;</span><span class=p>),</span>
</span><span id=__span-117-23><a id=__codelineno-117-23 name=__codelineno-117-23></a><span class=w>       </span><span class=no>Solaris</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>template</span><span class=p>(</span><span class=s2>&quot;ssh/sshd_config.solaris&quot;</span><span class=p>),</span>
</span><span id=__span-117-24><a id=__codelineno-117-24 name=__codelineno-117-24></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-117-25><a id=__codelineno-117-25 name=__codelineno-117-25></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-117-26><a id=__codelineno-117-26 name=__codelineno-117-26></a><span class=p>}</span>
</span><span id=__span-117-27><a id=__codelineno-117-27 name=__codelineno-117-27></a>
</span><span id=__span-117-28><a id=__codelineno-117-28 name=__codelineno-117-28></a><span class=c1># SSH Key exchange</span>
</span><span id=__span-117-29><a id=__codelineno-117-29 name=__codelineno-117-29></a><span class=k>class</span><span class=w> </span><span class=n>ssh</span><span class=o>::</span><span class=n>key</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-117-30><a id=__codelineno-117-30 name=__codelineno-117-30></a><span class=w>    </span><span class=vg>$basedir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-117-31><a id=__codelineno-117-31 name=__codelineno-117-31></a><span class=w>        </span><span class=no>Solaris</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/.ssh&quot;</span><span class=p>,</span>
</span><span id=__span-117-32><a id=__codelineno-117-32 name=__codelineno-117-32></a><span class=w>        </span><span class=no>Debian</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/root/.ssh&quot;</span><span class=p>,</span>
</span><span id=__span-117-33><a id=__codelineno-117-33 name=__codelineno-117-33></a><span class=w>        </span><span class=no>Redhat</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/root/.ssh&quot;</span><span class=p>,</span>
</span><span id=__span-117-34><a id=__codelineno-117-34 name=__codelineno-117-34></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-117-35><a id=__codelineno-117-35 name=__codelineno-117-35></a>
</span><span id=__span-117-36><a id=__codelineno-117-36 name=__codelineno-117-36></a><span class=w>        </span><span class=c1># Make sur .ssh exist in root home dir</span>
</span><span id=__span-117-37><a id=__codelineno-117-37 name=__codelineno-117-37></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;$basedir/&quot;</span><span class=p>:</span>
</span><span id=__span-117-38><a id=__codelineno-117-38 name=__codelineno-117-38></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-117-39><a id=__codelineno-117-39 name=__codelineno-117-39></a><span class=w>        </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0700</span><span class=p>,</span>
</span><span id=__span-117-40><a id=__codelineno-117-40 name=__codelineno-117-40></a><span class=w>        </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-117-41><a id=__codelineno-117-41 name=__codelineno-117-41></a><span class=w>        </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-117-42><a id=__codelineno-117-42 name=__codelineno-117-42></a><span class=w>        </span><span class=n>ignore</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;.svn&#39;</span>
</span><span id=__span-117-43><a id=__codelineno-117-43 name=__codelineno-117-43></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-117-44><a id=__codelineno-117-44 name=__codelineno-117-44></a>
</span><span id=__span-117-45><a id=__codelineno-117-45 name=__codelineno-117-45></a><span class=w>    </span><span class=c1># Check if authorized_keys key file exist or create empty one</span>
</span><span id=__span-117-46><a id=__codelineno-117-46 name=__codelineno-117-46></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;$basedir/authorized_keys&quot;</span><span class=p>:</span>
</span><span id=__span-117-47><a id=__codelineno-117-47 name=__codelineno-117-47></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span><span class=p>,</span>
</span><span id=__span-117-48><a id=__codelineno-117-48 name=__codelineno-117-48></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-117-49><a id=__codelineno-117-49 name=__codelineno-117-49></a>
</span><span id=__span-117-50><a id=__codelineno-117-50 name=__codelineno-117-50></a><span class=w>    </span><span class=c1># Check this line exist</span>
</span><span id=__span-117-51><a id=__codelineno-117-51 name=__codelineno-117-51></a><span class=w>    </span><span class=n>line</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=ss>ssh_key</span><span class=p>:</span>
</span><span id=__span-117-52><a id=__codelineno-117-52 name=__codelineno-117-52></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$basedir/authorized_keys&quot;</span><span class=p>,</span>
</span><span id=__span-117-53><a id=__codelineno-117-53 name=__codelineno-117-53></a><span class=w>    </span><span class=n>line</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;ssh-dss AAAAB3NzaC1....zG3ZA== root@puppet&quot;</span><span class=p>,</span>
</span><span id=__span-117-54><a id=__codelineno-117-54 name=__codelineno-117-54></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span><span class=p>;</span>
</span><span id=__span-117-55><a id=__codelineno-117-55 name=__codelineno-117-55></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-117-56><a id=__codelineno-117-56 name=__codelineno-117-56></a><span class=p>}</span>
</span><span id=__span-117-57><a id=__codelineno-117-57 name=__codelineno-117-57></a>
</span><span id=__span-117-58><a id=__codelineno-117-58 name=__codelineno-117-58></a><span class=c1># Check servoce status</span>
</span><span id=__span-117-59><a id=__codelineno-117-59 name=__codelineno-117-59></a><span class=k>class</span><span class=w> </span><span class=n>ssh</span><span class=o>::</span><span class=n>service</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-117-60><a id=__codelineno-117-60 name=__codelineno-117-60></a><span class=w>  </span><span class=n>service</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=ss>ssh</span><span class=p>:</span>
</span><span id=__span-117-61><a id=__codelineno-117-61 name=__codelineno-117-61></a><span class=w>    </span><span class=nb>name</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-117-62><a id=__codelineno-117-62 name=__codelineno-117-62></a><span class=w>      </span><span class=no>Solaris</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;svc:/network/ssh:default&quot;</span><span class=p>,</span>
</span><span id=__span-117-63><a id=__codelineno-117-63 name=__codelineno-117-63></a><span class=w>      </span><span class=n>default</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>ssh</span>
</span><span id=__span-117-64><a id=__codelineno-117-64 name=__codelineno-117-64></a><span class=w>    </span><span class=p>},</span>
</span><span id=__span-117-65><a id=__codelineno-117-65 name=__codelineno-117-65></a><span class=w>    </span><span class=k>ensure</span><span class=w>    </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span><span class=p>,</span>
</span><span id=__span-117-66><a id=__codelineno-117-66 name=__codelineno-117-66></a><span class=w>    </span><span class=n>enable</span><span class=w>    </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span>
</span><span id=__span-117-67><a id=__codelineno-117-67 name=__codelineno-117-67></a><span class=w>  </span><span class=p>}</span>
</span><span id=__span-117-68><a id=__codelineno-117-68 name=__codelineno-117-68></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Then, compared to sudo, I have a notify which automatically restarts the service when the file is replaced by a new version. It's the ssh service with the "ensure =&gt; running" option, which will allow detection of the version change and restart.</p> <h4 id=templates_3>templates</h4> <p>Since we use templates, we'll need to create a templates folder:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-118-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-118-1><a id=__codelineno-118-1 name=__codelineno-118-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/ssh/templates
</span></code></pre></div></td></tr></table></div> <p>Then we'll create 2 files (sshd_config and sshd_config.solaris) because the configurations don't behave the same way (OpenSSH vs Sun SSH). However, I'll only cover the OpenSSH part here:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-119-1> 1</a></span>
<span class=normal><a href=#__codelineno-119-2> 2</a></span>
<span class=normal><a href=#__codelineno-119-3> 3</a></span>
<span class=normal><a href=#__codelineno-119-4> 4</a></span>
<span class=normal><a href=#__codelineno-119-5> 5</a></span>
<span class=normal><a href=#__codelineno-119-6> 6</a></span>
<span class=normal><a href=#__codelineno-119-7> 7</a></span>
<span class=normal><a href=#__codelineno-119-8> 8</a></span>
<span class=normal><a href=#__codelineno-119-9> 9</a></span>
<span class=normal><a href=#__codelineno-119-10>10</a></span>
<span class=normal><a href=#__codelineno-119-11>11</a></span>
<span class=normal><a href=#__codelineno-119-12>12</a></span>
<span class=normal><a href=#__codelineno-119-13>13</a></span>
<span class=normal><a href=#__codelineno-119-14>14</a></span>
<span class=normal><a href=#__codelineno-119-15>15</a></span>
<span class=normal><a href=#__codelineno-119-16>16</a></span>
<span class=normal><a href=#__codelineno-119-17>17</a></span>
<span class=normal><a href=#__codelineno-119-18>18</a></span>
<span class=normal><a href=#__codelineno-119-19>19</a></span>
<span class=normal><a href=#__codelineno-119-20>20</a></span>
<span class=normal><a href=#__codelineno-119-21>21</a></span>
<span class=normal><a href=#__codelineno-119-22>22</a></span>
<span class=normal><a href=#__codelineno-119-23>23</a></span>
<span class=normal><a href=#__codelineno-119-24>24</a></span>
<span class=normal><a href=#__codelineno-119-25>25</a></span>
<span class=normal><a href=#__codelineno-119-26>26</a></span>
<span class=normal><a href=#__codelineno-119-27>27</a></span>
<span class=normal><a href=#__codelineno-119-28>28</a></span>
<span class=normal><a href=#__codelineno-119-29>29</a></span>
<span class=normal><a href=#__codelineno-119-30>30</a></span>
<span class=normal><a href=#__codelineno-119-31>31</a></span>
<span class=normal><a href=#__codelineno-119-32>32</a></span>
<span class=normal><a href=#__codelineno-119-33>33</a></span>
<span class=normal><a href=#__codelineno-119-34>34</a></span>
<span class=normal><a href=#__codelineno-119-35>35</a></span>
<span class=normal><a href=#__codelineno-119-36>36</a></span>
<span class=normal><a href=#__codelineno-119-37>37</a></span>
<span class=normal><a href=#__codelineno-119-38>38</a></span>
<span class=normal><a href=#__codelineno-119-39>39</a></span>
<span class=normal><a href=#__codelineno-119-40>40</a></span>
<span class=normal><a href=#__codelineno-119-41>41</a></span>
<span class=normal><a href=#__codelineno-119-42>42</a></span>
<span class=normal><a href=#__codelineno-119-43>43</a></span>
<span class=normal><a href=#__codelineno-119-44>44</a></span>
<span class=normal><a href=#__codelineno-119-45>45</a></span>
<span class=normal><a href=#__codelineno-119-46>46</a></span>
<span class=normal><a href=#__codelineno-119-47>47</a></span>
<span class=normal><a href=#__codelineno-119-48>48</a></span>
<span class=normal><a href=#__codelineno-119-49>49</a></span>
<span class=normal><a href=#__codelineno-119-50>50</a></span>
<span class=normal><a href=#__codelineno-119-51>51</a></span>
<span class=normal><a href=#__codelineno-119-52>52</a></span>
<span class=normal><a href=#__codelineno-119-53>53</a></span>
<span class=normal><a href=#__codelineno-119-54>54</a></span>
<span class=normal><a href=#__codelineno-119-55>55</a></span>
<span class=normal><a href=#__codelineno-119-56>56</a></span>
<span class=normal><a href=#__codelineno-119-57>57</a></span>
<span class=normal><a href=#__codelineno-119-58>58</a></span>
<span class=normal><a href=#__codelineno-119-59>59</a></span>
<span class=normal><a href=#__codelineno-119-60>60</a></span>
<span class=normal><a href=#__codelineno-119-61>61</a></span>
<span class=normal><a href=#__codelineno-119-62>62</a></span>
<span class=normal><a href=#__codelineno-119-63>63</a></span>
<span class=normal><a href=#__codelineno-119-64>64</a></span>
<span class=normal><a href=#__codelineno-119-65>65</a></span>
<span class=normal><a href=#__codelineno-119-66>66</a></span>
<span class=normal><a href=#__codelineno-119-67>67</a></span>
<span class=normal><a href=#__codelineno-119-68>68</a></span>
<span class=normal><a href=#__codelineno-119-69>69</a></span>
<span class=normal><a href=#__codelineno-119-70>70</a></span>
<span class=normal><a href=#__codelineno-119-71>71</a></span>
<span class=normal><a href=#__codelineno-119-72>72</a></span>
<span class=normal><a href=#__codelineno-119-73>73</a></span>
<span class=normal><a href=#__codelineno-119-74>74</a></span>
<span class=normal><a href=#__codelineno-119-75>75</a></span>
<span class=normal><a href=#__codelineno-119-76>76</a></span>
<span class=normal><a href=#__codelineno-119-77>77</a></span>
<span class=normal><a href=#__codelineno-119-78>78</a></span>
<span class=normal><a href=#__codelineno-119-79>79</a></span>
<span class=normal><a href=#__codelineno-119-80>80</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-119-1><a id=__codelineno-119-1 name=__codelineno-119-1></a># Package generated configuration file
</span><span id=__span-119-2><a id=__codelineno-119-2 name=__codelineno-119-2></a># See the sshd(8) manpage for details
</span><span id=__span-119-3><a id=__codelineno-119-3 name=__codelineno-119-3></a>
</span><span id=__span-119-4><a id=__codelineno-119-4 name=__codelineno-119-4></a># What ports, IPs and protocols we listen for
</span><span id=__span-119-5><a id=__codelineno-119-5 name=__codelineno-119-5></a>&lt;% ssh_default_port.each do |val| -%&gt;
</span><span id=__span-119-6><a id=__codelineno-119-6 name=__codelineno-119-6></a>Port &lt;%= val -%&gt;
</span><span id=__span-119-7><a id=__codelineno-119-7 name=__codelineno-119-7></a>&lt;% end -%&gt;
</span><span id=__span-119-8><a id=__codelineno-119-8 name=__codelineno-119-8></a># Use these options to restrict which interfaces/protocols sshd will bind to
</span><span id=__span-119-9><a id=__codelineno-119-9 name=__codelineno-119-9></a>#ListenAddress ::
</span><span id=__span-119-10><a id=__codelineno-119-10 name=__codelineno-119-10></a>#ListenAddress 0.0.0.0
</span><span id=__span-119-11><a id=__codelineno-119-11 name=__codelineno-119-11></a>Protocol 2
</span><span id=__span-119-12><a id=__codelineno-119-12 name=__codelineno-119-12></a># HostKeys for protocol version 2
</span><span id=__span-119-13><a id=__codelineno-119-13 name=__codelineno-119-13></a>HostKey /etc/ssh/ssh_host_rsa_key
</span><span id=__span-119-14><a id=__codelineno-119-14 name=__codelineno-119-14></a>HostKey /etc/ssh/ssh_host_dsa_key
</span><span id=__span-119-15><a id=__codelineno-119-15 name=__codelineno-119-15></a>#Privilege Separation is turned on for security
</span><span id=__span-119-16><a id=__codelineno-119-16 name=__codelineno-119-16></a>UsePrivilegeSeparation yes
</span><span id=__span-119-17><a id=__codelineno-119-17 name=__codelineno-119-17></a>
</span><span id=__span-119-18><a id=__codelineno-119-18 name=__codelineno-119-18></a># Lifetime and size of ephemeral version 1 server key
</span><span id=__span-119-19><a id=__codelineno-119-19 name=__codelineno-119-19></a>KeyRegenerationInterval 3600
</span><span id=__span-119-20><a id=__codelineno-119-20 name=__codelineno-119-20></a>ServerKeyBits 768
</span><span id=__span-119-21><a id=__codelineno-119-21 name=__codelineno-119-21></a>
</span><span id=__span-119-22><a id=__codelineno-119-22 name=__codelineno-119-22></a># Logging
</span><span id=__span-119-23><a id=__codelineno-119-23 name=__codelineno-119-23></a>SyslogFacility AUTH
</span><span id=__span-119-24><a id=__codelineno-119-24 name=__codelineno-119-24></a>LogLevel INFO
</span><span id=__span-119-25><a id=__codelineno-119-25 name=__codelineno-119-25></a>
</span><span id=__span-119-26><a id=__codelineno-119-26 name=__codelineno-119-26></a># Authentication:
</span><span id=__span-119-27><a id=__codelineno-119-27 name=__codelineno-119-27></a>LoginGraceTime 120
</span><span id=__span-119-28><a id=__codelineno-119-28 name=__codelineno-119-28></a>PermitRootLogin yes
</span><span id=__span-119-29><a id=__codelineno-119-29 name=__codelineno-119-29></a>StrictModes yes
</span><span id=__span-119-30><a id=__codelineno-119-30 name=__codelineno-119-30></a>
</span><span id=__span-119-31><a id=__codelineno-119-31 name=__codelineno-119-31></a>RSAAuthentication yes
</span><span id=__span-119-32><a id=__codelineno-119-32 name=__codelineno-119-32></a>PubkeyAuthentication yes
</span><span id=__span-119-33><a id=__codelineno-119-33 name=__codelineno-119-33></a>#AuthorizedKeysFile %h/.ssh/authorized_keys
</span><span id=__span-119-34><a id=__codelineno-119-34 name=__codelineno-119-34></a>
</span><span id=__span-119-35><a id=__codelineno-119-35 name=__codelineno-119-35></a># Don&#39;t read the user&#39;s ~/.rhosts and ~/.shosts files
</span><span id=__span-119-36><a id=__codelineno-119-36 name=__codelineno-119-36></a>IgnoreRhosts yes
</span><span id=__span-119-37><a id=__codelineno-119-37 name=__codelineno-119-37></a># For this to work you will also need host keys in /etc/ssh_known_hosts
</span><span id=__span-119-38><a id=__codelineno-119-38 name=__codelineno-119-38></a>RhostsRSAAuthentication no
</span><span id=__span-119-39><a id=__codelineno-119-39 name=__codelineno-119-39></a># similar for protocol version 2
</span><span id=__span-119-40><a id=__codelineno-119-40 name=__codelineno-119-40></a>HostbasedAuthentication no
</span><span id=__span-119-41><a id=__codelineno-119-41 name=__codelineno-119-41></a># Uncomment if you don&#39;t trust ~/.ssh/known_hosts for RhostsRSAAuthentication
</span><span id=__span-119-42><a id=__codelineno-119-42 name=__codelineno-119-42></a>#IgnoreUserKnownHosts yes
</span><span id=__span-119-43><a id=__codelineno-119-43 name=__codelineno-119-43></a>
</span><span id=__span-119-44><a id=__codelineno-119-44 name=__codelineno-119-44></a># To enable empty passwords, change to yes (NOT RECOMMENDED)
</span><span id=__span-119-45><a id=__codelineno-119-45 name=__codelineno-119-45></a>PermitEmptyPasswords no
</span><span id=__span-119-46><a id=__codelineno-119-46 name=__codelineno-119-46></a>
</span><span id=__span-119-47><a id=__codelineno-119-47 name=__codelineno-119-47></a># Change to yes to enable challenge-response passwords (beware issues with
</span><span id=__span-119-48><a id=__codelineno-119-48 name=__codelineno-119-48></a># some PAM modules and threads)
</span><span id=__span-119-49><a id=__codelineno-119-49 name=__codelineno-119-49></a>ChallengeResponseAuthentication no
</span><span id=__span-119-50><a id=__codelineno-119-50 name=__codelineno-119-50></a>
</span><span id=__span-119-51><a id=__codelineno-119-51 name=__codelineno-119-51></a># Change to no to disable tunnelled clear text passwords
</span><span id=__span-119-52><a id=__codelineno-119-52 name=__codelineno-119-52></a>#PasswordAuthentication yes
</span><span id=__span-119-53><a id=__codelineno-119-53 name=__codelineno-119-53></a>
</span><span id=__span-119-54><a id=__codelineno-119-54 name=__codelineno-119-54></a># Kerberos options
</span><span id=__span-119-55><a id=__codelineno-119-55 name=__codelineno-119-55></a>#KerberosAuthentication no
</span><span id=__span-119-56><a id=__codelineno-119-56 name=__codelineno-119-56></a>#KerberosGetAFSToken no
</span><span id=__span-119-57><a id=__codelineno-119-57 name=__codelineno-119-57></a>#KerberosOrLocalPasswd yes
</span><span id=__span-119-58><a id=__codelineno-119-58 name=__codelineno-119-58></a>#KerberosTicketCleanup yes
</span><span id=__span-119-59><a id=__codelineno-119-59 name=__codelineno-119-59></a>
</span><span id=__span-119-60><a id=__codelineno-119-60 name=__codelineno-119-60></a># GSSAPI options
</span><span id=__span-119-61><a id=__codelineno-119-61 name=__codelineno-119-61></a>#GSSAPIAuthentication no
</span><span id=__span-119-62><a id=__codelineno-119-62 name=__codelineno-119-62></a>#GSSAPICleanupCredentials yes
</span><span id=__span-119-63><a id=__codelineno-119-63 name=__codelineno-119-63></a>
</span><span id=__span-119-64><a id=__codelineno-119-64 name=__codelineno-119-64></a>X11Forwarding yes
</span><span id=__span-119-65><a id=__codelineno-119-65 name=__codelineno-119-65></a>X11DisplayOffset 10
</span><span id=__span-119-66><a id=__codelineno-119-66 name=__codelineno-119-66></a>PrintMotd no
</span><span id=__span-119-67><a id=__codelineno-119-67 name=__codelineno-119-67></a>PrintLastLog yes
</span><span id=__span-119-68><a id=__codelineno-119-68 name=__codelineno-119-68></a>TCPKeepAlive yes
</span><span id=__span-119-69><a id=__codelineno-119-69 name=__codelineno-119-69></a>#UseLogin no
</span><span id=__span-119-70><a id=__codelineno-119-70 name=__codelineno-119-70></a>
</span><span id=__span-119-71><a id=__codelineno-119-71 name=__codelineno-119-71></a>#MaxStartups 10:30:60
</span><span id=__span-119-72><a id=__codelineno-119-72 name=__codelineno-119-72></a>#Banner /etc/issue.net
</span><span id=__span-119-73><a id=__codelineno-119-73 name=__codelineno-119-73></a>
</span><span id=__span-119-74><a id=__codelineno-119-74 name=__codelineno-119-74></a># Allow client to pass locale environment variables
</span><span id=__span-119-75><a id=__codelineno-119-75 name=__codelineno-119-75></a>AcceptEnv LANG LC_*
</span><span id=__span-119-76><a id=__codelineno-119-76 name=__codelineno-119-76></a>
</span><span id=__span-119-77><a id=__codelineno-119-77 name=__codelineno-119-77></a>Subsystem sftp /usr/lib/openssh/sftp-server
</span><span id=__span-119-78><a id=__codelineno-119-78 name=__codelineno-119-78></a>
</span><span id=__span-119-79><a id=__codelineno-119-79 name=__codelineno-119-79></a>UsePAM yes
</span><span id=__span-119-80><a id=__codelineno-119-80 name=__codelineno-119-80></a># AllowUsers &lt;%= ssh_allowed_users %&gt;
</span></code></pre></div></td></tr></table></div> <h3 id=selinux>SELinux</h3> <p>If you want to know more about SELinux, I invite you to look at this documentation. Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-120-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-120-1><a id=__codelineno-120-1 name=__codelineno-120-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/selinux/manifests
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_7>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-121-1>1</a></span>
<span class=normal><a href=#__codelineno-121-2>2</a></span>
<span class=normal><a href=#__codelineno-121-3>3</a></span>
<span class=normal><a href=#__codelineno-121-4>4</a></span>
<span class=normal><a href=#__codelineno-121-5>5</a></span>
<span class=normal><a href=#__codelineno-121-6>6</a></span>
<span class=normal><a href=#__codelineno-121-7>7</a></span>
<span class=normal><a href=#__codelineno-121-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-121-1><a id=__codelineno-121-1 name=__codelineno-121-1></a><span class=k>class</span><span class=w> </span><span class=n>selinux</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-121-2><a id=__codelineno-121-2 name=__codelineno-121-2></a><span class=w>    </span><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-121-3><a id=__codelineno-121-3 name=__codelineno-121-3></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-121-4><a id=__codelineno-121-4 name=__codelineno-121-4></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-121-5><a id=__codelineno-121-5 name=__codelineno-121-5></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>selinux</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-121-6><a id=__codelineno-121-6 name=__codelineno-121-6></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-121-7><a id=__codelineno-121-7 name=__codelineno-121-7></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-121-8><a id=__codelineno-121-8 name=__codelineno-121-8></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_5>redhat.pp</h4> <p>Here, I'll use a function (augeas), which will allow me to change the value of the 'SELINUX' variable to 'disabled', because I want to disable this module:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-122-1>1</a></span>
<span class=normal><a href=#__codelineno-122-2>2</a></span>
<span class=normal><a href=#__codelineno-122-3>3</a></span>
<span class=normal><a href=#__codelineno-122-4>4</a></span>
<span class=normal><a href=#__codelineno-122-5>5</a></span>
<span class=normal><a href=#__codelineno-122-6>6</a></span>
<span class=normal><a href=#__codelineno-122-7>7</a></span>
<span class=normal><a href=#__codelineno-122-8>8</a></span>
<span class=normal><a href=#__codelineno-122-9>9</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-122-1><a id=__codelineno-122-1 name=__codelineno-122-1></a><span class=k>class</span><span class=w> </span><span class=n>selinux</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-122-2><a id=__codelineno-122-2 name=__codelineno-122-2></a><span class=p>{</span>
</span><span id=__span-122-3><a id=__codelineno-122-3 name=__codelineno-122-3></a><span class=w>    </span><span class=c1># Disable SELinux</span>
</span><span id=__span-122-4><a id=__codelineno-122-4 name=__codelineno-122-4></a><span class=w>    </span><span class=n>augeas</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-122-5><a id=__codelineno-122-5 name=__codelineno-122-5></a><span class=w>        </span><span class=s2>&quot;selinux&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-122-6><a id=__codelineno-122-6 name=__codelineno-122-6></a><span class=w>            </span><span class=n>context</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/files/etc/sysconfig/selinux/&quot;</span><span class=p>,</span>
</span><span id=__span-122-7><a id=__codelineno-122-7 name=__codelineno-122-7></a><span class=w>            </span><span class=n>changes</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;set SELINUX disabled&quot;</span>
</span><span id=__span-122-8><a id=__codelineno-122-8 name=__codelineno-122-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-122-9><a id=__codelineno-122-9 name=__codelineno-122-9></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=grub>Grub</h3> <p>There are many Grub options and its use can vary from system to system. I recommend this documentation before tackling this. Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-123-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-123-1><a id=__codelineno-123-1 name=__codelineno-123-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/grub/manifests
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_8>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-124-1> 1</a></span>
<span class=normal><a href=#__codelineno-124-2> 2</a></span>
<span class=normal><a href=#__codelineno-124-3> 3</a></span>
<span class=normal><a href=#__codelineno-124-4> 4</a></span>
<span class=normal><a href=#__codelineno-124-5> 5</a></span>
<span class=normal><a href=#__codelineno-124-6> 6</a></span>
<span class=normal><a href=#__codelineno-124-7> 7</a></span>
<span class=normal><a href=#__codelineno-124-8> 8</a></span>
<span class=normal><a href=#__codelineno-124-9> 9</a></span>
<span class=normal><a href=#__codelineno-124-10>10</a></span>
<span class=normal><a href=#__codelineno-124-11>11</a></span>
<span class=normal><a href=#__codelineno-124-12>12</a></span>
<span class=normal><a href=#__codelineno-124-13>13</a></span>
<span class=normal><a href=#__codelineno-124-14>14</a></span>
<span class=normal><a href=#__codelineno-124-15>15</a></span>
<span class=normal><a href=#__codelineno-124-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-124-1><a id=__codelineno-124-1 name=__codelineno-124-1></a><span class=sr>/*</span>
</span><span id=__span-124-2><a id=__codelineno-124-2 name=__codelineno-124-2></a><span class=sr>Grub Module for Puppet</span>
</span><span id=__span-124-3><a id=__codelineno-124-3 name=__codelineno-124-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-124-4><a id=__codelineno-124-4 name=__codelineno-124-4></a><span class=sr>*/</span>
</span><span id=__span-124-5><a id=__codelineno-124-5 name=__codelineno-124-5></a><span class=k>class</span><span class=w> </span><span class=n>grub</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-124-6><a id=__codelineno-124-6 name=__codelineno-124-6></a><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-124-7><a id=__codelineno-124-7 name=__codelineno-124-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-124-8><a id=__codelineno-124-8 name=__codelineno-124-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-124-9><a id=__codelineno-124-9 name=__codelineno-124-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=o>::</span><span class=n>grub</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-124-10><a id=__codelineno-124-10 name=__codelineno-124-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-124-11><a id=__codelineno-124-11 name=__codelineno-124-11></a><span class=w>        </span><span class=c1>#&#39;sunos&#39;:  { include packages_defaults::solaris }</span>
</span><span id=__span-124-12><a id=__codelineno-124-12 name=__codelineno-124-12></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-124-13><a id=__codelineno-124-13 name=__codelineno-124-13></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-124-14><a id=__codelineno-124-14 name=__codelineno-124-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-124-15><a id=__codelineno-124-15 name=__codelineno-124-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-124-16><a id=__codelineno-124-16 name=__codelineno-124-16></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_6>redhat.pp</h4> <p>Things will get a bit more complicated here. I'm still using the Augeas module to remove the quiet and rhgb arguments from the available kernels in grub.conf:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-125-1> 1</a></span>
<span class=normal><a href=#__codelineno-125-2> 2</a></span>
<span class=normal><a href=#__codelineno-125-3> 3</a></span>
<span class=normal><a href=#__codelineno-125-4> 4</a></span>
<span class=normal><a href=#__codelineno-125-5> 5</a></span>
<span class=normal><a href=#__codelineno-125-6> 6</a></span>
<span class=normal><a href=#__codelineno-125-7> 7</a></span>
<span class=normal><a href=#__codelineno-125-8> 8</a></span>
<span class=normal><a href=#__codelineno-125-9> 9</a></span>
<span class=normal><a href=#__codelineno-125-10>10</a></span>
<span class=normal><a href=#__codelineno-125-11>11</a></span>
<span class=normal><a href=#__codelineno-125-12>12</a></span>
<span class=normal><a href=#__codelineno-125-13>13</a></span>
<span class=normal><a href=#__codelineno-125-14>14</a></span>
<span class=normal><a href=#__codelineno-125-15>15</a></span>
<span class=normal><a href=#__codelineno-125-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-125-1><a id=__codelineno-125-1 name=__codelineno-125-1></a><span class=sr>/*</span>
</span><span id=__span-125-2><a id=__codelineno-125-2 name=__codelineno-125-2></a><span class=sr>Grub Module for Puppet</span>
</span><span id=__span-125-3><a id=__codelineno-125-3 name=__codelineno-125-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-125-4><a id=__codelineno-125-4 name=__codelineno-125-4></a><span class=sr>*/</span>
</span><span id=__span-125-5><a id=__codelineno-125-5 name=__codelineno-125-5></a><span class=k>class</span><span class=w> </span><span class=n>grub</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-125-6><a id=__codelineno-125-6 name=__codelineno-125-6></a><span class=p>{</span>
</span><span id=__span-125-7><a id=__codelineno-125-7 name=__codelineno-125-7></a><span class=w>    </span><span class=c1># Remove unwanted parameters parameter</span>
</span><span id=__span-125-8><a id=__codelineno-125-8 name=__codelineno-125-8></a><span class=w>    </span><span class=n>augeas</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-125-9><a id=__codelineno-125-9 name=__codelineno-125-9></a><span class=w>        </span><span class=s2>&quot;grub&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-125-10><a id=__codelineno-125-10 name=__codelineno-125-10></a><span class=w>            </span><span class=n>context</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/files/etc/grub.conf&quot;</span><span class=p>,</span>
</span><span id=__span-125-11><a id=__codelineno-125-11 name=__codelineno-125-11></a><span class=w>            </span><span class=n>changes</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=o>[</span>
</span><span id=__span-125-12><a id=__codelineno-125-12 name=__codelineno-125-12></a><span class=w>                </span><span class=s2>&quot;remove title[*]/kernel/quiet&quot;</span><span class=p>,</span>
</span><span id=__span-125-13><a id=__codelineno-125-13 name=__codelineno-125-13></a><span class=w>                </span><span class=s2>&quot;remove title[*]/kernel/rhgb&quot;</span>
</span><span id=__span-125-14><a id=__codelineno-125-14 name=__codelineno-125-14></a><span class=w>            </span><span class=o>]</span>
</span><span id=__span-125-15><a id=__codelineno-125-15 name=__codelineno-125-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-125-16><a id=__codelineno-125-16 name=__codelineno-125-16></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=kdump>Kdump</h3> <p>Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-126-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-126-1><a id=__codelineno-126-1 name=__codelineno-126-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/kdump/manifests
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_9>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-127-1> 1</a></span>
<span class=normal><a href=#__codelineno-127-2> 2</a></span>
<span class=normal><a href=#__codelineno-127-3> 3</a></span>
<span class=normal><a href=#__codelineno-127-4> 4</a></span>
<span class=normal><a href=#__codelineno-127-5> 5</a></span>
<span class=normal><a href=#__codelineno-127-6> 6</a></span>
<span class=normal><a href=#__codelineno-127-7> 7</a></span>
<span class=normal><a href=#__codelineno-127-8> 8</a></span>
<span class=normal><a href=#__codelineno-127-9> 9</a></span>
<span class=normal><a href=#__codelineno-127-10>10</a></span>
<span class=normal><a href=#__codelineno-127-11>11</a></span>
<span class=normal><a href=#__codelineno-127-12>12</a></span>
<span class=normal><a href=#__codelineno-127-13>13</a></span>
<span class=normal><a href=#__codelineno-127-14>14</a></span>
<span class=normal><a href=#__codelineno-127-15>15</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-127-1><a id=__codelineno-127-1 name=__codelineno-127-1></a><span class=sr>/*</span>
</span><span id=__span-127-2><a id=__codelineno-127-2 name=__codelineno-127-2></a><span class=sr>Kdump Module for Puppet</span>
</span><span id=__span-127-3><a id=__codelineno-127-3 name=__codelineno-127-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-127-4><a id=__codelineno-127-4 name=__codelineno-127-4></a><span class=sr>*/</span>
</span><span id=__span-127-5><a id=__codelineno-127-5 name=__codelineno-127-5></a><span class=k>class</span><span class=w> </span><span class=n>kdump</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-127-6><a id=__codelineno-127-6 name=__codelineno-127-6></a><span class=w>    </span><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-127-7><a id=__codelineno-127-7 name=__codelineno-127-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-127-8><a id=__codelineno-127-8 name=__codelineno-127-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-127-9><a id=__codelineno-127-9 name=__codelineno-127-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>kdump</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-127-10><a id=__codelineno-127-10 name=__codelineno-127-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-127-11><a id=__codelineno-127-11 name=__codelineno-127-11></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-127-12><a id=__codelineno-127-12 name=__codelineno-127-12></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-127-13><a id=__codelineno-127-13 name=__codelineno-127-13></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-127-14><a id=__codelineno-127-14 name=__codelineno-127-14></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-127-15><a id=__codelineno-127-15 name=__codelineno-127-15></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_7>redhat.pp</h4> <p>Here's the configuration I want:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-128-1> 1</a></span>
<span class=normal><a href=#__codelineno-128-2> 2</a></span>
<span class=normal><a href=#__codelineno-128-3> 3</a></span>
<span class=normal><a href=#__codelineno-128-4> 4</a></span>
<span class=normal><a href=#__codelineno-128-5> 5</a></span>
<span class=normal><a href=#__codelineno-128-6> 6</a></span>
<span class=normal><a href=#__codelineno-128-7> 7</a></span>
<span class=normal><a href=#__codelineno-128-8> 8</a></span>
<span class=normal><a href=#__codelineno-128-9> 9</a></span>
<span class=normal><a href=#__codelineno-128-10>10</a></span>
<span class=normal><a href=#__codelineno-128-11>11</a></span>
<span class=normal><a href=#__codelineno-128-12>12</a></span>
<span class=normal><a href=#__codelineno-128-13>13</a></span>
<span class=normal><a href=#__codelineno-128-14>14</a></span>
<span class=normal><a href=#__codelineno-128-15>15</a></span>
<span class=normal><a href=#__codelineno-128-16>16</a></span>
<span class=normal><a href=#__codelineno-128-17>17</a></span>
<span class=normal><a href=#__codelineno-128-18>18</a></span>
<span class=normal><a href=#__codelineno-128-19>19</a></span>
<span class=normal><a href=#__codelineno-128-20>20</a></span>
<span class=normal><a href=#__codelineno-128-21>21</a></span>
<span class=normal><a href=#__codelineno-128-22>22</a></span>
<span class=normal><a href=#__codelineno-128-23>23</a></span>
<span class=normal><a href=#__codelineno-128-24>24</a></span>
<span class=normal><a href=#__codelineno-128-25>25</a></span>
<span class=normal><a href=#__codelineno-128-26>26</a></span>
<span class=normal><a href=#__codelineno-128-27>27</a></span>
<span class=normal><a href=#__codelineno-128-28>28</a></span>
<span class=normal><a href=#__codelineno-128-29>29</a></span>
<span class=normal><a href=#__codelineno-128-30>30</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-128-1><a id=__codelineno-128-1 name=__codelineno-128-1></a><span class=sr>/*</span>
</span><span id=__span-128-2><a id=__codelineno-128-2 name=__codelineno-128-2></a><span class=sr>Kdump Module for Puppet</span>
</span><span id=__span-128-3><a id=__codelineno-128-3 name=__codelineno-128-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-128-4><a id=__codelineno-128-4 name=__codelineno-128-4></a><span class=sr>*/</span>
</span><span id=__span-128-5><a id=__codelineno-128-5 name=__codelineno-128-5></a><span class=k>class</span><span class=w> </span><span class=n>kdump</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-128-6><a id=__codelineno-128-6 name=__codelineno-128-6></a><span class=p>{</span>
</span><span id=__span-128-7><a id=__codelineno-128-7 name=__codelineno-128-7></a><span class=w>    </span><span class=c1># Install kexec-tools    package { &#39;kexec-tools&#39;:</span>
</span><span id=__span-128-8><a id=__codelineno-128-8 name=__codelineno-128-8></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;installed&#39;</span>
</span><span id=__span-128-9><a id=__codelineno-128-9 name=__codelineno-128-9></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-128-10><a id=__codelineno-128-10 name=__codelineno-128-10></a>
</span><span id=__span-128-11><a id=__codelineno-128-11 name=__codelineno-128-11></a><span class=w>    </span><span class=c1># Be sure that service is set to start at boot    service {</span>
</span><span id=__span-128-12><a id=__codelineno-128-12 name=__codelineno-128-12></a><span class=w>        </span><span class=s1>&#39;kdump&#39;</span><span class=p>:</span>
</span><span id=__span-128-13><a id=__codelineno-128-13 name=__codelineno-128-13></a><span class=w>            </span><span class=n>enable</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span>
</span><span id=__span-128-14><a id=__codelineno-128-14 name=__codelineno-128-14></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-128-15><a id=__codelineno-128-15 name=__codelineno-128-15></a>
</span><span id=__span-128-16><a id=__codelineno-128-16 name=__codelineno-128-16></a><span class=w>    </span><span class=c1># Set crashkernel in grub.conf to the good size (not auto)    augeas {</span>
</span><span id=__span-128-17><a id=__codelineno-128-17 name=__codelineno-128-17></a><span class=w>        </span><span class=s2>&quot;grub_kdump&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-128-18><a id=__codelineno-128-18 name=__codelineno-128-18></a><span class=w>            </span><span class=n>context</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;/files/etc/grub.conf&#39;</span><span class=p>,</span>
</span><span id=__span-128-19><a id=__codelineno-128-19 name=__codelineno-128-19></a><span class=w>            </span><span class=n>changes</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=o>[</span>
</span><span id=__span-128-20><a id=__codelineno-128-20 name=__codelineno-128-20></a><span class=w>                </span><span class=s1>&#39;set title[1]/kernel/crashkernel 128M&#39;</span>
</span><span id=__span-128-21><a id=__codelineno-128-21 name=__codelineno-128-21></a><span class=w>            </span><span class=o>]</span>
</span><span id=__span-128-22><a id=__codelineno-128-22 name=__codelineno-128-22></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-128-23><a id=__codelineno-128-23 name=__codelineno-128-23></a>
</span><span id=__span-128-24><a id=__codelineno-128-24 name=__codelineno-128-24></a><span class=w>    </span><span class=c1># Set location of crash dumps    line {</span>
</span><span id=__span-128-25><a id=__codelineno-128-25 name=__codelineno-128-25></a><span class=w>        </span><span class=s1>&#39;var_crash&#39;</span><span class=p>:</span>
</span><span id=__span-128-26><a id=__codelineno-128-26 name=__codelineno-128-26></a><span class=w>            </span><span class=n>file</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;/etc/kdump.conf&#39;</span><span class=p>,</span>
</span><span id=__span-128-27><a id=__codelineno-128-27 name=__codelineno-128-27></a><span class=w>            </span><span class=n>line</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;path \/var\/crash&#39;</span><span class=p>,</span>
</span><span id=__span-128-28><a id=__codelineno-128-28 name=__codelineno-128-28></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>uncomment</span>
</span><span id=__span-128-29><a id=__codelineno-128-29 name=__codelineno-128-29></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-128-30><a id=__codelineno-128-30 name=__codelineno-128-30></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <ul> <li>Install kexec-tools: I make sure the package is installed</li> <li>Be sure that service is set to start at boot: I make sure it's enabled at boot. For information, I don't check if it's running since this would require a restart if it wasn't present.</li> <li>Set crashkernel in grub.conf to the good size (not auto): Sets the value 128M to the crashkernel argument of the first kernel found in the grub.conf file. It's not possible to specify '*' as for a remove in augeas. However, given that with each kernel update, all others will inherit, this is not a problem :-)</li> <li>Set location of crash dumps: we specify in the kdump configuration that a line is indeed uncommented and has the desired path for crash dumps.</li> </ul> <h3 id=tools>Tools</h3> <p>This is not software, but rather a module that I use to send all my admin scripts, my tools, etc... Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-129-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-129-1><a id=__codelineno-129-1 name=__codelineno-129-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/tools/<span class=o>{</span>manifests,files<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_10>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-130-1> 1</a></span>
<span class=normal><a href=#__codelineno-130-2> 2</a></span>
<span class=normal><a href=#__codelineno-130-3> 3</a></span>
<span class=normal><a href=#__codelineno-130-4> 4</a></span>
<span class=normal><a href=#__codelineno-130-5> 5</a></span>
<span class=normal><a href=#__codelineno-130-6> 6</a></span>
<span class=normal><a href=#__codelineno-130-7> 7</a></span>
<span class=normal><a href=#__codelineno-130-8> 8</a></span>
<span class=normal><a href=#__codelineno-130-9> 9</a></span>
<span class=normal><a href=#__codelineno-130-10>10</a></span>
<span class=normal><a href=#__codelineno-130-11>11</a></span>
<span class=normal><a href=#__codelineno-130-12>12</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-130-1><a id=__codelineno-130-1 name=__codelineno-130-1></a><span class=k>class</span><span class=w> </span><span class=n>tools</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-130-2><a id=__codelineno-130-2 name=__codelineno-130-2></a><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-130-3><a id=__codelineno-130-3 name=__codelineno-130-3></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-130-4><a id=__codelineno-130-4 name=__codelineno-130-4></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-130-5><a id=__codelineno-130-5 name=__codelineno-130-5></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=o>::</span><span class=n>tools</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-130-6><a id=__codelineno-130-6 name=__codelineno-130-6></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-130-7><a id=__codelineno-130-7 name=__codelineno-130-7></a><span class=w>        </span><span class=c1>#&#39;sunos&#39;:  { include packages_defaults::solaris }</span>
</span><span id=__span-130-8><a id=__codelineno-130-8 name=__codelineno-130-8></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-130-9><a id=__codelineno-130-9 name=__codelineno-130-9></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-130-10><a id=__codelineno-130-10 name=__codelineno-130-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-130-11><a id=__codelineno-130-11 name=__codelineno-130-11></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-130-12><a id=__codelineno-130-12 name=__codelineno-130-12></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_8>redhat.pp</h4> <p>We'll see different ways to add files here:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-131-1> 1</a></span>
<span class=normal><a href=#__codelineno-131-2> 2</a></span>
<span class=normal><a href=#__codelineno-131-3> 3</a></span>
<span class=normal><a href=#__codelineno-131-4> 4</a></span>
<span class=normal><a href=#__codelineno-131-5> 5</a></span>
<span class=normal><a href=#__codelineno-131-6> 6</a></span>
<span class=normal><a href=#__codelineno-131-7> 7</a></span>
<span class=normal><a href=#__codelineno-131-8> 8</a></span>
<span class=normal><a href=#__codelineno-131-9> 9</a></span>
<span class=normal><a href=#__codelineno-131-10>10</a></span>
<span class=normal><a href=#__codelineno-131-11>11</a></span>
<span class=normal><a href=#__codelineno-131-12>12</a></span>
<span class=normal><a href=#__codelineno-131-13>13</a></span>
<span class=normal><a href=#__codelineno-131-14>14</a></span>
<span class=normal><a href=#__codelineno-131-15>15</a></span>
<span class=normal><a href=#__codelineno-131-16>16</a></span>
<span class=normal><a href=#__codelineno-131-17>17</a></span>
<span class=normal><a href=#__codelineno-131-18>18</a></span>
<span class=normal><a href=#__codelineno-131-19>19</a></span>
<span class=normal><a href=#__codelineno-131-20>20</a></span>
<span class=normal><a href=#__codelineno-131-21>21</a></span>
<span class=normal><a href=#__codelineno-131-22>22</a></span>
<span class=normal><a href=#__codelineno-131-23>23</a></span>
<span class=normal><a href=#__codelineno-131-24>24</a></span>
<span class=normal><a href=#__codelineno-131-25>25</a></span>
<span class=normal><a href=#__codelineno-131-26>26</a></span>
<span class=normal><a href=#__codelineno-131-27>27</a></span>
<span class=normal><a href=#__codelineno-131-28>28</a></span>
<span class=normal><a href=#__codelineno-131-29>29</a></span>
<span class=normal><a href=#__codelineno-131-30>30</a></span>
<span class=normal><a href=#__codelineno-131-31>31</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-131-1><a id=__codelineno-131-1 name=__codelineno-131-1></a><span class=k>class</span><span class=w> </span><span class=n>tools</span><span class=o>::</span><span class=n>redhat</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-131-2><a id=__codelineno-131-2 name=__codelineno-131-2></a><span class=w>    </span><span class=c1># Check that scripts folder exist    file {</span>
</span><span id=__span-131-3><a id=__codelineno-131-3 name=__codelineno-131-3></a><span class=w>        </span><span class=s2>&quot;/etc/scripts&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-131-4><a id=__codelineno-131-4 name=__codelineno-131-4></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-131-5><a id=__codelineno-131-5 name=__codelineno-131-5></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0755</span><span class=p>,</span>
</span><span id=__span-131-6><a id=__codelineno-131-6 name=__codelineno-131-6></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-131-7><a id=__codelineno-131-7 name=__codelineno-131-7></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span>
</span><span id=__span-131-8><a id=__codelineno-131-8 name=__codelineno-131-8></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-131-9><a id=__codelineno-131-9 name=__codelineno-131-9></a>
</span><span id=__span-131-10><a id=__codelineno-131-10 name=__codelineno-131-10></a><span class=w>    </span><span class=c1># Synchro admin-scripts    file {</span>
</span><span id=__span-131-11><a id=__codelineno-131-11 name=__codelineno-131-11></a><span class=w>        </span><span class=s2>&quot;/etc/scripts/admin-scripts&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-131-12><a id=__codelineno-131-12 name=__codelineno-131-12></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-131-13><a id=__codelineno-131-13 name=__codelineno-131-13></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0755</span><span class=p>,</span>
</span><span id=__span-131-14><a id=__codelineno-131-14 name=__codelineno-131-14></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-131-15><a id=__codelineno-131-15 name=__codelineno-131-15></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-131-16><a id=__codelineno-131-16 name=__codelineno-131-16></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/tools/admin-scripts/&quot;</span><span class=p>,</span>
</span><span id=__span-131-17><a id=__codelineno-131-17 name=__codelineno-131-17></a><span class=w>            </span><span class=n>purge</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-131-18><a id=__codelineno-131-18 name=__codelineno-131-18></a><span class=w>            </span><span class=n>force</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-131-19><a id=__codelineno-131-19 name=__codelineno-131-19></a><span class=w>            </span><span class=n>recurse</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-131-20><a id=__codelineno-131-20 name=__codelineno-131-20></a><span class=w>            </span><span class=n>ignore</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;.svn&#39;</span><span class=p>,</span>
</span><span id=__span-131-21><a id=__codelineno-131-21 name=__codelineno-131-21></a><span class=w>            </span><span class=n>backup</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>false</span>
</span><span id=__span-131-22><a id=__codelineno-131-22 name=__codelineno-131-22></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-131-23><a id=__codelineno-131-23 name=__codelineno-131-23></a>
</span><span id=__span-131-24><a id=__codelineno-131-24 name=__codelineno-131-24></a><span class=w>    </span><span class=c1># Fast reboot command    file {</span>
</span><span id=__span-131-25><a id=__codelineno-131-25 name=__codelineno-131-25></a><span class=w>        </span><span class=s2>&quot;/usr/bin/fastreboot&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-131-26><a id=__codelineno-131-26 name=__codelineno-131-26></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/tools/fastreboot&quot;</span><span class=p>,</span>
</span><span id=__span-131-27><a id=__codelineno-131-27 name=__codelineno-131-27></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>744</span><span class=p>,</span>
</span><span id=__span-131-28><a id=__codelineno-131-28 name=__codelineno-131-28></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-131-29><a id=__codelineno-131-29 name=__codelineno-131-29></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span>
</span><span id=__span-131-30><a id=__codelineno-131-30 name=__codelineno-131-30></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-131-31><a id=__codelineno-131-31 name=__codelineno-131-31></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <ul> <li>Check that scripts folder exist: I make sure my folder exists with the right permissions before placing files in it.</li> <li>Synchro admin-scripts: I copy an entire directory with its contents:</li> <li>purge =&gt; true: I make sure that anything not in my puppet files should disappear server-side. So if you've manually added a file to the /etc/scripts/admin-scripts folder, it will disappear.</li> <li>force =&gt; true: Forces in case of deletion or replacement.</li> <li>recurse =&gt; true: This allows me to say to copy all the content</li> <li>backup =&gt; false: We don't back up the files before replacing them</li> <li>Fast reboot command: I add an executable file</li> </ul> <h4 id=files_2>files</h4> <p>Here's what my directory structure looks like in the files folder:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-132-1>1</a></span>
<span class=normal><a href=#__codelineno-132-2>2</a></span>
<span class=normal><a href=#__codelineno-132-3>3</a></span>
<span class=normal><a href=#__codelineno-132-4>4</a></span>
<span class=normal><a href=#__codelineno-132-5>5</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-132-1><a id=__codelineno-132-1 name=__codelineno-132-1></a>.
</span><span id=__span-132-2><a id=__codelineno-132-2 name=__codelineno-132-2></a>|-- admin-scripts
</span><span id=__span-132-3><a id=__codelineno-132-3 name=__codelineno-132-3></a>|   |-- script1.pl
</span><span id=__span-132-4><a id=__codelineno-132-4 name=__codelineno-132-4></a>|   `-- script2.pl
</span><span id=__span-132-5><a id=__codelineno-132-5 name=__codelineno-132-5></a>`-- fastreboot
</span></code></pre></div></td></tr></table></div> <p>For information, the fastreboot command is available here.</p> <h3 id=timezone>Timezone</h3> <p>Managing timezones is more or less easy depending on the OS. We'll see how to handle it on Red Hat. Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-133-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-133-1><a id=__codelineno-133-1 name=__codelineno-133-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/timezone/<span class=o>{</span>manifests,templates<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_11>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-134-1> 1</a></span>
<span class=normal><a href=#__codelineno-134-2> 2</a></span>
<span class=normal><a href=#__codelineno-134-3> 3</a></span>
<span class=normal><a href=#__codelineno-134-4> 4</a></span>
<span class=normal><a href=#__codelineno-134-5> 5</a></span>
<span class=normal><a href=#__codelineno-134-6> 6</a></span>
<span class=normal><a href=#__codelineno-134-7> 7</a></span>
<span class=normal><a href=#__codelineno-134-8> 8</a></span>
<span class=normal><a href=#__codelineno-134-9> 9</a></span>
<span class=normal><a href=#__codelineno-134-10>10</a></span>
<span class=normal><a href=#__codelineno-134-11>11</a></span>
<span class=normal><a href=#__codelineno-134-12>12</a></span>
<span class=normal><a href=#__codelineno-134-13>13</a></span>
<span class=normal><a href=#__codelineno-134-14>14</a></span>
<span class=normal><a href=#__codelineno-134-15>15</a></span>
<span class=normal><a href=#__codelineno-134-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-134-1><a id=__codelineno-134-1 name=__codelineno-134-1></a><span class=sr>/*</span>
</span><span id=__span-134-2><a id=__codelineno-134-2 name=__codelineno-134-2></a><span class=sr>Timezone Module for Puppet</span>
</span><span id=__span-134-3><a id=__codelineno-134-3 name=__codelineno-134-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-134-4><a id=__codelineno-134-4 name=__codelineno-134-4></a><span class=sr>*/</span>
</span><span id=__span-134-5><a id=__codelineno-134-5 name=__codelineno-134-5></a><span class=k>class</span><span class=w> </span><span class=n>timezone</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-134-6><a id=__codelineno-134-6 name=__codelineno-134-6></a><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-134-7><a id=__codelineno-134-7 name=__codelineno-134-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-134-8><a id=__codelineno-134-8 name=__codelineno-134-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-134-9><a id=__codelineno-134-9 name=__codelineno-134-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>timezone</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-134-10><a id=__codelineno-134-10 name=__codelineno-134-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-134-11><a id=__codelineno-134-11 name=__codelineno-134-11></a><span class=w>        </span><span class=c1>#&#39;sunos&#39;:  { include packages_defaults::solaris }</span>
</span><span id=__span-134-12><a id=__codelineno-134-12 name=__codelineno-134-12></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-134-13><a id=__codelineno-134-13 name=__codelineno-134-13></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-134-14><a id=__codelineno-134-14 name=__codelineno-134-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-134-15><a id=__codelineno-134-15 name=__codelineno-134-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-134-16><a id=__codelineno-134-16 name=__codelineno-134-16></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_9>redhat.pp</h4> <p>We use a variable '$set_timezone' stored in the global variables or in the configuration of a node with the continent and country. Here's an example:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-135-1>1</a></span>
<span class=normal><a href=#__codelineno-135-2>2</a></span>
<span class=normal><a href=#__codelineno-135-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-135-1><a id=__codelineno-135-1 name=__codelineno-135-1></a><span class=c1># NTP Timezone. Usage :</span>
</span><span id=__span-135-2><a id=__codelineno-135-2 name=__codelineno-135-2></a><span class=c1># Look at /usr/share/zoneinfo/ and add the continent folder followed by the town</span>
</span><span id=__span-135-3><a id=__codelineno-135-3 name=__codelineno-135-3></a><span class=vg>$set_timezone</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;Europe/Paris&#39;</span>
</span></code></pre></div></td></tr></table></div> <p>And the manifest:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-136-1> 1</a></span>
<span class=normal><a href=#__codelineno-136-2> 2</a></span>
<span class=normal><a href=#__codelineno-136-3> 3</a></span>
<span class=normal><a href=#__codelineno-136-4> 4</a></span>
<span class=normal><a href=#__codelineno-136-5> 5</a></span>
<span class=normal><a href=#__codelineno-136-6> 6</a></span>
<span class=normal><a href=#__codelineno-136-7> 7</a></span>
<span class=normal><a href=#__codelineno-136-8> 8</a></span>
<span class=normal><a href=#__codelineno-136-9> 9</a></span>
<span class=normal><a href=#__codelineno-136-10>10</a></span>
<span class=normal><a href=#__codelineno-136-11>11</a></span>
<span class=normal><a href=#__codelineno-136-12>12</a></span>
<span class=normal><a href=#__codelineno-136-13>13</a></span>
<span class=normal><a href=#__codelineno-136-14>14</a></span>
<span class=normal><a href=#__codelineno-136-15>15</a></span>
<span class=normal><a href=#__codelineno-136-16>16</a></span>
<span class=normal><a href=#__codelineno-136-17>17</a></span>
<span class=normal><a href=#__codelineno-136-18>18</a></span>
<span class=normal><a href=#__codelineno-136-19>19</a></span>
<span class=normal><a href=#__codelineno-136-20>20</a></span>
<span class=normal><a href=#__codelineno-136-21>21</a></span>
<span class=normal><a href=#__codelineno-136-22>22</a></span>
<span class=normal><a href=#__codelineno-136-23>23</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-136-1><a id=__codelineno-136-1 name=__codelineno-136-1></a><span class=sr>/*</span>
</span><span id=__span-136-2><a id=__codelineno-136-2 name=__codelineno-136-2></a><span class=sr>Timezone Module for Puppet</span>
</span><span id=__span-136-3><a id=__codelineno-136-3 name=__codelineno-136-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-136-4><a id=__codelineno-136-4 name=__codelineno-136-4></a><span class=sr>*/</span>
</span><span id=__span-136-5><a id=__codelineno-136-5 name=__codelineno-136-5></a><span class=k>class</span><span class=w> </span><span class=n>timezone</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-136-6><a id=__codelineno-136-6 name=__codelineno-136-6></a><span class=p>{</span>
</span><span id=__span-136-7><a id=__codelineno-136-7 name=__codelineno-136-7></a><span class=w>    </span><span class=c1># Usage : set a var called set_timezone with required informations. Ex :</span>
</span><span id=__span-136-8><a id=__codelineno-136-8 name=__codelineno-136-8></a><span class=w>    </span><span class=c1># set_timezone = &quot;Europe/Paris&quot;</span>
</span><span id=__span-136-9><a id=__codelineno-136-9 name=__codelineno-136-9></a>
</span><span id=__span-136-10><a id=__codelineno-136-10 name=__codelineno-136-10></a><span class=w>    </span><span class=c1># Set timezone file</span>
</span><span id=__span-136-11><a id=__codelineno-136-11 name=__codelineno-136-11></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;/etc/sysconfig/clock&#39;</span><span class=p>:</span>
</span><span id=__span-136-12><a id=__codelineno-136-12 name=__codelineno-136-12></a><span class=w>        </span><span class=n>content</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>template</span><span class=p>(</span><span class=s2>&quot;timezone/clock.$::operatingsystem&quot;</span><span class=p>),</span>
</span><span id=__span-136-13><a id=__codelineno-136-13 name=__codelineno-136-13></a><span class=w>        </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span>
</span><span id=__span-136-14><a id=__codelineno-136-14 name=__codelineno-136-14></a><span class=w>        </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-136-15><a id=__codelineno-136-15 name=__codelineno-136-15></a><span class=w>        </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span>
</span><span id=__span-136-16><a id=__codelineno-136-16 name=__codelineno-136-16></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-136-17><a id=__codelineno-136-17 name=__codelineno-136-17></a>
</span><span id=__span-136-18><a id=__codelineno-136-18 name=__codelineno-136-18></a><span class=w>    </span><span class=c1># Create required Symlink</span>
</span><span id=__span-136-19><a id=__codelineno-136-19 name=__codelineno-136-19></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;/etc/localtime&#39;</span><span class=p>:</span>
</span><span id=__span-136-20><a id=__codelineno-136-20 name=__codelineno-136-20></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>link</span><span class=p>,</span>
</span><span id=__span-136-21><a id=__codelineno-136-21 name=__codelineno-136-21></a><span class=w>        </span><span class=n>target</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/usr/share/zoneinfo/${set_timezone}&quot;</span>
</span><span id=__span-136-22><a id=__codelineno-136-22 name=__codelineno-136-22></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-136-23><a id=__codelineno-136-23 name=__codelineno-136-23></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=templates_4>templates</h4> <p>And the template file needed for Red Hat:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-137-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-137-1><a id=__codelineno-137-1 name=__codelineno-137-1></a>ZONE=&quot;&lt;%= set_timezone %&gt;&quot;
</span></code></pre></div></td></tr></table></div> <h3 id=ntp>NTP</h3> <p>If you want to understand how to configure an NTP server, I invite you to read this documentation.</p> <p>Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-138-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-138-1><a id=__codelineno-138-1 name=__codelineno-138-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/ntp/<span class=o>{</span>manifests,files<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_12>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-139-1> 1</a></span>
<span class=normal><a href=#__codelineno-139-2> 2</a></span>
<span class=normal><a href=#__codelineno-139-3> 3</a></span>
<span class=normal><a href=#__codelineno-139-4> 4</a></span>
<span class=normal><a href=#__codelineno-139-5> 5</a></span>
<span class=normal><a href=#__codelineno-139-6> 6</a></span>
<span class=normal><a href=#__codelineno-139-7> 7</a></span>
<span class=normal><a href=#__codelineno-139-8> 8</a></span>
<span class=normal><a href=#__codelineno-139-9> 9</a></span>
<span class=normal><a href=#__codelineno-139-10>10</a></span>
<span class=normal><a href=#__codelineno-139-11>11</a></span>
<span class=normal><a href=#__codelineno-139-12>12</a></span>
<span class=normal><a href=#__codelineno-139-13>13</a></span>
<span class=normal><a href=#__codelineno-139-14>14</a></span>
<span class=normal><a href=#__codelineno-139-15>15</a></span>
<span class=normal><a href=#__codelineno-139-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-139-1><a id=__codelineno-139-1 name=__codelineno-139-1></a><span class=sr>/*</span>
</span><span id=__span-139-2><a id=__codelineno-139-2 name=__codelineno-139-2></a><span class=sr>NTP Module for Puppet</span>
</span><span id=__span-139-3><a id=__codelineno-139-3 name=__codelineno-139-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-139-4><a id=__codelineno-139-4 name=__codelineno-139-4></a><span class=sr>*/</span>
</span><span id=__span-139-5><a id=__codelineno-139-5 name=__codelineno-139-5></a><span class=k>class</span><span class=w> </span><span class=n>ntp</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-139-6><a id=__codelineno-139-6 name=__codelineno-139-6></a><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-139-7><a id=__codelineno-139-7 name=__codelineno-139-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-139-8><a id=__codelineno-139-8 name=__codelineno-139-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-139-9><a id=__codelineno-139-9 name=__codelineno-139-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>ntp</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-139-10><a id=__codelineno-139-10 name=__codelineno-139-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-139-11><a id=__codelineno-139-11 name=__codelineno-139-11></a><span class=w>        </span><span class=c1>#&#39;sunos&#39;:  { include packages_defaults::solaris }</span>
</span><span id=__span-139-12><a id=__codelineno-139-12 name=__codelineno-139-12></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-139-13><a id=__codelineno-139-13 name=__codelineno-139-13></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-139-14><a id=__codelineno-139-14 name=__codelineno-139-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-139-15><a id=__codelineno-139-15 name=__codelineno-139-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-139-16><a id=__codelineno-139-16 name=__codelineno-139-16></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_10>redhat.pp</h4> <p>I want the package to be installed, configured at boot, to retrieve a standard configuration file, and to configure the crontab so that the service only starts outside production hours (so that production logs have consistency):</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-140-1> 1</a></span>
<span class=normal><a href=#__codelineno-140-2> 2</a></span>
<span class=normal><a href=#__codelineno-140-3> 3</a></span>
<span class=normal><a href=#__codelineno-140-4> 4</a></span>
<span class=normal><a href=#__codelineno-140-5> 5</a></span>
<span class=normal><a href=#__codelineno-140-6> 6</a></span>
<span class=normal><a href=#__codelineno-140-7> 7</a></span>
<span class=normal><a href=#__codelineno-140-8> 8</a></span>
<span class=normal><a href=#__codelineno-140-9> 9</a></span>
<span class=normal><a href=#__codelineno-140-10>10</a></span>
<span class=normal><a href=#__codelineno-140-11>11</a></span>
<span class=normal><a href=#__codelineno-140-12>12</a></span>
<span class=normal><a href=#__codelineno-140-13>13</a></span>
<span class=normal><a href=#__codelineno-140-14>14</a></span>
<span class=normal><a href=#__codelineno-140-15>15</a></span>
<span class=normal><a href=#__codelineno-140-16>16</a></span>
<span class=normal><a href=#__codelineno-140-17>17</a></span>
<span class=normal><a href=#__codelineno-140-18>18</a></span>
<span class=normal><a href=#__codelineno-140-19>19</a></span>
<span class=normal><a href=#__codelineno-140-20>20</a></span>
<span class=normal><a href=#__codelineno-140-21>21</a></span>
<span class=normal><a href=#__codelineno-140-22>22</a></span>
<span class=normal><a href=#__codelineno-140-23>23</a></span>
<span class=normal><a href=#__codelineno-140-24>24</a></span>
<span class=normal><a href=#__codelineno-140-25>25</a></span>
<span class=normal><a href=#__codelineno-140-26>26</a></span>
<span class=normal><a href=#__codelineno-140-27>27</a></span>
<span class=normal><a href=#__codelineno-140-28>28</a></span>
<span class=normal><a href=#__codelineno-140-29>29</a></span>
<span class=normal><a href=#__codelineno-140-30>30</a></span>
<span class=normal><a href=#__codelineno-140-31>31</a></span>
<span class=normal><a href=#__codelineno-140-32>32</a></span>
<span class=normal><a href=#__codelineno-140-33>33</a></span>
<span class=normal><a href=#__codelineno-140-34>34</a></span>
<span class=normal><a href=#__codelineno-140-35>35</a></span>
<span class=normal><a href=#__codelineno-140-36>36</a></span>
<span class=normal><a href=#__codelineno-140-37>37</a></span>
<span class=normal><a href=#__codelineno-140-38>38</a></span>
<span class=normal><a href=#__codelineno-140-39>39</a></span>
<span class=normal><a href=#__codelineno-140-40>40</a></span>
<span class=normal><a href=#__codelineno-140-41>41</a></span>
<span class=normal><a href=#__codelineno-140-42>42</a></span>
<span class=normal><a href=#__codelineno-140-43>43</a></span>
<span class=normal><a href=#__codelineno-140-44>44</a></span>
<span class=normal><a href=#__codelineno-140-45>45</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-140-1><a id=__codelineno-140-1 name=__codelineno-140-1></a><span class=sr>/*</span>
</span><span id=__span-140-2><a id=__codelineno-140-2 name=__codelineno-140-2></a><span class=sr>NTP Module for Puppet</span>
</span><span id=__span-140-3><a id=__codelineno-140-3 name=__codelineno-140-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-140-4><a id=__codelineno-140-4 name=__codelineno-140-4></a><span class=sr>*/</span>
</span><span id=__span-140-5><a id=__codelineno-140-5 name=__codelineno-140-5></a><span class=k>class</span><span class=w> </span><span class=n>ntp</span><span class=o>::</span><span class=n>redhat</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-140-6><a id=__codelineno-140-6 name=__codelineno-140-6></a><span class=w>    </span><span class=c1># Install NTP service</span>
</span><span id=__span-140-7><a id=__codelineno-140-7 name=__codelineno-140-7></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-140-8><a id=__codelineno-140-8 name=__codelineno-140-8></a><span class=w>        </span><span class=s1>&#39;ntp&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-140-9><a id=__codelineno-140-9 name=__codelineno-140-9></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;installed&#39;</span>
</span><span id=__span-140-10><a id=__codelineno-140-10 name=__codelineno-140-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-140-11><a id=__codelineno-140-11 name=__codelineno-140-11></a>
</span><span id=__span-140-12><a id=__codelineno-140-12 name=__codelineno-140-12></a><span class=w>    </span><span class=c1># Be sure that service is set to start at boot</span>
</span><span id=__span-140-13><a id=__codelineno-140-13 name=__codelineno-140-13></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-140-14><a id=__codelineno-140-14 name=__codelineno-140-14></a><span class=w>        </span><span class=s1>&#39;ntpd&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-140-15><a id=__codelineno-140-15 name=__codelineno-140-15></a><span class=w>            </span><span class=n>enable</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>false</span>
</span><span id=__span-140-16><a id=__codelineno-140-16 name=__codelineno-140-16></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-140-17><a id=__codelineno-140-17 name=__codelineno-140-17></a>
</span><span id=__span-140-18><a id=__codelineno-140-18 name=__codelineno-140-18></a><span class=w>    </span><span class=c1># Set configuration file</span>
</span><span id=__span-140-19><a id=__codelineno-140-19 name=__codelineno-140-19></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-140-20><a id=__codelineno-140-20 name=__codelineno-140-20></a><span class=w>        </span><span class=s1>&#39;/etc/ntp.conf&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-140-21><a id=__codelineno-140-21 name=__codelineno-140-21></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span><span class=p>,</span>
</span><span id=__span-140-22><a id=__codelineno-140-22 name=__codelineno-140-22></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/ntp/${::osfamily}.ntp.conf&quot;</span><span class=p>,</span>
</span><span id=__span-140-23><a id=__codelineno-140-23 name=__codelineno-140-23></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span>
</span><span id=__span-140-24><a id=__codelineno-140-24 name=__codelineno-140-24></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-140-25><a id=__codelineno-140-25 name=__codelineno-140-25></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span>
</span><span id=__span-140-26><a id=__codelineno-140-26 name=__codelineno-140-26></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-140-27><a id=__codelineno-140-27 name=__codelineno-140-27></a>
</span><span id=__span-140-28><a id=__codelineno-140-28 name=__codelineno-140-28></a><span class=w>    </span><span class=c1># Enable ntp service during off production hours</span>
</span><span id=__span-140-29><a id=__codelineno-140-29 name=__codelineno-140-29></a><span class=w>    </span><span class=n>cron</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-140-30><a id=__codelineno-140-30 name=__codelineno-140-30></a><span class=w>        </span><span class=s1>&#39;ntp_start&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-140-31><a id=__codelineno-140-31 name=__codelineno-140-31></a><span class=w>            </span><span class=n>command</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;/etc/init.d/ntpd start&#39;</span><span class=p>,</span>
</span><span id=__span-140-32><a id=__codelineno-140-32 name=__codelineno-140-32></a><span class=w>            </span><span class=n>user</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-140-33><a id=__codelineno-140-33 name=__codelineno-140-33></a><span class=w>            </span><span class=n>minute</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>,</span>
</span><span id=__span-140-34><a id=__codelineno-140-34 name=__codelineno-140-34></a><span class=w>            </span><span class=n>hour</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>0</span>
</span><span id=__span-140-35><a id=__codelineno-140-35 name=__codelineno-140-35></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-140-36><a id=__codelineno-140-36 name=__codelineno-140-36></a>
</span><span id=__span-140-37><a id=__codelineno-140-37 name=__codelineno-140-37></a><span class=w>    </span><span class=c1># Disable ntp service during on production hours</span>
</span><span id=__span-140-38><a id=__codelineno-140-38 name=__codelineno-140-38></a><span class=w>    </span><span class=n>cron</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-140-39><a id=__codelineno-140-39 name=__codelineno-140-39></a><span class=w>        </span><span class=s1>&#39;ntp_stop&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-140-40><a id=__codelineno-140-40 name=__codelineno-140-40></a><span class=w>            </span><span class=n>command</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;/etc/init.d/ntpd stop&#39;</span><span class=p>,</span>
</span><span id=__span-140-41><a id=__codelineno-140-41 name=__codelineno-140-41></a><span class=w>            </span><span class=n>user</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-140-42><a id=__codelineno-140-42 name=__codelineno-140-42></a><span class=w>            </span><span class=n>minute</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>3</span><span class=p>,</span>
</span><span id=__span-140-43><a id=__codelineno-140-43 name=__codelineno-140-43></a><span class=w>            </span><span class=n>hour</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>0</span>
</span><span id=__span-140-44><a id=__codelineno-140-44 name=__codelineno-140-44></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-140-45><a id=__codelineno-140-45 name=__codelineno-140-45></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>You'll notice the use of 'cron' directives in puppet which allow the management of crontab lines for a given user.</p> <h4 id=files_3>files</h4> <p>Here's the configuration file for Red Hat:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-141-1> 1</a></span>
<span class=normal><a href=#__codelineno-141-2> 2</a></span>
<span class=normal><a href=#__codelineno-141-3> 3</a></span>
<span class=normal><a href=#__codelineno-141-4> 4</a></span>
<span class=normal><a href=#__codelineno-141-5> 5</a></span>
<span class=normal><a href=#__codelineno-141-6> 6</a></span>
<span class=normal><a href=#__codelineno-141-7> 7</a></span>
<span class=normal><a href=#__codelineno-141-8> 8</a></span>
<span class=normal><a href=#__codelineno-141-9> 9</a></span>
<span class=normal><a href=#__codelineno-141-10>10</a></span>
<span class=normal><a href=#__codelineno-141-11>11</a></span>
<span class=normal><a href=#__codelineno-141-12>12</a></span>
<span class=normal><a href=#__codelineno-141-13>13</a></span>
<span class=normal><a href=#__codelineno-141-14>14</a></span>
<span class=normal><a href=#__codelineno-141-15>15</a></span>
<span class=normal><a href=#__codelineno-141-16>16</a></span>
<span class=normal><a href=#__codelineno-141-17>17</a></span>
<span class=normal><a href=#__codelineno-141-18>18</a></span>
<span class=normal><a href=#__codelineno-141-19>19</a></span>
<span class=normal><a href=#__codelineno-141-20>20</a></span>
<span class=normal><a href=#__codelineno-141-21>21</a></span>
<span class=normal><a href=#__codelineno-141-22>22</a></span>
<span class=normal><a href=#__codelineno-141-23>23</a></span>
<span class=normal><a href=#__codelineno-141-24>24</a></span>
<span class=normal><a href=#__codelineno-141-25>25</a></span>
<span class=normal><a href=#__codelineno-141-26>26</a></span>
<span class=normal><a href=#__codelineno-141-27>27</a></span>
<span class=normal><a href=#__codelineno-141-28>28</a></span>
<span class=normal><a href=#__codelineno-141-29>29</a></span>
<span class=normal><a href=#__codelineno-141-30>30</a></span>
<span class=normal><a href=#__codelineno-141-31>31</a></span>
<span class=normal><a href=#__codelineno-141-32>32</a></span>
<span class=normal><a href=#__codelineno-141-33>33</a></span>
<span class=normal><a href=#__codelineno-141-34>34</a></span>
<span class=normal><a href=#__codelineno-141-35>35</a></span>
<span class=normal><a href=#__codelineno-141-36>36</a></span>
<span class=normal><a href=#__codelineno-141-37>37</a></span>
<span class=normal><a href=#__codelineno-141-38>38</a></span>
<span class=normal><a href=#__codelineno-141-39>39</a></span>
<span class=normal><a href=#__codelineno-141-40>40</a></span>
<span class=normal><a href=#__codelineno-141-41>41</a></span>
<span class=normal><a href=#__codelineno-141-42>42</a></span>
<span class=normal><a href=#__codelineno-141-43>43</a></span>
<span class=normal><a href=#__codelineno-141-44>44</a></span>
<span class=normal><a href=#__codelineno-141-45>45</a></span>
<span class=normal><a href=#__codelineno-141-46>46</a></span>
<span class=normal><a href=#__codelineno-141-47>47</a></span>
<span class=normal><a href=#__codelineno-141-48>48</a></span>
<span class=normal><a href=#__codelineno-141-49>49</a></span>
<span class=normal><a href=#__codelineno-141-50>50</a></span>
<span class=normal><a href=#__codelineno-141-51>51</a></span>
<span class=normal><a href=#__codelineno-141-52>52</a></span>
<span class=normal><a href=#__codelineno-141-53>53</a></span>
<span class=normal><a href=#__codelineno-141-54>54</a></span>
<span class=normal><a href=#__codelineno-141-55>55</a></span>
<span class=normal><a href=#__codelineno-141-56>56</a></span>
<span class=normal><a href=#__codelineno-141-57>57</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-141-1><a id=__codelineno-141-1 name=__codelineno-141-1></a># For more information about this file, see the man pages
</span><span id=__span-141-2><a id=__codelineno-141-2 name=__codelineno-141-2></a># ntp.conf(5), ntp_acc(5), ntp_auth(5), ntp_clock(5), ntp_misc(5), ntp_mon(5).
</span><span id=__span-141-3><a id=__codelineno-141-3 name=__codelineno-141-3></a>
</span><span id=__span-141-4><a id=__codelineno-141-4 name=__codelineno-141-4></a>driftfile /var/lib/ntp/drift
</span><span id=__span-141-5><a id=__codelineno-141-5 name=__codelineno-141-5></a>
</span><span id=__span-141-6><a id=__codelineno-141-6 name=__codelineno-141-6></a># Permit time synchronization with our time source, but do not
</span><span id=__span-141-7><a id=__codelineno-141-7 name=__codelineno-141-7></a># permit the source to query or modify the service on this system.
</span><span id=__span-141-8><a id=__codelineno-141-8 name=__codelineno-141-8></a>restrict default kod nomodify notrap nopeer noquery
</span><span id=__span-141-9><a id=__codelineno-141-9 name=__codelineno-141-9></a>restrict -6 default kod nomodify notrap nopeer noquery
</span><span id=__span-141-10><a id=__codelineno-141-10 name=__codelineno-141-10></a>
</span><span id=__span-141-11><a id=__codelineno-141-11 name=__codelineno-141-11></a># Permit all access over the loopback interface.  This could
</span><span id=__span-141-12><a id=__codelineno-141-12 name=__codelineno-141-12></a># be tightened as well, but to do so would effect some of
</span><span id=__span-141-13><a id=__codelineno-141-13 name=__codelineno-141-13></a># the administrative functions.
</span><span id=__span-141-14><a id=__codelineno-141-14 name=__codelineno-141-14></a>restrict 127.0.0.1
</span><span id=__span-141-15><a id=__codelineno-141-15 name=__codelineno-141-15></a>restrict -6 ::1
</span><span id=__span-141-16><a id=__codelineno-141-16 name=__codelineno-141-16></a>
</span><span id=__span-141-17><a id=__codelineno-141-17 name=__codelineno-141-17></a># Hosts on local network are less restricted.
</span><span id=__span-141-18><a id=__codelineno-141-18 name=__codelineno-141-18></a>#restrict 192.168.1.0 mask 255.255.255.0 nomodify notrap
</span><span id=__span-141-19><a id=__codelineno-141-19 name=__codelineno-141-19></a>
</span><span id=__span-141-20><a id=__codelineno-141-20 name=__codelineno-141-20></a># Use public servers from the pool.ntp.org project.
</span><span id=__span-141-21><a id=__codelineno-141-21 name=__codelineno-141-21></a># Please consider joining the pool (http://www.pool.ntp.org/join.html).
</span><span id=__span-141-22><a id=__codelineno-141-22 name=__codelineno-141-22></a>server 0.rhel.pool.ntp.org
</span><span id=__span-141-23><a id=__codelineno-141-23 name=__codelineno-141-23></a>server 1.rhel.pool.ntp.org
</span><span id=__span-141-24><a id=__codelineno-141-24 name=__codelineno-141-24></a>server 2.rhel.pool.ntp.org
</span><span id=__span-141-25><a id=__codelineno-141-25 name=__codelineno-141-25></a>
</span><span id=__span-141-26><a id=__codelineno-141-26 name=__codelineno-141-26></a>#broadcast 192.168.1.255 autokey    # broadcast server
</span><span id=__span-141-27><a id=__codelineno-141-27 name=__codelineno-141-27></a>#broadcastclient            # broadcast client
</span><span id=__span-141-28><a id=__codelineno-141-28 name=__codelineno-141-28></a>#broadcast 224.0.1.1 autokey        # multicast server
</span><span id=__span-141-29><a id=__codelineno-141-29 name=__codelineno-141-29></a>#multicastclient 224.0.1.1      # multicast client
</span><span id=__span-141-30><a id=__codelineno-141-30 name=__codelineno-141-30></a>#manycastserver 239.255.254.254     # manycast server
</span><span id=__span-141-31><a id=__codelineno-141-31 name=__codelineno-141-31></a>#manycastclient 239.255.254.254 autokey # manycast client
</span><span id=__span-141-32><a id=__codelineno-141-32 name=__codelineno-141-32></a>
</span><span id=__span-141-33><a id=__codelineno-141-33 name=__codelineno-141-33></a># Undisciplined Local Clock. This is a fake driver intended for backup
</span><span id=__span-141-34><a id=__codelineno-141-34 name=__codelineno-141-34></a># and when no outside source of synchronized time is available.
</span><span id=__span-141-35><a id=__codelineno-141-35 name=__codelineno-141-35></a>#server 127.127.1.0 # local clock
</span><span id=__span-141-36><a id=__codelineno-141-36 name=__codelineno-141-36></a>#fudge  127.127.1.0 stratum 10
</span><span id=__span-141-37><a id=__codelineno-141-37 name=__codelineno-141-37></a>
</span><span id=__span-141-38><a id=__codelineno-141-38 name=__codelineno-141-38></a># Enable public key cryptography.
</span><span id=__span-141-39><a id=__codelineno-141-39 name=__codelineno-141-39></a>#crypto
</span><span id=__span-141-40><a id=__codelineno-141-40 name=__codelineno-141-40></a>
</span><span id=__span-141-41><a id=__codelineno-141-41 name=__codelineno-141-41></a>includefile /etc/ntp/crypto/pw
</span><span id=__span-141-42><a id=__codelineno-141-42 name=__codelineno-141-42></a>
</span><span id=__span-141-43><a id=__codelineno-141-43 name=__codelineno-141-43></a># Key file containing the keys and key identifiers used when operating
</span><span id=__span-141-44><a id=__codelineno-141-44 name=__codelineno-141-44></a># with symmetric key cryptography.
</span><span id=__span-141-45><a id=__codelineno-141-45 name=__codelineno-141-45></a>keys /etc/ntp/keys
</span><span id=__span-141-46><a id=__codelineno-141-46 name=__codelineno-141-46></a>
</span><span id=__span-141-47><a id=__codelineno-141-47 name=__codelineno-141-47></a># Specify the key identifiers which are trusted.
</span><span id=__span-141-48><a id=__codelineno-141-48 name=__codelineno-141-48></a>#trustedkey 4 8 42
</span><span id=__span-141-49><a id=__codelineno-141-49 name=__codelineno-141-49></a>
</span><span id=__span-141-50><a id=__codelineno-141-50 name=__codelineno-141-50></a># Specify the key identifier to use with the ntpdc utility.
</span><span id=__span-141-51><a id=__codelineno-141-51 name=__codelineno-141-51></a>#requestkey 8
</span><span id=__span-141-52><a id=__codelineno-141-52 name=__codelineno-141-52></a>
</span><span id=__span-141-53><a id=__codelineno-141-53 name=__codelineno-141-53></a># Specify the key identifier to use with the ntpq utility.
</span><span id=__span-141-54><a id=__codelineno-141-54 name=__codelineno-141-54></a>#controlkey 8
</span><span id=__span-141-55><a id=__codelineno-141-55 name=__codelineno-141-55></a>
</span><span id=__span-141-56><a id=__codelineno-141-56 name=__codelineno-141-56></a># Enable writing of statistics records.
</span><span id=__span-141-57><a id=__codelineno-141-57 name=__codelineno-141-57></a>#statistics clockstats cryptostats loopstats peerstats
</span></code></pre></div></td></tr></table></div> <h3 id=mysecureshell>MySecureShell</h3> <p>The configuration of MySecureShell is not very complex, only it generally differs from one machine to another, especially if you have a large fleet. You probably want to have identical global management and be able to do custom on certain users, groups, virtualhost, etc... That's why we'll manage this in the simplest way possible, that is to say a global configuration, then includes.</p> <p>Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-142-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-142-1><a id=__codelineno-142-1 name=__codelineno-142-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/mysecureshell/<span class=o>{</span>manifests,files<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_13>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-143-1> 1</a></span>
<span class=normal><a href=#__codelineno-143-2> 2</a></span>
<span class=normal><a href=#__codelineno-143-3> 3</a></span>
<span class=normal><a href=#__codelineno-143-4> 4</a></span>
<span class=normal><a href=#__codelineno-143-5> 5</a></span>
<span class=normal><a href=#__codelineno-143-6> 6</a></span>
<span class=normal><a href=#__codelineno-143-7> 7</a></span>
<span class=normal><a href=#__codelineno-143-8> 8</a></span>
<span class=normal><a href=#__codelineno-143-9> 9</a></span>
<span class=normal><a href=#__codelineno-143-10>10</a></span>
<span class=normal><a href=#__codelineno-143-11>11</a></span>
<span class=normal><a href=#__codelineno-143-12>12</a></span>
<span class=normal><a href=#__codelineno-143-13>13</a></span>
<span class=normal><a href=#__codelineno-143-14>14</a></span>
<span class=normal><a href=#__codelineno-143-15>15</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-143-1><a id=__codelineno-143-1 name=__codelineno-143-1></a><span class=sr>/*</span>
</span><span id=__span-143-2><a id=__codelineno-143-2 name=__codelineno-143-2></a><span class=sr>MySecureShell Module for Puppet</span>
</span><span id=__span-143-3><a id=__codelineno-143-3 name=__codelineno-143-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-143-4><a id=__codelineno-143-4 name=__codelineno-143-4></a><span class=sr>*/</span>
</span><span id=__span-143-5><a id=__codelineno-143-5 name=__codelineno-143-5></a><span class=k>class</span><span class=w> </span><span class=n>mysecureshell</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-143-6><a id=__codelineno-143-6 name=__codelineno-143-6></a><span class=w>    </span><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-143-7><a id=__codelineno-143-7 name=__codelineno-143-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-143-8><a id=__codelineno-143-8 name=__codelineno-143-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-143-9><a id=__codelineno-143-9 name=__codelineno-143-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>mysecureshell</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-143-10><a id=__codelineno-143-10 name=__codelineno-143-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-143-11><a id=__codelineno-143-11 name=__codelineno-143-11></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-143-12><a id=__codelineno-143-12 name=__codelineno-143-12></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-143-13><a id=__codelineno-143-13 name=__codelineno-143-13></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-143-14><a id=__codelineno-143-14 name=__codelineno-143-14></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-143-15><a id=__codelineno-143-15 name=__codelineno-143-15></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_11>redhat.pp</h4> <p>Nothing magical here, I make sure the package is installed and the configuration correctly pushed:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-144-1> 1</a></span>
<span class=normal><a href=#__codelineno-144-2> 2</a></span>
<span class=normal><a href=#__codelineno-144-3> 3</a></span>
<span class=normal><a href=#__codelineno-144-4> 4</a></span>
<span class=normal><a href=#__codelineno-144-5> 5</a></span>
<span class=normal><a href=#__codelineno-144-6> 6</a></span>
<span class=normal><a href=#__codelineno-144-7> 7</a></span>
<span class=normal><a href=#__codelineno-144-8> 8</a></span>
<span class=normal><a href=#__codelineno-144-9> 9</a></span>
<span class=normal><a href=#__codelineno-144-10>10</a></span>
<span class=normal><a href=#__codelineno-144-11>11</a></span>
<span class=normal><a href=#__codelineno-144-12>12</a></span>
<span class=normal><a href=#__codelineno-144-13>13</a></span>
<span class=normal><a href=#__codelineno-144-14>14</a></span>
<span class=normal><a href=#__codelineno-144-15>15</a></span>
<span class=normal><a href=#__codelineno-144-16>16</a></span>
<span class=normal><a href=#__codelineno-144-17>17</a></span>
<span class=normal><a href=#__codelineno-144-18>18</a></span>
<span class=normal><a href=#__codelineno-144-19>19</a></span>
<span class=normal><a href=#__codelineno-144-20>20</a></span>
<span class=normal><a href=#__codelineno-144-21>21</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-144-1><a id=__codelineno-144-1 name=__codelineno-144-1></a><span class=sr>/*</span>
</span><span id=__span-144-2><a id=__codelineno-144-2 name=__codelineno-144-2></a><span class=sr>MySecureShell Module for Puppet</span>
</span><span id=__span-144-3><a id=__codelineno-144-3 name=__codelineno-144-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-144-4><a id=__codelineno-144-4 name=__codelineno-144-4></a><span class=sr>*/</span>
</span><span id=__span-144-5><a id=__codelineno-144-5 name=__codelineno-144-5></a><span class=k>class</span><span class=w> </span><span class=n>mysecureshell</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-144-6><a id=__codelineno-144-6 name=__codelineno-144-6></a><span class=p>{</span>
</span><span id=__span-144-7><a id=__codelineno-144-7 name=__codelineno-144-7></a><span class=w>     </span><span class=c1># Install MySecureShell</span>
</span><span id=__span-144-8><a id=__codelineno-144-8 name=__codelineno-144-8></a><span class=w>     </span><span class=n>package</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;mysecureshell&#39;</span><span class=p>:</span>
</span><span id=__span-144-9><a id=__codelineno-144-9 name=__codelineno-144-9></a><span class=w>         </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;installed&#39;</span>
</span><span id=__span-144-10><a id=__codelineno-144-10 name=__codelineno-144-10></a><span class=w>     </span><span class=p>}</span>
</span><span id=__span-144-11><a id=__codelineno-144-11 name=__codelineno-144-11></a>
</span><span id=__span-144-12><a id=__codelineno-144-12 name=__codelineno-144-12></a><span class=w>     </span><span class=c1># MySecureShell default configuration</span>
</span><span id=__span-144-13><a id=__codelineno-144-13 name=__codelineno-144-13></a><span class=w>     </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-144-14><a id=__codelineno-144-14 name=__codelineno-144-14></a><span class=w>          </span><span class=s1>&#39;/etc/ssh/sftp_config&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-144-15><a id=__codelineno-144-15 name=__codelineno-144-15></a><span class=w>               </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span><span class=p>,</span>
</span><span id=__span-144-16><a id=__codelineno-144-16 name=__codelineno-144-16></a><span class=w>               </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/mysecureshell/${::osfamily}.sftp_config&quot;</span><span class=p>,</span>
</span><span id=__span-144-17><a id=__codelineno-144-17 name=__codelineno-144-17></a><span class=w>               </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span>
</span><span id=__span-144-18><a id=__codelineno-144-18 name=__codelineno-144-18></a><span class=w>               </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-144-19><a id=__codelineno-144-19 name=__codelineno-144-19></a><span class=w>               </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span>
</span><span id=__span-144-20><a id=__codelineno-144-20 name=__codelineno-144-20></a><span class=w>     </span><span class=p>}</span>
</span><span id=__span-144-21><a id=__codelineno-144-21 name=__codelineno-144-21></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=files_4>files</h4> <p>Here's my global file, at the end of which you'll notice there's an include. Feel free to put what you want in it, have multiple ones, and send the right one according to criteria:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-145-1> 1</a></span>
<span class=normal><a href=#__codelineno-145-2> 2</a></span>
<span class=normal><a href=#__codelineno-145-3> 3</a></span>
<span class=normal><a href=#__codelineno-145-4> 4</a></span>
<span class=normal><a href=#__codelineno-145-5> 5</a></span>
<span class=normal><a href=#__codelineno-145-6> 6</a></span>
<span class=normal><a href=#__codelineno-145-7> 7</a></span>
<span class=normal><a href=#__codelineno-145-8> 8</a></span>
<span class=normal><a href=#__codelineno-145-9> 9</a></span>
<span class=normal><a href=#__codelineno-145-10>10</a></span>
<span class=normal><a href=#__codelineno-145-11>11</a></span>
<span class=normal><a href=#__codelineno-145-12>12</a></span>
<span class=normal><a href=#__codelineno-145-13>13</a></span>
<span class=normal><a href=#__codelineno-145-14>14</a></span>
<span class=normal><a href=#__codelineno-145-15>15</a></span>
<span class=normal><a href=#__codelineno-145-16>16</a></span>
<span class=normal><a href=#__codelineno-145-17>17</a></span>
<span class=normal><a href=#__codelineno-145-18>18</a></span>
<span class=normal><a href=#__codelineno-145-19>19</a></span>
<span class=normal><a href=#__codelineno-145-20>20</a></span>
<span class=normal><a href=#__codelineno-145-21>21</a></span>
<span class=normal><a href=#__codelineno-145-22>22</a></span>
<span class=normal><a href=#__codelineno-145-23>23</a></span>
<span class=normal><a href=#__codelineno-145-24>24</a></span>
<span class=normal><a href=#__codelineno-145-25>25</a></span>
<span class=normal><a href=#__codelineno-145-26>26</a></span>
<span class=normal><a href=#__codelineno-145-27>27</a></span>
<span class=normal><a href=#__codelineno-145-28>28</a></span>
<span class=normal><a href=#__codelineno-145-29>29</a></span>
<span class=normal><a href=#__codelineno-145-30>30</a></span>
<span class=normal><a href=#__codelineno-145-31>31</a></span>
<span class=normal><a href=#__codelineno-145-32>32</a></span>
<span class=normal><a href=#__codelineno-145-33>33</a></span>
<span class=normal><a href=#__codelineno-145-34>34</a></span>
<span class=normal><a href=#__codelineno-145-35>35</a></span>
<span class=normal><a href=#__codelineno-145-36>36</a></span>
<span class=normal><a href=#__codelineno-145-37>37</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-145-1><a id=__codelineno-145-1 name=__codelineno-145-1></a># HEADER: This file is managed by puppet.
</span><span id=__span-145-2><a id=__codelineno-145-2 name=__codelineno-145-2></a># HEADER: While it can still be managed manually, it is definitely not recommended.
</span><span id=__span-145-3><a id=__codelineno-145-3 name=__codelineno-145-3></a>
</span><span id=__span-145-4><a id=__codelineno-145-4 name=__codelineno-145-4></a>#Default rules for everybody
</span><span id=__span-145-5><a id=__codelineno-145-5 name=__codelineno-145-5></a>&lt;Default&gt;
</span><span id=__span-145-6><a id=__codelineno-145-6 name=__codelineno-145-6></a>    GlobalDownload      0   #total speed download for all clients
</span><span id=__span-145-7><a id=__codelineno-145-7 name=__codelineno-145-7></a>    GlobalUpload        0   #total speed download for all clients (0 for unlimited)
</span><span id=__span-145-8><a id=__codelineno-145-8 name=__codelineno-145-8></a>    Download            0   #limit speed download for each connection
</span><span id=__span-145-9><a id=__codelineno-145-9 name=__codelineno-145-9></a>    Upload              0   #unlimit speed upload for each connection
</span><span id=__span-145-10><a id=__codelineno-145-10 name=__codelineno-145-10></a>    StayAtHome          true    #limit client to his home
</span><span id=__span-145-11><a id=__codelineno-145-11 name=__codelineno-145-11></a>    VirtualChroot       true    #fake a chroot to the home account
</span><span id=__span-145-12><a id=__codelineno-145-12 name=__codelineno-145-12></a>    LimitConnection     100 #max connection for the server sftp
</span><span id=__span-145-13><a id=__codelineno-145-13 name=__codelineno-145-13></a>    LimitConnectionByUser   2   #max connection for the account
</span><span id=__span-145-14><a id=__codelineno-145-14 name=__codelineno-145-14></a>    LimitConnectionByIP 2   #max connection by ip for the account
</span><span id=__span-145-15><a id=__codelineno-145-15 name=__codelineno-145-15></a>    Home            /home/$USER #overrite home of the user but if you want you can use
</span><span id=__span-145-16><a id=__codelineno-145-16 name=__codelineno-145-16></a>    IdleTimeOut     5m  #(in second) deconnect client is idle too long time
</span><span id=__span-145-17><a id=__codelineno-145-17 name=__codelineno-145-17></a>    ResolveIP       false   #resolve ip to dns
</span><span id=__span-145-18><a id=__codelineno-145-18 name=__codelineno-145-18></a>    IgnoreHidden    true    #treat all hidden files as if they don&#39;t exist
</span><span id=__span-145-19><a id=__codelineno-145-19 name=__codelineno-145-19></a>#   DirFakeUser     true    #Hide real file/directory owner (just change displayed permissions)
</span><span id=__span-145-20><a id=__codelineno-145-20 name=__codelineno-145-20></a>#   DirFakeGroup    true    #Hide real file/directory group (just change displayed permissions)
</span><span id=__span-145-21><a id=__codelineno-145-21 name=__codelineno-145-21></a>#   DirFakeMode     0400    #Hide real file/directory rights (just change displayed permissions)
</span><span id=__span-145-22><a id=__codelineno-145-22 name=__codelineno-145-22></a>#   HideFiles       &quot;^(lost\+found|public_html)$&quot;   #Hide file/directory which match
</span><span id=__span-145-23><a id=__codelineno-145-23 name=__codelineno-145-23></a>    HideNoAccess        true    #Hide file/directory which user has no access
</span><span id=__span-145-24><a id=__codelineno-145-24 name=__codelineno-145-24></a>#   MaxOpenFilesForUser 20  #limit user to open x files on same time
</span><span id=__span-145-25><a id=__codelineno-145-25 name=__codelineno-145-25></a>#   MaxWriteFilesForUser    10  #limit user to x upload on same time
</span><span id=__span-145-26><a id=__codelineno-145-26 name=__codelineno-145-26></a>#   MaxReadFilesForUser 10  #limit user to x download on same time
</span><span id=__span-145-27><a id=__codelineno-145-27 name=__codelineno-145-27></a>    DefaultRights       0640 0750   #Set default rights for new file and new directory
</span><span id=__span-145-28><a id=__codelineno-145-28 name=__codelineno-145-28></a>#   MinimumRights       0400 0700   #Set minimum rights for files and dirs
</span><span id=__span-145-29><a id=__codelineno-145-29 name=__codelineno-145-29></a>#   PathDenyFilter      &quot;^\.+&quot;  #deny upload of directory/file which match this extented POSIX regex
</span><span id=__span-145-30><a id=__codelineno-145-30 name=__codelineno-145-30></a>    ShowLinksAsLinks    false   #show links as their destinations
</span><span id=__span-145-31><a id=__codelineno-145-31 name=__codelineno-145-31></a>#   ConnectionMaxLife   1d  #limits connection lifetime to 1 day
</span><span id=__span-145-32><a id=__codelineno-145-32 name=__codelineno-145-32></a>#   Charset         &quot;ISO-8859-15&quot;   #set charset of computer
</span><span id=__span-145-33><a id=__codelineno-145-33 name=__codelineno-145-33></a>#   GMTTime         +1  #set GMT Time (change if necessary)
</span><span id=__span-145-34><a id=__codelineno-145-34 name=__codelineno-145-34></a>&lt;/Default&gt;
</span><span id=__span-145-35><a id=__codelineno-145-35 name=__codelineno-145-35></a>
</span><span id=__span-145-36><a id=__codelineno-145-36 name=__codelineno-145-36></a># Include another custom file
</span><span id=__span-145-37><a id=__codelineno-145-37 name=__codelineno-145-37></a>Include /etc/ssh/deimos_sftp_config #include this valid configuration file
</span></code></pre></div></td></tr></table></div> <h3 id=openldap-client-server>OpenLDAP client &amp; Server</h3> <p>OpenLDAP can quickly become complicated and you need to understand how it works before deploying it. I invite you to look at the documentation before diving into this module.</p> <p>This module is a big chunk, I spent a lot of time on it so that it works completely automatically. I'll be as explicit as possible so that everything is clear. I've adapted it for a nomenclature of names that allows this kind of thing in a computer fleet, but we can refer to pretty much anything.</p> <p>In the case of this module, to understand it well, I need to explain how the infrastructure is constituted. We can assume that we have a batch or a cluster with 4 nodes. On these 4 nodes, only machines numbered 1 and 2 are OpenLDAP servers. All nodes are clients of the servers:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-146-1> 1</a></span>
<span class=normal><a href=#__codelineno-146-2> 2</a></span>
<span class=normal><a href=#__codelineno-146-3> 3</a></span>
<span class=normal><a href=#__codelineno-146-4> 4</a></span>
<span class=normal><a href=#__codelineno-146-5> 5</a></span>
<span class=normal><a href=#__codelineno-146-6> 6</a></span>
<span class=normal><a href=#__codelineno-146-7> 7</a></span>
<span class=normal><a href=#__codelineno-146-8> 8</a></span>
<span class=normal><a href=#__codelineno-146-9> 9</a></span>
<span class=normal><a href=#__codelineno-146-10>10</a></span>
<span class=normal><a href=#__codelineno-146-11>11</a></span>
<span class=normal><a href=#__codelineno-146-12>12</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-146-1><a id=__codelineno-146-1 name=__codelineno-146-1></a>         +-------------------+      +-------------------+
</span><span id=__span-146-2><a id=__codelineno-146-2 name=__codelineno-146-2></a>         |  TO-DC-SRV-PRD-1  |      |  TO-DC-SRV-PRD-2  |
</span><span id=__span-146-3><a id=__codelineno-146-3 name=__codelineno-146-3></a>         |   OpenLDAP SRV1   |      |   OpenLDAP SRV2   |
</span><span id=__span-146-4><a id=__codelineno-146-4 name=__codelineno-146-4></a>         |  OpenLDAP Client  |      |  OpenLDAP Client  |
</span><span id=__span-146-5><a id=__codelineno-146-5 name=__codelineno-146-5></a>         +--------+----------+      +---------+---------+
</span><span id=__span-146-6><a id=__codelineno-146-6 name=__codelineno-146-6></a>                  |                           |
</span><span id=__span-146-7><a id=__codelineno-146-7 name=__codelineno-146-7></a>                  +---------------------------+
</span><span id=__span-146-8><a id=__codelineno-146-8 name=__codelineno-146-8></a>                  |                           |
</span><span id=__span-146-9><a id=__codelineno-146-9 name=__codelineno-146-9></a>         +--------+----------+       +--------+---------+
</span><span id=__span-146-10><a id=__codelineno-146-10 name=__codelineno-146-10></a>         |  TO-DC-SRV-PRD-3  |       | TO-DC-SRV-PRD-4  |
</span><span id=__span-146-11><a id=__codelineno-146-11 name=__codelineno-146-11></a>         |  OpenLDAP Client  |       | OpenLDAP Client  |
</span><span id=__span-146-12><a id=__codelineno-146-12 name=__codelineno-146-12></a>         +-------------------+       +------------------+
</span></code></pre></div></td></tr></table></div> <p>Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-147-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-147-1><a id=__codelineno-147-1 name=__codelineno-147-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/openldap/<span class=o>{</span>manifests,files,lib/facter,puppet/parser/functions<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_14>init.pp</h4> <p>Here I load all my manifests to be able to call their classes later:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-148-1> 1</a></span>
<span class=normal><a href=#__codelineno-148-2> 2</a></span>
<span class=normal><a href=#__codelineno-148-3> 3</a></span>
<span class=normal><a href=#__codelineno-148-4> 4</a></span>
<span class=normal><a href=#__codelineno-148-5> 5</a></span>
<span class=normal><a href=#__codelineno-148-6> 6</a></span>
<span class=normal><a href=#__codelineno-148-7> 7</a></span>
<span class=normal><a href=#__codelineno-148-8> 8</a></span>
<span class=normal><a href=#__codelineno-148-9> 9</a></span>
<span class=normal><a href=#__codelineno-148-10>10</a></span>
<span class=normal><a href=#__codelineno-148-11>11</a></span>
<span class=normal><a href=#__codelineno-148-12>12</a></span>
<span class=normal><a href=#__codelineno-148-13>13</a></span>
<span class=normal><a href=#__codelineno-148-14>14</a></span>
<span class=normal><a href=#__codelineno-148-15>15</a></span>
<span class=normal><a href=#__codelineno-148-16>16</a></span>
<span class=normal><a href=#__codelineno-148-17>17</a></span>
<span class=normal><a href=#__codelineno-148-18>18</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-148-1><a id=__codelineno-148-1 name=__codelineno-148-1></a><span class=sr>/*</span>
</span><span id=__span-148-2><a id=__codelineno-148-2 name=__codelineno-148-2></a><span class=sr>OpenLDAP Module for Puppet</span>
</span><span id=__span-148-3><a id=__codelineno-148-3 name=__codelineno-148-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-148-4><a id=__codelineno-148-4 name=__codelineno-148-4></a><span class=sr>*/</span>
</span><span id=__span-148-5><a id=__codelineno-148-5 name=__codelineno-148-5></a><span class=k>class</span><span class=w> </span><span class=n>openldap</span><span class=w> </span><span class=n>inherits</span><span class=w> </span><span class=n>openssh</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-148-6><a id=__codelineno-148-6 name=__codelineno-148-6></a><span class=w>    </span><span class=n>import</span><span class=w> </span><span class=s2>&quot;*.pp&quot;</span>
</span><span id=__span-148-7><a id=__codelineno-148-7 name=__codelineno-148-7></a>
</span><span id=__span-148-8><a id=__codelineno-148-8 name=__codelineno-148-8></a><span class=w>    </span><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-148-9><a id=__codelineno-148-9 name=__codelineno-148-9></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-148-10><a id=__codelineno-148-10 name=__codelineno-148-10></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-148-11><a id=__codelineno-148-11 name=__codelineno-148-11></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>openldap</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-148-12><a id=__codelineno-148-12 name=__codelineno-148-12></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-148-13><a id=__codelineno-148-13 name=__codelineno-148-13></a><span class=w>        </span><span class=c1>#&#39;sunos&#39;:  { include packages_defaults::solaris }</span>
</span><span id=__span-148-14><a id=__codelineno-148-14 name=__codelineno-148-14></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-148-15><a id=__codelineno-148-15 name=__codelineno-148-15></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-148-16><a id=__codelineno-148-16 name=__codelineno-148-16></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-148-17><a id=__codelineno-148-17 name=__codelineno-148-17></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-148-18><a id=__codelineno-148-18 name=__codelineno-148-18></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_12>redhat.pp</h4> <p>I'll handle all OpenLDAP management here:</p> <ul> <li>Lines 6 to 17: Preparation</li> <li>Line 20: Client configuration</li> <li>Lines 22 to 27: Server configuration</li> </ul> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-149-1> 1</a></span>
<span class=normal><a href=#__codelineno-149-2> 2</a></span>
<span class=normal><a href=#__codelineno-149-3> 3</a></span>
<span class=normal><a href=#__codelineno-149-4> 4</a></span>
<span class=normal><a href=#__codelineno-149-5> 5</a></span>
<span class=normal><a href=#__codelineno-149-6> 6</a></span>
<span class=normal><a href=#__codelineno-149-7> 7</a></span>
<span class=normal><a href=#__codelineno-149-8> 8</a></span>
<span class=normal><a href=#__codelineno-149-9> 9</a></span>
<span class=normal><a href=#__codelineno-149-10>10</a></span>
<span class=normal><a href=#__codelineno-149-11>11</a></span>
<span class=normal><a href=#__codelineno-149-12>12</a></span>
<span class=normal><a href=#__codelineno-149-13>13</a></span>
<span class=normal><a href=#__codelineno-149-14>14</a></span>
<span class=normal><a href=#__codelineno-149-15>15</a></span>
<span class=normal><a href=#__codelineno-149-16>16</a></span>
<span class=normal><a href=#__codelineno-149-17>17</a></span>
<span class=normal><a href=#__codelineno-149-18>18</a></span>
<span class=normal><a href=#__codelineno-149-19>19</a></span>
<span class=normal><a href=#__codelineno-149-20>20</a></span>
<span class=normal><a href=#__codelineno-149-21>21</a></span>
<span class=normal><a href=#__codelineno-149-22>22</a></span>
<span class=normal><a href=#__codelineno-149-23>23</a></span>
<span class=normal><a href=#__codelineno-149-24>24</a></span>
<span class=normal><a href=#__codelineno-149-25>25</a></span>
<span class=normal><a href=#__codelineno-149-26>26</a></span>
<span class=normal><a href=#__codelineno-149-27>27</a></span>
<span class=normal><a href=#__codelineno-149-28>28</a></span>
<span class=normal><a href=#__codelineno-149-29>29</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-149-1><a id=__codelineno-149-1 name=__codelineno-149-1></a><span class=sr>/*</span>
</span><span id=__span-149-2><a id=__codelineno-149-2 name=__codelineno-149-2></a><span class=sr>OpenLDAP Module for Puppet</span>
</span><span id=__span-149-3><a id=__codelineno-149-3 name=__codelineno-149-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-149-4><a id=__codelineno-149-4 name=__codelineno-149-4></a><span class=sr>*/</span>
</span><span id=__span-149-5><a id=__codelineno-149-5 name=__codelineno-149-5></a><span class=k>class</span><span class=w> </span><span class=n>openldap</span><span class=o>::</span><span class=n>redhat</span><span class=w> </span><span class=n>inherits</span><span class=w> </span><span class=n>openldap</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-149-6><a id=__codelineno-149-6 name=__codelineno-149-6></a><span class=w>    </span><span class=c1># Select generated ldap servers if no one is specified or join specified ones</span>
</span><span id=__span-149-7><a id=__codelineno-149-7 name=__codelineno-149-7></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=n>empty</span><span class=p>(</span><span class=s2>&quot;${ldap_servers}&quot;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=kp>true</span>
</span><span id=__span-149-8><a id=__codelineno-149-8 name=__codelineno-149-8></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-149-9><a id=__codelineno-149-9 name=__codelineno-149-9></a><span class=w>        </span><span class=vg>$comma_ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;$::generated_ldap_servers&quot;</span>
</span><span id=__span-149-10><a id=__codelineno-149-10 name=__codelineno-149-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-149-11><a id=__codelineno-149-11 name=__codelineno-149-11></a><span class=w>    </span><span class=k>else</span>
</span><span id=__span-149-12><a id=__codelineno-149-12 name=__codelineno-149-12></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-149-13><a id=__codelineno-149-13 name=__codelineno-149-13></a><span class=w>        </span><span class=vg>$comma_ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>inline_template</span><span class=p>(</span><span class=s2>&quot;&lt;%= (ldap_servers).join(&#39;,&#39;) %&gt;&quot;</span><span class=p>)</span>
</span><span id=__span-149-14><a id=__codelineno-149-14 name=__codelineno-149-14></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-149-15><a id=__codelineno-149-15 name=__codelineno-149-15></a>
</span><span id=__span-149-16><a id=__codelineno-149-16 name=__codelineno-149-16></a><span class=w>    </span><span class=c1># DNS lookup them to use IP address instead</span>
</span><span id=__span-149-17><a id=__codelineno-149-17 name=__codelineno-149-17></a><span class=w>    </span><span class=vg>$ip_ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dns2ip</span><span class=p>(</span><span class=s2>&quot;${comma_ldap_servers}&quot;</span><span class=p>)</span>
</span><span id=__span-149-18><a id=__codelineno-149-18 name=__codelineno-149-18></a>
</span><span id=__span-149-19><a id=__codelineno-149-19 name=__codelineno-149-19></a><span class=w>    </span><span class=c1># OpenLDAP Client</span>
</span><span id=__span-149-20><a id=__codelineno-149-20 name=__codelineno-149-20></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>openldap</span><span class=o>::</span><span class=n>redhat</span><span class=o>::</span><span class=n>ldapclient</span>
</span><span id=__span-149-21><a id=__codelineno-149-21 name=__codelineno-149-21></a>
</span><span id=__span-149-22><a id=__codelineno-149-22 name=__codelineno-149-22></a><span class=w>    </span><span class=c1># Check if the current host is a server or not</span>
</span><span id=__span-149-23><a id=__codelineno-149-23 name=__codelineno-149-23></a><span class=w>    </span><span class=vg>$ip_hostname</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dns2ip</span><span class=p>(</span><span class=vg>$:</span><span class=ss>:hostname</span><span class=p>)</span>
</span><span id=__span-149-24><a id=__codelineno-149-24 name=__codelineno-149-24></a><span class=w>    </span><span class=vg>$array_ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>split</span><span class=p>(</span><span class=vg>$ip_ldap_servers</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;,&#39;</span><span class=p>)</span>
</span><span id=__span-149-25><a id=__codelineno-149-25 name=__codelineno-149-25></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=vg>$ip_hostname</span><span class=w> </span><span class=k>in</span><span class=w> </span><span class=vg>$array_ldap_servers</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-149-26><a id=__codelineno-149-26 name=__codelineno-149-26></a><span class=w>        </span><span class=c1># OpenLDAP Server</span>
</span><span id=__span-149-27><a id=__codelineno-149-27 name=__codelineno-149-27></a><span class=w>        </span><span class=kp>include</span><span class=w> </span><span class=n>openldap</span><span class=o>::</span><span class=n>redhat</span><span class=o>::</span><span class=n>ldapserver</span>
</span><span id=__span-149-28><a id=__codelineno-149-28 name=__codelineno-149-28></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-149-29><a id=__codelineno-149-29 name=__codelineno-149-29></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>We use a variable '$ldap_servers' stored in the global variables or in the configuration of a node with the list of default LDAP servers desired:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-150-1>1</a></span>
<span class=normal><a href=#__codelineno-150-2>2</a></span>
<span class=normal><a href=#__codelineno-150-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-150-1><a id=__codelineno-150-1 name=__codelineno-150-1></a><span class=c1># Default LDAP servers</span>
</span><span id=__span-150-2><a id=__codelineno-150-2 name=__codelineno-150-2></a><span class=c1>#$ldap_servers = [ &#39;192.168.0.1&#39;, &#39;192.168.0.2&#39; ]</span>
</span><span id=__span-150-3><a id=__codelineno-150-3 name=__codelineno-150-3></a><span class=vg>$ldap_servers</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=o>]</span>
</span></code></pre></div></td></tr></table></div> <p>If we use, as here, an empty array, the empty parser (line 7) will detect it and we will then use the automatic generation of the list of LDAP servers to use. This method uses a facter to detect, based on the machine name, its equivalent 1 and 2.</p> <p>Then, it will do a reverse lookup to convert to IP, any DNS names that would appear in the list of LDAP servers. For this, we use a parser named dns2ip. Then there will be the call to the OpenLDAP client manifest.</p> <p>And finally, if the current server appears in the list of OpenLDAP servers, then we apply its configuration.</p> <h4 id=facter_2>facter</h4> <h5 id=generated_ldap_serversrb>generated_ldap_servers.rb</h5> <p>This facter retrieves the hostname of the machine in question, if it corresponds to the desired nomenclature, it sends in an array the auto-generated names of the LDAP servers. Then it returns as a result the array joined by commas:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-151-1> 1</a></span>
<span class=normal><a href=#__codelineno-151-2> 2</a></span>
<span class=normal><a href=#__codelineno-151-3> 3</a></span>
<span class=normal><a href=#__codelineno-151-4> 4</a></span>
<span class=normal><a href=#__codelineno-151-5> 5</a></span>
<span class=normal><a href=#__codelineno-151-6> 6</a></span>
<span class=normal><a href=#__codelineno-151-7> 7</a></span>
<span class=normal><a href=#__codelineno-151-8> 8</a></span>
<span class=normal><a href=#__codelineno-151-9> 9</a></span>
<span class=normal><a href=#__codelineno-151-10>10</a></span>
<span class=normal><a href=#__codelineno-151-11>11</a></span>
<span class=normal><a href=#__codelineno-151-12>12</a></span>
<span class=normal><a href=#__codelineno-151-13>13</a></span>
<span class=normal><a href=#__codelineno-151-14>14</a></span>
<span class=normal><a href=#__codelineno-151-15>15</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-151-1><a id=__codelineno-151-1 name=__codelineno-151-1></a><span class=c1># Generated ldap servers</span>
</span><span id=__span-151-2><a id=__codelineno-151-2 name=__codelineno-151-2></a><span class=no>Facter</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&quot;generated_ldap_servers&quot;</span><span class=p>)</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-151-3><a id=__codelineno-151-3 name=__codelineno-151-3></a><span class=w>  </span><span class=n>ldap_srv</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[]</span>
</span><span id=__span-151-4><a id=__codelineno-151-4 name=__codelineno-151-4></a>
</span><span id=__span-151-5><a id=__codelineno-151-5 name=__codelineno-151-5></a><span class=w>  </span><span class=c1># Get current hostname and add -1 and -2 to define default LDAP servers</span>
</span><span id=__span-151-6><a id=__codelineno-151-6 name=__codelineno-151-6></a><span class=w>  </span><span class=n>hostname</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=no>Facter</span><span class=o>.</span><span class=n>value</span><span class=p>(</span><span class=s1>&#39;hostname&#39;</span><span class=p>)</span>
</span><span id=__span-151-7><a id=__codelineno-151-7 name=__codelineno-151-7></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=n>hostname</span><span class=w> </span><span class=o>=~</span> <span class=sr>/(.*)-\d+$/</span>
</span><span id=__span-151-8><a id=__codelineno-151-8 name=__codelineno-151-8></a><span class=w>    </span><span class=n>ldap_srv</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=vg>$1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s1>&#39;-1&#39;</span><span class=p>,</span><span class=w> </span><span class=vg>$1</span><span class=w> </span><span class=o>+</span><span class=w> </span><span class=s1>&#39;-2&#39;</span><span class=p>)</span>
</span><span id=__span-151-9><a id=__codelineno-151-9 name=__codelineno-151-9></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-151-10><a id=__codelineno-151-10 name=__codelineno-151-10></a>
</span><span id=__span-151-11><a id=__codelineno-151-11 name=__codelineno-151-11></a><span class=w>  </span><span class=n>setcode</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-151-12><a id=__codelineno-151-12 name=__codelineno-151-12></a><span class=w>    </span><span class=c1># Join them with a comma</span>
</span><span id=__span-151-13><a id=__codelineno-151-13 name=__codelineno-151-13></a><span class=w>    </span><span class=n>ldap_srv</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s2>&quot;,&quot;</span><span class=p>)</span>
</span><span id=__span-151-14><a id=__codelineno-151-14 name=__codelineno-151-14></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-151-15><a id=__codelineno-151-15 name=__codelineno-151-15></a><span class=k>end</span>
</span></code></pre></div></td></tr></table></div> <h5 id=current_ldap_serversrb>current_ldap_servers.rb</h5> <p>This facter reads the OpenLDAP configuration file to see what configuration is applied to it and returns the result separated by a comma:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-152-1> 1</a></span>
<span class=normal><a href=#__codelineno-152-2> 2</a></span>
<span class=normal><a href=#__codelineno-152-3> 3</a></span>
<span class=normal><a href=#__codelineno-152-4> 4</a></span>
<span class=normal><a href=#__codelineno-152-5> 5</a></span>
<span class=normal><a href=#__codelineno-152-6> 6</a></span>
<span class=normal><a href=#__codelineno-152-7> 7</a></span>
<span class=normal><a href=#__codelineno-152-8> 8</a></span>
<span class=normal><a href=#__codelineno-152-9> 9</a></span>
<span class=normal><a href=#__codelineno-152-10>10</a></span>
<span class=normal><a href=#__codelineno-152-11>11</a></span>
<span class=normal><a href=#__codelineno-152-12>12</a></span>
<span class=normal><a href=#__codelineno-152-13>13</a></span>
<span class=normal><a href=#__codelineno-152-14>14</a></span>
<span class=normal><a href=#__codelineno-152-15>15</a></span>
<span class=normal><a href=#__codelineno-152-16>16</a></span>
<span class=normal><a href=#__codelineno-152-17>17</a></span>
<span class=normal><a href=#__codelineno-152-18>18</a></span>
<span class=normal><a href=#__codelineno-152-19>19</a></span>
<span class=normal><a href=#__codelineno-152-20>20</a></span>
<span class=normal><a href=#__codelineno-152-21>21</a></span>
<span class=normal><a href=#__codelineno-152-22>22</a></span>
<span class=normal><a href=#__codelineno-152-23>23</a></span>
<span class=normal><a href=#__codelineno-152-24>24</a></span>
<span class=normal><a href=#__codelineno-152-25>25</a></span>
<span class=normal><a href=#__codelineno-152-26>26</a></span>
<span class=normal><a href=#__codelineno-152-27>27</a></span>
<span class=normal><a href=#__codelineno-152-28>28</a></span>
<span class=normal><a href=#__codelineno-152-29>29</a></span>
<span class=normal><a href=#__codelineno-152-30>30</a></span>
<span class=normal><a href=#__codelineno-152-31>31</a></span>
<span class=normal><a href=#__codelineno-152-32>32</a></span>
<span class=normal><a href=#__codelineno-152-33>33</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-152-1><a id=__codelineno-152-1 name=__codelineno-152-1></a><span class=c1># Current ldap servers</span>
</span><span id=__span-152-2><a id=__codelineno-152-2 name=__codelineno-152-2></a><span class=no>Facter</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&quot;current_ldap_servers&quot;</span><span class=p>)</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-152-3><a id=__codelineno-152-3 name=__codelineno-152-3></a><span class=w>  </span><span class=n>ldap_srv</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[]</span>
</span><span id=__span-152-4><a id=__codelineno-152-4 name=__codelineno-152-4></a><span class=w>  </span><span class=n>conf_ldap</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[]</span>
</span><span id=__span-152-5><a id=__codelineno-152-5 name=__codelineno-152-5></a><span class=w>  </span><span class=n>config_found</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span>
</span><span id=__span-152-6><a id=__codelineno-152-6 name=__codelineno-152-6></a>
</span><span id=__span-152-7><a id=__codelineno-152-7 name=__codelineno-152-7></a><span class=w>  </span><span class=c1># Add in an array all ldap servers lines</span>
</span><span id=__span-152-8><a id=__codelineno-152-8 name=__codelineno-152-8></a><span class=w>  </span><span class=n>f</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=no>File</span><span class=o>.</span><span class=n>open</span><span class=p>(</span><span class=s1>&#39;/etc/openldap/ldap.conf&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;r&#39;</span><span class=p>)</span>
</span><span id=__span-152-9><a id=__codelineno-152-9 name=__codelineno-152-9></a><span class=w>  </span><span class=n>f</span><span class=o>.</span><span class=n>each_line</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>line</span><span class=o>|</span>
</span><span id=__span-152-10><a id=__codelineno-152-10 name=__codelineno-152-10></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=n>line</span><span class=w> </span><span class=o>=~</span> <span class=sr>/^URI (.*)/</span>
</span><span id=__span-152-11><a id=__codelineno-152-11 name=__codelineno-152-11></a><span class=w>      </span><span class=n>config_found</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>1</span>
</span><span id=__span-152-12><a id=__codelineno-152-12 name=__codelineno-152-12></a><span class=w>      </span><span class=n>conf_ldap</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=vg>$1</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>)</span>
</span><span id=__span-152-13><a id=__codelineno-152-13 name=__codelineno-152-13></a><span class=w>    </span><span class=k>end</span>
</span><span id=__span-152-14><a id=__codelineno-152-14 name=__codelineno-152-14></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-152-15><a id=__codelineno-152-15 name=__codelineno-152-15></a><span class=w>  </span><span class=n>f</span><span class=o>.</span><span class=n>close</span>
</span><span id=__span-152-16><a id=__codelineno-152-16 name=__codelineno-152-16></a>
</span><span id=__span-152-17><a id=__codelineno-152-17 name=__codelineno-152-17></a><span class=w>  </span><span class=c1># Get all LDAP servers names/IP</span>
</span><span id=__span-152-18><a id=__codelineno-152-18 name=__codelineno-152-18></a><span class=w>  </span><span class=k>if</span><span class=w> </span><span class=n>conf_ldap</span><span class=o>.</span><span class=n>each</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>line</span><span class=o>|</span>
</span><span id=__span-152-19><a id=__codelineno-152-19 name=__codelineno-152-19></a><span class=w>      </span><span class=k>if</span><span class=w> </span><span class=n>line</span><span class=w> </span><span class=o>=~</span> <span class=sr>/ldap:\/\/(.*)\//</span>
</span><span id=__span-152-20><a id=__codelineno-152-20 name=__codelineno-152-20></a><span class=w>        </span><span class=n>ldap_srv</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=vg>$1</span><span class=p>)</span>
</span><span id=__span-152-21><a id=__codelineno-152-21 name=__codelineno-152-21></a><span class=w>      </span><span class=k>end</span>
</span><span id=__span-152-22><a id=__codelineno-152-22 name=__codelineno-152-22></a><span class=w>    </span><span class=k>end</span>
</span><span id=__span-152-23><a id=__codelineno-152-23 name=__codelineno-152-23></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-152-24><a id=__codelineno-152-24 name=__codelineno-152-24></a>
</span><span id=__span-152-25><a id=__codelineno-152-25 name=__codelineno-152-25></a><span class=w>  </span><span class=n>setcode</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-152-26><a id=__codelineno-152-26 name=__codelineno-152-26></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=n>config_found</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>1</span>
</span><span id=__span-152-27><a id=__codelineno-152-27 name=__codelineno-152-27></a><span class=w>      </span><span class=c1># Join them with a comma</span>
</span><span id=__span-152-28><a id=__codelineno-152-28 name=__codelineno-152-28></a><span class=w>      </span><span class=n>ldap_srv</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s2>&quot;,&quot;</span><span class=p>)</span>
</span><span id=__span-152-29><a id=__codelineno-152-29 name=__codelineno-152-29></a><span class=w>    </span><span class=k>else</span>
</span><span id=__span-152-30><a id=__codelineno-152-30 name=__codelineno-152-30></a><span class=w>      </span><span class=n>config_found</span>
</span><span id=__span-152-31><a id=__codelineno-152-31 name=__codelineno-152-31></a><span class=w>    </span><span class=k>end</span>
</span><span id=__span-152-32><a id=__codelineno-152-32 name=__codelineno-152-32></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-152-33><a id=__codelineno-152-33 name=__codelineno-152-33></a><span class=k>end</span>
</span></code></pre></div></td></tr></table></div> <h4 id=parser_1>Parser</h4> <h5 id=dns2iprb>dns2ip.rb</h5> <p>This parser returns, once processed, a list of machines separated by commas. The process is actually the conversion of DNS name to IP:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-153-1> 1</a></span>
<span class=normal><a href=#__codelineno-153-2> 2</a></span>
<span class=normal><a href=#__codelineno-153-3> 3</a></span>
<span class=normal><a href=#__codelineno-153-4> 4</a></span>
<span class=normal><a href=#__codelineno-153-5> 5</a></span>
<span class=normal><a href=#__codelineno-153-6> 6</a></span>
<span class=normal><a href=#__codelineno-153-7> 7</a></span>
<span class=normal><a href=#__codelineno-153-8> 8</a></span>
<span class=normal><a href=#__codelineno-153-9> 9</a></span>
<span class=normal><a href=#__codelineno-153-10>10</a></span>
<span class=normal><a href=#__codelineno-153-11>11</a></span>
<span class=normal><a href=#__codelineno-153-12>12</a></span>
<span class=normal><a href=#__codelineno-153-13>13</a></span>
<span class=normal><a href=#__codelineno-153-14>14</a></span>
<span class=normal><a href=#__codelineno-153-15>15</a></span>
<span class=normal><a href=#__codelineno-153-16>16</a></span>
<span class=normal><a href=#__codelineno-153-17>17</a></span>
<span class=normal><a href=#__codelineno-153-18>18</a></span>
<span class=normal><a href=#__codelineno-153-19>19</a></span>
<span class=normal><a href=#__codelineno-153-20>20</a></span>
<span class=normal><a href=#__codelineno-153-21>21</a></span>
<span class=normal><a href=#__codelineno-153-22>22</a></span>
<span class=normal><a href=#__codelineno-153-23>23</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-153-1><a id=__codelineno-153-1 name=__codelineno-153-1></a><span class=c1># Dns2IP for Puppet</span>
</span><span id=__span-153-2><a id=__codelineno-153-2 name=__codelineno-153-2></a><span class=c1># Made by Pierre Mavro</span>
</span><span id=__span-153-3><a id=__codelineno-153-3 name=__codelineno-153-3></a><span class=c1># Does a DNS lookup and returns an array of strings of the results</span>
</span><span id=__span-153-4><a id=__codelineno-153-4 name=__codelineno-153-4></a><span class=c1># Usage : need to send one string dns servers separated by comma. The return will be the same</span>
</span><span id=__span-153-5><a id=__codelineno-153-5 name=__codelineno-153-5></a>
</span><span id=__span-153-6><a id=__codelineno-153-6 name=__codelineno-153-6></a><span class=nb>require</span><span class=w> </span><span class=s1>&#39;resolv&#39;</span>
</span><span id=__span-153-7><a id=__codelineno-153-7 name=__codelineno-153-7></a>
</span><span id=__span-153-8><a id=__codelineno-153-8 name=__codelineno-153-8></a><span class=k>module</span><span class=w> </span><span class=nn>Puppet::Parser::Functions</span>
</span><span id=__span-153-9><a id=__codelineno-153-9 name=__codelineno-153-9></a><span class=w>  </span><span class=n>newfunction</span><span class=p>(</span><span class=ss>:dns2ip</span><span class=p>,</span><span class=w> </span><span class=ss>:type</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=ss>:rvalue</span><span class=p>)</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>arguments</span><span class=o>|</span>
</span><span id=__span-153-10><a id=__codelineno-153-10 name=__codelineno-153-10></a><span class=w>    </span><span class=n>result</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=o>]</span>
</span><span id=__span-153-11><a id=__codelineno-153-11 name=__codelineno-153-11></a><span class=w>    </span><span class=c1># Split comma sperated list in array</span>
</span><span id=__span-153-12><a id=__codelineno-153-12 name=__codelineno-153-12></a><span class=w>    </span><span class=n>dns_array</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>arguments</span><span class=o>[</span><span class=mi>0</span><span class=o>].</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>)</span>
</span><span id=__span-153-13><a id=__codelineno-153-13 name=__codelineno-153-13></a><span class=w>    </span><span class=c1># Push each DNS/IP address in result array</span>
</span><span id=__span-153-14><a id=__codelineno-153-14 name=__codelineno-153-14></a><span class=w>    </span><span class=n>dns_array</span><span class=o>.</span><span class=n>each</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>dns_name</span><span class=o>|</span>
</span><span id=__span-153-15><a id=__codelineno-153-15 name=__codelineno-153-15></a><span class=w>      </span><span class=n>result</span><span class=o>.</span><span class=n>push</span><span class=p>(</span><span class=no>Resolv</span><span class=o>.</span><span class=n>new</span><span class=o>.</span><span class=n>getaddresses</span><span class=p>(</span><span class=n>dns_name</span><span class=p>))</span>
</span><span id=__span-153-16><a id=__codelineno-153-16 name=__codelineno-153-16></a><span class=w>    </span><span class=k>end</span>
</span><span id=__span-153-17><a id=__codelineno-153-17 name=__codelineno-153-17></a><span class=w>    </span><span class=c1># Join array with comma</span>
</span><span id=__span-153-18><a id=__codelineno-153-18 name=__codelineno-153-18></a><span class=w>    </span><span class=n>dns_list</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>result</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>)</span>
</span><span id=__span-153-19><a id=__codelineno-153-19 name=__codelineno-153-19></a><span class=w>    </span><span class=c1># Delete last comma if exist</span>
</span><span id=__span-153-20><a id=__codelineno-153-20 name=__codelineno-153-20></a><span class=w>    </span><span class=n>good_dns_list</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>dns_list</span><span class=o>.</span><span class=n>gsub</span><span class=p>(</span><span class=sr>/,$/</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span><span id=__span-153-21><a id=__codelineno-153-21 name=__codelineno-153-21></a><span class=w>    </span><span class=k>return</span><span class=w> </span><span class=n>good_dns_list</span>
</span><span id=__span-153-22><a id=__codelineno-153-22 name=__codelineno-153-22></a><span class=w>  </span><span class=k>end</span>
</span><span id=__span-153-23><a id=__codelineno-153-23 name=__codelineno-153-23></a><span class=k>end</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhat_ldapclientpp>redhat_ldapclient.pp</h4> <p>This manifest will install all the necessary packages for the server to become an OpenLDAP client, then make sure that 2 services (you'll notice the use of arrays) are running and that they are started at boot. Then we'll use the previously mentioned facters, as well as other custom variables to validate that the configuration on the server exists or not. In the negative case, we execute a command that will configure the OpenLDAP client:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-154-1> 1</a></span>
<span class=normal><a href=#__codelineno-154-2> 2</a></span>
<span class=normal><a href=#__codelineno-154-3> 3</a></span>
<span class=normal><a href=#__codelineno-154-4> 4</a></span>
<span class=normal><a href=#__codelineno-154-5> 5</a></span>
<span class=normal><a href=#__codelineno-154-6> 6</a></span>
<span class=normal><a href=#__codelineno-154-7> 7</a></span>
<span class=normal><a href=#__codelineno-154-8> 8</a></span>
<span class=normal><a href=#__codelineno-154-9> 9</a></span>
<span class=normal><a href=#__codelineno-154-10>10</a></span>
<span class=normal><a href=#__codelineno-154-11>11</a></span>
<span class=normal><a href=#__codelineno-154-12>12</a></span>
<span class=normal><a href=#__codelineno-154-13>13</a></span>
<span class=normal><a href=#__codelineno-154-14>14</a></span>
<span class=normal><a href=#__codelineno-154-15>15</a></span>
<span class=normal><a href=#__codelineno-154-16>16</a></span>
<span class=normal><a href=#__codelineno-154-17>17</a></span>
<span class=normal><a href=#__codelineno-154-18>18</a></span>
<span class=normal><a href=#__codelineno-154-19>19</a></span>
<span class=normal><a href=#__codelineno-154-20>20</a></span>
<span class=normal><a href=#__codelineno-154-21>21</a></span>
<span class=normal><a href=#__codelineno-154-22>22</a></span>
<span class=normal><a href=#__codelineno-154-23>23</a></span>
<span class=normal><a href=#__codelineno-154-24>24</a></span>
<span class=normal><a href=#__codelineno-154-25>25</a></span>
<span class=normal><a href=#__codelineno-154-26>26</a></span>
<span class=normal><a href=#__codelineno-154-27>27</a></span>
<span class=normal><a href=#__codelineno-154-28>28</a></span>
<span class=normal><a href=#__codelineno-154-29>29</a></span>
<span class=normal><a href=#__codelineno-154-30>30</a></span>
<span class=normal><a href=#__codelineno-154-31>31</a></span>
<span class=normal><a href=#__codelineno-154-32>32</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-154-1><a id=__codelineno-154-1 name=__codelineno-154-1></a><span class=sr>/*</span>
</span><span id=__span-154-2><a id=__codelineno-154-2 name=__codelineno-154-2></a><span class=sr>OpenLDAP Module for Puppet</span>
</span><span id=__span-154-3><a id=__codelineno-154-3 name=__codelineno-154-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-154-4><a id=__codelineno-154-4 name=__codelineno-154-4></a><span class=sr>*/</span>
</span><span id=__span-154-5><a id=__codelineno-154-5 name=__codelineno-154-5></a><span class=k>class</span><span class=w> </span><span class=n>openldap</span><span class=o>::</span><span class=n>redhat</span><span class=o>::</span><span class=n>ldapclient</span><span class=w> </span><span class=n>inherits</span><span class=w> </span><span class=n>openldap</span><span class=o>::</span><span class=n>redhat</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-154-6><a id=__codelineno-154-6 name=__codelineno-154-6></a><span class=w>    </span><span class=c1># Install required clients pacakges</span>
</span><span id=__span-154-7><a id=__codelineno-154-7 name=__codelineno-154-7></a><span class=w>    </span><span class=n>packages_install</span>
</span><span id=__span-154-8><a id=__codelineno-154-8 name=__codelineno-154-8></a><span class=w>    </span><span class=p>{</span><span class=w> </span><span class=o>[</span>
</span><span id=__span-154-9><a id=__codelineno-154-9 name=__codelineno-154-9></a><span class=w>        </span><span class=s1>&#39;nss-pam-ldapd&#39;</span><span class=p>,</span>
</span><span id=__span-154-10><a id=__codelineno-154-10 name=__codelineno-154-10></a><span class=w>        </span><span class=s1>&#39;openldap&#39;</span><span class=p>,</span>
</span><span id=__span-154-11><a id=__codelineno-154-11 name=__codelineno-154-11></a><span class=w>        </span><span class=s1>&#39;openldap-clients&#39;</span><span class=p>,</span>
</span><span id=__span-154-12><a id=__codelineno-154-12 name=__codelineno-154-12></a><span class=w>        </span><span class=s1>&#39;openssh-ldap&#39;</span>
</span><span id=__span-154-13><a id=__codelineno-154-13 name=__codelineno-154-13></a><span class=w>    </span><span class=o>]</span><span class=p>:</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-154-14><a id=__codelineno-154-14 name=__codelineno-154-14></a>
</span><span id=__span-154-15><a id=__codelineno-154-15 name=__codelineno-154-15></a><span class=w>    </span><span class=c1># Be sure that service is set to start at boot</span>
</span><span id=__span-154-16><a id=__codelineno-154-16 name=__codelineno-154-16></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-154-17><a id=__codelineno-154-17 name=__codelineno-154-17></a><span class=w>        </span><span class=o>[</span><span class=s1>&#39;nscd&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;nslcd&#39;</span><span class=o>]</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-154-18><a id=__codelineno-154-18 name=__codelineno-154-18></a><span class=w>            </span><span class=n>enable</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-154-19><a id=__codelineno-154-19 name=__codelineno-154-19></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span><span class=p>,</span>
</span><span id=__span-154-20><a id=__codelineno-154-20 name=__codelineno-154-20></a><span class=w>            </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s1>&#39;nss-pam-ldapd&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;openldap&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;openldap-clients&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;openssh-ldap&#39;</span><span class=o>]</span>
</span><span id=__span-154-21><a id=__codelineno-154-21 name=__codelineno-154-21></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-154-22><a id=__codelineno-154-22 name=__codelineno-154-22></a>
</span><span id=__span-154-23><a id=__codelineno-154-23 name=__codelineno-154-23></a><span class=w>    </span><span class=c1># Configure LDAP client if current configuration doesn&#39;t match</span>
</span><span id=__span-154-24><a id=__codelineno-154-24 name=__codelineno-154-24></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=vg>$:</span><span class=ss>:current_ldap_servers</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=vg>$ip_ldap_servers</span><span class=w> </span><span class=ow>or</span><span class=w> </span><span class=vg>$:</span><span class=ss>:current_ldap_servers</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=mi>0</span><span class=p>)</span>
</span><span id=__span-154-25><a id=__codelineno-154-25 name=__codelineno-154-25></a><span class=w>    </span><span class=p>{</span>
</span><span id=__span-154-26><a id=__codelineno-154-26 name=__codelineno-154-26></a><span class=w>        </span><span class=nb>exec</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-154-27><a id=__codelineno-154-27 name=__codelineno-154-27></a><span class=w>            </span><span class=s2>&quot;authconfig --enableldap --enableldapauth --disablenis --enablecache --passalgo=sha512 --disableldaptls --disableldapstarttls --disablesssdauth --enablemkhomedir --enablepamaccess --enablecachecreds --enableforcelegacy --disablefingerprint --ldapserver=${ip_ldap_servers} --ldapbasedn=dc=openldap,dc=deimos,dc=fr --updateall&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-154-28><a id=__codelineno-154-28 name=__codelineno-154-28></a><span class=w>                </span><span class=n>logoutput</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-154-29><a id=__codelineno-154-29 name=__codelineno-154-29></a><span class=w>                </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s1>&#39;nslcd&#39;</span><span class=o>]</span>
</span><span id=__span-154-30><a id=__codelineno-154-30 name=__codelineno-154-30></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-154-31><a id=__codelineno-154-31 name=__codelineno-154-31></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-154-32><a id=__codelineno-154-32 name=__codelineno-154-32></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhat_ldapserverpp>redhat_ldapserver.pp</h4> <p>For the server part, we'll check the existence of all folders, verify that packages and services are correctly configured, send the custom schemas and OpenLDAP configuration:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-155-1> 1</a></span>
<span class=normal><a href=#__codelineno-155-2> 2</a></span>
<span class=normal><a href=#__codelineno-155-3> 3</a></span>
<span class=normal><a href=#__codelineno-155-4> 4</a></span>
<span class=normal><a href=#__codelineno-155-5> 5</a></span>
<span class=normal><a href=#__codelineno-155-6> 6</a></span>
<span class=normal><a href=#__codelineno-155-7> 7</a></span>
<span class=normal><a href=#__codelineno-155-8> 8</a></span>
<span class=normal><a href=#__codelineno-155-9> 9</a></span>
<span class=normal><a href=#__codelineno-155-10>10</a></span>
<span class=normal><a href=#__codelineno-155-11>11</a></span>
<span class=normal><a href=#__codelineno-155-12>12</a></span>
<span class=normal><a href=#__codelineno-155-13>13</a></span>
<span class=normal><a href=#__codelineno-155-14>14</a></span>
<span class=normal><a href=#__codelineno-155-15>15</a></span>
<span class=normal><a href=#__codelineno-155-16>16</a></span>
<span class=normal><a href=#__codelineno-155-17>17</a></span>
<span class=normal><a href=#__codelineno-155-18>18</a></span>
<span class=normal><a href=#__codelineno-155-19>19</a></span>
<span class=normal><a href=#__codelineno-155-20>20</a></span>
<span class=normal><a href=#__codelineno-155-21>21</a></span>
<span class=normal><a href=#__codelineno-155-22>22</a></span>
<span class=normal><a href=#__codelineno-155-23>23</a></span>
<span class=normal><a href=#__codelineno-155-24>24</a></span>
<span class=normal><a href=#__codelineno-155-25>25</a></span>
<span class=normal><a href=#__codelineno-155-26>26</a></span>
<span class=normal><a href=#__codelineno-155-27>27</a></span>
<span class=normal><a href=#__codelineno-155-28>28</a></span>
<span class=normal><a href=#__codelineno-155-29>29</a></span>
<span class=normal><a href=#__codelineno-155-30>30</a></span>
<span class=normal><a href=#__codelineno-155-31>31</a></span>
<span class=normal><a href=#__codelineno-155-32>32</a></span>
<span class=normal><a href=#__codelineno-155-33>33</a></span>
<span class=normal><a href=#__codelineno-155-34>34</a></span>
<span class=normal><a href=#__codelineno-155-35>35</a></span>
<span class=normal><a href=#__codelineno-155-36>36</a></span>
<span class=normal><a href=#__codelineno-155-37>37</a></span>
<span class=normal><a href=#__codelineno-155-38>38</a></span>
<span class=normal><a href=#__codelineno-155-39>39</a></span>
<span class=normal><a href=#__codelineno-155-40>40</a></span>
<span class=normal><a href=#__codelineno-155-41>41</a></span>
<span class=normal><a href=#__codelineno-155-42>42</a></span>
<span class=normal><a href=#__codelineno-155-43>43</a></span>
<span class=normal><a href=#__codelineno-155-44>44</a></span>
<span class=normal><a href=#__codelineno-155-45>45</a></span>
<span class=normal><a href=#__codelineno-155-46>46</a></span>
<span class=normal><a href=#__codelineno-155-47>47</a></span>
<span class=normal><a href=#__codelineno-155-48>48</a></span>
<span class=normal><a href=#__codelineno-155-49>49</a></span>
<span class=normal><a href=#__codelineno-155-50>50</a></span>
<span class=normal><a href=#__codelineno-155-51>51</a></span>
<span class=normal><a href=#__codelineno-155-52>52</a></span>
<span class=normal><a href=#__codelineno-155-53>53</a></span>
<span class=normal><a href=#__codelineno-155-54>54</a></span>
<span class=normal><a href=#__codelineno-155-55>55</a></span>
<span class=normal><a href=#__codelineno-155-56>56</a></span>
<span class=normal><a href=#__codelineno-155-57>57</a></span>
<span class=normal><a href=#__codelineno-155-58>58</a></span>
<span class=normal><a href=#__codelineno-155-59>59</a></span>
<span class=normal><a href=#__codelineno-155-60>60</a></span>
<span class=normal><a href=#__codelineno-155-61>61</a></span>
<span class=normal><a href=#__codelineno-155-62>62</a></span>
<span class=normal><a href=#__codelineno-155-63>63</a></span>
<span class=normal><a href=#__codelineno-155-64>64</a></span>
<span class=normal><a href=#__codelineno-155-65>65</a></span>
<span class=normal><a href=#__codelineno-155-66>66</a></span>
<span class=normal><a href=#__codelineno-155-67>67</a></span>
<span class=normal><a href=#__codelineno-155-68>68</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-155-1><a id=__codelineno-155-1 name=__codelineno-155-1></a><span class=sr>/*</span>
</span><span id=__span-155-2><a id=__codelineno-155-2 name=__codelineno-155-2></a><span class=sr>OpenLDAP Module for Puppet</span>
</span><span id=__span-155-3><a id=__codelineno-155-3 name=__codelineno-155-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-155-4><a id=__codelineno-155-4 name=__codelineno-155-4></a><span class=sr>*/</span>
</span><span id=__span-155-5><a id=__codelineno-155-5 name=__codelineno-155-5></a><span class=k>class</span><span class=w> </span><span class=n>openldap</span><span class=o>::</span><span class=n>redhat</span><span class=o>::</span><span class=n>ldapserver</span><span class=w> </span><span class=n>inherits</span><span class=w> </span><span class=n>openldap</span><span class=o>::</span><span class=n>redhat</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-155-6><a id=__codelineno-155-6 name=__codelineno-155-6></a><span class=c1># Install required clients pacakges</span>
</span><span id=__span-155-7><a id=__codelineno-155-7 name=__codelineno-155-7></a><span class=w>    </span><span class=n>packages_install</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-155-8><a id=__codelineno-155-8 name=__codelineno-155-8></a><span class=w>        </span><span class=o>[</span><span class=s1>&#39;openldap-servers&#39;</span><span class=o>]</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-155-9><a id=__codelineno-155-9 name=__codelineno-155-9></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-155-10><a id=__codelineno-155-10 name=__codelineno-155-10></a>
</span><span id=__span-155-11><a id=__codelineno-155-11 name=__codelineno-155-11></a><span class=w>    </span><span class=c1># Copy schemas</span>
</span><span id=__span-155-12><a id=__codelineno-155-12 name=__codelineno-155-12></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-155-13><a id=__codelineno-155-13 name=__codelineno-155-13></a><span class=w>        </span><span class=s2>&quot;/etc/openldap/schema&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-155-14><a id=__codelineno-155-14 name=__codelineno-155-14></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-155-15><a id=__codelineno-155-15 name=__codelineno-155-15></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>755</span><span class=p>,</span>
</span><span id=__span-155-16><a id=__codelineno-155-16 name=__codelineno-155-16></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-155-17><a id=__codelineno-155-17 name=__codelineno-155-17></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-155-18><a id=__codelineno-155-18 name=__codelineno-155-18></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///openldap/schema/&quot;</span><span class=p>,</span>
</span><span id=__span-155-19><a id=__codelineno-155-19 name=__codelineno-155-19></a><span class=w>            </span><span class=n>recurse</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span>
</span><span id=__span-155-20><a id=__codelineno-155-20 name=__codelineno-155-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-155-21><a id=__codelineno-155-21 name=__codelineno-155-21></a>
</span><span id=__span-155-22><a id=__codelineno-155-22 name=__codelineno-155-22></a><span class=w>    </span><span class=c1># Copy configuration folder (new format)</span>
</span><span id=__span-155-23><a id=__codelineno-155-23 name=__codelineno-155-23></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-155-24><a id=__codelineno-155-24 name=__codelineno-155-24></a><span class=w>        </span><span class=s2>&quot;/etc/openldap/slapd.d&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-155-25><a id=__codelineno-155-25 name=__codelineno-155-25></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-155-26><a id=__codelineno-155-26 name=__codelineno-155-26></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>700</span><span class=p>,</span>
</span><span id=__span-155-27><a id=__codelineno-155-27 name=__codelineno-155-27></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>ldap</span><span class=p>,</span>
</span><span id=__span-155-28><a id=__codelineno-155-28 name=__codelineno-155-28></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>ldap</span><span class=p>,</span>
</span><span id=__span-155-29><a id=__codelineno-155-29 name=__codelineno-155-29></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///openldap/$::operatingsystem/slapd.d/&quot;</span><span class=p>,</span>
</span><span id=__span-155-30><a id=__codelineno-155-30 name=__codelineno-155-30></a><span class=w>            </span><span class=n>recurse</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span>
</span><span id=__span-155-31><a id=__codelineno-155-31 name=__codelineno-155-31></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-155-32><a id=__codelineno-155-32 name=__codelineno-155-32></a>
</span><span id=__span-155-33><a id=__codelineno-155-33 name=__codelineno-155-33></a><span class=w>    </span><span class=c1># Copy configuration file (old format)</span>
</span><span id=__span-155-34><a id=__codelineno-155-34 name=__codelineno-155-34></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-155-35><a id=__codelineno-155-35 name=__codelineno-155-35></a><span class=w>        </span><span class=s2>&quot;/etc/openldap/slapd.conf&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-155-36><a id=__codelineno-155-36 name=__codelineno-155-36></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span><span class=p>,</span>
</span><span id=__span-155-37><a id=__codelineno-155-37 name=__codelineno-155-37></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>700</span><span class=p>,</span>
</span><span id=__span-155-38><a id=__codelineno-155-38 name=__codelineno-155-38></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>ldap</span><span class=p>,</span>
</span><span id=__span-155-39><a id=__codelineno-155-39 name=__codelineno-155-39></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>ldap</span><span class=p>,</span>
</span><span id=__span-155-40><a id=__codelineno-155-40 name=__codelineno-155-40></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///openldap/$::operatingsystem/slapd.conf&quot;</span>
</span><span id=__span-155-41><a id=__codelineno-155-41 name=__codelineno-155-41></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-155-42><a id=__codelineno-155-42 name=__codelineno-155-42></a>
</span><span id=__span-155-43><a id=__codelineno-155-43 name=__codelineno-155-43></a><span class=w>    </span><span class=c1># Ensure rights are ok for folder LDAP database</span>
</span><span id=__span-155-44><a id=__codelineno-155-44 name=__codelineno-155-44></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-155-45><a id=__codelineno-155-45 name=__codelineno-155-45></a><span class=w>        </span><span class=s2>&quot;/var/lib/ldap&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-155-46><a id=__codelineno-155-46 name=__codelineno-155-46></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-155-47><a id=__codelineno-155-47 name=__codelineno-155-47></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>700</span><span class=p>,</span>
</span><span id=__span-155-48><a id=__codelineno-155-48 name=__codelineno-155-48></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>ldap</span><span class=p>,</span>
</span><span id=__span-155-49><a id=__codelineno-155-49 name=__codelineno-155-49></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>ldap</span>
</span><span id=__span-155-50><a id=__codelineno-155-50 name=__codelineno-155-50></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-155-51><a id=__codelineno-155-51 name=__codelineno-155-51></a>
</span><span id=__span-155-52><a id=__codelineno-155-52 name=__codelineno-155-52></a><span class=w>    </span><span class=c1># Ensure rights are ok for folder pid and args</span>
</span><span id=__span-155-53><a id=__codelineno-155-53 name=__codelineno-155-53></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-155-54><a id=__codelineno-155-54 name=__codelineno-155-54></a><span class=w>        </span><span class=s2>&quot;/var/run/openldap&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-155-55><a id=__codelineno-155-55 name=__codelineno-155-55></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-155-56><a id=__codelineno-155-56 name=__codelineno-155-56></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>755</span><span class=p>,</span>
</span><span id=__span-155-57><a id=__codelineno-155-57 name=__codelineno-155-57></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>ldap</span><span class=p>,</span>
</span><span id=__span-155-58><a id=__codelineno-155-58 name=__codelineno-155-58></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>ldap</span>
</span><span id=__span-155-59><a id=__codelineno-155-59 name=__codelineno-155-59></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-155-60><a id=__codelineno-155-60 name=__codelineno-155-60></a>
</span><span id=__span-155-61><a id=__codelineno-155-61 name=__codelineno-155-61></a><span class=w>    </span><span class=c1># Be sure that service is set to start at boot</span>
</span><span id=__span-155-62><a id=__codelineno-155-62 name=__codelineno-155-62></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-155-63><a id=__codelineno-155-63 name=__codelineno-155-63></a><span class=w>        </span><span class=s1>&#39;slapd&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-155-64><a id=__codelineno-155-64 name=__codelineno-155-64></a><span class=w>            </span><span class=n>enable</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-155-65><a id=__codelineno-155-65 name=__codelineno-155-65></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span><span class=p>,</span>
</span><span id=__span-155-66><a id=__codelineno-155-66 name=__codelineno-155-66></a><span class=w>            </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s1>&#39;/etc/openldap/slapd.conf&#39;</span><span class=o>]</span>
</span><span id=__span-155-67><a id=__codelineno-155-67 name=__codelineno-155-67></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-155-68><a id=__codelineno-155-68 name=__codelineno-155-68></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=files_5>files</h4> <p>To give you an idea of the content of files:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-156-1> 1</a></span>
<span class=normal><a href=#__codelineno-156-2> 2</a></span>
<span class=normal><a href=#__codelineno-156-3> 3</a></span>
<span class=normal><a href=#__codelineno-156-4> 4</a></span>
<span class=normal><a href=#__codelineno-156-5> 5</a></span>
<span class=normal><a href=#__codelineno-156-6> 6</a></span>
<span class=normal><a href=#__codelineno-156-7> 7</a></span>
<span class=normal><a href=#__codelineno-156-8> 8</a></span>
<span class=normal><a href=#__codelineno-156-9> 9</a></span>
<span class=normal><a href=#__codelineno-156-10>10</a></span>
<span class=normal><a href=#__codelineno-156-11>11</a></span>
<span class=normal><a href=#__codelineno-156-12>12</a></span>
<span class=normal><a href=#__codelineno-156-13>13</a></span>
<span class=normal><a href=#__codelineno-156-14>14</a></span>
<span class=normal><a href=#__codelineno-156-15>15</a></span>
<span class=normal><a href=#__codelineno-156-16>16</a></span>
<span class=normal><a href=#__codelineno-156-17>17</a></span>
<span class=normal><a href=#__codelineno-156-18>18</a></span>
<span class=normal><a href=#__codelineno-156-19>19</a></span>
<span class=normal><a href=#__codelineno-156-20>20</a></span>
<span class=normal><a href=#__codelineno-156-21>21</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-156-1><a id=__codelineno-156-1 name=__codelineno-156-1></a>.
</span><span id=__span-156-2><a id=__codelineno-156-2 name=__codelineno-156-2></a>`-- RedHat
</span><span id=__span-156-3><a id=__codelineno-156-3 name=__codelineno-156-3></a>    |-- slapd.conf
</span><span id=__span-156-4><a id=__codelineno-156-4 name=__codelineno-156-4></a>    `-- slapd.d
</span><span id=__span-156-5><a id=__codelineno-156-5 name=__codelineno-156-5></a>        |-- cn=config
</span><span id=__span-156-6><a id=__codelineno-156-6 name=__codelineno-156-6></a>        |   |-- cn=module{0}.ldif
</span><span id=__span-156-7><a id=__codelineno-156-7 name=__codelineno-156-7></a>        |   |-- cn=schema
</span><span id=__span-156-8><a id=__codelineno-156-8 name=__codelineno-156-8></a>        |   |   |-- cn={0}core.ldif
</span><span id=__span-156-9><a id=__codelineno-156-9 name=__codelineno-156-9></a>        |   |   |-- cn={1}cosine.ldif
</span><span id=__span-156-10><a id=__codelineno-156-10 name=__codelineno-156-10></a>        |   |   |-- cn={2}nis.ldif
</span><span id=__span-156-11><a id=__codelineno-156-11 name=__codelineno-156-11></a>        |   |   |-- cn={3}inetorgperson.ldif
</span><span id=__span-156-12><a id=__codelineno-156-12 name=__codelineno-156-12></a>        |   |   |-- cn={4}microsoft.ldif
</span><span id=__span-156-13><a id=__codelineno-156-13 name=__codelineno-156-13></a>        |   |   |-- cn={5}microsoft.ldif
</span><span id=__span-156-14><a id=__codelineno-156-14 name=__codelineno-156-14></a>        |   |   |-- cn={6}microsoft.ldif
</span><span id=__span-156-15><a id=__codelineno-156-15 name=__codelineno-156-15></a>        |   |   |-- cn={7}samba.ldif
</span><span id=__span-156-16><a id=__codelineno-156-16 name=__codelineno-156-16></a>        |   |   `-- cn={8}deimos.ldif
</span><span id=__span-156-17><a id=__codelineno-156-17 name=__codelineno-156-17></a>        |   |-- cn=schema.ldif
</span><span id=__span-156-18><a id=__codelineno-156-18 name=__codelineno-156-18></a>        |   |-- olcDatabase={-1}frontend.ldif
</span><span id=__span-156-19><a id=__codelineno-156-19 name=__codelineno-156-19></a>        |   |-- olcDatabase={0}config.ldif
</span><span id=__span-156-20><a id=__codelineno-156-20 name=__codelineno-156-20></a>        |   `-- olcDatabase={1}bdb.ldif
</span><span id=__span-156-21><a id=__codelineno-156-21 name=__codelineno-156-21></a>        `-- cn=config.ldif
</span></code></pre></div></td></tr></table></div> <p>And for the LDAP service configuration:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-157-1> 1</a></span>
<span class=normal><a href=#__codelineno-157-2> 2</a></span>
<span class=normal><a href=#__codelineno-157-3> 3</a></span>
<span class=normal><a href=#__codelineno-157-4> 4</a></span>
<span class=normal><a href=#__codelineno-157-5> 5</a></span>
<span class=normal><a href=#__codelineno-157-6> 6</a></span>
<span class=normal><a href=#__codelineno-157-7> 7</a></span>
<span class=normal><a href=#__codelineno-157-8> 8</a></span>
<span class=normal><a href=#__codelineno-157-9> 9</a></span>
<span class=normal><a href=#__codelineno-157-10>10</a></span>
<span class=normal><a href=#__codelineno-157-11>11</a></span>
<span class=normal><a href=#__codelineno-157-12>12</a></span>
<span class=normal><a href=#__codelineno-157-13>13</a></span>
<span class=normal><a href=#__codelineno-157-14>14</a></span>
<span class=normal><a href=#__codelineno-157-15>15</a></span>
<span class=normal><a href=#__codelineno-157-16>16</a></span>
<span class=normal><a href=#__codelineno-157-17>17</a></span>
<span class=normal><a href=#__codelineno-157-18>18</a></span>
<span class=normal><a href=#__codelineno-157-19>19</a></span>
<span class=normal><a href=#__codelineno-157-20>20</a></span>
<span class=normal><a href=#__codelineno-157-21>21</a></span>
<span class=normal><a href=#__codelineno-157-22>22</a></span>
<span class=normal><a href=#__codelineno-157-23>23</a></span>
<span class=normal><a href=#__codelineno-157-24>24</a></span>
<span class=normal><a href=#__codelineno-157-25>25</a></span>
<span class=normal><a href=#__codelineno-157-26>26</a></span>
<span class=normal><a href=#__codelineno-157-27>27</a></span>
<span class=normal><a href=#__codelineno-157-28>28</a></span>
<span class=normal><a href=#__codelineno-157-29>29</a></span>
<span class=normal><a href=#__codelineno-157-30>30</a></span>
<span class=normal><a href=#__codelineno-157-31>31</a></span>
<span class=normal><a href=#__codelineno-157-32>32</a></span>
<span class=normal><a href=#__codelineno-157-33>33</a></span>
<span class=normal><a href=#__codelineno-157-34>34</a></span>
<span class=normal><a href=#__codelineno-157-35>35</a></span>
<span class=normal><a href=#__codelineno-157-36>36</a></span>
<span class=normal><a href=#__codelineno-157-37>37</a></span>
<span class=normal><a href=#__codelineno-157-38>38</a></span>
<span class=normal><a href=#__codelineno-157-39>39</a></span>
<span class=normal><a href=#__codelineno-157-40>40</a></span>
<span class=normal><a href=#__codelineno-157-41>41</a></span>
<span class=normal><a href=#__codelineno-157-42>42</a></span>
<span class=normal><a href=#__codelineno-157-43>43</a></span>
<span class=normal><a href=#__codelineno-157-44>44</a></span>
<span class=normal><a href=#__codelineno-157-45>45</a></span>
<span class=normal><a href=#__codelineno-157-46>46</a></span>
<span class=normal><a href=#__codelineno-157-47>47</a></span>
<span class=normal><a href=#__codelineno-157-48>48</a></span>
<span class=normal><a href=#__codelineno-157-49>49</a></span>
<span class=normal><a href=#__codelineno-157-50>50</a></span>
<span class=normal><a href=#__codelineno-157-51>51</a></span>
<span class=normal><a href=#__codelineno-157-52>52</a></span>
<span class=normal><a href=#__codelineno-157-53>53</a></span>
<span class=normal><a href=#__codelineno-157-54>54</a></span>
<span class=normal><a href=#__codelineno-157-55>55</a></span>
<span class=normal><a href=#__codelineno-157-56>56</a></span>
<span class=normal><a href=#__codelineno-157-57>57</a></span>
<span class=normal><a href=#__codelineno-157-58>58</a></span>
<span class=normal><a href=#__codelineno-157-59>59</a></span>
<span class=normal><a href=#__codelineno-157-60>60</a></span>
<span class=normal><a href=#__codelineno-157-61>61</a></span>
<span class=normal><a href=#__codelineno-157-62>62</a></span>
<span class=normal><a href=#__codelineno-157-63>63</a></span>
<span class=normal><a href=#__codelineno-157-64>64</a></span>
<span class=normal><a href=#__codelineno-157-65>65</a></span>
<span class=normal><a href=#__codelineno-157-66>66</a></span>
<span class=normal><a href=#__codelineno-157-67>67</a></span>
<span class=normal><a href=#__codelineno-157-68>68</a></span>
<span class=normal><a href=#__codelineno-157-69>69</a></span>
<span class=normal><a href=#__codelineno-157-70>70</a></span>
<span class=normal><a href=#__codelineno-157-71>71</a></span>
<span class=normal><a href=#__codelineno-157-72>72</a></span>
<span class=normal><a href=#__codelineno-157-73>73</a></span>
<span class=normal><a href=#__codelineno-157-74>74</a></span>
<span class=normal><a href=#__codelineno-157-75>75</a></span>
<span class=normal><a href=#__codelineno-157-76>76</a></span>
<span class=normal><a href=#__codelineno-157-77>77</a></span>
<span class=normal><a href=#__codelineno-157-78>78</a></span>
<span class=normal><a href=#__codelineno-157-79>79</a></span>
<span class=normal><a href=#__codelineno-157-80>80</a></span>
<span class=normal><a href=#__codelineno-157-81>81</a></span>
<span class=normal><a href=#__codelineno-157-82>82</a></span>
<span class=normal><a href=#__codelineno-157-83>83</a></span>
<span class=normal><a href=#__codelineno-157-84>84</a></span>
<span class=normal><a href=#__codelineno-157-85>85</a></span>
<span class=normal><a href=#__codelineno-157-86>86</a></span>
<span class=normal><a href=#__codelineno-157-87>87</a></span>
<span class=normal><a href=#__codelineno-157-88>88</a></span>
<span class=normal><a href=#__codelineno-157-89>89</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-157-1><a id=__codelineno-157-1 name=__codelineno-157-1></a># Schema and objectClass definitions
</span><span id=__span-157-2><a id=__codelineno-157-2 name=__codelineno-157-2></a>include         /etc/openldap/schema/core.schema
</span><span id=__span-157-3><a id=__codelineno-157-3 name=__codelineno-157-3></a>include         /etc/openldap/schema/cosine.schema
</span><span id=__span-157-4><a id=__codelineno-157-4 name=__codelineno-157-4></a>include         /etc/openldap/schema/nis.schema
</span><span id=__span-157-5><a id=__codelineno-157-5 name=__codelineno-157-5></a>include         /etc/openldap/schema/inetorgperson.schema
</span><span id=__span-157-6><a id=__codelineno-157-6 name=__codelineno-157-6></a>include         /etc/openldap/schema/microsoft.schema
</span><span id=__span-157-7><a id=__codelineno-157-7 name=__codelineno-157-7></a>include         /etc/openldap/schema/microsoft.sfu.schema
</span><span id=__span-157-8><a id=__codelineno-157-8 name=__codelineno-157-8></a>include         /etc/openldap/schema/microsoft.exchange.schema
</span><span id=__span-157-9><a id=__codelineno-157-9 name=__codelineno-157-9></a>include         /etc/openldap/schema/samba.schema
</span><span id=__span-157-10><a id=__codelineno-157-10 name=__codelineno-157-10></a>include     /etc/openldap/schema/deimos.schema
</span><span id=__span-157-11><a id=__codelineno-157-11 name=__codelineno-157-11></a>
</span><span id=__span-157-12><a id=__codelineno-157-12 name=__codelineno-157-12></a>
</span><span id=__span-157-13><a id=__codelineno-157-13 name=__codelineno-157-13></a># Where the pid file is put. The init.d script
</span><span id=__span-157-14><a id=__codelineno-157-14 name=__codelineno-157-14></a># will not stop the server if you change this.
</span><span id=__span-157-15><a id=__codelineno-157-15 name=__codelineno-157-15></a>pidfile         /var/run/openldap/slapd.pid
</span><span id=__span-157-16><a id=__codelineno-157-16 name=__codelineno-157-16></a>
</span><span id=__span-157-17><a id=__codelineno-157-17 name=__codelineno-157-17></a># List of arguments that were passed to the server
</span><span id=__span-157-18><a id=__codelineno-157-18 name=__codelineno-157-18></a>argsfile        /var/run/openldap/slapd.args
</span><span id=__span-157-19><a id=__codelineno-157-19 name=__codelineno-157-19></a>
</span><span id=__span-157-20><a id=__codelineno-157-20 name=__codelineno-157-20></a># Read slapd.conf(5) for possible values
</span><span id=__span-157-21><a id=__codelineno-157-21 name=__codelineno-157-21></a>loglevel        0
</span><span id=__span-157-22><a id=__codelineno-157-22 name=__codelineno-157-22></a>
</span><span id=__span-157-23><a id=__codelineno-157-23 name=__codelineno-157-23></a># Where the dynamically loaded modules are stored
</span><span id=__span-157-24><a id=__codelineno-157-24 name=__codelineno-157-24></a>modulepath  /usr/libexec/openldap
</span><span id=__span-157-25><a id=__codelineno-157-25 name=__codelineno-157-25></a>moduleload  back_bdb
</span><span id=__span-157-26><a id=__codelineno-157-26 name=__codelineno-157-26></a>#moduleload back_meta
</span><span id=__span-157-27><a id=__codelineno-157-27 name=__codelineno-157-27></a>
</span><span id=__span-157-28><a id=__codelineno-157-28 name=__codelineno-157-28></a># The maximum number of entries that is returned for a search operation
</span><span id=__span-157-29><a id=__codelineno-157-29 name=__codelineno-157-29></a>sizelimit 500
</span><span id=__span-157-30><a id=__codelineno-157-30 name=__codelineno-157-30></a>
</span><span id=__span-157-31><a id=__codelineno-157-31 name=__codelineno-157-31></a># The tool-threads parameter sets the actual amount of cpu&#39;s that is used
</span><span id=__span-157-32><a id=__codelineno-157-32 name=__codelineno-157-32></a># for indexing.
</span><span id=__span-157-33><a id=__codelineno-157-33 name=__codelineno-157-33></a>#tool-threads 1
</span><span id=__span-157-34><a id=__codelineno-157-34 name=__codelineno-157-34></a>
</span><span id=__span-157-35><a id=__codelineno-157-35 name=__codelineno-157-35></a>#######################################################################
</span><span id=__span-157-36><a id=__codelineno-157-36 name=__codelineno-157-36></a># Specific Backend Directives for bdb:
</span><span id=__span-157-37><a id=__codelineno-157-37 name=__codelineno-157-37></a># Backend specific directives apply to this backend until another
</span><span id=__span-157-38><a id=__codelineno-157-38 name=__codelineno-157-38></a># &#39;backend&#39; directive occurs
</span><span id=__span-157-39><a id=__codelineno-157-39 name=__codelineno-157-39></a>backend     bdb
</span><span id=__span-157-40><a id=__codelineno-157-40 name=__codelineno-157-40></a>
</span><span id=__span-157-41><a id=__codelineno-157-41 name=__codelineno-157-41></a>#######################################################################
</span><span id=__span-157-42><a id=__codelineno-157-42 name=__codelineno-157-42></a># Specific Directives for database #1, of type bdb:
</span><span id=__span-157-43><a id=__codelineno-157-43 name=__codelineno-157-43></a># Database specific directives apply to this databasse until another
</span><span id=__span-157-44><a id=__codelineno-157-44 name=__codelineno-157-44></a># &#39;database&#39; directive occurs
</span><span id=__span-157-45><a id=__codelineno-157-45 name=__codelineno-157-45></a>database        bdb
</span><span id=__span-157-46><a id=__codelineno-157-46 name=__codelineno-157-46></a>
</span><span id=__span-157-47><a id=__codelineno-157-47 name=__codelineno-157-47></a># The base of your directory in database #1
</span><span id=__span-157-48><a id=__codelineno-157-48 name=__codelineno-157-48></a>suffix          &quot;dc=openldap,dc=deimos,dc=fr&quot;
</span><span id=__span-157-49><a id=__codelineno-157-49 name=__codelineno-157-49></a>
</span><span id=__span-157-50><a id=__codelineno-157-50 name=__codelineno-157-50></a># rootdn directive for specifying a superuser on the database. This is needed
</span><span id=__span-157-51><a id=__codelineno-157-51 name=__codelineno-157-51></a># for syncrepl.
</span><span id=__span-157-52><a id=__codelineno-157-52 name=__codelineno-157-52></a>rootdn          &quot;cn=admin,dc=openldap,dc=deimos,dc=fr&quot;
</span><span id=__span-157-53><a id=__codelineno-157-53 name=__codelineno-157-53></a>rootpw      {SSHA}Sh+Yd...
</span><span id=__span-157-54><a id=__codelineno-157-54 name=__codelineno-157-54></a>
</span><span id=__span-157-55><a id=__codelineno-157-55 name=__codelineno-157-55></a># Where the database file are physically stored for database #1
</span><span id=__span-157-56><a id=__codelineno-157-56 name=__codelineno-157-56></a>directory       &quot;/var/lib/ldap&quot;
</span><span id=__span-157-57><a id=__codelineno-157-57 name=__codelineno-157-57></a>
</span><span id=__span-157-58><a id=__codelineno-157-58 name=__codelineno-157-58></a># For the Debian package we use 2MB as default but be sure to update this
</span><span id=__span-157-59><a id=__codelineno-157-59 name=__codelineno-157-59></a># value if you have plenty of RAM
</span><span id=__span-157-60><a id=__codelineno-157-60 name=__codelineno-157-60></a>dbconfig set_cachesize 0 2097152 0
</span><span id=__span-157-61><a id=__codelineno-157-61 name=__codelineno-157-61></a>
</span><span id=__span-157-62><a id=__codelineno-157-62 name=__codelineno-157-62></a># Number of objects that can be locked at the same time.
</span><span id=__span-157-63><a id=__codelineno-157-63 name=__codelineno-157-63></a>dbconfig set_lk_max_objects 1500
</span><span id=__span-157-64><a id=__codelineno-157-64 name=__codelineno-157-64></a># Number of locks (both requested and granted)
</span><span id=__span-157-65><a id=__codelineno-157-65 name=__codelineno-157-65></a>dbconfig set_lk_max_locks 1500
</span><span id=__span-157-66><a id=__codelineno-157-66 name=__codelineno-157-66></a># Number of lockers
</span><span id=__span-157-67><a id=__codelineno-157-67 name=__codelineno-157-67></a>dbconfig set_lk_max_lockers 1500
</span><span id=__span-157-68><a id=__codelineno-157-68 name=__codelineno-157-68></a>
</span><span id=__span-157-69><a id=__codelineno-157-69 name=__codelineno-157-69></a># Indexing options for database #1
</span><span id=__span-157-70><a id=__codelineno-157-70 name=__codelineno-157-70></a>index       objectClass eq
</span><span id=__span-157-71><a id=__codelineno-157-71 name=__codelineno-157-71></a>index       cn,sn,uid,mail  pres,eq,sub
</span><span id=__span-157-72><a id=__codelineno-157-72 name=__codelineno-157-72></a>index       mailnickname,userprincipalname,proxyaddresses  pres,eq,sub
</span><span id=__span-157-73><a id=__codelineno-157-73 name=__codelineno-157-73></a>index       entryUUID,entryCSN eq
</span><span id=__span-157-74><a id=__codelineno-157-74 name=__codelineno-157-74></a>
</span><span id=__span-157-75><a id=__codelineno-157-75 name=__codelineno-157-75></a>
</span><span id=__span-157-76><a id=__codelineno-157-76 name=__codelineno-157-76></a># Save the time that the entry gets modified, for database #1
</span><span id=__span-157-77><a id=__codelineno-157-77 name=__codelineno-157-77></a>lastmod         on
</span><span id=__span-157-78><a id=__codelineno-157-78 name=__codelineno-157-78></a>
</span><span id=__span-157-79><a id=__codelineno-157-79 name=__codelineno-157-79></a>access to attrs=userPassword,shadowLastChange
</span><span id=__span-157-80><a id=__codelineno-157-80 name=__codelineno-157-80></a>        by dn=&quot;cn=replica,ou=Gestion Admin,ou=Utilisateurs,dc=openldap,dc=deimos,dc=fr&quot; write
</span><span id=__span-157-81><a id=__codelineno-157-81 name=__codelineno-157-81></a>        by anonymous auth
</span><span id=__span-157-82><a id=__codelineno-157-82 name=__codelineno-157-82></a>        by self write
</span><span id=__span-157-83><a id=__codelineno-157-83 name=__codelineno-157-83></a>        by * none
</span><span id=__span-157-84><a id=__codelineno-157-84 name=__codelineno-157-84></a>
</span><span id=__span-157-85><a id=__codelineno-157-85 name=__codelineno-157-85></a>access to *
</span><span id=__span-157-86><a id=__codelineno-157-86 name=__codelineno-157-86></a>        by dn=&quot;cn=replica,ou=Gestion Admin,ou=Utilisateurs,dc=openldap,dc=deimos,dc=fr&quot; write
</span><span id=__span-157-87><a id=__codelineno-157-87 name=__codelineno-157-87></a>        by * read
</span><span id=__span-157-88><a id=__codelineno-157-88 name=__codelineno-157-88></a>
</span><span id=__span-157-89><a id=__codelineno-157-89 name=__codelineno-157-89></a>access to dn.base=&quot;&quot; by * read
</span></code></pre></div></td></tr></table></div> <h3 id=sudo>sudo</h3> <p>Sudo quickly becomes indispensable when you want to give privileged rights to groups or users. Check out this documentation if you need more information.</p> <h4 id=initpp_15>init.pp</h4> <p>The init.pp file is the heart of our module, fill it in like this for now:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-158-1> 1</a></span>
<span class=normal><a href=#__codelineno-158-2> 2</a></span>
<span class=normal><a href=#__codelineno-158-3> 3</a></span>
<span class=normal><a href=#__codelineno-158-4> 4</a></span>
<span class=normal><a href=#__codelineno-158-5> 5</a></span>
<span class=normal><a href=#__codelineno-158-6> 6</a></span>
<span class=normal><a href=#__codelineno-158-7> 7</a></span>
<span class=normal><a href=#__codelineno-158-8> 8</a></span>
<span class=normal><a href=#__codelineno-158-9> 9</a></span>
<span class=normal><a href=#__codelineno-158-10>10</a></span>
<span class=normal><a href=#__codelineno-158-11>11</a></span>
<span class=normal><a href=#__codelineno-158-12>12</a></span>
<span class=normal><a href=#__codelineno-158-13>13</a></span>
<span class=normal><a href=#__codelineno-158-14>14</a></span>
<span class=normal><a href=#__codelineno-158-15>15</a></span>
<span class=normal><a href=#__codelineno-158-16>16</a></span>
<span class=normal><a href=#__codelineno-158-17>17</a></span>
<span class=normal><a href=#__codelineno-158-18>18</a></span>
<span class=normal><a href=#__codelineno-158-19>19</a></span>
<span class=normal><a href=#__codelineno-158-20>20</a></span>
<span class=normal><a href=#__codelineno-158-21>21</a></span>
<span class=normal><a href=#__codelineno-158-22>22</a></span>
<span class=normal><a href=#__codelineno-158-23>23</a></span>
<span class=normal><a href=#__codelineno-158-24>24</a></span>
<span class=normal><a href=#__codelineno-158-25>25</a></span>
<span class=normal><a href=#__codelineno-158-26>26</a></span>
<span class=normal><a href=#__codelineno-158-27>27</a></span>
<span class=normal><a href=#__codelineno-158-28>28</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-158-1><a id=__codelineno-158-1 name=__codelineno-158-1></a><span class=c1># sudo.pp</span>
</span><span id=__span-158-2><a id=__codelineno-158-2 name=__codelineno-158-2></a><span class=k>class</span><span class=w> </span><span class=n>sudo</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-158-3><a id=__codelineno-158-3 name=__codelineno-158-3></a><span class=w>    </span><span class=c1># OS detection</span>
</span><span id=__span-158-4><a id=__codelineno-158-4 name=__codelineno-158-4></a><span class=w>    </span><span class=vg>$sudoers_file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-158-5><a id=__codelineno-158-5 name=__codelineno-158-5></a><span class=w>    </span><span class=no>Solaris</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/opt/csw/etc/sudoers&quot;</span><span class=p>,</span>
</span><span id=__span-158-6><a id=__codelineno-158-6 name=__codelineno-158-6></a><span class=w>    </span><span class=n>default</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/etc/sudoers&quot;</span>
</span><span id=__span-158-7><a id=__codelineno-158-7 name=__codelineno-158-7></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-158-8><a id=__codelineno-158-8 name=__codelineno-158-8></a>
</span><span id=__span-158-9><a id=__codelineno-158-9 name=__codelineno-158-9></a><span class=w>    </span><span class=c1># Sudoers file declaration</span>
</span><span id=__span-158-10><a id=__codelineno-158-10 name=__codelineno-158-10></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;$sudoers_file&quot;</span><span class=p>:</span>
</span><span id=__span-158-11><a id=__codelineno-158-11 name=__codelineno-158-11></a><span class=w>        </span><span class=n>owner</span><span class=w>   </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-158-12><a id=__codelineno-158-12 name=__codelineno-158-12></a><span class=w>        </span><span class=n>group</span><span class=w>   </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-158-13><a id=__codelineno-158-13 name=__codelineno-158-13></a><span class=w>        </span><span class=n>mode</span><span class=w>    </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>640</span><span class=p>,</span>
</span><span id=__span-158-14><a id=__codelineno-158-14 name=__codelineno-158-14></a><span class=w>        </span><span class=n>source</span><span class=w>  </span><span class=o>=&gt;</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-158-15><a id=__codelineno-158-15 name=__codelineno-158-15></a><span class=w>            </span><span class=no>Solaris</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/sudo/sudoers.solaris&quot;</span><span class=p>,</span>
</span><span id=__span-158-16><a id=__codelineno-158-16 name=__codelineno-158-16></a><span class=w>            </span><span class=n>default</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/sudo/sudoers&quot;</span>
</span><span id=__span-158-17><a id=__codelineno-158-17 name=__codelineno-158-17></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-158-18><a id=__codelineno-158-18 name=__codelineno-158-18></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-158-19><a id=__codelineno-158-19 name=__codelineno-158-19></a>
</span><span id=__span-158-20><a id=__codelineno-158-20 name=__codelineno-158-20></a><span class=w>    </span><span class=c1># Symlink for solaris</span>
</span><span id=__span-158-21><a id=__codelineno-158-21 name=__codelineno-158-21></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-158-22><a id=__codelineno-158-22 name=__codelineno-158-22></a><span class=w>    </span><span class=ss>Solaris</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-158-23><a id=__codelineno-158-23 name=__codelineno-158-23></a><span class=w>            </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=s2>&quot;/opt/sfw/bin/sudo&quot;</span><span class=p>:</span>
</span><span id=__span-158-24><a id=__codelineno-158-24 name=__codelineno-158-24></a><span class=w>                </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/opt/csw/bin/sudo&quot;</span>
</span><span id=__span-158-25><a id=__codelineno-158-25 name=__codelineno-158-25></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-158-26><a id=__codelineno-158-26 name=__codelineno-158-26></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-158-27><a id=__codelineno-158-27 name=__codelineno-158-27></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-158-28><a id=__codelineno-158-28 name=__codelineno-158-28></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>I'll try to be clear in the explanations:</p> <ul> <li>We declare a sudo class</li> <li>We make an OS detection. This declaration is inherited from a variable ($sudoers_file) which allows us to declare different paths for the sudoers file.</li> <li>Which includes a configuration file located at (name) /opt/csw/etc/sudoers on the target system (for this config, it's on Solaris, adapt as needed)</li> <li>The file must belong to user and group root with permissions 440.</li> <li>The source of this file (which we haven't deposited yet) is available (source) at puppet:///modules/sudo/sudoers (or /etc/puppet/modules/sudo/files/sudoers). It simply indicates the location of the files in your puppet tree which uses a mechanism of file system internal to Puppet.</li> </ul> <h5 id=improving-a-module>Improving a module</h5> <p>Let's edit the file to add some requests:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-159-1> 1</a></span>
<span class=normal><a href=#__codelineno-159-2> 2</a></span>
<span class=normal><a href=#__codelineno-159-3> 3</a></span>
<span class=normal><a href=#__codelineno-159-4> 4</a></span>
<span class=normal><a href=#__codelineno-159-5> 5</a></span>
<span class=normal><a href=#__codelineno-159-6> 6</a></span>
<span class=normal><a href=#__codelineno-159-7> 7</a></span>
<span class=normal><a href=#__codelineno-159-8> 8</a></span>
<span class=normal><a href=#__codelineno-159-9> 9</a></span>
<span class=normal><a href=#__codelineno-159-10>10</a></span>
<span class=normal><a href=#__codelineno-159-11>11</a></span>
<span class=normal><a href=#__codelineno-159-12>12</a></span>
<span class=normal><a href=#__codelineno-159-13>13</a></span>
<span class=normal><a href=#__codelineno-159-14>14</a></span>
<span class=normal><a href=#__codelineno-159-15>15</a></span>
<span class=normal><a href=#__codelineno-159-16>16</a></span>
<span class=normal><a href=#__codelineno-159-17>17</a></span>
<span class=normal><a href=#__codelineno-159-18>18</a></span>
<span class=normal><a href=#__codelineno-159-19>19</a></span>
<span class=normal><a href=#__codelineno-159-20>20</a></span>
<span class=normal><a href=#__codelineno-159-21>21</a></span>
<span class=normal><a href=#__codelineno-159-22>22</a></span>
<span class=normal><a href=#__codelineno-159-23>23</a></span>
<span class=normal><a href=#__codelineno-159-24>24</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-159-1><a id=__codelineno-159-1 name=__codelineno-159-1></a><span class=c1># sudo.pp</span>
</span><span id=__span-159-2><a id=__codelineno-159-2 name=__codelineno-159-2></a><span class=k>class</span><span class=w> </span><span class=n>sudo</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-159-3><a id=__codelineno-159-3 name=__codelineno-159-3></a>
</span><span id=__span-159-4><a id=__codelineno-159-4 name=__codelineno-159-4></a><span class=w>    </span><span class=c1># Check if sudo is the latest version</span>
</span><span id=__span-159-5><a id=__codelineno-159-5 name=__codelineno-159-5></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=ss>sudo</span><span class=p>:</span><span class=w> </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>latest</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-159-6><a id=__codelineno-159-6 name=__codelineno-159-6></a>
</span><span id=__span-159-7><a id=__codelineno-159-7 name=__codelineno-159-7></a><span class=w>    </span><span class=c1># OS detection</span>
</span><span id=__span-159-8><a id=__codelineno-159-8 name=__codelineno-159-8></a><span class=w>    </span><span class=vg>$sudoers_file</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-159-9><a id=__codelineno-159-9 name=__codelineno-159-9></a><span class=w>    </span><span class=no>Solaris</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/opt/csw/etc/sudoers&quot;</span><span class=p>,</span>
</span><span id=__span-159-10><a id=__codelineno-159-10 name=__codelineno-159-10></a><span class=w>    </span><span class=n>default</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/etc/sudoers&quot;</span>
</span><span id=__span-159-11><a id=__codelineno-159-11 name=__codelineno-159-11></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-159-12><a id=__codelineno-159-12 name=__codelineno-159-12></a>
</span><span id=__span-159-13><a id=__codelineno-159-13 name=__codelineno-159-13></a><span class=w>    </span><span class=c1># Sudoers file declaration</span>
</span><span id=__span-159-14><a id=__codelineno-159-14 name=__codelineno-159-14></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;$sudoers_file&quot;</span><span class=p>:</span>
</span><span id=__span-159-15><a id=__codelineno-159-15 name=__codelineno-159-15></a><span class=w>        </span><span class=n>owner</span><span class=w>   </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-159-16><a id=__codelineno-159-16 name=__codelineno-159-16></a><span class=w>        </span><span class=n>group</span><span class=w>   </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-159-17><a id=__codelineno-159-17 name=__codelineno-159-17></a><span class=w>        </span><span class=n>mode</span><span class=w>    </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>640</span><span class=p>,</span>
</span><span id=__span-159-18><a id=__codelineno-159-18 name=__codelineno-159-18></a><span class=w>        </span><span class=n>source</span><span class=w>  </span><span class=o>=&gt;</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-159-19><a id=__codelineno-159-19 name=__codelineno-159-19></a><span class=w>            </span><span class=no>Solaris</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/sudo/sudoers.solaris&quot;</span><span class=p>,</span>
</span><span id=__span-159-20><a id=__codelineno-159-20 name=__codelineno-159-20></a><span class=w>            </span><span class=n>default</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/sudo/sudoers&quot;</span>
</span><span id=__span-159-21><a id=__codelineno-159-21 name=__codelineno-159-21></a><span class=w>        </span><span class=p>},</span>
</span><span id=__span-159-22><a id=__codelineno-159-22 name=__codelineno-159-22></a><span class=w>        </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s2>&quot;sudo&quot;</span><span class=o>]</span>
</span><span id=__span-159-23><a id=__codelineno-159-23 name=__codelineno-159-23></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-159-24><a id=__codelineno-159-24 name=__codelineno-159-24></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <ul> <li>require =&gt; Package["sudo"]: we ask it to install the sudo package if it's not installed</li> <li>package { sudo: ensure =&gt; latest }: we ask it to check that it's the latest version</li> </ul> <h4 id=files_6>files</h4> <p>Now, we need to add the files we want to publish in the files folder (here only sudoers):</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-160-1>1</a></span>
<span class=normal><a href=#__codelineno-160-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-160-1><a id=__codelineno-160-1 name=__codelineno-160-1></a>cp<span class=w> </span>/etc/sudoers<span class=w> </span>/etc/puppet/modules/sudo/files/sudoers
</span><span id=__span-160-2><a id=__codelineno-160-2 name=__codelineno-160-2></a>cp<span class=w> </span>/etc/sudoers<span class=w> </span>/etc/puppet/modules/sudo/files/sudoers.solaris
</span></code></pre></div></td></tr></table></div> <p>To keep it simple, I simply copied the sudoers from the server to the destination that corresponds to my config described above.</p> <p>If you haven't installed sudo on the server, put a sudoers file that suits you in /etc/puppet/modules/sudo/files/sudoers.</p> <p>In future versions, puppet will support http and ftp protocols to fetch these files.</p> <h3 id=snmpd>snmpd</h3> <p>The snmpd service is quite simple to use. That's why this module is too :). Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-161-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-161-1><a id=__codelineno-161-1 name=__codelineno-161-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/snmpd/<span class=o>{</span>manifests,files<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_16>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-162-1> 1</a></span>
<span class=normal><a href=#__codelineno-162-2> 2</a></span>
<span class=normal><a href=#__codelineno-162-3> 3</a></span>
<span class=normal><a href=#__codelineno-162-4> 4</a></span>
<span class=normal><a href=#__codelineno-162-5> 5</a></span>
<span class=normal><a href=#__codelineno-162-6> 6</a></span>
<span class=normal><a href=#__codelineno-162-7> 7</a></span>
<span class=normal><a href=#__codelineno-162-8> 8</a></span>
<span class=normal><a href=#__codelineno-162-9> 9</a></span>
<span class=normal><a href=#__codelineno-162-10>10</a></span>
<span class=normal><a href=#__codelineno-162-11>11</a></span>
<span class=normal><a href=#__codelineno-162-12>12</a></span>
<span class=normal><a href=#__codelineno-162-13>13</a></span>
<span class=normal><a href=#__codelineno-162-14>14</a></span>
<span class=normal><a href=#__codelineno-162-15>15</a></span>
<span class=normal><a href=#__codelineno-162-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-162-1><a id=__codelineno-162-1 name=__codelineno-162-1></a><span class=sr>/*</span>
</span><span id=__span-162-2><a id=__codelineno-162-2 name=__codelineno-162-2></a><span class=sr>Snmpd Module for Puppet</span>
</span><span id=__span-162-3><a id=__codelineno-162-3 name=__codelineno-162-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-162-4><a id=__codelineno-162-4 name=__codelineno-162-4></a><span class=sr>*/</span>
</span><span id=__span-162-5><a id=__codelineno-162-5 name=__codelineno-162-5></a><span class=k>class</span><span class=w> </span><span class=n>snmpd</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-162-6><a id=__codelineno-162-6 name=__codelineno-162-6></a><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-162-7><a id=__codelineno-162-7 name=__codelineno-162-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-162-8><a id=__codelineno-162-8 name=__codelineno-162-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-162-9><a id=__codelineno-162-9 name=__codelineno-162-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>snmpd</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-162-10><a id=__codelineno-162-10 name=__codelineno-162-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-162-11><a id=__codelineno-162-11 name=__codelineno-162-11></a><span class=w>        </span><span class=c1>#&#39;sunos&#39;:  { include packages_defaults::solaris }</span>
</span><span id=__span-162-12><a id=__codelineno-162-12 name=__codelineno-162-12></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-162-13><a id=__codelineno-162-13 name=__codelineno-162-13></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-162-14><a id=__codelineno-162-14 name=__codelineno-162-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-162-15><a id=__codelineno-162-15 name=__codelineno-162-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-162-16><a id=__codelineno-162-16 name=__codelineno-162-16></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_13>redhat.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-163-1> 1</a></span>
<span class=normal><a href=#__codelineno-163-2> 2</a></span>
<span class=normal><a href=#__codelineno-163-3> 3</a></span>
<span class=normal><a href=#__codelineno-163-4> 4</a></span>
<span class=normal><a href=#__codelineno-163-5> 5</a></span>
<span class=normal><a href=#__codelineno-163-6> 6</a></span>
<span class=normal><a href=#__codelineno-163-7> 7</a></span>
<span class=normal><a href=#__codelineno-163-8> 8</a></span>
<span class=normal><a href=#__codelineno-163-9> 9</a></span>
<span class=normal><a href=#__codelineno-163-10>10</a></span>
<span class=normal><a href=#__codelineno-163-11>11</a></span>
<span class=normal><a href=#__codelineno-163-12>12</a></span>
<span class=normal><a href=#__codelineno-163-13>13</a></span>
<span class=normal><a href=#__codelineno-163-14>14</a></span>
<span class=normal><a href=#__codelineno-163-15>15</a></span>
<span class=normal><a href=#__codelineno-163-16>16</a></span>
<span class=normal><a href=#__codelineno-163-17>17</a></span>
<span class=normal><a href=#__codelineno-163-18>18</a></span>
<span class=normal><a href=#__codelineno-163-19>19</a></span>
<span class=normal><a href=#__codelineno-163-20>20</a></span>
<span class=normal><a href=#__codelineno-163-21>21</a></span>
<span class=normal><a href=#__codelineno-163-22>22</a></span>
<span class=normal><a href=#__codelineno-163-23>23</a></span>
<span class=normal><a href=#__codelineno-163-24>24</a></span>
<span class=normal><a href=#__codelineno-163-25>25</a></span>
<span class=normal><a href=#__codelineno-163-26>26</a></span>
<span class=normal><a href=#__codelineno-163-27>27</a></span>
<span class=normal><a href=#__codelineno-163-28>28</a></span>
<span class=normal><a href=#__codelineno-163-29>29</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-163-1><a id=__codelineno-163-1 name=__codelineno-163-1></a><span class=sr>/*</span>
</span><span id=__span-163-2><a id=__codelineno-163-2 name=__codelineno-163-2></a><span class=sr>Snmpd Module for Puppet</span>
</span><span id=__span-163-3><a id=__codelineno-163-3 name=__codelineno-163-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-163-4><a id=__codelineno-163-4 name=__codelineno-163-4></a><span class=sr>*/</span>
</span><span id=__span-163-5><a id=__codelineno-163-5 name=__codelineno-163-5></a><span class=k>class</span><span class=w> </span><span class=n>snmpd</span><span class=o>::</span><span class=n>redhat</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-163-6><a id=__codelineno-163-6 name=__codelineno-163-6></a><span class=w>    </span><span class=c1># Install snmp packages</span>
</span><span id=__span-163-7><a id=__codelineno-163-7 name=__codelineno-163-7></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-163-8><a id=__codelineno-163-8 name=__codelineno-163-8></a><span class=w>        </span><span class=s1>&#39;net-snmp&#39;</span><span class=p>:</span>
</span><span id=__span-163-9><a id=__codelineno-163-9 name=__codelineno-163-9></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span>
</span><span id=__span-163-10><a id=__codelineno-163-10 name=__codelineno-163-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-163-11><a id=__codelineno-163-11 name=__codelineno-163-11></a>
</span><span id=__span-163-12><a id=__codelineno-163-12 name=__codelineno-163-12></a><span class=w>    </span><span class=c1># Snmpd config file</span>
</span><span id=__span-163-13><a id=__codelineno-163-13 name=__codelineno-163-13></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-163-14><a id=__codelineno-163-14 name=__codelineno-163-14></a><span class=w>        </span><span class=s2>&quot;/etc/snmp/snmpd.conf&quot;</span><span class=p>:</span>
</span><span id=__span-163-15><a id=__codelineno-163-15 name=__codelineno-163-15></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/snmpd/snmpd.conf.$::operatingsystem&quot;</span><span class=p>,</span>
</span><span id=__span-163-16><a id=__codelineno-163-16 name=__codelineno-163-16></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span>
</span><span id=__span-163-17><a id=__codelineno-163-17 name=__codelineno-163-17></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-163-18><a id=__codelineno-163-18 name=__codelineno-163-18></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-163-19><a id=__codelineno-163-19 name=__codelineno-163-19></a><span class=w>            </span><span class=n>notify</span><span class=w>  </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;snmpd&quot;</span><span class=o>]</span>
</span><span id=__span-163-20><a id=__codelineno-163-20 name=__codelineno-163-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-163-21><a id=__codelineno-163-21 name=__codelineno-163-21></a>
</span><span id=__span-163-22><a id=__codelineno-163-22 name=__codelineno-163-22></a><span class=w>    </span><span class=c1># Service should start on boot and be running</span>
</span><span id=__span-163-23><a id=__codelineno-163-23 name=__codelineno-163-23></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-163-24><a id=__codelineno-163-24 name=__codelineno-163-24></a><span class=w>        </span><span class=s1>&#39;snmpd&#39;</span><span class=p>:</span>
</span><span id=__span-163-25><a id=__codelineno-163-25 name=__codelineno-163-25></a><span class=w>            </span><span class=n>enable</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-163-26><a id=__codelineno-163-26 name=__codelineno-163-26></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span><span class=p>,</span>
</span><span id=__span-163-27><a id=__codelineno-163-27 name=__codelineno-163-27></a><span class=w>            </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s1>&#39;/etc/snmp/snmpd.conf&#39;</span><span class=o>]</span>
</span><span id=__span-163-28><a id=__codelineno-163-28 name=__codelineno-163-28></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-163-29><a id=__codelineno-163-29 name=__codelineno-163-29></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=files_7>files</h4> <p>And the configuration file:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-164-1> 1</a></span>
<span class=normal><a href=#__codelineno-164-2> 2</a></span>
<span class=normal><a href=#__codelineno-164-3> 3</a></span>
<span class=normal><a href=#__codelineno-164-4> 4</a></span>
<span class=normal><a href=#__codelineno-164-5> 5</a></span>
<span class=normal><a href=#__codelineno-164-6> 6</a></span>
<span class=normal><a href=#__codelineno-164-7> 7</a></span>
<span class=normal><a href=#__codelineno-164-8> 8</a></span>
<span class=normal><a href=#__codelineno-164-9> 9</a></span>
<span class=normal><a href=#__codelineno-164-10>10</a></span>
<span class=normal><a href=#__codelineno-164-11>11</a></span>
<span class=normal><a href=#__codelineno-164-12>12</a></span>
<span class=normal><a href=#__codelineno-164-13>13</a></span>
<span class=normal><a href=#__codelineno-164-14>14</a></span>
<span class=normal><a href=#__codelineno-164-15>15</a></span>
<span class=normal><a href=#__codelineno-164-16>16</a></span>
<span class=normal><a href=#__codelineno-164-17>17</a></span>
<span class=normal><a href=#__codelineno-164-18>18</a></span>
<span class=normal><a href=#__codelineno-164-19>19</a></span>
<span class=normal><a href=#__codelineno-164-20>20</a></span>
<span class=normal><a href=#__codelineno-164-21>21</a></span>
<span class=normal><a href=#__codelineno-164-22>22</a></span>
<span class=normal><a href=#__codelineno-164-23>23</a></span>
<span class=normal><a href=#__codelineno-164-24>24</a></span>
<span class=normal><a href=#__codelineno-164-25>25</a></span>
<span class=normal><a href=#__codelineno-164-26>26</a></span>
<span class=normal><a href=#__codelineno-164-27>27</a></span>
<span class=normal><a href=#__codelineno-164-28>28</a></span>
<span class=normal><a href=#__codelineno-164-29>29</a></span>
<span class=normal><a href=#__codelineno-164-30>30</a></span>
<span class=normal><a href=#__codelineno-164-31>31</a></span>
<span class=normal><a href=#__codelineno-164-32>32</a></span>
<span class=normal><a href=#__codelineno-164-33>33</a></span>
<span class=normal><a href=#__codelineno-164-34>34</a></span>
<span class=normal><a href=#__codelineno-164-35>35</a></span>
<span class=normal><a href=#__codelineno-164-36>36</a></span>
<span class=normal><a href=#__codelineno-164-37>37</a></span>
<span class=normal><a href=#__codelineno-164-38>38</a></span>
<span class=normal><a href=#__codelineno-164-39>39</a></span>
<span class=normal><a href=#__codelineno-164-40>40</a></span>
<span class=normal><a href=#__codelineno-164-41>41</a></span>
<span class=normal><a href=#__codelineno-164-42>42</a></span>
<span class=normal><a href=#__codelineno-164-43>43</a></span>
<span class=normal><a href=#__codelineno-164-44>44</a></span>
<span class=normal><a href=#__codelineno-164-45>45</a></span>
<span class=normal><a href=#__codelineno-164-46>46</a></span>
<span class=normal><a href=#__codelineno-164-47>47</a></span>
<span class=normal><a href=#__codelineno-164-48>48</a></span>
<span class=normal><a href=#__codelineno-164-49>49</a></span>
<span class=normal><a href=#__codelineno-164-50>50</a></span>
<span class=normal><a href=#__codelineno-164-51>51</a></span>
<span class=normal><a href=#__codelineno-164-52>52</a></span>
<span class=normal><a href=#__codelineno-164-53>53</a></span>
<span class=normal><a href=#__codelineno-164-54>54</a></span>
<span class=normal><a href=#__codelineno-164-55>55</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-164-1><a id=__codelineno-164-1 name=__codelineno-164-1></a># Generated by Puppet
</span><span id=__span-164-2><a id=__codelineno-164-2 name=__codelineno-164-2></a>###########################################################################
</span><span id=__span-164-3><a id=__codelineno-164-3 name=__codelineno-164-3></a>#
</span><span id=__span-164-4><a id=__codelineno-164-4 name=__codelineno-164-4></a># snmpd.conf
</span><span id=__span-164-5><a id=__codelineno-164-5 name=__codelineno-164-5></a>#
</span><span id=__span-164-6><a id=__codelineno-164-6 name=__codelineno-164-6></a>#   - created by the snmpconf configuration program
</span><span id=__span-164-7><a id=__codelineno-164-7 name=__codelineno-164-7></a>#
</span><span id=__span-164-8><a id=__codelineno-164-8 name=__codelineno-164-8></a>
</span><span id=__span-164-9><a id=__codelineno-164-9 name=__codelineno-164-9></a>###########################################################################
</span><span id=__span-164-10><a id=__codelineno-164-10 name=__codelineno-164-10></a># SECTION: System Information Setup
</span><span id=__span-164-11><a id=__codelineno-164-11 name=__codelineno-164-11></a>#
</span><span id=__span-164-12><a id=__codelineno-164-12 name=__codelineno-164-12></a>#   This section defines some of the information reported in
</span><span id=__span-164-13><a id=__codelineno-164-13 name=__codelineno-164-13></a>#   the &quot;system&quot; mib group in the mibII tree.
</span><span id=__span-164-14><a id=__codelineno-164-14 name=__codelineno-164-14></a>
</span><span id=__span-164-15><a id=__codelineno-164-15 name=__codelineno-164-15></a># syslocation: The [typically physical] location of the system.
</span><span id=__span-164-16><a id=__codelineno-164-16 name=__codelineno-164-16></a>#   Note that setting this value here means that when trying to
</span><span id=__span-164-17><a id=__codelineno-164-17 name=__codelineno-164-17></a>#   perform an snmp SET operation to the sysLocation.0 variable will make
</span><span id=__span-164-18><a id=__codelineno-164-18 name=__codelineno-164-18></a>#   the agent return the &quot;notWritable&quot; error code.  IE, including
</span><span id=__span-164-19><a id=__codelineno-164-19 name=__codelineno-164-19></a>#   this token in the snmpd.conf file will disable write access to
</span><span id=__span-164-20><a id=__codelineno-164-20 name=__codelineno-164-20></a>#   the variable.
</span><span id=__span-164-21><a id=__codelineno-164-21 name=__codelineno-164-21></a>#   arguments:  location_string
</span><span id=__span-164-22><a id=__codelineno-164-22 name=__codelineno-164-22></a>
</span><span id=__span-164-23><a id=__codelineno-164-23 name=__codelineno-164-23></a>syslocation Unknown (edit /etc/snmp/snmpd.conf)
</span><span id=__span-164-24><a id=__codelineno-164-24 name=__codelineno-164-24></a>
</span><span id=__span-164-25><a id=__codelineno-164-25 name=__codelineno-164-25></a># syscontact: The contact information for the administrator
</span><span id=__span-164-26><a id=__codelineno-164-26 name=__codelineno-164-26></a>#   Note that setting this value here means that when trying to
</span><span id=__span-164-27><a id=__codelineno-164-27 name=__codelineno-164-27></a>#   perform an snmp SET operation to the sysContact.0 variable will make
</span><span id=__span-164-28><a id=__codelineno-164-28 name=__codelineno-164-28></a>#   the agent return the &quot;notWritable&quot; error code.  IE, including
</span><span id=__span-164-29><a id=__codelineno-164-29 name=__codelineno-164-29></a>#   this token in the snmpd.conf file will disable write access to
</span><span id=__span-164-30><a id=__codelineno-164-30 name=__codelineno-164-30></a>#   the variable.
</span><span id=__span-164-31><a id=__codelineno-164-31 name=__codelineno-164-31></a>#   arguments:  contact_string
</span><span id=__span-164-32><a id=__codelineno-164-32 name=__codelineno-164-32></a>
</span><span id=__span-164-33><a id=__codelineno-164-33 name=__codelineno-164-33></a>syscontact Root &lt;xxx@mycompany.com&gt; (configure /etc/snmp/snmp.local.conf)
</span><span id=__span-164-34><a id=__codelineno-164-34 name=__codelineno-164-34></a>
</span><span id=__span-164-35><a id=__codelineno-164-35 name=__codelineno-164-35></a>###########################################################################
</span><span id=__span-164-36><a id=__codelineno-164-36 name=__codelineno-164-36></a># SECTION: Access Control Setup
</span><span id=__span-164-37><a id=__codelineno-164-37 name=__codelineno-164-37></a>#
</span><span id=__span-164-38><a id=__codelineno-164-38 name=__codelineno-164-38></a>#   This section defines who is allowed to talk to your running
</span><span id=__span-164-39><a id=__codelineno-164-39 name=__codelineno-164-39></a>#   snmp agent.
</span><span id=__span-164-40><a id=__codelineno-164-40 name=__codelineno-164-40></a>
</span><span id=__span-164-41><a id=__codelineno-164-41 name=__codelineno-164-41></a># rocommunity: a SNMPv1/SNMPv2c read-only access community name
</span><span id=__span-164-42><a id=__codelineno-164-42 name=__codelineno-164-42></a>#   arguments:  community [default|hostname|network/bits] [oid]
</span><span id=__span-164-43><a id=__codelineno-164-43 name=__codelineno-164-43></a>
</span><span id=__span-164-44><a id=__codelineno-164-44 name=__codelineno-164-44></a>rocommunity  lookdeimos
</span><span id=__span-164-45><a id=__codelineno-164-45 name=__codelineno-164-45></a>
</span><span id=__span-164-46><a id=__codelineno-164-46 name=__codelineno-164-46></a>#
</span><span id=__span-164-47><a id=__codelineno-164-47 name=__codelineno-164-47></a># Unknown directives read in from other files by snmpconf
</span><span id=__span-164-48><a id=__codelineno-164-48 name=__codelineno-164-48></a>#
</span><span id=__span-164-49><a id=__codelineno-164-49 name=__codelineno-164-49></a>com2sec notConfigUser  default       public
</span><span id=__span-164-50><a id=__codelineno-164-50 name=__codelineno-164-50></a>group   notConfigGroup v1           notConfigUser
</span><span id=__span-164-51><a id=__codelineno-164-51 name=__codelineno-164-51></a>group   notConfigGroup v2c           notConfigUser
</span><span id=__span-164-52><a id=__codelineno-164-52 name=__codelineno-164-52></a>view    systemview    included   .1.3.6.1.2.1.1
</span><span id=__span-164-53><a id=__codelineno-164-53 name=__codelineno-164-53></a>view    systemview    included   .1.3.6.1.2.1.25.1.1
</span><span id=__span-164-54><a id=__codelineno-164-54 name=__codelineno-164-54></a>access  notConfigGroup &quot;&quot;      any       noauth    exact  systemview none none
</span><span id=__span-164-55><a id=__codelineno-164-55 name=__codelineno-164-55></a>dontLogTCPWrappersConnects yes
</span></code></pre></div></td></tr></table></div> <h3 id=postfix>Postfix</h3> <p>For postfix, we'll use templates to facilitate certain configurations. If you need more information on how to configure Postfix, I recommend these documentations.</p> <h4 id=initpp_17>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-165-1> 1</a></span>
<span class=normal><a href=#__codelineno-165-2> 2</a></span>
<span class=normal><a href=#__codelineno-165-3> 3</a></span>
<span class=normal><a href=#__codelineno-165-4> 4</a></span>
<span class=normal><a href=#__codelineno-165-5> 5</a></span>
<span class=normal><a href=#__codelineno-165-6> 6</a></span>
<span class=normal><a href=#__codelineno-165-7> 7</a></span>
<span class=normal><a href=#__codelineno-165-8> 8</a></span>
<span class=normal><a href=#__codelineno-165-9> 9</a></span>
<span class=normal><a href=#__codelineno-165-10>10</a></span>
<span class=normal><a href=#__codelineno-165-11>11</a></span>
<span class=normal><a href=#__codelineno-165-12>12</a></span>
<span class=normal><a href=#__codelineno-165-13>13</a></span>
<span class=normal><a href=#__codelineno-165-14>14</a></span>
<span class=normal><a href=#__codelineno-165-15>15</a></span>
<span class=normal><a href=#__codelineno-165-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-165-1><a id=__codelineno-165-1 name=__codelineno-165-1></a><span class=sr>/*</span>
</span><span id=__span-165-2><a id=__codelineno-165-2 name=__codelineno-165-2></a><span class=sr>Postix Module for Puppet</span>
</span><span id=__span-165-3><a id=__codelineno-165-3 name=__codelineno-165-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-165-4><a id=__codelineno-165-4 name=__codelineno-165-4></a><span class=sr>*/</span>
</span><span id=__span-165-5><a id=__codelineno-165-5 name=__codelineno-165-5></a><span class=k>class</span><span class=w> </span><span class=n>postfix</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-165-6><a id=__codelineno-165-6 name=__codelineno-165-6></a><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-165-7><a id=__codelineno-165-7 name=__codelineno-165-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-165-8><a id=__codelineno-165-8 name=__codelineno-165-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-165-9><a id=__codelineno-165-9 name=__codelineno-165-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>postfix</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-165-10><a id=__codelineno-165-10 name=__codelineno-165-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-165-11><a id=__codelineno-165-11 name=__codelineno-165-11></a><span class=w>        </span><span class=c1>#&#39;sunos&#39;:  { include packages_defaults::solaris }</span>
</span><span id=__span-165-12><a id=__codelineno-165-12 name=__codelineno-165-12></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-165-13><a id=__codelineno-165-13 name=__codelineno-165-13></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-165-14><a id=__codelineno-165-14 name=__codelineno-165-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-165-15><a id=__codelineno-165-15 name=__codelineno-165-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-165-16><a id=__codelineno-165-16 name=__codelineno-165-16></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_14>redhat.pp</h4> <p>I use transport maps here that need to be rebuilt if their configuration changes. That's why we use 'Subscribe' in the 'Exec' directive:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-166-1> 1</a></span>
<span class=normal><a href=#__codelineno-166-2> 2</a></span>
<span class=normal><a href=#__codelineno-166-3> 3</a></span>
<span class=normal><a href=#__codelineno-166-4> 4</a></span>
<span class=normal><a href=#__codelineno-166-5> 5</a></span>
<span class=normal><a href=#__codelineno-166-6> 6</a></span>
<span class=normal><a href=#__codelineno-166-7> 7</a></span>
<span class=normal><a href=#__codelineno-166-8> 8</a></span>
<span class=normal><a href=#__codelineno-166-9> 9</a></span>
<span class=normal><a href=#__codelineno-166-10>10</a></span>
<span class=normal><a href=#__codelineno-166-11>11</a></span>
<span class=normal><a href=#__codelineno-166-12>12</a></span>
<span class=normal><a href=#__codelineno-166-13>13</a></span>
<span class=normal><a href=#__codelineno-166-14>14</a></span>
<span class=normal><a href=#__codelineno-166-15>15</a></span>
<span class=normal><a href=#__codelineno-166-16>16</a></span>
<span class=normal><a href=#__codelineno-166-17>17</a></span>
<span class=normal><a href=#__codelineno-166-18>18</a></span>
<span class=normal><a href=#__codelineno-166-19>19</a></span>
<span class=normal><a href=#__codelineno-166-20>20</a></span>
<span class=normal><a href=#__codelineno-166-21>21</a></span>
<span class=normal><a href=#__codelineno-166-22>22</a></span>
<span class=normal><a href=#__codelineno-166-23>23</a></span>
<span class=normal><a href=#__codelineno-166-24>24</a></span>
<span class=normal><a href=#__codelineno-166-25>25</a></span>
<span class=normal><a href=#__codelineno-166-26>26</a></span>
<span class=normal><a href=#__codelineno-166-27>27</a></span>
<span class=normal><a href=#__codelineno-166-28>28</a></span>
<span class=normal><a href=#__codelineno-166-29>29</a></span>
<span class=normal><a href=#__codelineno-166-30>30</a></span>
<span class=normal><a href=#__codelineno-166-31>31</a></span>
<span class=normal><a href=#__codelineno-166-32>32</a></span>
<span class=normal><a href=#__codelineno-166-33>33</a></span>
<span class=normal><a href=#__codelineno-166-34>34</a></span>
<span class=normal><a href=#__codelineno-166-35>35</a></span>
<span class=normal><a href=#__codelineno-166-36>36</a></span>
<span class=normal><a href=#__codelineno-166-37>37</a></span>
<span class=normal><a href=#__codelineno-166-38>38</a></span>
<span class=normal><a href=#__codelineno-166-39>39</a></span>
<span class=normal><a href=#__codelineno-166-40>40</a></span>
<span class=normal><a href=#__codelineno-166-41>41</a></span>
<span class=normal><a href=#__codelineno-166-42>42</a></span>
<span class=normal><a href=#__codelineno-166-43>43</a></span>
<span class=normal><a href=#__codelineno-166-44>44</a></span>
<span class=normal><a href=#__codelineno-166-45>45</a></span>
<span class=normal><a href=#__codelineno-166-46>46</a></span>
<span class=normal><a href=#__codelineno-166-47>47</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-166-1><a id=__codelineno-166-1 name=__codelineno-166-1></a><span class=sr>/*</span>
</span><span id=__span-166-2><a id=__codelineno-166-2 name=__codelineno-166-2></a><span class=sr>Postfix Module for Puppet</span>
</span><span id=__span-166-3><a id=__codelineno-166-3 name=__codelineno-166-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-166-4><a id=__codelineno-166-4 name=__codelineno-166-4></a><span class=sr>*/</span>
</span><span id=__span-166-5><a id=__codelineno-166-5 name=__codelineno-166-5></a><span class=k>class</span><span class=w> </span><span class=n>postfix</span><span class=o>::</span><span class=n>redhat</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-166-6><a id=__codelineno-166-6 name=__codelineno-166-6></a><span class=c1># Install postfix packages</span>
</span><span id=__span-166-7><a id=__codelineno-166-7 name=__codelineno-166-7></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-166-8><a id=__codelineno-166-8 name=__codelineno-166-8></a><span class=w>        </span><span class=s1>&#39;postfix&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-166-9><a id=__codelineno-166-9 name=__codelineno-166-9></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span>
</span><span id=__span-166-10><a id=__codelineno-166-10 name=__codelineno-166-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-166-11><a id=__codelineno-166-11 name=__codelineno-166-11></a>
</span><span id=__span-166-12><a id=__codelineno-166-12 name=__codelineno-166-12></a><span class=w>    </span><span class=c1># Postfix main config file</span>
</span><span id=__span-166-13><a id=__codelineno-166-13 name=__codelineno-166-13></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-166-14><a id=__codelineno-166-14 name=__codelineno-166-14></a><span class=w>        </span><span class=s2>&quot;/etc/postfix/main.cf&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-166-15><a id=__codelineno-166-15 name=__codelineno-166-15></a><span class=w>            </span><span class=n>content</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>template</span><span class=p>(</span><span class=s2>&quot;postfix/main.cf.$::operatingsystem&quot;</span><span class=p>),</span>
</span><span id=__span-166-16><a id=__codelineno-166-16 name=__codelineno-166-16></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span>
</span><span id=__span-166-17><a id=__codelineno-166-17 name=__codelineno-166-17></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-166-18><a id=__codelineno-166-18 name=__codelineno-166-18></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-166-19><a id=__codelineno-166-19 name=__codelineno-166-19></a><span class=w>            </span><span class=n>notify</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;postfix&quot;</span><span class=o>]</span>
</span><span id=__span-166-20><a id=__codelineno-166-20 name=__codelineno-166-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-166-21><a id=__codelineno-166-21 name=__codelineno-166-21></a>
</span><span id=__span-166-22><a id=__codelineno-166-22 name=__codelineno-166-22></a><span class=w>    </span><span class=c1># Postfix transport map</span>
</span><span id=__span-166-23><a id=__codelineno-166-23 name=__codelineno-166-23></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-166-24><a id=__codelineno-166-24 name=__codelineno-166-24></a><span class=w>        </span><span class=s2>&quot;/etc/postfix/transport&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-166-25><a id=__codelineno-166-25 name=__codelineno-166-25></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/postfix/transport&quot;</span><span class=p>,</span>
</span><span id=__span-166-26><a id=__codelineno-166-26 name=__codelineno-166-26></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span>
</span><span id=__span-166-27><a id=__codelineno-166-27 name=__codelineno-166-27></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-166-28><a id=__codelineno-166-28 name=__codelineno-166-28></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-166-29><a id=__codelineno-166-29 name=__codelineno-166-29></a><span class=w>            </span><span class=n>notify</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;postfix&quot;</span><span class=o>]</span>
</span><span id=__span-166-30><a id=__codelineno-166-30 name=__codelineno-166-30></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-166-31><a id=__codelineno-166-31 name=__codelineno-166-31></a>
</span><span id=__span-166-32><a id=__codelineno-166-32 name=__codelineno-166-32></a><span class=w>    </span><span class=c1># Rebuild the transport map</span>
</span><span id=__span-166-33><a id=__codelineno-166-33 name=__codelineno-166-33></a><span class=w>    </span><span class=nb>exec</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-166-34><a id=__codelineno-166-34 name=__codelineno-166-34></a><span class=w>        </span><span class=s1>&#39;build_transport_map&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-166-35><a id=__codelineno-166-35 name=__codelineno-166-35></a><span class=w>            </span><span class=n>command</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/usr/sbin/postmap /etc/postfix/transport&quot;</span><span class=p>,</span>
</span><span id=__span-166-36><a id=__codelineno-166-36 name=__codelineno-166-36></a><span class=w>            </span><span class=n>subscribe</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s2>&quot;/etc/postfix/transport&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-166-37><a id=__codelineno-166-37 name=__codelineno-166-37></a><span class=w>            </span><span class=n>refreshonly</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span>
</span><span id=__span-166-38><a id=__codelineno-166-38 name=__codelineno-166-38></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-166-39><a id=__codelineno-166-39 name=__codelineno-166-39></a>
</span><span id=__span-166-40><a id=__codelineno-166-40 name=__codelineno-166-40></a><span class=w>    </span><span class=c1># Service should start on boot and be running</span>
</span><span id=__span-166-41><a id=__codelineno-166-41 name=__codelineno-166-41></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-166-42><a id=__codelineno-166-42 name=__codelineno-166-42></a><span class=w>        </span><span class=s1>&#39;postfix&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-166-43><a id=__codelineno-166-43 name=__codelineno-166-43></a><span class=w>            </span><span class=n>enable</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-166-44><a id=__codelineno-166-44 name=__codelineno-166-44></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span><span class=p>,</span>
</span><span id=__span-166-45><a id=__codelineno-166-45 name=__codelineno-166-45></a><span class=w>            </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s1>&#39;/etc/postfix/main.cf&#39;</span><span class=o>]</span>
</span><span id=__span-166-46><a id=__codelineno-166-46 name=__codelineno-166-46></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-166-47><a id=__codelineno-166-47 name=__codelineno-166-47></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=templates_5>templates</h4> <p>Here I have my fqdn which is unique depending on the machine:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-167-1> 1</a></span>
<span class=normal><a href=#__codelineno-167-2> 2</a></span>
<span class=normal><a href=#__codelineno-167-3> 3</a></span>
<span class=normal><a href=#__codelineno-167-4> 4</a></span>
<span class=normal><a href=#__codelineno-167-5> 5</a></span>
<span class=normal><a href=#__codelineno-167-6> 6</a></span>
<span class=normal><a href=#__codelineno-167-7> 7</a></span>
<span class=normal><a href=#__codelineno-167-8> 8</a></span>
<span class=normal><a href=#__codelineno-167-9> 9</a></span>
<span class=normal><a href=#__codelineno-167-10>10</a></span>
<span class=normal><a href=#__codelineno-167-11>11</a></span>
<span class=normal><a href=#__codelineno-167-12>12</a></span>
<span class=normal><a href=#__codelineno-167-13>13</a></span>
<span class=normal><a href=#__codelineno-167-14>14</a></span>
<span class=normal><a href=#__codelineno-167-15>15</a></span>
<span class=normal><a href=#__codelineno-167-16>16</a></span>
<span class=normal><a href=#__codelineno-167-17>17</a></span>
<span class=normal><a href=#__codelineno-167-18>18</a></span>
<span class=normal><a href=#__codelineno-167-19>19</a></span>
<span class=normal><a href=#__codelineno-167-20>20</a></span>
<span class=normal><a href=#__codelineno-167-21>21</a></span>
<span class=normal><a href=#__codelineno-167-22>22</a></span>
<span class=normal><a href=#__codelineno-167-23>23</a></span>
<span class=normal><a href=#__codelineno-167-24>24</a></span>
<span class=normal><a href=#__codelineno-167-25>25</a></span>
<span class=normal><a href=#__codelineno-167-26>26</a></span>
<span class=normal><a href=#__codelineno-167-27>27</a></span>
<span class=normal><a href=#__codelineno-167-28>28</a></span>
<span class=normal><a href=#__codelineno-167-29>29</a></span>
<span class=normal><a href=#__codelineno-167-30>30</a></span>
<span class=normal><a href=#__codelineno-167-31>31</a></span>
<span class=normal><a href=#__codelineno-167-32>32</a></span>
<span class=normal><a href=#__codelineno-167-33>33</a></span>
<span class=normal><a href=#__codelineno-167-34>34</a></span>
<span class=normal><a href=#__codelineno-167-35>35</a></span>
<span class=normal><a href=#__codelineno-167-36>36</a></span>
<span class=normal><a href=#__codelineno-167-37>37</a></span>
<span class=normal><a href=#__codelineno-167-38>38</a></span>
<span class=normal><a href=#__codelineno-167-39>39</a></span>
<span class=normal><a href=#__codelineno-167-40>40</a></span>
<span class=normal><a href=#__codelineno-167-41>41</a></span>
<span class=normal><a href=#__codelineno-167-42>42</a></span>
<span class=normal><a href=#__codelineno-167-43>43</a></span>
<span class=normal><a href=#__codelineno-167-44>44</a></span>
<span class=normal><a href=#__codelineno-167-45>45</a></span>
<span class=normal><a href=#__codelineno-167-46>46</a></span>
<span class=normal><a href=#__codelineno-167-47>47</a></span>
<span class=normal><a href=#__codelineno-167-48>48</a></span>
<span class=normal><a href=#__codelineno-167-49>49</a></span>
<span class=normal><a href=#__codelineno-167-50>50</a></span>
<span class=normal><a href=#__codelineno-167-51>51</a></span>
<span class=normal><a href=#__codelineno-167-52>52</a></span>
<span class=normal><a href=#__codelineno-167-53>53</a></span>
<span class=normal><a href=#__codelineno-167-54>54</a></span>
<span class=normal><a href=#__codelineno-167-55>55</a></span>
<span class=normal><a href=#__codelineno-167-56>56</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-167-1><a id=__codelineno-167-1 name=__codelineno-167-1></a># Generated by Puppet
</span><span id=__span-167-2><a id=__codelineno-167-2 name=__codelineno-167-2></a>
</span><span id=__span-167-3><a id=__codelineno-167-3 name=__codelineno-167-3></a># Postfix directories
</span><span id=__span-167-4><a id=__codelineno-167-4 name=__codelineno-167-4></a>queue_directory = /var/spool/postfix
</span><span id=__span-167-5><a id=__codelineno-167-5 name=__codelineno-167-5></a>command_directory = /usr/sbin
</span><span id=__span-167-6><a id=__codelineno-167-6 name=__codelineno-167-6></a>daemon_directory = /usr/libexec/postfix
</span><span id=__span-167-7><a id=__codelineno-167-7 name=__codelineno-167-7></a>data_directory = /var/lib/postfix
</span><span id=__span-167-8><a id=__codelineno-167-8 name=__codelineno-167-8></a>sendmail_path = /usr/sbin/sendmail.postfix
</span><span id=__span-167-9><a id=__codelineno-167-9 name=__codelineno-167-9></a>newaliases_path = /usr/bin/newaliases.postfix
</span><span id=__span-167-10><a id=__codelineno-167-10 name=__codelineno-167-10></a>mailq_path = /usr/bin/mailq.postfix
</span><span id=__span-167-11><a id=__codelineno-167-11 name=__codelineno-167-11></a>
</span><span id=__span-167-12><a id=__codelineno-167-12 name=__codelineno-167-12></a># Inet configuration
</span><span id=__span-167-13><a id=__codelineno-167-13 name=__codelineno-167-13></a>inet_interfaces = all
</span><span id=__span-167-14><a id=__codelineno-167-14 name=__codelineno-167-14></a>inet_protocols = all
</span><span id=__span-167-15><a id=__codelineno-167-15 name=__codelineno-167-15></a>
</span><span id=__span-167-16><a id=__codelineno-167-16 name=__codelineno-167-16></a># Reject unknow recipents
</span><span id=__span-167-17><a id=__codelineno-167-17 name=__codelineno-167-17></a>unknown_local_recipient_reject_code = 550
</span><span id=__span-167-18><a id=__codelineno-167-18 name=__codelineno-167-18></a>
</span><span id=__span-167-19><a id=__codelineno-167-19 name=__codelineno-167-19></a># Do not set relayhost. Postfix must use transport_maps
</span><span id=__span-167-20><a id=__codelineno-167-20 name=__codelineno-167-20></a>relayhost =
</span><span id=__span-167-21><a id=__codelineno-167-21 name=__codelineno-167-21></a>
</span><span id=__span-167-22><a id=__codelineno-167-22 name=__codelineno-167-22></a># Destinations
</span><span id=__span-167-23><a id=__codelineno-167-23 name=__codelineno-167-23></a>mydomain = deimos.fr
</span><span id=__span-167-24><a id=__codelineno-167-24 name=__codelineno-167-24></a>myorigin = &lt;%= fqdn %&gt;
</span><span id=__span-167-25><a id=__codelineno-167-25 name=__codelineno-167-25></a>mydestination = $myorigin, localhost.$mydomain, localhost
</span><span id=__span-167-26><a id=__codelineno-167-26 name=__codelineno-167-26></a>
</span><span id=__span-167-27><a id=__codelineno-167-27 name=__codelineno-167-27></a># Transport_maps permits to route email using Google exchangers
</span><span id=__span-167-28><a id=__codelineno-167-28 name=__codelineno-167-28></a>transport_maps = dbm:/etc/opt/csw/postfix/transport
</span><span id=__span-167-29><a id=__codelineno-167-29 name=__codelineno-167-29></a># Add TLS to emails if possible
</span><span id=__span-167-30><a id=__codelineno-167-30 name=__codelineno-167-30></a>smtp_tls_security_level = may
</span><span id=__span-167-31><a id=__codelineno-167-31 name=__codelineno-167-31></a>
</span><span id=__span-167-32><a id=__codelineno-167-32 name=__codelineno-167-32></a># Masquerade_domains hides hostnames from addresses
</span><span id=__span-167-33><a id=__codelineno-167-33 name=__codelineno-167-33></a>masquerade_domains = $mydomain
</span><span id=__span-167-34><a id=__codelineno-167-34 name=__codelineno-167-34></a>
</span><span id=__span-167-35><a id=__codelineno-167-35 name=__codelineno-167-35></a># Aliases
</span><span id=__span-167-36><a id=__codelineno-167-36 name=__codelineno-167-36></a>alias_maps = hash:/etc/aliases
</span><span id=__span-167-37><a id=__codelineno-167-37 name=__codelineno-167-37></a>alias_database = hash:/etc/aliases
</span><span id=__span-167-38><a id=__codelineno-167-38 name=__codelineno-167-38></a>
</span><span id=__span-167-39><a id=__codelineno-167-39 name=__codelineno-167-39></a># SMTP banner
</span><span id=__span-167-40><a id=__codelineno-167-40 name=__codelineno-167-40></a>smtpd_banner = $myhostname ESMTP $mail_name
</span><span id=__span-167-41><a id=__codelineno-167-41 name=__codelineno-167-41></a>
</span><span id=__span-167-42><a id=__codelineno-167-42 name=__codelineno-167-42></a># Debug
</span><span id=__span-167-43><a id=__codelineno-167-43 name=__codelineno-167-43></a>debug_peer_level = 2
</span><span id=__span-167-44><a id=__codelineno-167-44 name=__codelineno-167-44></a>debugger_command =
</span><span id=__span-167-45><a id=__codelineno-167-45 name=__codelineno-167-45></a>     PATH=/bin:/usr/bin:/usr/local/bin:/usr/X11R6/bin
</span><span id=__span-167-46><a id=__codelineno-167-46 name=__codelineno-167-46></a>     ddd $daemon_directory/$process_name $process_id &amp; sleep 5
</span><span id=__span-167-47><a id=__codelineno-167-47 name=__codelineno-167-47></a>
</span><span id=__span-167-48><a id=__codelineno-167-48 name=__codelineno-167-48></a># Postfix rights
</span><span id=__span-167-49><a id=__codelineno-167-49 name=__codelineno-167-49></a>mail_owner = postfix
</span><span id=__span-167-50><a id=__codelineno-167-50 name=__codelineno-167-50></a>setgid_group = postdrop
</span><span id=__span-167-51><a id=__codelineno-167-51 name=__codelineno-167-51></a>
</span><span id=__span-167-52><a id=__codelineno-167-52 name=__codelineno-167-52></a># Helps
</span><span id=__span-167-53><a id=__codelineno-167-53 name=__codelineno-167-53></a>html_directory = no
</span><span id=__span-167-54><a id=__codelineno-167-54 name=__codelineno-167-54></a>manpage_directory = /usr/share/man
</span><span id=__span-167-55><a id=__codelineno-167-55 name=__codelineno-167-55></a>sample_directory = /usr/share/doc/postfix-2.6.6/samples
</span><span id=__span-167-56><a id=__codelineno-167-56 name=__codelineno-167-56></a>readme_directory = /usr/share/doc/postfix-2.6.6/README_FILES
</span></code></pre></div></td></tr></table></div> <h4 id=files_8>files</h4> <p>And in my files, I have my transport_map file:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-168-1>1</a></span>
<span class=normal><a href=#__codelineno-168-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-168-1><a id=__codelineno-168-1 name=__codelineno-168-1></a>deimos.fr      :google.com
</span><span id=__span-168-2><a id=__codelineno-168-2 name=__codelineno-168-2></a>.deimos.fr     :google.com
</span></code></pre></div></td></tr></table></div> <h3 id=nsswitch>Nsswitch</h3> <p>For nsswitch, we'll use an advanced technique which consists of using Facter (a built-in that saves a lot of time). Facter offers, in short, specific environment variables for Puppet which allow conditions to be made based on this. For example, I want to check for the presence of a file that will tell me if my server is in cluster mode (for Sun Cluster) or not and modify the nsswitch file accordingly. For this I'll use facter.</p> <p>Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-169-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-169-1><a id=__codelineno-169-1 name=__codelineno-169-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/nsswitch/<span class=o>{</span>manifests,lib/facter<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=facter_3>facter</h4> <p>Let's create our fact file:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-170-1>1</a></span>
<span class=normal><a href=#__codelineno-170-2>2</a></span>
<span class=normal><a href=#__codelineno-170-3>3</a></span>
<span class=normal><a href=#__codelineno-170-4>4</a></span>
<span class=normal><a href=#__codelineno-170-5>5</a></span>
<span class=normal><a href=#__codelineno-170-6>6</a></span>
<span class=normal><a href=#__codelineno-170-7>7</a></span>
<span class=normal><a href=#__codelineno-170-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-170-1><a id=__codelineno-170-1 name=__codelineno-170-1></a><span class=c1># is_cluster.rb</span>
</span><span id=__span-170-2><a id=__codelineno-170-2 name=__codelineno-170-2></a>
</span><span id=__span-170-3><a id=__codelineno-170-3 name=__codelineno-170-3></a><span class=no>Facter</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&quot;is_cluster&quot;</span><span class=p>)</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-170-4><a id=__codelineno-170-4 name=__codelineno-170-4></a><span class=w>        </span><span class=n>setcode</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-170-5><a id=__codelineno-170-5 name=__codelineno-170-5></a><span class=w>          </span><span class=c1>#%x{/bin/uname -i}.chomp</span>
</span><span id=__span-170-6><a id=__codelineno-170-6 name=__codelineno-170-6></a><span class=w>           </span><span class=no>FileTest</span><span class=o>.</span><span class=n>exists?</span><span class=p>(</span><span class=s2>&quot;/etc/cluster/nodeid&quot;</span><span class=p>)</span>
</span><span id=__span-170-7><a id=__codelineno-170-7 name=__codelineno-170-7></a><span class=w>        </span><span class=k>end</span>
</span><span id=__span-170-8><a id=__codelineno-170-8 name=__codelineno-170-8></a><span class=k>end</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_18>init.pp</h4> <p>Then we'll specify the use of a template:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-171-1> 1</a></span>
<span class=normal><a href=#__codelineno-171-2> 2</a></span>
<span class=normal><a href=#__codelineno-171-3> 3</a></span>
<span class=normal><a href=#__codelineno-171-4> 4</a></span>
<span class=normal><a href=#__codelineno-171-5> 5</a></span>
<span class=normal><a href=#__codelineno-171-6> 6</a></span>
<span class=normal><a href=#__codelineno-171-7> 7</a></span>
<span class=normal><a href=#__codelineno-171-8> 8</a></span>
<span class=normal><a href=#__codelineno-171-9> 9</a></span>
<span class=normal><a href=#__codelineno-171-10>10</a></span>
<span class=normal><a href=#__codelineno-171-11>11</a></span>
<span class=normal><a href=#__codelineno-171-12>12</a></span>
<span class=normal><a href=#__codelineno-171-13>13</a></span>
<span class=normal><a href=#__codelineno-171-14>14</a></span>
<span class=normal><a href=#__codelineno-171-15>15</a></span>
<span class=normal><a href=#__codelineno-171-16>16</a></span>
<span class=normal><a href=#__codelineno-171-17>17</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-171-1><a id=__codelineno-171-1 name=__codelineno-171-1></a><span class=k>class</span><span class=w> </span><span class=n>nsswitch</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-171-2><a id=__codelineno-171-2 name=__codelineno-171-2></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-171-3><a id=__codelineno-171-3 name=__codelineno-171-3></a><span class=w>        </span><span class=ss>Solaris</span><span class=p>:</span><span class=w>  </span><span class=p>{</span><span class=w> </span><span class=kp>include</span><span class=w> </span><span class=n>nsswitch</span><span class=o>::</span><span class=n>solaris</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-171-4><a id=__codelineno-171-4 name=__codelineno-171-4></a><span class=w>            </span><span class=ss>default</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-171-5><a id=__codelineno-171-5 name=__codelineno-171-5></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-171-6><a id=__codelineno-171-6 name=__codelineno-171-6></a><span class=p>}</span>
</span><span id=__span-171-7><a id=__codelineno-171-7 name=__codelineno-171-7></a>
</span><span id=__span-171-8><a id=__codelineno-171-8 name=__codelineno-171-8></a><span class=k>class</span><span class=w> </span><span class=n>nsswitch</span><span class=o>::</span><span class=n>solaris</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-171-9><a id=__codelineno-171-9 name=__codelineno-171-9></a><span class=w>    </span><span class=vg>$nsfilename</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-171-10><a id=__codelineno-171-10 name=__codelineno-171-10></a><span class=w>        </span><span class=no>Solaris</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/etc/nsswitch.conf&quot;</span><span class=p>,</span>
</span><span id=__span-171-11><a id=__codelineno-171-11 name=__codelineno-171-11></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/etc/nsswitch.conf&quot;</span>
</span><span id=__span-171-12><a id=__codelineno-171-12 name=__codelineno-171-12></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-171-13><a id=__codelineno-171-13 name=__codelineno-171-13></a>
</span><span id=__span-171-14><a id=__codelineno-171-14 name=__codelineno-171-14></a><span class=w>    </span><span class=n>config_file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;$nsfilename&quot;</span><span class=p>:</span>
</span><span id=__span-171-15><a id=__codelineno-171-15 name=__codelineno-171-15></a><span class=w>        </span><span class=n>content</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>template</span><span class=p>(</span><span class=s2>&quot;nsswitch/nsswitch.conf&quot;</span><span class=p>),</span>
</span><span id=__span-171-16><a id=__codelineno-171-16 name=__codelineno-171-16></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-171-17><a id=__codelineno-171-17 name=__codelineno-171-17></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=templates_6>templates</h4> <p>And now the configuration file that will call the facter:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-172-1> 1</a></span>
<span class=normal><a href=#__codelineno-172-2> 2</a></span>
<span class=normal><a href=#__codelineno-172-3> 3</a></span>
<span class=normal><a href=#__codelineno-172-4> 4</a></span>
<span class=normal><a href=#__codelineno-172-5> 5</a></span>
<span class=normal><a href=#__codelineno-172-6> 6</a></span>
<span class=normal><a href=#__codelineno-172-7> 7</a></span>
<span class=normal><a href=#__codelineno-172-8> 8</a></span>
<span class=normal><a href=#__codelineno-172-9> 9</a></span>
<span class=normal><a href=#__codelineno-172-10>10</a></span>
<span class=normal><a href=#__codelineno-172-11>11</a></span>
<span class=normal><a href=#__codelineno-172-12>12</a></span>
<span class=normal><a href=#__codelineno-172-13>13</a></span>
<span class=normal><a href=#__codelineno-172-14>14</a></span>
<span class=normal><a href=#__codelineno-172-15>15</a></span>
<span class=normal><a href=#__codelineno-172-16>16</a></span>
<span class=normal><a href=#__codelineno-172-17>17</a></span>
<span class=normal><a href=#__codelineno-172-18>18</a></span>
<span class=normal><a href=#__codelineno-172-19>19</a></span>
<span class=normal><a href=#__codelineno-172-20>20</a></span>
<span class=normal><a href=#__codelineno-172-21>21</a></span>
<span class=normal><a href=#__codelineno-172-22>22</a></span>
<span class=normal><a href=#__codelineno-172-23>23</a></span>
<span class=normal><a href=#__codelineno-172-24>24</a></span>
<span class=normal><a href=#__codelineno-172-25>25</a></span>
<span class=normal><a href=#__codelineno-172-26>26</a></span>
<span class=normal><a href=#__codelineno-172-27>27</a></span>
<span class=normal><a href=#__codelineno-172-28>28</a></span>
<span class=normal><a href=#__codelineno-172-29>29</a></span>
<span class=normal><a href=#__codelineno-172-30>30</a></span>
<span class=normal><a href=#__codelineno-172-31>31</a></span>
<span class=normal><a href=#__codelineno-172-32>32</a></span>
<span class=normal><a href=#__codelineno-172-33>33</a></span>
<span class=normal><a href=#__codelineno-172-34>34</a></span>
<span class=normal><a href=#__codelineno-172-35>35</a></span>
<span class=normal><a href=#__codelineno-172-36>36</a></span>
<span class=normal><a href=#__codelineno-172-37>37</a></span>
<span class=normal><a href=#__codelineno-172-38>38</a></span>
<span class=normal><a href=#__codelineno-172-39>39</a></span>
<span class=normal><a href=#__codelineno-172-40>40</a></span>
<span class=normal><a href=#__codelineno-172-41>41</a></span>
<span class=normal><a href=#__codelineno-172-42>42</a></span>
<span class=normal><a href=#__codelineno-172-43>43</a></span>
<span class=normal><a href=#__codelineno-172-44>44</a></span>
<span class=normal><a href=#__codelineno-172-45>45</a></span>
<span class=normal><a href=#__codelineno-172-46>46</a></span>
<span class=normal><a href=#__codelineno-172-47>47</a></span>
<span class=normal><a href=#__codelineno-172-48>48</a></span>
<span class=normal><a href=#__codelineno-172-49>49</a></span>
<span class=normal><a href=#__codelineno-172-50>50</a></span>
<span class=normal><a href=#__codelineno-172-51>51</a></span>
<span class=normal><a href=#__codelineno-172-52>52</a></span>
<span class=normal><a href=#__codelineno-172-53>53</a></span>
<span class=normal><a href=#__codelineno-172-54>54</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-172-1><a id=__codelineno-172-1 name=__codelineno-172-1></a>#
</span><span id=__span-172-2><a id=__codelineno-172-2 name=__codelineno-172-2></a># Copyright 2006 Sun Microsystems, Inc.  All rights reserved.
</span><span id=__span-172-3><a id=__codelineno-172-3 name=__codelineno-172-3></a># Use is subject to license terms.
</span><span id=__span-172-4><a id=__codelineno-172-4 name=__codelineno-172-4></a>#
</span><span id=__span-172-5><a id=__codelineno-172-5 name=__codelineno-172-5></a>
</span><span id=__span-172-6><a id=__codelineno-172-6 name=__codelineno-172-6></a>#
</span><span id=__span-172-7><a id=__codelineno-172-7 name=__codelineno-172-7></a># /etc/nsswitch.dns:
</span><span id=__span-172-8><a id=__codelineno-172-8 name=__codelineno-172-8></a>#
</span><span id=__span-172-9><a id=__codelineno-172-9 name=__codelineno-172-9></a># An example file that could be copied over to /etc/nsswitch.conf; it uses
</span><span id=__span-172-10><a id=__codelineno-172-10 name=__codelineno-172-10></a># DNS for hosts lookups, otherwise it does not use any other naming service.
</span><span id=__span-172-11><a id=__codelineno-172-11 name=__codelineno-172-11></a>#
</span><span id=__span-172-12><a id=__codelineno-172-12 name=__codelineno-172-12></a># &quot;hosts:&quot; and &quot;services:&quot; in this file are used only if the
</span><span id=__span-172-13><a id=__codelineno-172-13 name=__codelineno-172-13></a># /etc/netconfig file has a &quot;-&quot; for nametoaddr_libs of &quot;inet&quot; transports.
</span><span id=__span-172-14><a id=__codelineno-172-14 name=__codelineno-172-14></a>
</span><span id=__span-172-15><a id=__codelineno-172-15 name=__codelineno-172-15></a># DNS service expects that an instance of svc:/network/dns/client be
</span><span id=__span-172-16><a id=__codelineno-172-16 name=__codelineno-172-16></a># enabled and online.
</span><span id=__span-172-17><a id=__codelineno-172-17 name=__codelineno-172-17></a>
</span><span id=__span-172-18><a id=__codelineno-172-18 name=__codelineno-172-18></a>passwd:     files ldap
</span><span id=__span-172-19><a id=__codelineno-172-19 name=__codelineno-172-19></a>group:      files ldap
</span><span id=__span-172-20><a id=__codelineno-172-20 name=__codelineno-172-20></a>
</span><span id=__span-172-21><a id=__codelineno-172-21 name=__codelineno-172-21></a># You must also set up the /etc/resolv.conf file for DNS name
</span><span id=__span-172-22><a id=__codelineno-172-22 name=__codelineno-172-22></a># server lookup.  See resolv.conf(4).
</span><span id=__span-172-23><a id=__codelineno-172-23 name=__codelineno-172-23></a>#hosts:      files dns
</span><span id=__span-172-24><a id=__codelineno-172-24 name=__codelineno-172-24></a>
</span><span id=__span-172-25><a id=__codelineno-172-25 name=__codelineno-172-25></a>hosts:      &lt;% if is_cluster -%&gt;cluster&lt;% end -%&gt; files dns
</span><span id=__span-172-26><a id=__codelineno-172-26 name=__codelineno-172-26></a>
</span><span id=__span-172-27><a id=__codelineno-172-27 name=__codelineno-172-27></a># Note that IPv4 addresses are searched for in all of the ipnodes databases
</span><span id=__span-172-28><a id=__codelineno-172-28 name=__codelineno-172-28></a># before searching the hosts databases.
</span><span id=__span-172-29><a id=__codelineno-172-29 name=__codelineno-172-29></a>#ipnodes:   files dns
</span><span id=__span-172-30><a id=__codelineno-172-30 name=__codelineno-172-30></a>#ipnodes:   files dns [TRYAGAIN=0]
</span><span id=__span-172-31><a id=__codelineno-172-31 name=__codelineno-172-31></a>ipnodes:   files dns [TRYAGAIN=0 ]
</span><span id=__span-172-32><a id=__codelineno-172-32 name=__codelineno-172-32></a>
</span><span id=__span-172-33><a id=__codelineno-172-33 name=__codelineno-172-33></a>networks:   files
</span><span id=__span-172-34><a id=__codelineno-172-34 name=__codelineno-172-34></a>protocols:  files
</span><span id=__span-172-35><a id=__codelineno-172-35 name=__codelineno-172-35></a>rpc:        files
</span><span id=__span-172-36><a id=__codelineno-172-36 name=__codelineno-172-36></a>ethers:     files
</span><span id=__span-172-37><a id=__codelineno-172-37 name=__codelineno-172-37></a>#netmasks:   files
</span><span id=__span-172-38><a id=__codelineno-172-38 name=__codelineno-172-38></a>netmasks:   &lt;% if is_cluster -%&gt;cluster&lt;% end -%&gt; files
</span><span id=__span-172-39><a id=__codelineno-172-39 name=__codelineno-172-39></a>bootparams: files
</span><span id=__span-172-40><a id=__codelineno-172-40 name=__codelineno-172-40></a>publickey:  files
</span><span id=__span-172-41><a id=__codelineno-172-41 name=__codelineno-172-41></a># At present there isn&#39;t a &#39;files&#39; backend for netgroup;  the system will
</span><span id=__span-172-42><a id=__codelineno-172-42 name=__codelineno-172-42></a>#   figure it out pretty quickly, and won&#39;t use netgroups at all.
</span><span id=__span-172-43><a id=__codelineno-172-43 name=__codelineno-172-43></a>netgroup:   files
</span><span id=__span-172-44><a id=__codelineno-172-44 name=__codelineno-172-44></a>automount:  files
</span><span id=__span-172-45><a id=__codelineno-172-45 name=__codelineno-172-45></a>aliases:    files
</span><span id=__span-172-46><a id=__codelineno-172-46 name=__codelineno-172-46></a>services:   files
</span><span id=__span-172-47><a id=__codelineno-172-47 name=__codelineno-172-47></a>printers:       user files
</span><span id=__span-172-48><a id=__codelineno-172-48 name=__codelineno-172-48></a>
</span><span id=__span-172-49><a id=__codelineno-172-49 name=__codelineno-172-49></a>auth_attr:  files
</span><span id=__span-172-50><a id=__codelineno-172-50 name=__codelineno-172-50></a>prof_attr:  files
</span><span id=__span-172-51><a id=__codelineno-172-51 name=__codelineno-172-51></a>project:    files
</span><span id=__span-172-52><a id=__codelineno-172-52 name=__codelineno-172-52></a>
</span><span id=__span-172-53><a id=__codelineno-172-53 name=__codelineno-172-53></a>tnrhtp:     files
</span><span id=__span-172-54><a id=__codelineno-172-54 name=__codelineno-172-54></a>tnrhdb:     files
</span></code></pre></div></td></tr></table></div> <h3 id=nagios-nrpe-plugins>Nagios NRPE + plugins</h3> <p>You must initialize the module before continuing.</p> <h4 id=initpp_19>init.pp</h4> <p>Let's say I have a folder of nagios plugins that I want to deploy everywhere. Sometimes I add them, I remove them, in short, I live my life with them and I want it to be fully synchronized. Here's how:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-173-1> 1</a></span>
<span class=normal><a href=#__codelineno-173-2> 2</a></span>
<span class=normal><a href=#__codelineno-173-3> 3</a></span>
<span class=normal><a href=#__codelineno-173-4> 4</a></span>
<span class=normal><a href=#__codelineno-173-5> 5</a></span>
<span class=normal><a href=#__codelineno-173-6> 6</a></span>
<span class=normal><a href=#__codelineno-173-7> 7</a></span>
<span class=normal><a href=#__codelineno-173-8> 8</a></span>
<span class=normal><a href=#__codelineno-173-9> 9</a></span>
<span class=normal><a href=#__codelineno-173-10>10</a></span>
<span class=normal><a href=#__codelineno-173-11>11</a></span>
<span class=normal><a href=#__codelineno-173-12>12</a></span>
<span class=normal><a href=#__codelineno-173-13>13</a></span>
<span class=normal><a href=#__codelineno-173-14>14</a></span>
<span class=normal><a href=#__codelineno-173-15>15</a></span>
<span class=normal><a href=#__codelineno-173-16>16</a></span>
<span class=normal><a href=#__codelineno-173-17>17</a></span>
<span class=normal><a href=#__codelineno-173-18>18</a></span>
<span class=normal><a href=#__codelineno-173-19>19</a></span>
<span class=normal><a href=#__codelineno-173-20>20</a></span>
<span class=normal><a href=#__codelineno-173-21>21</a></span>
<span class=normal><a href=#__codelineno-173-22>22</a></span>
<span class=normal><a href=#__codelineno-173-23>23</a></span>
<span class=normal><a href=#__codelineno-173-24>24</a></span>
<span class=normal><a href=#__codelineno-173-25>25</a></span>
<span class=normal><a href=#__codelineno-173-26>26</a></span>
<span class=normal><a href=#__codelineno-173-27>27</a></span>
<span class=normal><a href=#__codelineno-173-28>28</a></span>
<span class=normal><a href=#__codelineno-173-29>29</a></span>
<span class=normal><a href=#__codelineno-173-30>30</a></span>
<span class=normal><a href=#__codelineno-173-31>31</a></span>
<span class=normal><a href=#__codelineno-173-32>32</a></span>
<span class=normal><a href=#__codelineno-173-33>33</a></span>
<span class=normal><a href=#__codelineno-173-34>34</a></span>
<span class=normal><a href=#__codelineno-173-35>35</a></span>
<span class=normal><a href=#__codelineno-173-36>36</a></span>
<span class=normal><a href=#__codelineno-173-37>37</a></span>
<span class=normal><a href=#__codelineno-173-38>38</a></span>
<span class=normal><a href=#__codelineno-173-39>39</a></span>
<span class=normal><a href=#__codelineno-173-40>40</a></span>
<span class=normal><a href=#__codelineno-173-41>41</a></span>
<span class=normal><a href=#__codelineno-173-42>42</a></span>
<span class=normal><a href=#__codelineno-173-43>43</a></span>
<span class=normal><a href=#__codelineno-173-44>44</a></span>
<span class=normal><a href=#__codelineno-173-45>45</a></span>
<span class=normal><a href=#__codelineno-173-46>46</a></span>
<span class=normal><a href=#__codelineno-173-47>47</a></span>
<span class=normal><a href=#__codelineno-173-48>48</a></span>
<span class=normal><a href=#__codelineno-173-49>49</a></span>
<span class=normal><a href=#__codelineno-173-50>50</a></span>
<span class=normal><a href=#__codelineno-173-51>51</a></span>
<span class=normal><a href=#__codelineno-173-52>52</a></span>
<span class=normal><a href=#__codelineno-173-53>53</a></span>
<span class=normal><a href=#__codelineno-173-54>54</a></span>
<span class=normal><a href=#__codelineno-173-55>55</a></span>
<span class=normal><a href=#__codelineno-173-56>56</a></span>
<span class=normal><a href=#__codelineno-173-57>57</a></span>
<span class=normal><a href=#__codelineno-173-58>58</a></span>
<span class=normal><a href=#__codelineno-173-59>59</a></span>
<span class=normal><a href=#__codelineno-173-60>60</a></span>
<span class=normal><a href=#__codelineno-173-61>61</a></span>
<span class=normal><a href=#__codelineno-173-62>62</a></span>
<span class=normal><a href=#__codelineno-173-63>63</a></span>
<span class=normal><a href=#__codelineno-173-64>64</a></span>
<span class=normal><a href=#__codelineno-173-65>65</a></span>
<span class=normal><a href=#__codelineno-173-66>66</a></span>
<span class=normal><a href=#__codelineno-173-67>67</a></span>
<span class=normal><a href=#__codelineno-173-68>68</a></span>
<span class=normal><a href=#__codelineno-173-69>69</a></span>
<span class=normal><a href=#__codelineno-173-70>70</a></span>
<span class=normal><a href=#__codelineno-173-71>71</a></span>
<span class=normal><a href=#__codelineno-173-72>72</a></span>
<span class=normal><a href=#__codelineno-173-73>73</a></span>
<span class=normal><a href=#__codelineno-173-74>74</a></span>
<span class=normal><a href=#__codelineno-173-75>75</a></span>
<span class=normal><a href=#__codelineno-173-76>76</a></span>
<span class=normal><a href=#__codelineno-173-77>77</a></span>
<span class=normal><a href=#__codelineno-173-78>78</a></span>
<span class=normal><a href=#__codelineno-173-79>79</a></span>
<span class=normal><a href=#__codelineno-173-80>80</a></span>
<span class=normal><a href=#__codelineno-173-81>81</a></span>
<span class=normal><a href=#__codelineno-173-82>82</a></span>
<span class=normal><a href=#__codelineno-173-83>83</a></span>
<span class=normal><a href=#__codelineno-173-84>84</a></span>
<span class=normal><a href=#__codelineno-173-85>85</a></span>
<span class=normal><a href=#__codelineno-173-86>86</a></span>
<span class=normal><a href=#__codelineno-173-87>87</a></span>
<span class=normal><a href=#__codelineno-173-88>88</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-173-1><a id=__codelineno-173-1 name=__codelineno-173-1></a><span class=c1>#nagios_plugins.pp</span>
</span><span id=__span-173-2><a id=__codelineno-173-2 name=__codelineno-173-2></a><span class=k>class</span><span class=w> </span><span class=n>nrpe</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-173-3><a id=__codelineno-173-3 name=__codelineno-173-3></a><span class=w>    </span><span class=c1># Copy conf and send checks</span>
</span><span id=__span-173-4><a id=__codelineno-173-4 name=__codelineno-173-4></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>nrpe</span><span class=o>::</span><span class=n>common</span>
</span><span id=__span-173-5><a id=__codelineno-173-5 name=__codelineno-173-5></a>
</span><span id=__span-173-6><a id=__codelineno-173-6 name=__codelineno-173-6></a><span class=w>    </span><span class=c1># Check operating system</span>
</span><span id=__span-173-7><a id=__codelineno-173-7 name=__codelineno-173-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-173-8><a id=__codelineno-173-8 name=__codelineno-173-8></a><span class=w>        </span><span class=ss>Solaris</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-173-9><a id=__codelineno-173-9 name=__codelineno-173-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>nrpe</span><span class=o>::</span><span class=n>service</span><span class=o>::</span><span class=n>solaris</span>
</span><span id=__span-173-10><a id=__codelineno-173-10 name=__codelineno-173-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-173-11><a id=__codelineno-173-11 name=__codelineno-173-11></a><span class=w>        </span><span class=ss>default</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-173-12><a id=__codelineno-173-12 name=__codelineno-173-12></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-173-13><a id=__codelineno-173-13 name=__codelineno-173-13></a><span class=p>}</span>
</span><span id=__span-173-14><a id=__codelineno-173-14 name=__codelineno-173-14></a>
</span><span id=__span-173-15><a id=__codelineno-173-15 name=__codelineno-173-15></a><span class=k>class</span><span class=w> </span><span class=n>nrpe</span><span class=o>::</span><span class=n>common</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-173-16><a id=__codelineno-173-16 name=__codelineno-173-16></a><span class=w>    </span><span class=k>class</span><span class=w> </span><span class=n>nrpe</span><span class=o>::</span><span class=n>configs</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-173-17><a id=__codelineno-173-17 name=__codelineno-173-17></a><span class=w>        </span><span class=c1># Used for nrpe-deimos.cfg templates</span>
</span><span id=__span-173-18><a id=__codelineno-173-18 name=__codelineno-173-18></a><span class=w>        </span><span class=vg>$nrpe_distrib</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-173-19><a id=__codelineno-173-19 name=__codelineno-173-19></a><span class=w>            </span><span class=s1>&#39;Solaris&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/opt/csw/libexec/nagios-plugins&quot;</span><span class=p>,</span>
</span><span id=__span-173-20><a id=__codelineno-173-20 name=__codelineno-173-20></a><span class=w>            </span><span class=s1>&#39;redhat&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/home/deimos/checks/nrpe_scripts&quot;</span><span class=p>,</span>
</span><span id=__span-173-21><a id=__codelineno-173-21 name=__codelineno-173-21></a><span class=w>            </span><span class=s1>&#39;debian&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/etc/nrpe&quot;</span><span class=p>,</span>
</span><span id=__span-173-22><a id=__codelineno-173-22 name=__codelineno-173-22></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-173-23><a id=__codelineno-173-23 name=__codelineno-173-23></a>
</span><span id=__span-173-24><a id=__codelineno-173-24 name=__codelineno-173-24></a><span class=w>        </span><span class=c1># Used for nrpe-deimos.cfg templates</span>
</span><span id=__span-173-25><a id=__codelineno-173-25 name=__codelineno-173-25></a><span class=w>        </span><span class=vg>$deimos_script</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-173-26><a id=__codelineno-173-26 name=__codelineno-173-26></a><span class=w>                </span><span class=s1>&#39;Solaris&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/opt/deimos/libexec&quot;</span><span class=p>,</span>
</span><span id=__span-173-27><a id=__codelineno-173-27 name=__codelineno-173-27></a><span class=w>                </span><span class=s1>&#39;redhat&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/etc/nrpe.d&quot;</span><span class=p>,</span>
</span><span id=__span-173-28><a id=__codelineno-173-28 name=__codelineno-173-28></a><span class=w>                </span><span class=s1>&#39;debian&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/etc/nrpe&quot;</span><span class=p>,</span>
</span><span id=__span-173-29><a id=__codelineno-173-29 name=__codelineno-173-29></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-173-30><a id=__codelineno-173-30 name=__codelineno-173-30></a>
</span><span id=__span-173-31><a id=__codelineno-173-31 name=__codelineno-173-31></a><span class=w>        </span><span class=c1># Copy NRPE config file</span>
</span><span id=__span-173-32><a id=__codelineno-173-32 name=__codelineno-173-32></a><span class=w>        </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;/opt/csw/etc/nrpe.cfg&#39;</span><span class=p>:</span>
</span><span id=__span-173-33><a id=__codelineno-173-33 name=__codelineno-173-33></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span><span class=w> </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-173-34><a id=__codelineno-173-34 name=__codelineno-173-34></a><span class=w>            </span><span class=n>content</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>template</span><span class=p>(</span><span class=s1>&#39;nrpe/nrpe.cfg&#39;</span><span class=p>),</span>
</span><span id=__span-173-35><a id=__codelineno-173-35 name=__codelineno-173-35></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-173-36><a id=__codelineno-173-36 name=__codelineno-173-36></a>
</span><span id=__span-173-37><a id=__codelineno-173-37 name=__codelineno-173-37></a><span class=w>        </span><span class=c1>## Copy and adapt NRPE deimos Config file ##</span>
</span><span id=__span-173-38><a id=__codelineno-173-38 name=__codelineno-173-38></a><span class=w>        </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;/opt/csw/etc/nrpe-deimos.cfg&#39;</span><span class=p>:</span>
</span><span id=__span-173-39><a id=__codelineno-173-39 name=__codelineno-173-39></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span><span class=w> </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-173-40><a id=__codelineno-173-40 name=__codelineno-173-40></a><span class=w>            </span><span class=n>content</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>template</span><span class=p>(</span><span class=s1>&#39;nrpe/nrpe-deimos.cfg&#39;</span><span class=p>),</span>
</span><span id=__span-173-41><a id=__codelineno-173-41 name=__codelineno-173-41></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-173-42><a id=__codelineno-173-42 name=__codelineno-173-42></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-173-43><a id=__codelineno-173-43 name=__codelineno-173-43></a>
</span><span id=__span-173-44><a id=__codelineno-173-44 name=__codelineno-173-44></a><span class=w>    </span><span class=k>class</span><span class=w> </span><span class=n>nrpe</span><span class=o>::</span><span class=n>copy_checks</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-173-45><a id=__codelineno-173-45 name=__codelineno-173-45></a><span class=w>        </span><span class=c1>## Copy deimos Production NRPE Checks ##</span>
</span><span id=__span-173-46><a id=__codelineno-173-46 name=__codelineno-173-46></a>
</span><span id=__span-173-47><a id=__codelineno-173-47 name=__codelineno-173-47></a><span class=w>        </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;nrpe_prod_checks&quot;</span><span class=p>:</span>
</span><span id=__span-173-48><a id=__codelineno-173-48 name=__codelineno-173-48></a><span class=w>            </span><span class=nb>name</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-173-49><a id=__codelineno-173-49 name=__codelineno-173-49></a><span class=w>                </span><span class=s1>&#39;Solaris&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/opt/deimos/libexec&quot;</span><span class=p>,</span>
</span><span id=__span-173-50><a id=__codelineno-173-50 name=__codelineno-173-50></a><span class=w>                </span><span class=s1>&#39;redhat&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/home/deimos/checks/nrpe_scripts&quot;</span><span class=p>,</span>
</span><span id=__span-173-51><a id=__codelineno-173-51 name=__codelineno-173-51></a><span class=w>                </span><span class=s1>&#39;debian&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/etc/nrpe&quot;</span><span class=p>,</span>
</span><span id=__span-173-52><a id=__codelineno-173-52 name=__codelineno-173-52></a><span class=w>            </span><span class=p>},</span>
</span><span id=__span-173-53><a id=__codelineno-173-53 name=__codelineno-173-53></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-173-54><a id=__codelineno-173-54 name=__codelineno-173-54></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>755</span><span class=p>,</span><span class=w> </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-173-55><a id=__codelineno-173-55 name=__codelineno-173-55></a><span class=w>            </span><span class=n>sourceselect</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>all</span><span class=p>,</span>
</span><span id=__span-173-56><a id=__codelineno-173-56 name=__codelineno-173-56></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-173-57><a id=__codelineno-173-57 name=__codelineno-173-57></a><span class=w>                </span><span class=s1>&#39;Solaris&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=s2>&quot;puppet:///modules/nrpe/Nagios/nrpechecks/deimos&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;puppet:///modules/nrpe/Nagios/nrpechecks/system&quot;</span><span class=w> </span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-173-58><a id=__codelineno-173-58 name=__codelineno-173-58></a><span class=w>            </span><span class=n>recurse</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-173-59><a id=__codelineno-173-59 name=__codelineno-173-59></a><span class=w>            </span><span class=n>force</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-173-60><a id=__codelineno-173-60 name=__codelineno-173-60></a><span class=w>            </span><span class=n>ignore</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;.svn&#39;</span>
</span><span id=__span-173-61><a id=__codelineno-173-61 name=__codelineno-173-61></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-173-62><a id=__codelineno-173-62 name=__codelineno-173-62></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-173-63><a id=__codelineno-173-63 name=__codelineno-173-63></a>
</span><span id=__span-173-64><a id=__codelineno-173-64 name=__codelineno-173-64></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>nrpe</span><span class=o>::</span><span class=n>configs</span>
</span><span id=__span-173-65><a id=__codelineno-173-65 name=__codelineno-173-65></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>nrpe</span><span class=o>::</span><span class=n>copy_checks</span>
</span><span id=__span-173-66><a id=__codelineno-173-66 name=__codelineno-173-66></a><span class=p>}</span>
</span><span id=__span-173-67><a id=__codelineno-173-67 name=__codelineno-173-67></a>
</span><span id=__span-173-68><a id=__codelineno-173-68 name=__codelineno-173-68></a><span class=k>class</span><span class=w> </span><span class=n>nrpe</span><span class=o>::</span><span class=n>service</span><span class=o>::</span><span class=n>solaris</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-173-69><a id=__codelineno-173-69 name=__codelineno-173-69></a><span class=w>    </span><span class=c1>## Check service and restart if needed</span>
</span><span id=__span-173-70><a id=__codelineno-173-70 name=__codelineno-173-70></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s1>&#39;/var/svc/manifest/network/nagios-nrpe.xml&#39;</span><span class=p>:</span>
</span><span id=__span-173-71><a id=__codelineno-173-71 name=__codelineno-173-71></a><span class=w>        </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/nrpe/nagios-nrpe.xml&quot;</span><span class=p>,</span>
</span><span id=__span-173-72><a id=__codelineno-173-72 name=__codelineno-173-72></a><span class=w>        </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span><span class=w> </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span><span class=w> </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>sys</span><span class=p>,</span>
</span><span id=__span-173-73><a id=__codelineno-173-73 name=__codelineno-173-73></a><span class=w>        </span><span class=n>before</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;svc:/network/cswnrpe:default&quot;</span><span class=o>]</span>
</span><span id=__span-173-74><a id=__codelineno-173-74 name=__codelineno-173-74></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-173-75><a id=__codelineno-173-75 name=__codelineno-173-75></a>
</span><span id=__span-173-76><a id=__codelineno-173-76 name=__codelineno-173-76></a><span class=w>    </span><span class=c1># Restart service if smf xml has changed</span>
</span><span id=__span-173-77><a id=__codelineno-173-77 name=__codelineno-173-77></a><span class=w>    </span><span class=nb>exec</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;`svccfg import /var/svc/manifest/network/nagios-nrpe.xml`&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-173-78><a id=__codelineno-173-78 name=__codelineno-173-78></a><span class=w>        </span><span class=n>subscribe</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s1>&#39;/var/svc/manifest/network/nagios-nrpe.xml&#39;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-173-79><a id=__codelineno-173-79 name=__codelineno-173-79></a><span class=w>        </span><span class=n>refreshonly</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span>
</span><span id=__span-173-80><a id=__codelineno-173-80 name=__codelineno-173-80></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-173-81><a id=__codelineno-173-81 name=__codelineno-173-81></a>
</span><span id=__span-173-82><a id=__codelineno-173-82 name=__codelineno-173-82></a><span class=w>    </span><span class=c1># Restart if one of those files have changed</span>
</span><span id=__span-173-83><a id=__codelineno-173-83 name=__codelineno-173-83></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;svc:/network/cswnrpe:default&quot;</span><span class=p>:</span>
</span><span id=__span-173-84><a id=__codelineno-173-84 name=__codelineno-173-84></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span><span class=p>,</span>
</span><span id=__span-173-85><a id=__codelineno-173-85 name=__codelineno-173-85></a><span class=w>        </span><span class=n>manifest</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/var/svc/manifest/network/nagios-nrpe.xml&quot;</span><span class=p>,</span>
</span><span id=__span-173-86><a id=__codelineno-173-86 name=__codelineno-173-86></a><span class=w>        </span><span class=n>subscribe</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s1>&#39;/opt/csw/etc/nrpe.cfg&#39;</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s1>&#39;/opt/csw/etc/nrpe-deimos.cfg&#39;</span><span class=o>]</span><span class=w> </span><span class=o>]</span>
</span><span id=__span-173-87><a id=__codelineno-173-87 name=__codelineno-173-87></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-173-88><a id=__codelineno-173-88 name=__codelineno-173-88></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Here:</p> <ul> <li>purge allows to delete files that no longer exist</li> <li>recurse: recursive</li> <li>force: allows to force</li> <li>before: allows to be executed before something else</li> <li>subscribe: subscribes to a dependency with respect to the value of it</li> <li>refreshonly: refreshes only if there are changes</li> </ul> <p>With the subscribe, you can see here, we make lists like this: [ element_1, element_2, element_3... ]. However, small precision, the change operates (here a restart) only if one of the elements in the list is modified and not all.</p> <p>You can also see from lines 54 to 56, we do multi sourcing which allows us to specify multiple sources and based on these to send to one place the content of these various files.</p> <h4 id=files_9>files</h4> <p>For the file part, I linked with an external svn which allows me to free myself from the integration of plugins in the puppet part (which between us has nothing to do here).</p> <h4 id=templates_7>templates</h4> <p>Just copy the nagios_plugins folder to files and make the templates here (I'll only do the nrpe.cfg):</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-174-1>1</a></span>
<span class=normal><a href=#__codelineno-174-2>2</a></span>
<span class=normal><a href=#__codelineno-174-3>3</a></span>
<span class=normal><a href=#__codelineno-174-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-174-1><a id=__codelineno-174-1 name=__codelineno-174-1></a>...
</span><span id=__span-174-2><a id=__codelineno-174-2 name=__codelineno-174-2></a>command[check_load]=&lt;%= nrpe_distrib %&gt;/check_load -w 15,10,5 -c 30,25,20
</span><span id=__span-174-3><a id=__codelineno-174-3 name=__codelineno-174-3></a>command[sunos_check_rss_mem]=&lt;%= deimos_script %&gt;/check_rss_mem.pl -w $ARG1$ -c $ARG2$
</span><span id=__span-174-4><a id=__codelineno-174-4 name=__codelineno-174-4></a>...
</span></code></pre></div></td></tr></table></div> <h3 id=munin>Munin</h3> <p>Disclaimer: this work is mostly based upon DavidS work, available on his [git repo]. In the scope of my work I needed to have munin support for freeBSD &amp; Solaris. I also wrote a class for snmp_plugins &amp; custom plugins. Some things are quite dependant from my infrastructure, like munin.conf generation script but it can easily be adapted to yours, by extracting data from your CMDB.</p> <p>It requires the munin_interfaces fact published here (and merged into DavidS repo, thanks to him), and [Volcane's extlookup function] to store some parameters. Enough talking, this is the code:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-175-1>  1</a></span>
<span class=normal><a href=#__codelineno-175-2>  2</a></span>
<span class=normal><a href=#__codelineno-175-3>  3</a></span>
<span class=normal><a href=#__codelineno-175-4>  4</a></span>
<span class=normal><a href=#__codelineno-175-5>  5</a></span>
<span class=normal><a href=#__codelineno-175-6>  6</a></span>
<span class=normal><a href=#__codelineno-175-7>  7</a></span>
<span class=normal><a href=#__codelineno-175-8>  8</a></span>
<span class=normal><a href=#__codelineno-175-9>  9</a></span>
<span class=normal><a href=#__codelineno-175-10> 10</a></span>
<span class=normal><a href=#__codelineno-175-11> 11</a></span>
<span class=normal><a href=#__codelineno-175-12> 12</a></span>
<span class=normal><a href=#__codelineno-175-13> 13</a></span>
<span class=normal><a href=#__codelineno-175-14> 14</a></span>
<span class=normal><a href=#__codelineno-175-15> 15</a></span>
<span class=normal><a href=#__codelineno-175-16> 16</a></span>
<span class=normal><a href=#__codelineno-175-17> 17</a></span>
<span class=normal><a href=#__codelineno-175-18> 18</a></span>
<span class=normal><a href=#__codelineno-175-19> 19</a></span>
<span class=normal><a href=#__codelineno-175-20> 20</a></span>
<span class=normal><a href=#__codelineno-175-21> 21</a></span>
<span class=normal><a href=#__codelineno-175-22> 22</a></span>
<span class=normal><a href=#__codelineno-175-23> 23</a></span>
<span class=normal><a href=#__codelineno-175-24> 24</a></span>
<span class=normal><a href=#__codelineno-175-25> 25</a></span>
<span class=normal><a href=#__codelineno-175-26> 26</a></span>
<span class=normal><a href=#__codelineno-175-27> 27</a></span>
<span class=normal><a href=#__codelineno-175-28> 28</a></span>
<span class=normal><a href=#__codelineno-175-29> 29</a></span>
<span class=normal><a href=#__codelineno-175-30> 30</a></span>
<span class=normal><a href=#__codelineno-175-31> 31</a></span>
<span class=normal><a href=#__codelineno-175-32> 32</a></span>
<span class=normal><a href=#__codelineno-175-33> 33</a></span>
<span class=normal><a href=#__codelineno-175-34> 34</a></span>
<span class=normal><a href=#__codelineno-175-35> 35</a></span>
<span class=normal><a href=#__codelineno-175-36> 36</a></span>
<span class=normal><a href=#__codelineno-175-37> 37</a></span>
<span class=normal><a href=#__codelineno-175-38> 38</a></span>
<span class=normal><a href=#__codelineno-175-39> 39</a></span>
<span class=normal><a href=#__codelineno-175-40> 40</a></span>
<span class=normal><a href=#__codelineno-175-41> 41</a></span>
<span class=normal><a href=#__codelineno-175-42> 42</a></span>
<span class=normal><a href=#__codelineno-175-43> 43</a></span>
<span class=normal><a href=#__codelineno-175-44> 44</a></span>
<span class=normal><a href=#__codelineno-175-45> 45</a></span>
<span class=normal><a href=#__codelineno-175-46> 46</a></span>
<span class=normal><a href=#__codelineno-175-47> 47</a></span>
<span class=normal><a href=#__codelineno-175-48> 48</a></span>
<span class=normal><a href=#__codelineno-175-49> 49</a></span>
<span class=normal><a href=#__codelineno-175-50> 50</a></span>
<span class=normal><a href=#__codelineno-175-51> 51</a></span>
<span class=normal><a href=#__codelineno-175-52> 52</a></span>
<span class=normal><a href=#__codelineno-175-53> 53</a></span>
<span class=normal><a href=#__codelineno-175-54> 54</a></span>
<span class=normal><a href=#__codelineno-175-55> 55</a></span>
<span class=normal><a href=#__codelineno-175-56> 56</a></span>
<span class=normal><a href=#__codelineno-175-57> 57</a></span>
<span class=normal><a href=#__codelineno-175-58> 58</a></span>
<span class=normal><a href=#__codelineno-175-59> 59</a></span>
<span class=normal><a href=#__codelineno-175-60> 60</a></span>
<span class=normal><a href=#__codelineno-175-61> 61</a></span>
<span class=normal><a href=#__codelineno-175-62> 62</a></span>
<span class=normal><a href=#__codelineno-175-63> 63</a></span>
<span class=normal><a href=#__codelineno-175-64> 64</a></span>
<span class=normal><a href=#__codelineno-175-65> 65</a></span>
<span class=normal><a href=#__codelineno-175-66> 66</a></span>
<span class=normal><a href=#__codelineno-175-67> 67</a></span>
<span class=normal><a href=#__codelineno-175-68> 68</a></span>
<span class=normal><a href=#__codelineno-175-69> 69</a></span>
<span class=normal><a href=#__codelineno-175-70> 70</a></span>
<span class=normal><a href=#__codelineno-175-71> 71</a></span>
<span class=normal><a href=#__codelineno-175-72> 72</a></span>
<span class=normal><a href=#__codelineno-175-73> 73</a></span>
<span class=normal><a href=#__codelineno-175-74> 74</a></span>
<span class=normal><a href=#__codelineno-175-75> 75</a></span>
<span class=normal><a href=#__codelineno-175-76> 76</a></span>
<span class=normal><a href=#__codelineno-175-77> 77</a></span>
<span class=normal><a href=#__codelineno-175-78> 78</a></span>
<span class=normal><a href=#__codelineno-175-79> 79</a></span>
<span class=normal><a href=#__codelineno-175-80> 80</a></span>
<span class=normal><a href=#__codelineno-175-81> 81</a></span>
<span class=normal><a href=#__codelineno-175-82> 82</a></span>
<span class=normal><a href=#__codelineno-175-83> 83</a></span>
<span class=normal><a href=#__codelineno-175-84> 84</a></span>
<span class=normal><a href=#__codelineno-175-85> 85</a></span>
<span class=normal><a href=#__codelineno-175-86> 86</a></span>
<span class=normal><a href=#__codelineno-175-87> 87</a></span>
<span class=normal><a href=#__codelineno-175-88> 88</a></span>
<span class=normal><a href=#__codelineno-175-89> 89</a></span>
<span class=normal><a href=#__codelineno-175-90> 90</a></span>
<span class=normal><a href=#__codelineno-175-91> 91</a></span>
<span class=normal><a href=#__codelineno-175-92> 92</a></span>
<span class=normal><a href=#__codelineno-175-93> 93</a></span>
<span class=normal><a href=#__codelineno-175-94> 94</a></span>
<span class=normal><a href=#__codelineno-175-95> 95</a></span>
<span class=normal><a href=#__codelineno-175-96> 96</a></span>
<span class=normal><a href=#__codelineno-175-97> 97</a></span>
<span class=normal><a href=#__codelineno-175-98> 98</a></span>
<span class=normal><a href=#__codelineno-175-99> 99</a></span>
<span class=normal><a href=#__codelineno-175-100>100</a></span>
<span class=normal><a href=#__codelineno-175-101>101</a></span>
<span class=normal><a href=#__codelineno-175-102>102</a></span>
<span class=normal><a href=#__codelineno-175-103>103</a></span>
<span class=normal><a href=#__codelineno-175-104>104</a></span>
<span class=normal><a href=#__codelineno-175-105>105</a></span>
<span class=normal><a href=#__codelineno-175-106>106</a></span>
<span class=normal><a href=#__codelineno-175-107>107</a></span>
<span class=normal><a href=#__codelineno-175-108>108</a></span>
<span class=normal><a href=#__codelineno-175-109>109</a></span>
<span class=normal><a href=#__codelineno-175-110>110</a></span>
<span class=normal><a href=#__codelineno-175-111>111</a></span>
<span class=normal><a href=#__codelineno-175-112>112</a></span>
<span class=normal><a href=#__codelineno-175-113>113</a></span>
<span class=normal><a href=#__codelineno-175-114>114</a></span>
<span class=normal><a href=#__codelineno-175-115>115</a></span>
<span class=normal><a href=#__codelineno-175-116>116</a></span>
<span class=normal><a href=#__codelineno-175-117>117</a></span>
<span class=normal><a href=#__codelineno-175-118>118</a></span>
<span class=normal><a href=#__codelineno-175-119>119</a></span>
<span class=normal><a href=#__codelineno-175-120>120</a></span>
<span class=normal><a href=#__codelineno-175-121>121</a></span>
<span class=normal><a href=#__codelineno-175-122>122</a></span>
<span class=normal><a href=#__codelineno-175-123>123</a></span>
<span class=normal><a href=#__codelineno-175-124>124</a></span>
<span class=normal><a href=#__codelineno-175-125>125</a></span>
<span class=normal><a href=#__codelineno-175-126>126</a></span>
<span class=normal><a href=#__codelineno-175-127>127</a></span>
<span class=normal><a href=#__codelineno-175-128>128</a></span>
<span class=normal><a href=#__codelineno-175-129>129</a></span>
<span class=normal><a href=#__codelineno-175-130>130</a></span>
<span class=normal><a href=#__codelineno-175-131>131</a></span>
<span class=normal><a href=#__codelineno-175-132>132</a></span>
<span class=normal><a href=#__codelineno-175-133>133</a></span>
<span class=normal><a href=#__codelineno-175-134>134</a></span>
<span class=normal><a href=#__codelineno-175-135>135</a></span>
<span class=normal><a href=#__codelineno-175-136>136</a></span>
<span class=normal><a href=#__codelineno-175-137>137</a></span>
<span class=normal><a href=#__codelineno-175-138>138</a></span>
<span class=normal><a href=#__codelineno-175-139>139</a></span>
<span class=normal><a href=#__codelineno-175-140>140</a></span>
<span class=normal><a href=#__codelineno-175-141>141</a></span>
<span class=normal><a href=#__codelineno-175-142>142</a></span>
<span class=normal><a href=#__codelineno-175-143>143</a></span>
<span class=normal><a href=#__codelineno-175-144>144</a></span>
<span class=normal><a href=#__codelineno-175-145>145</a></span>
<span class=normal><a href=#__codelineno-175-146>146</a></span>
<span class=normal><a href=#__codelineno-175-147>147</a></span>
<span class=normal><a href=#__codelineno-175-148>148</a></span>
<span class=normal><a href=#__codelineno-175-149>149</a></span>
<span class=normal><a href=#__codelineno-175-150>150</a></span>
<span class=normal><a href=#__codelineno-175-151>151</a></span>
<span class=normal><a href=#__codelineno-175-152>152</a></span>
<span class=normal><a href=#__codelineno-175-153>153</a></span>
<span class=normal><a href=#__codelineno-175-154>154</a></span>
<span class=normal><a href=#__codelineno-175-155>155</a></span>
<span class=normal><a href=#__codelineno-175-156>156</a></span>
<span class=normal><a href=#__codelineno-175-157>157</a></span>
<span class=normal><a href=#__codelineno-175-158>158</a></span>
<span class=normal><a href=#__codelineno-175-159>159</a></span>
<span class=normal><a href=#__codelineno-175-160>160</a></span>
<span class=normal><a href=#__codelineno-175-161>161</a></span>
<span class=normal><a href=#__codelineno-175-162>162</a></span>
<span class=normal><a href=#__codelineno-175-163>163</a></span>
<span class=normal><a href=#__codelineno-175-164>164</a></span>
<span class=normal><a href=#__codelineno-175-165>165</a></span>
<span class=normal><a href=#__codelineno-175-166>166</a></span>
<span class=normal><a href=#__codelineno-175-167>167</a></span>
<span class=normal><a href=#__codelineno-175-168>168</a></span>
<span class=normal><a href=#__codelineno-175-169>169</a></span>
<span class=normal><a href=#__codelineno-175-170>170</a></span>
<span class=normal><a href=#__codelineno-175-171>171</a></span>
<span class=normal><a href=#__codelineno-175-172>172</a></span>
<span class=normal><a href=#__codelineno-175-173>173</a></span>
<span class=normal><a href=#__codelineno-175-174>174</a></span>
<span class=normal><a href=#__codelineno-175-175>175</a></span>
<span class=normal><a href=#__codelineno-175-176>176</a></span>
<span class=normal><a href=#__codelineno-175-177>177</a></span>
<span class=normal><a href=#__codelineno-175-178>178</a></span>
<span class=normal><a href=#__codelineno-175-179>179</a></span>
<span class=normal><a href=#__codelineno-175-180>180</a></span>
<span class=normal><a href=#__codelineno-175-181>181</a></span>
<span class=normal><a href=#__codelineno-175-182>182</a></span>
<span class=normal><a href=#__codelineno-175-183>183</a></span>
<span class=normal><a href=#__codelineno-175-184>184</a></span>
<span class=normal><a href=#__codelineno-175-185>185</a></span>
<span class=normal><a href=#__codelineno-175-186>186</a></span>
<span class=normal><a href=#__codelineno-175-187>187</a></span>
<span class=normal><a href=#__codelineno-175-188>188</a></span>
<span class=normal><a href=#__codelineno-175-189>189</a></span>
<span class=normal><a href=#__codelineno-175-190>190</a></span>
<span class=normal><a href=#__codelineno-175-191>191</a></span>
<span class=normal><a href=#__codelineno-175-192>192</a></span>
<span class=normal><a href=#__codelineno-175-193>193</a></span>
<span class=normal><a href=#__codelineno-175-194>194</a></span>
<span class=normal><a href=#__codelineno-175-195>195</a></span>
<span class=normal><a href=#__codelineno-175-196>196</a></span>
<span class=normal><a href=#__codelineno-175-197>197</a></span>
<span class=normal><a href=#__codelineno-175-198>198</a></span>
<span class=normal><a href=#__codelineno-175-199>199</a></span>
<span class=normal><a href=#__codelineno-175-200>200</a></span>
<span class=normal><a href=#__codelineno-175-201>201</a></span>
<span class=normal><a href=#__codelineno-175-202>202</a></span>
<span class=normal><a href=#__codelineno-175-203>203</a></span>
<span class=normal><a href=#__codelineno-175-204>204</a></span>
<span class=normal><a href=#__codelineno-175-205>205</a></span>
<span class=normal><a href=#__codelineno-175-206>206</a></span>
<span class=normal><a href=#__codelineno-175-207>207</a></span>
<span class=normal><a href=#__codelineno-175-208>208</a></span>
<span class=normal><a href=#__codelineno-175-209>209</a></span>
<span class=normal><a href=#__codelineno-175-210>210</a></span>
<span class=normal><a href=#__codelineno-175-211>211</a></span>
<span class=normal><a href=#__codelineno-175-212>212</a></span>
<span class=normal><a href=#__codelineno-175-213>213</a></span>
<span class=normal><a href=#__codelineno-175-214>214</a></span>
<span class=normal><a href=#__codelineno-175-215>215</a></span>
<span class=normal><a href=#__codelineno-175-216>216</a></span>
<span class=normal><a href=#__codelineno-175-217>217</a></span>
<span class=normal><a href=#__codelineno-175-218>218</a></span>
<span class=normal><a href=#__codelineno-175-219>219</a></span>
<span class=normal><a href=#__codelineno-175-220>220</a></span>
<span class=normal><a href=#__codelineno-175-221>221</a></span>
<span class=normal><a href=#__codelineno-175-222>222</a></span>
<span class=normal><a href=#__codelineno-175-223>223</a></span>
<span class=normal><a href=#__codelineno-175-224>224</a></span>
<span class=normal><a href=#__codelineno-175-225>225</a></span>
<span class=normal><a href=#__codelineno-175-226>226</a></span>
<span class=normal><a href=#__codelineno-175-227>227</a></span>
<span class=normal><a href=#__codelineno-175-228>228</a></span>
<span class=normal><a href=#__codelineno-175-229>229</a></span>
<span class=normal><a href=#__codelineno-175-230>230</a></span>
<span class=normal><a href=#__codelineno-175-231>231</a></span>
<span class=normal><a href=#__codelineno-175-232>232</a></span>
<span class=normal><a href=#__codelineno-175-233>233</a></span>
<span class=normal><a href=#__codelineno-175-234>234</a></span>
<span class=normal><a href=#__codelineno-175-235>235</a></span>
<span class=normal><a href=#__codelineno-175-236>236</a></span>
<span class=normal><a href=#__codelineno-175-237>237</a></span>
<span class=normal><a href=#__codelineno-175-238>238</a></span>
<span class=normal><a href=#__codelineno-175-239>239</a></span>
<span class=normal><a href=#__codelineno-175-240>240</a></span>
<span class=normal><a href=#__codelineno-175-241>241</a></span>
<span class=normal><a href=#__codelineno-175-242>242</a></span>
<span class=normal><a href=#__codelineno-175-243>243</a></span>
<span class=normal><a href=#__codelineno-175-244>244</a></span>
<span class=normal><a href=#__codelineno-175-245>245</a></span>
<span class=normal><a href=#__codelineno-175-246>246</a></span>
<span class=normal><a href=#__codelineno-175-247>247</a></span>
<span class=normal><a href=#__codelineno-175-248>248</a></span>
<span class=normal><a href=#__codelineno-175-249>249</a></span>
<span class=normal><a href=#__codelineno-175-250>250</a></span>
<span class=normal><a href=#__codelineno-175-251>251</a></span>
<span class=normal><a href=#__codelineno-175-252>252</a></span>
<span class=normal><a href=#__codelineno-175-253>253</a></span>
<span class=normal><a href=#__codelineno-175-254>254</a></span>
<span class=normal><a href=#__codelineno-175-255>255</a></span>
<span class=normal><a href=#__codelineno-175-256>256</a></span>
<span class=normal><a href=#__codelineno-175-257>257</a></span>
<span class=normal><a href=#__codelineno-175-258>258</a></span>
<span class=normal><a href=#__codelineno-175-259>259</a></span>
<span class=normal><a href=#__codelineno-175-260>260</a></span>
<span class=normal><a href=#__codelineno-175-261>261</a></span>
<span class=normal><a href=#__codelineno-175-262>262</a></span>
<span class=normal><a href=#__codelineno-175-263>263</a></span>
<span class=normal><a href=#__codelineno-175-264>264</a></span>
<span class=normal><a href=#__codelineno-175-265>265</a></span>
<span class=normal><a href=#__codelineno-175-266>266</a></span>
<span class=normal><a href=#__codelineno-175-267>267</a></span>
<span class=normal><a href=#__codelineno-175-268>268</a></span>
<span class=normal><a href=#__codelineno-175-269>269</a></span>
<span class=normal><a href=#__codelineno-175-270>270</a></span>
<span class=normal><a href=#__codelineno-175-271>271</a></span>
<span class=normal><a href=#__codelineno-175-272>272</a></span>
<span class=normal><a href=#__codelineno-175-273>273</a></span>
<span class=normal><a href=#__codelineno-175-274>274</a></span>
<span class=normal><a href=#__codelineno-175-275>275</a></span>
<span class=normal><a href=#__codelineno-175-276>276</a></span>
<span class=normal><a href=#__codelineno-175-277>277</a></span>
<span class=normal><a href=#__codelineno-175-278>278</a></span>
<span class=normal><a href=#__codelineno-175-279>279</a></span>
<span class=normal><a href=#__codelineno-175-280>280</a></span>
<span class=normal><a href=#__codelineno-175-281>281</a></span>
<span class=normal><a href=#__codelineno-175-282>282</a></span>
<span class=normal><a href=#__codelineno-175-283>283</a></span>
<span class=normal><a href=#__codelineno-175-284>284</a></span>
<span class=normal><a href=#__codelineno-175-285>285</a></span>
<span class=normal><a href=#__codelineno-175-286>286</a></span>
<span class=normal><a href=#__codelineno-175-287>287</a></span>
<span class=normal><a href=#__codelineno-175-288>288</a></span>
<span class=normal><a href=#__codelineno-175-289>289</a></span>
<span class=normal><a href=#__codelineno-175-290>290</a></span>
<span class=normal><a href=#__codelineno-175-291>291</a></span>
<span class=normal><a href=#__codelineno-175-292>292</a></span>
<span class=normal><a href=#__codelineno-175-293>293</a></span>
<span class=normal><a href=#__codelineno-175-294>294</a></span>
<span class=normal><a href=#__codelineno-175-295>295</a></span>
<span class=normal><a href=#__codelineno-175-296>296</a></span>
<span class=normal><a href=#__codelineno-175-297>297</a></span>
<span class=normal><a href=#__codelineno-175-298>298</a></span>
<span class=normal><a href=#__codelineno-175-299>299</a></span>
<span class=normal><a href=#__codelineno-175-300>300</a></span>
<span class=normal><a href=#__codelineno-175-301>301</a></span>
<span class=normal><a href=#__codelineno-175-302>302</a></span>
<span class=normal><a href=#__codelineno-175-303>303</a></span>
<span class=normal><a href=#__codelineno-175-304>304</a></span>
<span class=normal><a href=#__codelineno-175-305>305</a></span>
<span class=normal><a href=#__codelineno-175-306>306</a></span>
<span class=normal><a href=#__codelineno-175-307>307</a></span>
<span class=normal><a href=#__codelineno-175-308>308</a></span>
<span class=normal><a href=#__codelineno-175-309>309</a></span>
<span class=normal><a href=#__codelineno-175-310>310</a></span>
<span class=normal><a href=#__codelineno-175-311>311</a></span>
<span class=normal><a href=#__codelineno-175-312>312</a></span>
<span class=normal><a href=#__codelineno-175-313>313</a></span>
<span class=normal><a href=#__codelineno-175-314>314</a></span>
<span class=normal><a href=#__codelineno-175-315>315</a></span>
<span class=normal><a href=#__codelineno-175-316>316</a></span>
<span class=normal><a href=#__codelineno-175-317>317</a></span>
<span class=normal><a href=#__codelineno-175-318>318</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-175-1><a id=__codelineno-175-1 name=__codelineno-175-1></a><span class=c1># Munin config class</span>
</span><span id=__span-175-2><a id=__codelineno-175-2 name=__codelineno-175-2></a><span class=c1># Many parts taken from David Schmitt&#39;s http://git.black.co.at/</span>
</span><span id=__span-175-3><a id=__codelineno-175-3 name=__codelineno-175-3></a><span class=c1># FreeBSD &amp; Solaris + SNMP &amp; custom plugins support by Nicolas Szalay &lt;nico@gcu.info&gt;</span>
</span><span id=__span-175-4><a id=__codelineno-175-4 name=__codelineno-175-4></a>
</span><span id=__span-175-5><a id=__codelineno-175-5 name=__codelineno-175-5></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>node</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-6><a id=__codelineno-175-6 name=__codelineno-175-6></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-7><a id=__codelineno-175-7 name=__codelineno-175-7></a><span class=w>        </span><span class=ss>openbsd</span><span class=p>:</span><span class=w> </span><span class=p>{}</span>
</span><span id=__span-175-8><a id=__codelineno-175-8 name=__codelineno-175-8></a><span class=w>        </span><span class=ss>debian</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>node</span><span class=o>::</span><span class=n>debian</span><span class=p>}</span>
</span><span id=__span-175-9><a id=__codelineno-175-9 name=__codelineno-175-9></a><span class=w>        </span><span class=ss>freebsd</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>node</span><span class=o>::</span><span class=n>freebsd</span><span class=p>}</span>
</span><span id=__span-175-10><a id=__codelineno-175-10 name=__codelineno-175-10></a><span class=w>        </span><span class=ss>solaris</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>node</span><span class=o>::</span><span class=n>solaris</span><span class=p>}</span>
</span><span id=__span-175-11><a id=__codelineno-175-11 name=__codelineno-175-11></a><span class=w>        </span><span class=ss>default</span><span class=p>:</span><span class=w> </span><span class=p>{}</span>
</span><span id=__span-175-12><a id=__codelineno-175-12 name=__codelineno-175-12></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-13><a id=__codelineno-175-13 name=__codelineno-175-13></a><span class=p>}</span>
</span><span id=__span-175-14><a id=__codelineno-175-14 name=__codelineno-175-14></a>
</span><span id=__span-175-15><a id=__codelineno-175-15 name=__codelineno-175-15></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>node</span><span class=o>::</span><span class=n>debian</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-16><a id=__codelineno-175-16 name=__codelineno-175-16></a>
</span><span id=__span-175-17><a id=__codelineno-175-17 name=__codelineno-175-17></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;munin-node&quot;</span><span class=p>:</span><span class=w> </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>installed</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-18><a id=__codelineno-175-18 name=__codelineno-175-18></a>
</span><span id=__span-175-19><a id=__codelineno-175-19 name=__codelineno-175-19></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-20><a id=__codelineno-175-20 name=__codelineno-175-20></a><span class=w>    </span><span class=s2>&quot;/etc/munin&quot;</span><span class=p>:</span>
</span><span id=__span-175-21><a id=__codelineno-175-21 name=__codelineno-175-21></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-175-22><a id=__codelineno-175-22 name=__codelineno-175-22></a><span class=w>        </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0755</span><span class=p>,</span>
</span><span id=__span-175-23><a id=__codelineno-175-23 name=__codelineno-175-23></a><span class=w>        </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-24><a id=__codelineno-175-24 name=__codelineno-175-24></a><span class=w>        </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>;</span>
</span><span id=__span-175-25><a id=__codelineno-175-25 name=__codelineno-175-25></a>
</span><span id=__span-175-26><a id=__codelineno-175-26 name=__codelineno-175-26></a><span class=w>    </span><span class=s2>&quot;/etc/munin/munin-node.conf&quot;</span><span class=p>:</span>
</span><span id=__span-175-27><a id=__codelineno-175-27 name=__codelineno-175-27></a><span class=w>        </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet://$fileserver/files/apps/munin/munin-node-debian.conf&quot;</span><span class=p>,</span>
</span><span id=__span-175-28><a id=__codelineno-175-28 name=__codelineno-175-28></a><span class=w>        </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-29><a id=__codelineno-175-29 name=__codelineno-175-29></a><span class=w>        </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-30><a id=__codelineno-175-30 name=__codelineno-175-30></a><span class=w>        </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0644</span><span class=p>,</span>
</span><span id=__span-175-31><a id=__codelineno-175-31 name=__codelineno-175-31></a><span class=w>        </span><span class=n>before</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s2>&quot;munin-node&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-175-32><a id=__codelineno-175-32 name=__codelineno-175-32></a><span class=w>        </span><span class=n>notify</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;munin-node&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-175-33><a id=__codelineno-175-33 name=__codelineno-175-33></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-34><a id=__codelineno-175-34 name=__codelineno-175-34></a>
</span><span id=__span-175-35><a id=__codelineno-175-35 name=__codelineno-175-35></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;munin-node&quot;</span><span class=p>:</span><span class=w> </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-36><a id=__codelineno-175-36 name=__codelineno-175-36></a>
</span><span id=__span-175-37><a id=__codelineno-175-37 name=__codelineno-175-37></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>linux</span>
</span><span id=__span-175-38><a id=__codelineno-175-38 name=__codelineno-175-38></a><span class=p>}</span>
</span><span id=__span-175-39><a id=__codelineno-175-39 name=__codelineno-175-39></a>
</span><span id=__span-175-40><a id=__codelineno-175-40 name=__codelineno-175-40></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>node</span><span class=o>::</span><span class=n>freebsd</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-41><a id=__codelineno-175-41 name=__codelineno-175-41></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;munin-node&quot;</span><span class=p>:</span><span class=w> </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>installed</span><span class=p>,</span><span class=w> </span><span class=n>provider</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>freebsd</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-42><a id=__codelineno-175-42 name=__codelineno-175-42></a>
</span><span id=__span-175-43><a id=__codelineno-175-43 name=__codelineno-175-43></a><span class=w>        </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;/usr/local/etc/munin/munin-node.conf&quot;</span><span class=p>:</span>
</span><span id=__span-175-44><a id=__codelineno-175-44 name=__codelineno-175-44></a><span class=w>                </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet://$fileserver/files/apps/munin/munin-node-freebsd.conf&quot;</span><span class=p>,</span>
</span><span id=__span-175-45><a id=__codelineno-175-45 name=__codelineno-175-45></a><span class=w>                </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-46><a id=__codelineno-175-46 name=__codelineno-175-46></a><span class=w>                </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>wheel</span><span class=p>,</span>
</span><span id=__span-175-47><a id=__codelineno-175-47 name=__codelineno-175-47></a><span class=w>                </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0644</span><span class=p>,</span>
</span><span id=__span-175-48><a id=__codelineno-175-48 name=__codelineno-175-48></a><span class=w>                </span><span class=n>before</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s2>&quot;munin-node&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-175-49><a id=__codelineno-175-49 name=__codelineno-175-49></a><span class=w>                </span><span class=n>notify</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;munin-node&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-175-50><a id=__codelineno-175-50 name=__codelineno-175-50></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-51><a id=__codelineno-175-51 name=__codelineno-175-51></a>
</span><span id=__span-175-52><a id=__codelineno-175-52 name=__codelineno-175-52></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;munin-node&quot;</span><span class=p>:</span><span class=w> </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-53><a id=__codelineno-175-53 name=__codelineno-175-53></a>
</span><span id=__span-175-54><a id=__codelineno-175-54 name=__codelineno-175-54></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>freebsd</span>
</span><span id=__span-175-55><a id=__codelineno-175-55 name=__codelineno-175-55></a><span class=p>}</span>
</span><span id=__span-175-56><a id=__codelineno-175-56 name=__codelineno-175-56></a>
</span><span id=__span-175-57><a id=__codelineno-175-57 name=__codelineno-175-57></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>node</span><span class=o>::</span><span class=n>solaris</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-58><a id=__codelineno-175-58 name=__codelineno-175-58></a><span class=w>    </span><span class=c1># &quot;hand made&quot; install, no package.</span>
</span><span id=__span-175-59><a id=__codelineno-175-59 name=__codelineno-175-59></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;/etc/munin/munin-node.conf&quot;</span><span class=p>:</span>
</span><span id=__span-175-60><a id=__codelineno-175-60 name=__codelineno-175-60></a><span class=w>        </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet://$fileserver/files/apps/munin/munin-node-solaris.conf&quot;</span><span class=p>,</span>
</span><span id=__span-175-61><a id=__codelineno-175-61 name=__codelineno-175-61></a><span class=w>                </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-62><a id=__codelineno-175-62 name=__codelineno-175-62></a><span class=w>                </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-63><a id=__codelineno-175-63 name=__codelineno-175-63></a><span class=w>                </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0644</span>
</span><span id=__span-175-64><a id=__codelineno-175-64 name=__codelineno-175-64></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-65><a id=__codelineno-175-65 name=__codelineno-175-65></a>
</span><span id=__span-175-66><a id=__codelineno-175-66 name=__codelineno-175-66></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>solaris</span>
</span><span id=__span-175-67><a id=__codelineno-175-67 name=__codelineno-175-67></a><span class=p>}</span>
</span><span id=__span-175-68><a id=__codelineno-175-68 name=__codelineno-175-68></a>
</span><span id=__span-175-69><a id=__codelineno-175-69 name=__codelineno-175-69></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>gatherer</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-70><a id=__codelineno-175-70 name=__codelineno-175-70></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;munin&quot;</span><span class=p>:</span>
</span><span id=__span-175-71><a id=__codelineno-175-71 name=__codelineno-175-71></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>installed</span>
</span><span id=__span-175-72><a id=__codelineno-175-72 name=__codelineno-175-72></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-73><a id=__codelineno-175-73 name=__codelineno-175-73></a>
</span><span id=__span-175-74><a id=__codelineno-175-74 name=__codelineno-175-74></a><span class=w>    </span><span class=c1># custom version of munin-graph : forks &amp; generates many graphs in parallel</span>
</span><span id=__span-175-75><a id=__codelineno-175-75 name=__codelineno-175-75></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;/usr/share/munin/munin-graph&quot;</span><span class=p>:</span>
</span><span id=__span-175-76><a id=__codelineno-175-76 name=__codelineno-175-76></a><span class=w>        </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-77><a id=__codelineno-175-77 name=__codelineno-175-77></a><span class=w>        </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-78><a id=__codelineno-175-78 name=__codelineno-175-78></a><span class=w>        </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0755</span><span class=p>,</span>
</span><span id=__span-175-79><a id=__codelineno-175-79 name=__codelineno-175-79></a><span class=w>        </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet://$fileserver/files/apps/munin/gatherer/munin-graph&quot;</span><span class=p>,</span>
</span><span id=__span-175-80><a id=__codelineno-175-80 name=__codelineno-175-80></a><span class=w>        </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s2>&quot;munin&quot;</span><span class=o>]</span>
</span><span id=__span-175-81><a id=__codelineno-175-81 name=__codelineno-175-81></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-82><a id=__codelineno-175-82 name=__codelineno-175-82></a>
</span><span id=__span-175-83><a id=__codelineno-175-83 name=__codelineno-175-83></a><span class=w>    </span><span class=c1># custon version of debian cron file. Month &amp; Year cron are generated once daily</span>
</span><span id=__span-175-84><a id=__codelineno-175-84 name=__codelineno-175-84></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;/etc/cron.d/munin&quot;</span><span class=p>:</span>
</span><span id=__span-175-85><a id=__codelineno-175-85 name=__codelineno-175-85></a><span class=w>        </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-86><a id=__codelineno-175-86 name=__codelineno-175-86></a><span class=w>        </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-87><a id=__codelineno-175-87 name=__codelineno-175-87></a><span class=w>        </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0644</span><span class=p>,</span>
</span><span id=__span-175-88><a id=__codelineno-175-88 name=__codelineno-175-88></a><span class=w>        </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet://$fileserver/files/apps/munin/gatherer/munin.cron&quot;</span><span class=p>,</span>
</span><span id=__span-175-89><a id=__codelineno-175-89 name=__codelineno-175-89></a><span class=w>        </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s2>&quot;munin&quot;</span><span class=o>]</span>
</span><span id=__span-175-90><a id=__codelineno-175-90 name=__codelineno-175-90></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-91><a id=__codelineno-175-91 name=__codelineno-175-91></a>
</span><span id=__span-175-92><a id=__codelineno-175-92 name=__codelineno-175-92></a><span class=w>    </span><span class=c1># Ensure cron is running, to fetch every 5 minutes</span>
</span><span id=__span-175-93><a id=__codelineno-175-93 name=__codelineno-175-93></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;cron&quot;</span><span class=p>:</span>
</span><span id=__span-175-94><a id=__codelineno-175-94 name=__codelineno-175-94></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span>
</span><span id=__span-175-95><a id=__codelineno-175-95 name=__codelineno-175-95></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-96><a id=__codelineno-175-96 name=__codelineno-175-96></a>
</span><span id=__span-175-97><a id=__codelineno-175-97 name=__codelineno-175-97></a><span class=w>    </span><span class=c1># Ruby DBI for mysql</span>
</span><span id=__span-175-98><a id=__codelineno-175-98 name=__codelineno-175-98></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;libdbd-mysql-ruby&quot;</span><span class=p>:</span>
</span><span id=__span-175-99><a id=__codelineno-175-99 name=__codelineno-175-99></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>installed</span>
</span><span id=__span-175-100><a id=__codelineno-175-100 name=__codelineno-175-100></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-101><a id=__codelineno-175-101 name=__codelineno-175-101></a>
</span><span id=__span-175-102><a id=__codelineno-175-102 name=__codelineno-175-102></a><span class=w>    </span><span class=c1># config generator</span>
</span><span id=__span-175-103><a id=__codelineno-175-103 name=__codelineno-175-103></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;/opt/scripts/muningen.rb&quot;</span><span class=p>:</span>
</span><span id=__span-175-104><a id=__codelineno-175-104 name=__codelineno-175-104></a><span class=w>        </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-105><a id=__codelineno-175-105 name=__codelineno-175-105></a><span class=w>        </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-106><a id=__codelineno-175-106 name=__codelineno-175-106></a><span class=w>        </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0755</span><span class=p>,</span>
</span><span id=__span-175-107><a id=__codelineno-175-107 name=__codelineno-175-107></a><span class=w>        </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet://$fileserver/files/apps/munin/gatherer/muningen.rb&quot;</span><span class=p>,</span>
</span><span id=__span-175-108><a id=__codelineno-175-108 name=__codelineno-175-108></a><span class=w>        </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s2>&quot;munin&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;libdbd-mysql-ruby&quot;</span><span class=o>]</span>
</span><span id=__span-175-109><a id=__codelineno-175-109 name=__codelineno-175-109></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-110><a id=__codelineno-175-110 name=__codelineno-175-110></a>
</span><span id=__span-175-111><a id=__codelineno-175-111 name=__codelineno-175-111></a><span class=w>    </span><span class=c1># regenerate munin&#39;s gatherer config every hour</span>
</span><span id=__span-175-112><a id=__codelineno-175-112 name=__codelineno-175-112></a><span class=w>    </span><span class=n>cron</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;munin_config&quot;</span><span class=p>:</span>
</span><span id=__span-175-113><a id=__codelineno-175-113 name=__codelineno-175-113></a><span class=w>        </span><span class=n>command</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/opt/scripts/muningen.rb &gt; /etc/munin/munin.conf&quot;</span><span class=p>,</span>
</span><span id=__span-175-114><a id=__codelineno-175-114 name=__codelineno-175-114></a><span class=w>        </span><span class=n>user</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;root&quot;</span><span class=p>,</span>
</span><span id=__span-175-115><a id=__codelineno-175-115 name=__codelineno-175-115></a><span class=w>        </span><span class=n>minute</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;0&quot;</span><span class=p>,</span>
</span><span id=__span-175-116><a id=__codelineno-175-116 name=__codelineno-175-116></a><span class=w>        </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s2>&quot;/opt/scripts/muningen.rb&quot;</span><span class=o>]</span>
</span><span id=__span-175-117><a id=__codelineno-175-117 name=__codelineno-175-117></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-118><a id=__codelineno-175-118 name=__codelineno-175-118></a>
</span><span id=__span-175-119><a id=__codelineno-175-119 name=__codelineno-175-119></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>snmp</span>
</span><span id=__span-175-120><a id=__codelineno-175-120 name=__codelineno-175-120></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>linux</span>
</span><span id=__span-175-121><a id=__codelineno-175-121 name=__codelineno-175-121></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>custom</span><span class=o>::</span><span class=n>gatherer</span>
</span><span id=__span-175-122><a id=__codelineno-175-122 name=__codelineno-175-122></a><span class=p>}</span>
</span><span id=__span-175-123><a id=__codelineno-175-123 name=__codelineno-175-123></a>
</span><span id=__span-175-124><a id=__codelineno-175-124 name=__codelineno-175-124></a>
</span><span id=__span-175-125><a id=__codelineno-175-125 name=__codelineno-175-125></a><span class=c1># define to create a munin plugin inside the right directory</span>
</span><span id=__span-175-126><a id=__codelineno-175-126 name=__codelineno-175-126></a><span class=n>define</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugin</span><span class=w> </span><span class=p>(</span><span class=vg>$ensure</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;present&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-127><a id=__codelineno-175-127 name=__codelineno-175-127></a>
</span><span id=__span-175-128><a id=__codelineno-175-128 name=__codelineno-175-128></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-129><a id=__codelineno-175-129 name=__codelineno-175-129></a><span class=w>        </span><span class=ss>freebsd</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-130><a id=__codelineno-175-130 name=__codelineno-175-130></a><span class=w>            </span><span class=vg>$script_path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/usr/local/share/munin/plugins&quot;</span>
</span><span id=__span-175-131><a id=__codelineno-175-131 name=__codelineno-175-131></a><span class=w>            </span><span class=vg>$plugins_dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/usr/local/etc/munin/plugins&quot;</span>
</span><span id=__span-175-132><a id=__codelineno-175-132 name=__codelineno-175-132></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-133><a id=__codelineno-175-133 name=__codelineno-175-133></a><span class=w>        </span><span class=ss>debian</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-134><a id=__codelineno-175-134 name=__codelineno-175-134></a><span class=w>            </span><span class=vg>$script_path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/usr/share/munin/plugins&quot;</span>
</span><span id=__span-175-135><a id=__codelineno-175-135 name=__codelineno-175-135></a><span class=w>            </span><span class=vg>$plugins_dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/etc/munin/plugins&quot;</span>
</span><span id=__span-175-136><a id=__codelineno-175-136 name=__codelineno-175-136></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-137><a id=__codelineno-175-137 name=__codelineno-175-137></a><span class=w>        </span><span class=ss>solaris</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-138><a id=__codelineno-175-138 name=__codelineno-175-138></a><span class=w>            </span><span class=vg>$script_path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/usr/local/munin/lib/plugins&quot;</span>
</span><span id=__span-175-139><a id=__codelineno-175-139 name=__codelineno-175-139></a><span class=w>            </span><span class=vg>$plugins_dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/etc/munin/plugins&quot;</span>
</span><span id=__span-175-140><a id=__codelineno-175-140 name=__codelineno-175-140></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-141><a id=__codelineno-175-141 name=__codelineno-175-141></a><span class=w>        </span><span class=ss>default</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-142><a id=__codelineno-175-142 name=__codelineno-175-142></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-143><a id=__codelineno-175-143 name=__codelineno-175-143></a>
</span><span id=__span-175-144><a id=__codelineno-175-144 name=__codelineno-175-144></a><span class=w>    </span><span class=vg>$plugin</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;$plugins_dir/$name&quot;</span>
</span><span id=__span-175-145><a id=__codelineno-175-145 name=__codelineno-175-145></a>
</span><span id=__span-175-146><a id=__codelineno-175-146 name=__codelineno-175-146></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$ensure</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-147><a id=__codelineno-175-147 name=__codelineno-175-147></a><span class=w>        </span><span class=s2>&quot;absent&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-148><a id=__codelineno-175-148 name=__codelineno-175-148></a><span class=w>            </span><span class=n>debug</span><span class=w> </span><span class=p>(</span><span class=w> </span><span class=s2>&quot;munin_plugin: suppressing $plugin&quot;</span><span class=w> </span><span class=p>)</span>
</span><span id=__span-175-149><a id=__codelineno-175-149 name=__codelineno-175-149></a><span class=w>            </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$plugin</span><span class=p>:</span><span class=w> </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>absent</span><span class=p>,</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-150><a id=__codelineno-175-150 name=__codelineno-175-150></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-151><a id=__codelineno-175-151 name=__codelineno-175-151></a>
</span><span id=__span-175-152><a id=__codelineno-175-152 name=__codelineno-175-152></a><span class=w>        </span><span class=ss>default</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-153><a id=__codelineno-175-153 name=__codelineno-175-153></a><span class=w>            </span><span class=vg>$plugin_src</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=vg>$ensure</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;present&quot;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=vg>$name</span><span class=p>,</span><span class=w> </span><span class=n>default</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=vg>$ensure</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-154><a id=__codelineno-175-154 name=__codelineno-175-154></a>
</span><span id=__span-175-155><a id=__codelineno-175-155 name=__codelineno-175-155></a><span class=w>            </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$plugin</span><span class=p>:</span>
</span><span id=__span-175-156><a id=__codelineno-175-156 name=__codelineno-175-156></a><span class=w>                </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$script_path/${plugin_src}&quot;</span><span class=p>,</span>
</span><span id=__span-175-157><a id=__codelineno-175-157 name=__codelineno-175-157></a><span class=w>                </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s2>&quot;munin-node&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-175-158><a id=__codelineno-175-158 name=__codelineno-175-158></a><span class=w>                </span><span class=n>notify</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;munin-node&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-175-159><a id=__codelineno-175-159 name=__codelineno-175-159></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-175-160><a id=__codelineno-175-160 name=__codelineno-175-160></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-161><a id=__codelineno-175-161 name=__codelineno-175-161></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-162><a id=__codelineno-175-162 name=__codelineno-175-162></a><span class=p>}</span>
</span><span id=__span-175-163><a id=__codelineno-175-163 name=__codelineno-175-163></a>
</span><span id=__span-175-164><a id=__codelineno-175-164 name=__codelineno-175-164></a><span class=c1># snmp plugin define, almost same as above</span>
</span><span id=__span-175-165><a id=__codelineno-175-165 name=__codelineno-175-165></a><span class=n>define</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>snmp_plugin</span><span class=w> </span><span class=p>(</span><span class=vg>$ensure</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;present&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-166><a id=__codelineno-175-166 name=__codelineno-175-166></a><span class=w>    </span><span class=vg>$pluginname</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>get_plugin_name</span><span class=p>(</span><span class=vg>$name</span><span class=p>)</span>
</span><span id=__span-175-167><a id=__codelineno-175-167 name=__codelineno-175-167></a>
</span><span id=__span-175-168><a id=__codelineno-175-168 name=__codelineno-175-168></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-169><a id=__codelineno-175-169 name=__codelineno-175-169></a><span class=w>        </span><span class=ss>freebsd</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-170><a id=__codelineno-175-170 name=__codelineno-175-170></a><span class=w>            </span><span class=vg>$script_path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/usr/local/share/munin/plugins&quot;</span>
</span><span id=__span-175-171><a id=__codelineno-175-171 name=__codelineno-175-171></a><span class=w>            </span><span class=vg>$plugins_dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/usr/local/etc/munin/plugins&quot;</span>
</span><span id=__span-175-172><a id=__codelineno-175-172 name=__codelineno-175-172></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-173><a id=__codelineno-175-173 name=__codelineno-175-173></a><span class=w>        </span><span class=ss>debian</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-174><a id=__codelineno-175-174 name=__codelineno-175-174></a><span class=w>            </span><span class=vg>$script_path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/usr/share/munin/plugins&quot;</span>
</span><span id=__span-175-175><a id=__codelineno-175-175 name=__codelineno-175-175></a><span class=w>            </span><span class=vg>$plugins_dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/etc/munin/plugins&quot;</span>
</span><span id=__span-175-176><a id=__codelineno-175-176 name=__codelineno-175-176></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-177><a id=__codelineno-175-177 name=__codelineno-175-177></a><span class=w>        </span><span class=ss>solaris</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-178><a id=__codelineno-175-178 name=__codelineno-175-178></a><span class=w>            </span><span class=vg>$script_path</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/usr/local/munin/lib/plugins&quot;</span>
</span><span id=__span-175-179><a id=__codelineno-175-179 name=__codelineno-175-179></a><span class=w>            </span><span class=vg>$plugins_dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/etc/munin/plugins&quot;</span>
</span><span id=__span-175-180><a id=__codelineno-175-180 name=__codelineno-175-180></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-181><a id=__codelineno-175-181 name=__codelineno-175-181></a><span class=w>        </span><span class=ss>default</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-182><a id=__codelineno-175-182 name=__codelineno-175-182></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-183><a id=__codelineno-175-183 name=__codelineno-175-183></a>
</span><span id=__span-175-184><a id=__codelineno-175-184 name=__codelineno-175-184></a><span class=w>    </span><span class=vg>$plugin</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;$plugins_dir/$name&quot;</span>
</span><span id=__span-175-185><a id=__codelineno-175-185 name=__codelineno-175-185></a>
</span><span id=__span-175-186><a id=__codelineno-175-186 name=__codelineno-175-186></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$ensure</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-187><a id=__codelineno-175-187 name=__codelineno-175-187></a><span class=w>        </span><span class=s2>&quot;absent&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-188><a id=__codelineno-175-188 name=__codelineno-175-188></a><span class=w>            </span><span class=n>debug</span><span class=w> </span><span class=p>(</span><span class=w> </span><span class=s2>&quot;munin_plugin: suppressing $plugin&quot;</span><span class=w> </span><span class=p>)</span>
</span><span id=__span-175-189><a id=__codelineno-175-189 name=__codelineno-175-189></a><span class=w>            </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$plugin</span><span class=p>:</span><span class=w> </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>absent</span><span class=p>,</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-190><a id=__codelineno-175-190 name=__codelineno-175-190></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-191><a id=__codelineno-175-191 name=__codelineno-175-191></a>
</span><span id=__span-175-192><a id=__codelineno-175-192 name=__codelineno-175-192></a><span class=w>        </span><span class=s2>&quot;present&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-193><a id=__codelineno-175-193 name=__codelineno-175-193></a><span class=w>            </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$plugin</span><span class=p>:</span>
</span><span id=__span-175-194><a id=__codelineno-175-194 name=__codelineno-175-194></a><span class=w>                </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$script_path/${pluginname}&quot;</span><span class=p>,</span>
</span><span id=__span-175-195><a id=__codelineno-175-195 name=__codelineno-175-195></a><span class=w>                </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s2>&quot;munin-node&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-175-196><a id=__codelineno-175-196 name=__codelineno-175-196></a><span class=w>                </span><span class=n>notify</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;munin-node&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-175-197><a id=__codelineno-175-197 name=__codelineno-175-197></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-175-198><a id=__codelineno-175-198 name=__codelineno-175-198></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-199><a id=__codelineno-175-199 name=__codelineno-175-199></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-200><a id=__codelineno-175-200 name=__codelineno-175-200></a><span class=p>}</span>
</span><span id=__span-175-201><a id=__codelineno-175-201 name=__codelineno-175-201></a>
</span><span id=__span-175-202><a id=__codelineno-175-202 name=__codelineno-175-202></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>base</span>
</span><span id=__span-175-203><a id=__codelineno-175-203 name=__codelineno-175-203></a><span class=p>{</span>
</span><span id=__span-175-204><a id=__codelineno-175-204 name=__codelineno-175-204></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-205><a id=__codelineno-175-205 name=__codelineno-175-205></a><span class=w>        </span><span class=ss>debian</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$plugins_dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/etc/munin/plugins&quot;</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-206><a id=__codelineno-175-206 name=__codelineno-175-206></a><span class=w>        </span><span class=ss>freebsd</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$plugins_dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/usr/local/etc/munin/plugins&quot;</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-207><a id=__codelineno-175-207 name=__codelineno-175-207></a><span class=w>        </span><span class=ss>solaris</span><span class=p>:</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$plugins_dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/etc/munin/plugins&quot;</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-208><a id=__codelineno-175-208 name=__codelineno-175-208></a><span class=w>        </span><span class=ss>default</span><span class=p>:</span><span class=w> </span><span class=p>{}</span>
</span><span id=__span-175-209><a id=__codelineno-175-209 name=__codelineno-175-209></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-210><a id=__codelineno-175-210 name=__codelineno-175-210></a>
</span><span id=__span-175-211><a id=__codelineno-175-211 name=__codelineno-175-211></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$plugins_dir</span><span class=p>:</span>
</span><span id=__span-175-212><a id=__codelineno-175-212 name=__codelineno-175-212></a><span class=w>        </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet://$fileserver/files/empty&quot;</span><span class=p>,</span>
</span><span id=__span-175-213><a id=__codelineno-175-213 name=__codelineno-175-213></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-175-214><a id=__codelineno-175-214 name=__codelineno-175-214></a><span class=w>        </span><span class=n>checksum</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>mtime</span><span class=p>,</span>
</span><span id=__span-175-215><a id=__codelineno-175-215 name=__codelineno-175-215></a><span class=w>        </span><span class=n>ignore</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;.svn*&quot;</span><span class=p>,</span>
</span><span id=__span-175-216><a id=__codelineno-175-216 name=__codelineno-175-216></a><span class=w>        </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0755</span><span class=p>,</span>
</span><span id=__span-175-217><a id=__codelineno-175-217 name=__codelineno-175-217></a><span class=w>        </span><span class=n>recurse</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-175-218><a id=__codelineno-175-218 name=__codelineno-175-218></a><span class=w>        </span><span class=n>purge</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-175-219><a id=__codelineno-175-219 name=__codelineno-175-219></a><span class=w>        </span><span class=n>force</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-175-220><a id=__codelineno-175-220 name=__codelineno-175-220></a><span class=w>        </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span>
</span><span id=__span-175-221><a id=__codelineno-175-221 name=__codelineno-175-221></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-222><a id=__codelineno-175-222 name=__codelineno-175-222></a><span class=p>}</span>
</span><span id=__span-175-223><a id=__codelineno-175-223 name=__codelineno-175-223></a>
</span><span id=__span-175-224><a id=__codelineno-175-224 name=__codelineno-175-224></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>interfaces</span>
</span><span id=__span-175-225><a id=__codelineno-175-225 name=__codelineno-175-225></a><span class=p>{</span>
</span><span id=__span-175-226><a id=__codelineno-175-226 name=__codelineno-175-226></a><span class=w>    </span><span class=vg>$ifs</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>gsub</span><span class=p>(</span><span class=nb>split</span><span class=p>(</span><span class=vg>$munin_interfaces</span><span class=p>,</span><span class=w> </span><span class=s2>&quot; &quot;</span><span class=p>),</span><span class=w> </span><span class=s2>&quot;(.+)&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;if_</span><span class=se>\\</span><span class=s2>1&quot;</span><span class=p>)</span>
</span><span id=__span-175-227><a id=__codelineno-175-227 name=__codelineno-175-227></a><span class=w>    </span><span class=vg>$if_errs</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>gsub</span><span class=p>(</span><span class=nb>split</span><span class=p>(</span><span class=vg>$munin_interfaces</span><span class=p>,</span><span class=w> </span><span class=s2>&quot; &quot;</span><span class=p>),</span><span class=w> </span><span class=s2>&quot;(.+)&quot;</span><span class=p>,</span><span class=w> </span><span class=s2>&quot;if_err_</span><span class=se>\\</span><span class=s2>1&quot;</span><span class=p>)</span>
</span><span id=__span-175-228><a id=__codelineno-175-228 name=__codelineno-175-228></a><span class=w>    </span><span class=n>plugin</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-229><a id=__codelineno-175-229 name=__codelineno-175-229></a><span class=w>        </span><span class=vg>$ifs</span><span class=p>:</span><span class=w> </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;if_&quot;</span><span class=p>;</span>
</span><span id=__span-175-230><a id=__codelineno-175-230 name=__codelineno-175-230></a><span class=w>        </span><span class=vg>$if_errs</span><span class=p>:</span><span class=w> </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;if_err_&quot;</span><span class=p>;</span>
</span><span id=__span-175-231><a id=__codelineno-175-231 name=__codelineno-175-231></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-232><a id=__codelineno-175-232 name=__codelineno-175-232></a>
</span><span id=__span-175-233><a id=__codelineno-175-233 name=__codelineno-175-233></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>base</span>
</span><span id=__span-175-234><a id=__codelineno-175-234 name=__codelineno-175-234></a><span class=p>}</span>
</span><span id=__span-175-235><a id=__codelineno-175-235 name=__codelineno-175-235></a>
</span><span id=__span-175-236><a id=__codelineno-175-236 name=__codelineno-175-236></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>linux</span>
</span><span id=__span-175-237><a id=__codelineno-175-237 name=__codelineno-175-237></a><span class=p>{</span>
</span><span id=__span-175-238><a id=__codelineno-175-238 name=__codelineno-175-238></a><span class=w>    </span><span class=n>plugin</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=n>cpu</span><span class=p>,</span><span class=w> </span><span class=nb>load</span><span class=p>,</span><span class=w> </span><span class=n>memory</span><span class=p>,</span><span class=w> </span><span class=n>swap</span><span class=p>,</span><span class=w> </span><span class=n>irq_stats</span><span class=p>,</span><span class=w> </span><span class=n>df</span><span class=p>,</span><span class=w> </span><span class=n>processes</span><span class=p>,</span><span class=w> </span><span class=n>open_files</span><span class=p>,</span><span class=w> </span><span class=n>ntp_offset</span><span class=p>,</span><span class=w> </span><span class=n>vmstat</span><span class=w> </span><span class=o>]</span><span class=p>:</span>
</span><span id=__span-175-239><a id=__codelineno-175-239 name=__codelineno-175-239></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;present&quot;</span>
</span><span id=__span-175-240><a id=__codelineno-175-240 name=__codelineno-175-240></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-241><a id=__codelineno-175-241 name=__codelineno-175-241></a>
</span><span id=__span-175-242><a id=__codelineno-175-242 name=__codelineno-175-242></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>base</span>
</span><span id=__span-175-243><a id=__codelineno-175-243 name=__codelineno-175-243></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>interfaces</span>
</span><span id=__span-175-244><a id=__codelineno-175-244 name=__codelineno-175-244></a><span class=p>}</span>
</span><span id=__span-175-245><a id=__codelineno-175-245 name=__codelineno-175-245></a>
</span><span id=__span-175-246><a id=__codelineno-175-246 name=__codelineno-175-246></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>nfsclient</span>
</span><span id=__span-175-247><a id=__codelineno-175-247 name=__codelineno-175-247></a><span class=p>{</span>
</span><span id=__span-175-248><a id=__codelineno-175-248 name=__codelineno-175-248></a><span class=w>    </span><span class=n>plugin</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;nfs_client&quot;</span><span class=p>:</span>
</span><span id=__span-175-249><a id=__codelineno-175-249 name=__codelineno-175-249></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span>
</span><span id=__span-175-250><a id=__codelineno-175-250 name=__codelineno-175-250></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-251><a id=__codelineno-175-251 name=__codelineno-175-251></a><span class=p>}</span>
</span><span id=__span-175-252><a id=__codelineno-175-252 name=__codelineno-175-252></a>
</span><span id=__span-175-253><a id=__codelineno-175-253 name=__codelineno-175-253></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>snmp</span>
</span><span id=__span-175-254><a id=__codelineno-175-254 name=__codelineno-175-254></a><span class=p>{</span>
</span><span id=__span-175-255><a id=__codelineno-175-255 name=__codelineno-175-255></a><span class=w>    </span><span class=c1># initialize plugins</span>
</span><span id=__span-175-256><a id=__codelineno-175-256 name=__codelineno-175-256></a><span class=w>    </span><span class=vg>$snmp_plugins</span><span class=o>=</span><span class=n>extlookup</span><span class=p>(</span><span class=s2>&quot;munin_snmp_plugins&quot;</span><span class=p>)</span>
</span><span id=__span-175-257><a id=__codelineno-175-257 name=__codelineno-175-257></a><span class=w>    </span><span class=n>snmp_plugin</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$snmp_plugins</span><span class=p>:</span>
</span><span id=__span-175-258><a id=__codelineno-175-258 name=__codelineno-175-258></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span>
</span><span id=__span-175-259><a id=__codelineno-175-259 name=__codelineno-175-259></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-260><a id=__codelineno-175-260 name=__codelineno-175-260></a>
</span><span id=__span-175-261><a id=__codelineno-175-261 name=__codelineno-175-261></a><span class=w>    </span><span class=c1># SNMP communities used by plugins</span>
</span><span id=__span-175-262><a id=__codelineno-175-262 name=__codelineno-175-262></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;/etc/munin/plugin-conf.d/snmp_communities&quot;</span><span class=p>:</span>
</span><span id=__span-175-263><a id=__codelineno-175-263 name=__codelineno-175-263></a><span class=w>        </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-264><a id=__codelineno-175-264 name=__codelineno-175-264></a><span class=w>        </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-265><a id=__codelineno-175-265 name=__codelineno-175-265></a><span class=w>        </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0644</span><span class=p>,</span>
</span><span id=__span-175-266><a id=__codelineno-175-266 name=__codelineno-175-266></a><span class=w>        </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet://$fileserver/files/apps/munin/gatherer/snmp_communities&quot;</span>
</span><span id=__span-175-267><a id=__codelineno-175-267 name=__codelineno-175-267></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-268><a id=__codelineno-175-268 name=__codelineno-175-268></a>
</span><span id=__span-175-269><a id=__codelineno-175-269 name=__codelineno-175-269></a><span class=p>}</span>
</span><span id=__span-175-270><a id=__codelineno-175-270 name=__codelineno-175-270></a>
</span><span id=__span-175-271><a id=__codelineno-175-271 name=__codelineno-175-271></a><span class=n>define</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>custom_plugin</span><span class=p>(</span><span class=vg>$ensure</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;present&quot;</span><span class=p>,</span><span class=w> </span><span class=vg>$location</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;/etc/munin/plugins&quot;</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-272><a id=__codelineno-175-272 name=__codelineno-175-272></a><span class=w>    </span><span class=vg>$plugin</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s2>&quot;$location/$name&quot;</span>
</span><span id=__span-175-273><a id=__codelineno-175-273 name=__codelineno-175-273></a>
</span><span id=__span-175-274><a id=__codelineno-175-274 name=__codelineno-175-274></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$ensure</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-275><a id=__codelineno-175-275 name=__codelineno-175-275></a><span class=w>        </span><span class=s2>&quot;absent&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-276><a id=__codelineno-175-276 name=__codelineno-175-276></a><span class=w>            </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$plugin</span><span class=p>:</span><span class=w> </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>absent</span><span class=p>,</span><span class=w> </span><span class=p>}</span>
</span><span id=__span-175-277><a id=__codelineno-175-277 name=__codelineno-175-277></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-278><a id=__codelineno-175-278 name=__codelineno-175-278></a>
</span><span id=__span-175-279><a id=__codelineno-175-279 name=__codelineno-175-279></a><span class=w>        </span><span class=s2>&quot;present&quot;</span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-175-280><a id=__codelineno-175-280 name=__codelineno-175-280></a><span class=w>            </span><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$plugin</span><span class=p>:</span>
</span><span id=__span-175-281><a id=__codelineno-175-281 name=__codelineno-175-281></a><span class=w>                </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-175-282><a id=__codelineno-175-282 name=__codelineno-175-282></a><span class=w>                </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mo>0755</span><span class=p>,</span>
</span><span id=__span-175-283><a id=__codelineno-175-283 name=__codelineno-175-283></a><span class=w>                </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet://$fileserver/files/apps/munin/custom_plugins/$name&quot;</span><span class=p>,</span>
</span><span id=__span-175-284><a id=__codelineno-175-284 name=__codelineno-175-284></a><span class=w>                </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s2>&quot;munin-node&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-175-285><a id=__codelineno-175-285 name=__codelineno-175-285></a><span class=w>                </span><span class=n>notify</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;munin-node&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-175-286><a id=__codelineno-175-286 name=__codelineno-175-286></a><span class=w>            </span><span class=p>}</span>
</span><span id=__span-175-287><a id=__codelineno-175-287 name=__codelineno-175-287></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-175-288><a id=__codelineno-175-288 name=__codelineno-175-288></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-289><a id=__codelineno-175-289 name=__codelineno-175-289></a><span class=p>}</span>
</span><span id=__span-175-290><a id=__codelineno-175-290 name=__codelineno-175-290></a>
</span><span id=__span-175-291><a id=__codelineno-175-291 name=__codelineno-175-291></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>custom</span><span class=o>::</span><span class=n>gatherer</span>
</span><span id=__span-175-292><a id=__codelineno-175-292 name=__codelineno-175-292></a><span class=p>{</span>
</span><span id=__span-175-293><a id=__codelineno-175-293 name=__codelineno-175-293></a><span class=w>    </span><span class=vg>$plugins</span><span class=o>=</span><span class=n>extlookup</span><span class=p>(</span><span class=s2>&quot;munin_custom_plugins&quot;</span><span class=p>)</span>
</span><span id=__span-175-294><a id=__codelineno-175-294 name=__codelineno-175-294></a><span class=w>    </span><span class=n>custom_plugin</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=vg>$plugins</span><span class=p>:</span>
</span><span id=__span-175-295><a id=__codelineno-175-295 name=__codelineno-175-295></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span>
</span><span id=__span-175-296><a id=__codelineno-175-296 name=__codelineno-175-296></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-297><a id=__codelineno-175-297 name=__codelineno-175-297></a><span class=p>}</span>
</span><span id=__span-175-298><a id=__codelineno-175-298 name=__codelineno-175-298></a>
</span><span id=__span-175-299><a id=__codelineno-175-299 name=__codelineno-175-299></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>freebsd</span>
</span><span id=__span-175-300><a id=__codelineno-175-300 name=__codelineno-175-300></a><span class=p>{</span>
</span><span id=__span-175-301><a id=__codelineno-175-301 name=__codelineno-175-301></a><span class=w>    </span><span class=n>plugin</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=n>cpu</span><span class=p>,</span><span class=w> </span><span class=nb>load</span><span class=p>,</span><span class=w> </span><span class=n>memory</span><span class=p>,</span><span class=w> </span><span class=n>swap</span><span class=p>,</span><span class=w> </span><span class=n>irq_stats</span><span class=p>,</span><span class=w> </span><span class=n>df</span><span class=p>,</span><span class=w> </span><span class=n>processes</span><span class=p>,</span><span class=w> </span><span class=n>open_files</span><span class=p>,</span><span class=w> </span><span class=n>ntp_offset</span><span class=p>,</span><span class=w> </span><span class=n>vmstat</span><span class=w> </span><span class=o>]</span><span class=p>:</span>
</span><span id=__span-175-302><a id=__codelineno-175-302 name=__codelineno-175-302></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;present&quot;</span><span class=p>,</span>
</span><span id=__span-175-303><a id=__codelineno-175-303 name=__codelineno-175-303></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-304><a id=__codelineno-175-304 name=__codelineno-175-304></a>
</span><span id=__span-175-305><a id=__codelineno-175-305 name=__codelineno-175-305></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>base</span>
</span><span id=__span-175-306><a id=__codelineno-175-306 name=__codelineno-175-306></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>interfaces</span>
</span><span id=__span-175-307><a id=__codelineno-175-307 name=__codelineno-175-307></a><span class=p>}</span>
</span><span id=__span-175-308><a id=__codelineno-175-308 name=__codelineno-175-308></a>
</span><span id=__span-175-309><a id=__codelineno-175-309 name=__codelineno-175-309></a><span class=k>class</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>solaris</span>
</span><span id=__span-175-310><a id=__codelineno-175-310 name=__codelineno-175-310></a><span class=p>{</span>
</span><span id=__span-175-311><a id=__codelineno-175-311 name=__codelineno-175-311></a><span class=w>    </span><span class=c1># Munin plugins on solaris are quite ... buggy. Will need rewrite / custom plugins.</span>
</span><span id=__span-175-312><a id=__codelineno-175-312 name=__codelineno-175-312></a><span class=w>    </span><span class=n>plugin</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=n>cpu</span><span class=p>,</span><span class=w> </span><span class=nb>load</span><span class=p>,</span><span class=w> </span><span class=n>netstat</span><span class=w> </span><span class=o>]</span><span class=p>:</span>
</span><span id=__span-175-313><a id=__codelineno-175-313 name=__codelineno-175-313></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;present&quot;</span><span class=p>,</span>
</span><span id=__span-175-314><a id=__codelineno-175-314 name=__codelineno-175-314></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-175-315><a id=__codelineno-175-315 name=__codelineno-175-315></a>
</span><span id=__span-175-316><a id=__codelineno-175-316 name=__codelineno-175-316></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>base</span>
</span><span id=__span-175-317><a id=__codelineno-175-317 name=__codelineno-175-317></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>munin</span><span class=o>::</span><span class=n>plugins</span><span class=o>::</span><span class=n>interfaces</span>
</span><span id=__span-175-318><a id=__codelineno-175-318 name=__codelineno-175-318></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=munin-interfaces>Munin Interfaces</h4> <p>Everyone using puppet knows DavidS awesome git repository: git.black.co.at. Unfornately for me, his puppet infrastructure seems to be almost only linux based. I have different OS in mine, including FreeBSD &amp; OpenSolaris. Looking at his module-munin I decided to reuse it (and not recreate the wheel) but he used a custom fact that needed some little work. So this is a FreeBSD &amp; (Open)Solaris capable version, to know what network interfaces have link up.</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-176-1> 1</a></span>
<span class=normal><a href=#__codelineno-176-2> 2</a></span>
<span class=normal><a href=#__codelineno-176-3> 3</a></span>
<span class=normal><a href=#__codelineno-176-4> 4</a></span>
<span class=normal><a href=#__codelineno-176-5> 5</a></span>
<span class=normal><a href=#__codelineno-176-6> 6</a></span>
<span class=normal><a href=#__codelineno-176-7> 7</a></span>
<span class=normal><a href=#__codelineno-176-8> 8</a></span>
<span class=normal><a href=#__codelineno-176-9> 9</a></span>
<span class=normal><a href=#__codelineno-176-10>10</a></span>
<span class=normal><a href=#__codelineno-176-11>11</a></span>
<span class=normal><a href=#__codelineno-176-12>12</a></span>
<span class=normal><a href=#__codelineno-176-13>13</a></span>
<span class=normal><a href=#__codelineno-176-14>14</a></span>
<span class=normal><a href=#__codelineno-176-15>15</a></span>
<span class=normal><a href=#__codelineno-176-16>16</a></span>
<span class=normal><a href=#__codelineno-176-17>17</a></span>
<span class=normal><a href=#__codelineno-176-18>18</a></span>
<span class=normal><a href=#__codelineno-176-19>19</a></span>
<span class=normal><a href=#__codelineno-176-20>20</a></span>
<span class=normal><a href=#__codelineno-176-21>21</a></span>
<span class=normal><a href=#__codelineno-176-22>22</a></span>
<span class=normal><a href=#__codelineno-176-23>23</a></span>
<span class=normal><a href=#__codelineno-176-24>24</a></span>
<span class=normal><a href=#__codelineno-176-25>25</a></span>
<span class=normal><a href=#__codelineno-176-26>26</a></span>
<span class=normal><a href=#__codelineno-176-27>27</a></span>
<span class=normal><a href=#__codelineno-176-28>28</a></span>
<span class=normal><a href=#__codelineno-176-29>29</a></span>
<span class=normal><a href=#__codelineno-176-30>30</a></span>
<span class=normal><a href=#__codelineno-176-31>31</a></span>
<span class=normal><a href=#__codelineno-176-32>32</a></span>
<span class=normal><a href=#__codelineno-176-33>33</a></span>
<span class=normal><a href=#__codelineno-176-34>34</a></span>
<span class=normal><a href=#__codelineno-176-35>35</a></span>
<span class=normal><a href=#__codelineno-176-36>36</a></span>
<span class=normal><a href=#__codelineno-176-37>37</a></span>
<span class=normal><a href=#__codelineno-176-38>38</a></span>
<span class=normal><a href=#__codelineno-176-39>39</a></span>
<span class=normal><a href=#__codelineno-176-40>40</a></span>
<span class=normal><a href=#__codelineno-176-41>41</a></span>
<span class=normal><a href=#__codelineno-176-42>42</a></span>
<span class=normal><a href=#__codelineno-176-43>43</a></span>
<span class=normal><a href=#__codelineno-176-44>44</a></span>
<span class=normal><a href=#__codelineno-176-45>45</a></span>
<span class=normal><a href=#__codelineno-176-46>46</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-176-1><a id=__codelineno-176-1 name=__codelineno-176-1></a><span class=c1># return the set of active interfaces as an array</span>
</span><span id=__span-176-2><a id=__codelineno-176-2 name=__codelineno-176-2></a><span class=c1># taken from http://git.black.co.at</span>
</span><span id=__span-176-3><a id=__codelineno-176-3 name=__codelineno-176-3></a><span class=c1># modified by nico &lt;nico@gcu.info&gt; to add FreeBSD &amp; Solaris support</span>
</span><span id=__span-176-4><a id=__codelineno-176-4 name=__codelineno-176-4></a>
</span><span id=__span-176-5><a id=__codelineno-176-5 name=__codelineno-176-5></a><span class=no>Facter</span><span class=o>.</span><span class=n>add</span><span class=p>(</span><span class=s2>&quot;munin_interfaces&quot;</span><span class=p>)</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-176-6><a id=__codelineno-176-6 name=__codelineno-176-6></a>
</span><span id=__span-176-7><a id=__codelineno-176-7 name=__codelineno-176-7></a><span class=w>    </span><span class=n>setcode</span><span class=w> </span><span class=k>do</span>
</span><span id=__span-176-8><a id=__codelineno-176-8 name=__codelineno-176-8></a><span class=w>        </span><span class=c1># linux</span>
</span><span id=__span-176-9><a id=__codelineno-176-9 name=__codelineno-176-9></a><span class=w>        </span><span class=k>if</span><span class=w> </span><span class=no>Facter</span><span class=o>.</span><span class=n>value</span><span class=p>(</span><span class=s1>&#39;kernel&#39;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;Linux&quot;</span><span class=w> </span><span class=k>then</span>
</span><span id=__span-176-10><a id=__codelineno-176-10 name=__codelineno-176-10></a><span class=w>            </span><span class=sb>`ip -o link show`</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sr>/\n/</span><span class=p>)</span><span class=o>.</span><span class=n>collect</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>line</span><span class=o>|</span>
</span><span id=__span-176-11><a id=__codelineno-176-11 name=__codelineno-176-11></a><span class=w>                    </span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=kp>nil</span>
</span><span id=__span-176-12><a id=__codelineno-176-12 name=__codelineno-176-12></a><span class=w>                    </span><span class=n>matches</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>line</span><span class=o>.</span><span class=n>match</span><span class=p>(</span><span class=sr>/^\d*: ([^:]*): &lt;(.*,)?UP(,.*)?&gt;/</span>
</span><span id=__span-176-13><a id=__codelineno-176-13 name=__codelineno-176-13></a><span class=w>                    </span><span class=k>if</span><span class=w> </span><span class=o>!</span><span class=n>matches</span><span class=o>.</span><span class=n>nil?</span>
</span><span id=__span-176-14><a id=__codelineno-176-14 name=__codelineno-176-14></a><span class=w>                        </span><span class=n>value</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>matches</span><span class=o>[</span><span class=mi>1</span><span class=o>]</span>
</span><span id=__span-176-15><a id=__codelineno-176-15 name=__codelineno-176-15></a><span class=w>                        </span><span class=n>value</span><span class=o>.</span><span class=n>gsub!</span><span class=p>(</span><span class=sr>/@.*/</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=p>)</span>
</span><span id=__span-176-16><a id=__codelineno-176-16 name=__codelineno-176-16></a><span class=w>                    </span><span class=k>end</span>
</span><span id=__span-176-17><a id=__codelineno-176-17 name=__codelineno-176-17></a><span class=w>                    </span><span class=n>value</span>
</span><span id=__span-176-18><a id=__codelineno-176-18 name=__codelineno-176-18></a><span class=w>            </span><span class=k>end</span><span class=o>.</span><span class=n>compact</span><span class=o>.</span><span class=n>sort</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>)</span>
</span><span id=__span-176-19><a id=__codelineno-176-19 name=__codelineno-176-19></a><span class=w>        </span><span class=c1>#end</span>
</span><span id=__span-176-20><a id=__codelineno-176-20 name=__codelineno-176-20></a>
</span><span id=__span-176-21><a id=__codelineno-176-21 name=__codelineno-176-21></a><span class=w>        </span><span class=c1># freebsd</span>
</span><span id=__span-176-22><a id=__codelineno-176-22 name=__codelineno-176-22></a><span class=w>        </span><span class=k>elsif</span><span class=w> </span><span class=no>Facter</span><span class=o>.</span><span class=n>value</span><span class=p>(</span><span class=s1>&#39;kernel&#39;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;FreeBSD&quot;</span><span class=w> </span><span class=k>then</span>
</span><span id=__span-176-23><a id=__codelineno-176-23 name=__codelineno-176-23></a><span class=w>            </span><span class=no>Facter</span><span class=o>.</span><span class=n>value</span><span class=p>(</span><span class=s1>&#39;interfaces&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sr>/,/</span><span class=p>)</span><span class=o>.</span><span class=n>collect</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>interface</span><span class=o>|</span>
</span><span id=__span-176-24><a id=__codelineno-176-24 name=__codelineno-176-24></a><span class=w>                </span><span class=n>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sb>`ifconfig </span><span class=si>#{</span><span class=n>interface</span><span class=si>}</span><span class=sb> | grep status`</span>
</span><span id=__span-176-25><a id=__codelineno-176-25 name=__codelineno-176-25></a><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=n>status</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s2>&quot;&quot;</span><span class=w> </span><span class=k>then</span>
</span><span id=__span-176-26><a id=__codelineno-176-26 name=__codelineno-176-26></a><span class=w>                    </span><span class=n>status</span><span class=o>=</span><span class=n>status</span><span class=o>.</span><span class=n>strip!</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s2>&quot;:&quot;</span><span class=p>)</span><span class=o>[</span><span class=mi>1</span><span class=o>].</span><span class=n>strip!</span>
</span><span id=__span-176-27><a id=__codelineno-176-27 name=__codelineno-176-27></a><span class=w>                    </span><span class=k>if</span><span class=w> </span><span class=n>status</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;active&quot;</span><span class=w> </span><span class=k>then</span><span class=w> </span><span class=c1># I CAN HAZ LINK ?</span>
</span><span id=__span-176-28><a id=__codelineno-176-28 name=__codelineno-176-28></a><span class=w>                        </span><span class=n>interface</span><span class=o>.</span><span class=n>to_a</span>
</span><span id=__span-176-29><a id=__codelineno-176-29 name=__codelineno-176-29></a><span class=w>                    </span><span class=k>end</span>
</span><span id=__span-176-30><a id=__codelineno-176-30 name=__codelineno-176-30></a><span class=w>                </span><span class=k>end</span>
</span><span id=__span-176-31><a id=__codelineno-176-31 name=__codelineno-176-31></a><span class=w>            </span><span class=k>end</span><span class=o>.</span><span class=n>compact</span><span class=o>.</span><span class=n>sort</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>)</span>
</span><span id=__span-176-32><a id=__codelineno-176-32 name=__codelineno-176-32></a><span class=w>        </span><span class=c1>#end</span>
</span><span id=__span-176-33><a id=__codelineno-176-33 name=__codelineno-176-33></a>
</span><span id=__span-176-34><a id=__codelineno-176-34 name=__codelineno-176-34></a><span class=w>        </span><span class=c1># solaris</span>
</span><span id=__span-176-35><a id=__codelineno-176-35 name=__codelineno-176-35></a><span class=w>        </span><span class=k>elsif</span><span class=w> </span><span class=no>Facter</span><span class=o>.</span><span class=n>value</span><span class=p>(</span><span class=s1>&#39;kernel&#39;</span><span class=p>)</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;SunOS&quot;</span><span class=w> </span><span class=k>then</span>
</span><span id=__span-176-36><a id=__codelineno-176-36 name=__codelineno-176-36></a><span class=w>            </span><span class=no>Facter</span><span class=o>.</span><span class=n>value</span><span class=p>(</span><span class=s1>&#39;interfaces&#39;</span><span class=p>)</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=sr>/,/</span><span class=p>)</span><span class=o>.</span><span class=n>collect</span><span class=w> </span><span class=k>do</span><span class=w> </span><span class=o>|</span><span class=n>interface</span><span class=o>|</span>
</span><span id=__span-176-37><a id=__codelineno-176-37 name=__codelineno-176-37></a><span class=w>                </span><span class=k>if</span><span class=w> </span><span class=n>interface</span><span class=w> </span><span class=o>!=</span><span class=w> </span><span class=s2>&quot;lo0&quot;</span><span class=w> </span><span class=k>then</span><span class=w> </span><span class=c1># /dev/lo0 does not exists</span>
</span><span id=__span-176-38><a id=__codelineno-176-38 name=__codelineno-176-38></a><span class=w>                    </span><span class=n>status</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=sb>`ndd -get /dev/</span><span class=si>#{</span><span class=n>interface</span><span class=si>}</span><span class=sb> link_status`</span><span class=o>.</span><span class=n>strip!</span>
</span><span id=__span-176-39><a id=__codelineno-176-39 name=__codelineno-176-39></a><span class=w>                    </span><span class=k>if</span><span class=w> </span><span class=n>status</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=s2>&quot;1&quot;</span><span class=w> </span><span class=c1># ndd returns 1 for link up, 0 for down</span>
</span><span id=__span-176-40><a id=__codelineno-176-40 name=__codelineno-176-40></a><span class=w>                        </span><span class=n>interface</span><span class=o>.</span><span class=n>to_a</span>
</span><span id=__span-176-41><a id=__codelineno-176-41 name=__codelineno-176-41></a><span class=w>                    </span><span class=k>end</span>
</span><span id=__span-176-42><a id=__codelineno-176-42 name=__codelineno-176-42></a><span class=w>                </span><span class=k>end</span>
</span><span id=__span-176-43><a id=__codelineno-176-43 name=__codelineno-176-43></a><span class=w>            </span><span class=k>end</span><span class=o>.</span><span class=n>compact</span><span class=o>.</span><span class=n>sort</span><span class=o>.</span><span class=n>join</span><span class=p>(</span><span class=s2>&quot; &quot;</span><span class=p>)</span>
</span><span id=__span-176-44><a id=__codelineno-176-44 name=__codelineno-176-44></a><span class=w>        </span><span class=k>end</span>
</span><span id=__span-176-45><a id=__codelineno-176-45 name=__codelineno-176-45></a><span class=w>    </span><span class=k>end</span>
</span><span id=__span-176-46><a id=__codelineno-176-46 name=__codelineno-176-46></a><span class=k>end</span>
</span></code></pre></div></td></tr></table></div> <h3 id=mcollective>Mcollective</h3> <p>Mcollective is a bit like a gas plant, but it's very powerful and works very well with Puppet. If you don't know or want to learn more, follow this link.</p> <p>This Mcollective module for Puppet allows you to install mcollective, as well as modules on the client side (Mcollective servers). With the modules, here's what my directory structure looks like:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-177-1> 1</a></span>
<span class=normal><a href=#__codelineno-177-2> 2</a></span>
<span class=normal><a href=#__codelineno-177-3> 3</a></span>
<span class=normal><a href=#__codelineno-177-4> 4</a></span>
<span class=normal><a href=#__codelineno-177-5> 5</a></span>
<span class=normal><a href=#__codelineno-177-6> 6</a></span>
<span class=normal><a href=#__codelineno-177-7> 7</a></span>
<span class=normal><a href=#__codelineno-177-8> 8</a></span>
<span class=normal><a href=#__codelineno-177-9> 9</a></span>
<span class=normal><a href=#__codelineno-177-10>10</a></span>
<span class=normal><a href=#__codelineno-177-11>11</a></span>
<span class=normal><a href=#__codelineno-177-12>12</a></span>
<span class=normal><a href=#__codelineno-177-13>13</a></span>
<span class=normal><a href=#__codelineno-177-14>14</a></span>
<span class=normal><a href=#__codelineno-177-15>15</a></span>
<span class=normal><a href=#__codelineno-177-16>16</a></span>
<span class=normal><a href=#__codelineno-177-17>17</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-177-1><a id=__codelineno-177-1 name=__codelineno-177-1></a>.
</span><span id=__span-177-2><a id=__codelineno-177-2 name=__codelineno-177-2></a>|-- files
</span><span id=__span-177-3><a id=__codelineno-177-3 name=__codelineno-177-3></a>|   |-- agent
</span><span id=__span-177-4><a id=__codelineno-177-4 name=__codelineno-177-4></a>|   |   |-- filemgr.rb
</span><span id=__span-177-5><a id=__codelineno-177-5 name=__codelineno-177-5></a>|   |   |-- nrpe.rb
</span><span id=__span-177-6><a id=__codelineno-177-6 name=__codelineno-177-6></a>|   |   |-- package.rb
</span><span id=__span-177-7><a id=__codelineno-177-7 name=__codelineno-177-7></a>|   |   |-- process.rb
</span><span id=__span-177-8><a id=__codelineno-177-8 name=__codelineno-177-8></a>|   |   |-- puppetd.rb
</span><span id=__span-177-9><a id=__codelineno-177-9 name=__codelineno-177-9></a>|   |   |-- service.rb
</span><span id=__span-177-10><a id=__codelineno-177-10 name=__codelineno-177-10></a>|   |   `-- shell.rb
</span><span id=__span-177-11><a id=__codelineno-177-11 name=__codelineno-177-11></a>|   |-- facts
</span><span id=__span-177-12><a id=__codelineno-177-12 name=__codelineno-177-12></a>|   |   `-- facter_facts.rb
</span><span id=__span-177-13><a id=__codelineno-177-13 name=__codelineno-177-13></a>|   `-- RedHat.server.cfg
</span><span id=__span-177-14><a id=__codelineno-177-14 name=__codelineno-177-14></a>`-- manifests
</span><span id=__span-177-15><a id=__codelineno-177-15 name=__codelineno-177-15></a>    |-- common.pp
</span><span id=__span-177-16><a id=__codelineno-177-16 name=__codelineno-177-16></a>    |-- init.pp
</span><span id=__span-177-17><a id=__codelineno-177-17 name=__codelineno-177-17></a>    `-- redhat.pp
</span></code></pre></div></td></tr></table></div> <p>For the modules (agents, facts), I invite you to look at my doc on Mcollective to know where to get them. Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-178-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-178-1><a id=__codelineno-178-1 name=__codelineno-178-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/mcollective/<span class=o>{</span>manifests,files<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_20>init.pp</h4> <p>The init.pp file is the heart of our module, fill it in like this:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-179-1> 1</a></span>
<span class=normal><a href=#__codelineno-179-2> 2</a></span>
<span class=normal><a href=#__codelineno-179-3> 3</a></span>
<span class=normal><a href=#__codelineno-179-4> 4</a></span>
<span class=normal><a href=#__codelineno-179-5> 5</a></span>
<span class=normal><a href=#__codelineno-179-6> 6</a></span>
<span class=normal><a href=#__codelineno-179-7> 7</a></span>
<span class=normal><a href=#__codelineno-179-8> 8</a></span>
<span class=normal><a href=#__codelineno-179-9> 9</a></span>
<span class=normal><a href=#__codelineno-179-10>10</a></span>
<span class=normal><a href=#__codelineno-179-11>11</a></span>
<span class=normal><a href=#__codelineno-179-12>12</a></span>
<span class=normal><a href=#__codelineno-179-13>13</a></span>
<span class=normal><a href=#__codelineno-179-14>14</a></span>
<span class=normal><a href=#__codelineno-179-15>15</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-179-1><a id=__codelineno-179-1 name=__codelineno-179-1></a><span class=sr>/*</span>
</span><span id=__span-179-2><a id=__codelineno-179-2 name=__codelineno-179-2></a><span class=sr>Mcollective Module for Puppet</span>
</span><span id=__span-179-3><a id=__codelineno-179-3 name=__codelineno-179-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-179-4><a id=__codelineno-179-4 name=__codelineno-179-4></a><span class=sr>*/</span>
</span><span id=__span-179-5><a id=__codelineno-179-5 name=__codelineno-179-5></a><span class=k>class</span><span class=w> </span><span class=n>mcollective</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-179-6><a id=__codelineno-179-6 name=__codelineno-179-6></a><span class=w>    </span><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-179-7><a id=__codelineno-179-7 name=__codelineno-179-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-179-8><a id=__codelineno-179-8 name=__codelineno-179-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-179-9><a id=__codelineno-179-9 name=__codelineno-179-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=n>mcollective</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-179-10><a id=__codelineno-179-10 name=__codelineno-179-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-179-11><a id=__codelineno-179-11 name=__codelineno-179-11></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-179-12><a id=__codelineno-179-12 name=__codelineno-179-12></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-179-13><a id=__codelineno-179-13 name=__codelineno-179-13></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-179-14><a id=__codelineno-179-14 name=__codelineno-179-14></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-179-15><a id=__codelineno-179-15 name=__codelineno-179-15></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=commonpp_3>common.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-180-1> 1</a></span>
<span class=normal><a href=#__codelineno-180-2> 2</a></span>
<span class=normal><a href=#__codelineno-180-3> 3</a></span>
<span class=normal><a href=#__codelineno-180-4> 4</a></span>
<span class=normal><a href=#__codelineno-180-5> 5</a></span>
<span class=normal><a href=#__codelineno-180-6> 6</a></span>
<span class=normal><a href=#__codelineno-180-7> 7</a></span>
<span class=normal><a href=#__codelineno-180-8> 8</a></span>
<span class=normal><a href=#__codelineno-180-9> 9</a></span>
<span class=normal><a href=#__codelineno-180-10>10</a></span>
<span class=normal><a href=#__codelineno-180-11>11</a></span>
<span class=normal><a href=#__codelineno-180-12>12</a></span>
<span class=normal><a href=#__codelineno-180-13>13</a></span>
<span class=normal><a href=#__codelineno-180-14>14</a></span>
<span class=normal><a href=#__codelineno-180-15>15</a></span>
<span class=normal><a href=#__codelineno-180-16>16</a></span>
<span class=normal><a href=#__codelineno-180-17>17</a></span>
<span class=normal><a href=#__codelineno-180-18>18</a></span>
<span class=normal><a href=#__codelineno-180-19>19</a></span>
<span class=normal><a href=#__codelineno-180-20>20</a></span>
<span class=normal><a href=#__codelineno-180-21>21</a></span>
<span class=normal><a href=#__codelineno-180-22>22</a></span>
<span class=normal><a href=#__codelineno-180-23>23</a></span>
<span class=normal><a href=#__codelineno-180-24>24</a></span>
<span class=normal><a href=#__codelineno-180-25>25</a></span>
<span class=normal><a href=#__codelineno-180-26>26</a></span>
<span class=normal><a href=#__codelineno-180-27>27</a></span>
<span class=normal><a href=#__codelineno-180-28>28</a></span>
<span class=normal><a href=#__codelineno-180-29>29</a></span>
<span class=normal><a href=#__codelineno-180-30>30</a></span>
<span class=normal><a href=#__codelineno-180-31>31</a></span>
<span class=normal><a href=#__codelineno-180-32>32</a></span>
<span class=normal><a href=#__codelineno-180-33>33</a></span>
<span class=normal><a href=#__codelineno-180-34>34</a></span>
<span class=normal><a href=#__codelineno-180-35>35</a></span>
<span class=normal><a href=#__codelineno-180-36>36</a></span>
<span class=normal><a href=#__codelineno-180-37>37</a></span>
<span class=normal><a href=#__codelineno-180-38>38</a></span>
<span class=normal><a href=#__codelineno-180-39>39</a></span>
<span class=normal><a href=#__codelineno-180-40>40</a></span>
<span class=normal><a href=#__codelineno-180-41>41</a></span>
<span class=normal><a href=#__codelineno-180-42>42</a></span>
<span class=normal><a href=#__codelineno-180-43>43</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-180-1><a id=__codelineno-180-1 name=__codelineno-180-1></a><span class=sr>/*</span>
</span><span id=__span-180-2><a id=__codelineno-180-2 name=__codelineno-180-2></a><span class=sr>Mcollective Module for Puppet</span>
</span><span id=__span-180-3><a id=__codelineno-180-3 name=__codelineno-180-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-180-4><a id=__codelineno-180-4 name=__codelineno-180-4></a><span class=sr>*/</span>
</span><span id=__span-180-5><a id=__codelineno-180-5 name=__codelineno-180-5></a><span class=k>class</span><span class=w> </span><span class=n>mcollective</span><span class=o>::</span><span class=n>common</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-180-6><a id=__codelineno-180-6 name=__codelineno-180-6></a><span class=w>    </span><span class=c1># Used for nrpe.cfg file</span>
</span><span id=__span-180-7><a id=__codelineno-180-7 name=__codelineno-180-7></a><span class=w>    </span><span class=vg>$mco_agent_dir</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=vg>$operatingsystem</span><span class=w> </span><span class=p>?</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-180-8><a id=__codelineno-180-8 name=__codelineno-180-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/usr/libexec/mcollective/mcollective&quot;</span><span class=p>,</span>
</span><span id=__span-180-9><a id=__codelineno-180-9 name=__codelineno-180-9></a><span class=w>        </span><span class=s1>&#39;Solaris&#39;</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;/usr/libexec/mcollective/mcollective&quot;</span>
</span><span id=__span-180-10><a id=__codelineno-180-10 name=__codelineno-180-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-180-11><a id=__codelineno-180-11 name=__codelineno-180-11></a>
</span><span id=__span-180-12><a id=__codelineno-180-12 name=__codelineno-180-12></a><span class=w>    </span><span class=c1># Transfert agents</span>
</span><span id=__span-180-13><a id=__codelineno-180-13 name=__codelineno-180-13></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-180-14><a id=__codelineno-180-14 name=__codelineno-180-14></a><span class=w>        </span><span class=s1>&#39;mco_agent_folder&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-180-15><a id=__codelineno-180-15 name=__codelineno-180-15></a><span class=w>            </span><span class=nb>name</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$mco_agent_dir/agent&quot;</span><span class=p>,</span>
</span><span id=__span-180-16><a id=__codelineno-180-16 name=__codelineno-180-16></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-180-17><a id=__codelineno-180-17 name=__codelineno-180-17></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span>
</span><span id=__span-180-18><a id=__codelineno-180-18 name=__codelineno-180-18></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-180-19><a id=__codelineno-180-19 name=__codelineno-180-19></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-180-20><a id=__codelineno-180-20 name=__codelineno-180-20></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=o>[</span><span class=s2>&quot;puppet:///modules/mcollective/agent&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-180-21><a id=__codelineno-180-21 name=__codelineno-180-21></a><span class=w>            </span><span class=n>recurse</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-180-22><a id=__codelineno-180-22 name=__codelineno-180-22></a><span class=w>            </span><span class=n>ignore</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;.svn&#39;</span><span class=p>,</span>
</span><span id=__span-180-23><a id=__codelineno-180-23 name=__codelineno-180-23></a><span class=w>            </span><span class=n>backup</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>false</span><span class=p>,</span>
</span><span id=__span-180-24><a id=__codelineno-180-24 name=__codelineno-180-24></a><span class=w>            </span><span class=n>notify</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s1>&#39;mcollective&#39;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-180-25><a id=__codelineno-180-25 name=__codelineno-180-25></a><span class=w>            </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s1>&#39;mcollective&#39;</span><span class=o>]</span>
</span><span id=__span-180-26><a id=__codelineno-180-26 name=__codelineno-180-26></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-180-27><a id=__codelineno-180-27 name=__codelineno-180-27></a>
</span><span id=__span-180-28><a id=__codelineno-180-28 name=__codelineno-180-28></a><span class=w>    </span><span class=c1># Transfert facts</span>
</span><span id=__span-180-29><a id=__codelineno-180-29 name=__codelineno-180-29></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-180-30><a id=__codelineno-180-30 name=__codelineno-180-30></a><span class=w>        </span><span class=s1>&#39;mco_facts_folder&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-180-31><a id=__codelineno-180-31 name=__codelineno-180-31></a><span class=w>            </span><span class=nb>name</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;$mco_agent_dir/facts&quot;</span><span class=p>,</span>
</span><span id=__span-180-32><a id=__codelineno-180-32 name=__codelineno-180-32></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>directory</span><span class=p>,</span>
</span><span id=__span-180-33><a id=__codelineno-180-33 name=__codelineno-180-33></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>644</span><span class=p>,</span>
</span><span id=__span-180-34><a id=__codelineno-180-34 name=__codelineno-180-34></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-180-35><a id=__codelineno-180-35 name=__codelineno-180-35></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-180-36><a id=__codelineno-180-36 name=__codelineno-180-36></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=o>[</span><span class=s2>&quot;puppet:///modules/mcollective/facts&quot;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-180-37><a id=__codelineno-180-37 name=__codelineno-180-37></a><span class=w>            </span><span class=n>recurse</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-180-38><a id=__codelineno-180-38 name=__codelineno-180-38></a><span class=w>            </span><span class=n>ignore</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;.svn&#39;</span><span class=p>,</span>
</span><span id=__span-180-39><a id=__codelineno-180-39 name=__codelineno-180-39></a><span class=w>            </span><span class=n>backup</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>false</span><span class=p>,</span>
</span><span id=__span-180-40><a id=__codelineno-180-40 name=__codelineno-180-40></a><span class=w>            </span><span class=n>notify</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s1>&#39;mcollective&#39;</span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-180-41><a id=__codelineno-180-41 name=__codelineno-180-41></a><span class=w>            </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s1>&#39;mcollective&#39;</span><span class=o>]</span>
</span><span id=__span-180-42><a id=__codelineno-180-42 name=__codelineno-180-42></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-180-43><a id=__codelineno-180-43 name=__codelineno-180-43></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_15>redhat.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-181-1> 1</a></span>
<span class=normal><a href=#__codelineno-181-2> 2</a></span>
<span class=normal><a href=#__codelineno-181-3> 3</a></span>
<span class=normal><a href=#__codelineno-181-4> 4</a></span>
<span class=normal><a href=#__codelineno-181-5> 5</a></span>
<span class=normal><a href=#__codelineno-181-6> 6</a></span>
<span class=normal><a href=#__codelineno-181-7> 7</a></span>
<span class=normal><a href=#__codelineno-181-8> 8</a></span>
<span class=normal><a href=#__codelineno-181-9> 9</a></span>
<span class=normal><a href=#__codelineno-181-10>10</a></span>
<span class=normal><a href=#__codelineno-181-11>11</a></span>
<span class=normal><a href=#__codelineno-181-12>12</a></span>
<span class=normal><a href=#__codelineno-181-13>13</a></span>
<span class=normal><a href=#__codelineno-181-14>14</a></span>
<span class=normal><a href=#__codelineno-181-15>15</a></span>
<span class=normal><a href=#__codelineno-181-16>16</a></span>
<span class=normal><a href=#__codelineno-181-17>17</a></span>
<span class=normal><a href=#__codelineno-181-18>18</a></span>
<span class=normal><a href=#__codelineno-181-19>19</a></span>
<span class=normal><a href=#__codelineno-181-20>20</a></span>
<span class=normal><a href=#__codelineno-181-21>21</a></span>
<span class=normal><a href=#__codelineno-181-22>22</a></span>
<span class=normal><a href=#__codelineno-181-23>23</a></span>
<span class=normal><a href=#__codelineno-181-24>24</a></span>
<span class=normal><a href=#__codelineno-181-25>25</a></span>
<span class=normal><a href=#__codelineno-181-26>26</a></span>
<span class=normal><a href=#__codelineno-181-27>27</a></span>
<span class=normal><a href=#__codelineno-181-28>28</a></span>
<span class=normal><a href=#__codelineno-181-29>29</a></span>
<span class=normal><a href=#__codelineno-181-30>30</a></span>
<span class=normal><a href=#__codelineno-181-31>31</a></span>
<span class=normal><a href=#__codelineno-181-32>32</a></span>
<span class=normal><a href=#__codelineno-181-33>33</a></span>
<span class=normal><a href=#__codelineno-181-34>34</a></span>
<span class=normal><a href=#__codelineno-181-35>35</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-181-1><a id=__codelineno-181-1 name=__codelineno-181-1></a><span class=sr>/*</span>
</span><span id=__span-181-2><a id=__codelineno-181-2 name=__codelineno-181-2></a><span class=sr>Mcollective Module for Puppet</span>
</span><span id=__span-181-3><a id=__codelineno-181-3 name=__codelineno-181-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-181-4><a id=__codelineno-181-4 name=__codelineno-181-4></a><span class=sr>*/</span>
</span><span id=__span-181-5><a id=__codelineno-181-5 name=__codelineno-181-5></a><span class=k>class</span><span class=w> </span><span class=n>mcollective</span><span class=o>::</span><span class=n>redhat</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-181-6><a id=__codelineno-181-6 name=__codelineno-181-6></a><span class=c1># Install Mcollective client</span>
</span><span id=__span-181-7><a id=__codelineno-181-7 name=__codelineno-181-7></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=o>[</span>
</span><span id=__span-181-8><a id=__codelineno-181-8 name=__codelineno-181-8></a><span class=w>        </span><span class=s1>&#39;mcollective&#39;</span><span class=p>,</span>
</span><span id=__span-181-9><a id=__codelineno-181-9 name=__codelineno-181-9></a><span class=w>        </span><span class=s1>&#39;rubygem-stomp&#39;</span><span class=p>,</span>
</span><span id=__span-181-10><a id=__codelineno-181-10 name=__codelineno-181-10></a><span class=w>        </span><span class=s1>&#39;rubygem-sysproctable&#39;</span>
</span><span id=__span-181-11><a id=__codelineno-181-11 name=__codelineno-181-11></a><span class=w>        </span><span class=o>]</span><span class=p>:</span>
</span><span id=__span-181-12><a id=__codelineno-181-12 name=__codelineno-181-12></a><span class=w>        </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s1>&#39;installed&#39;</span>
</span><span id=__span-181-13><a id=__codelineno-181-13 name=__codelineno-181-13></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-181-14><a id=__codelineno-181-14 name=__codelineno-181-14></a>
</span><span id=__span-181-15><a id=__codelineno-181-15 name=__codelineno-181-15></a><span class=w>    </span><span class=c1># Be sure that service is set to start at boot and running</span>
</span><span id=__span-181-16><a id=__codelineno-181-16 name=__codelineno-181-16></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-181-17><a id=__codelineno-181-17 name=__codelineno-181-17></a><span class=w>        </span><span class=s1>&#39;mcollective&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-181-18><a id=__codelineno-181-18 name=__codelineno-181-18></a><span class=w>            </span><span class=n>enable</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-181-19><a id=__codelineno-181-19 name=__codelineno-181-19></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span>
</span><span id=__span-181-20><a id=__codelineno-181-20 name=__codelineno-181-20></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-181-21><a id=__codelineno-181-21 name=__codelineno-181-21></a>
</span><span id=__span-181-22><a id=__codelineno-181-22 name=__codelineno-181-22></a><span class=w>    </span><span class=c1># Set configuration file</span>
</span><span id=__span-181-23><a id=__codelineno-181-23 name=__codelineno-181-23></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-181-24><a id=__codelineno-181-24 name=__codelineno-181-24></a><span class=w>        </span><span class=s1>&#39;/etc/mcollective/server.cfg&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-181-25><a id=__codelineno-181-25 name=__codelineno-181-25></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span><span class=p>,</span>
</span><span id=__span-181-26><a id=__codelineno-181-26 name=__codelineno-181-26></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/mcollective/${::osfamily}.server.cfg&quot;</span><span class=p>,</span>
</span><span id=__span-181-27><a id=__codelineno-181-27 name=__codelineno-181-27></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>640</span><span class=p>,</span>
</span><span id=__span-181-28><a id=__codelineno-181-28 name=__codelineno-181-28></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-181-29><a id=__codelineno-181-29 name=__codelineno-181-29></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-181-30><a id=__codelineno-181-30 name=__codelineno-181-30></a><span class=w>            </span><span class=n>notify</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s1>&#39;mcollective&#39;</span><span class=o>]</span>
</span><span id=__span-181-31><a id=__codelineno-181-31 name=__codelineno-181-31></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-181-32><a id=__codelineno-181-32 name=__codelineno-181-32></a>
</span><span id=__span-181-33><a id=__codelineno-181-33 name=__codelineno-181-33></a><span class=w>    </span><span class=c1># Include common</span>
</span><span id=__span-181-34><a id=__codelineno-181-34 name=__codelineno-181-34></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>mcollective</span><span class=o>::</span><span class=n>common</span>
</span><span id=__span-181-35><a id=__codelineno-181-35 name=__codelineno-181-35></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=files_10>files</h4> <h5 id=redhatservercfg>RedHat.server.cfg</h5> <p>Here's the configuration for Mcollective:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-182-1> 1</a></span>
<span class=normal><a href=#__codelineno-182-2> 2</a></span>
<span class=normal><a href=#__codelineno-182-3> 3</a></span>
<span class=normal><a href=#__codelineno-182-4> 4</a></span>
<span class=normal><a href=#__codelineno-182-5> 5</a></span>
<span class=normal><a href=#__codelineno-182-6> 6</a></span>
<span class=normal><a href=#__codelineno-182-7> 7</a></span>
<span class=normal><a href=#__codelineno-182-8> 8</a></span>
<span class=normal><a href=#__codelineno-182-9> 9</a></span>
<span class=normal><a href=#__codelineno-182-10>10</a></span>
<span class=normal><a href=#__codelineno-182-11>11</a></span>
<span class=normal><a href=#__codelineno-182-12>12</a></span>
<span class=normal><a href=#__codelineno-182-13>13</a></span>
<span class=normal><a href=#__codelineno-182-14>14</a></span>
<span class=normal><a href=#__codelineno-182-15>15</a></span>
<span class=normal><a href=#__codelineno-182-16>16</a></span>
<span class=normal><a href=#__codelineno-182-17>17</a></span>
<span class=normal><a href=#__codelineno-182-18>18</a></span>
<span class=normal><a href=#__codelineno-182-19>19</a></span>
<span class=normal><a href=#__codelineno-182-20>20</a></span>
<span class=normal><a href=#__codelineno-182-21>21</a></span>
<span class=normal><a href=#__codelineno-182-22>22</a></span>
<span class=normal><a href=#__codelineno-182-23>23</a></span>
<span class=normal><a href=#__codelineno-182-24>24</a></span>
<span class=normal><a href=#__codelineno-182-25>25</a></span>
<span class=normal><a href=#__codelineno-182-26>26</a></span>
<span class=normal><a href=#__codelineno-182-27>27</a></span>
<span class=normal><a href=#__codelineno-182-28>28</a></span>
<span class=normal><a href=#__codelineno-182-29>29</a></span>
<span class=normal><a href=#__codelineno-182-30>30</a></span>
<span class=normal><a href=#__codelineno-182-31>31</a></span>
<span class=normal><a href=#__codelineno-182-32>32</a></span>
<span class=normal><a href=#__codelineno-182-33>33</a></span>
<span class=normal><a href=#__codelineno-182-34>34</a></span>
<span class=normal><a href=#__codelineno-182-35>35</a></span>
<span class=normal><a href=#__codelineno-182-36>36</a></span>
<span class=normal><a href=#__codelineno-182-37>37</a></span>
<span class=normal><a href=#__codelineno-182-38>38</a></span>
<span class=normal><a href=#__codelineno-182-39>39</a></span>
<span class=normal><a href=#__codelineno-182-40>40</a></span>
<span class=normal><a href=#__codelineno-182-41>41</a></span>
<span class=normal><a href=#__codelineno-182-42>42</a></span>
<span class=normal><a href=#__codelineno-182-43>43</a></span>
<span class=normal><a href=#__codelineno-182-44>44</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-182-1><a id=__codelineno-182-1 name=__codelineno-182-1></a>########################
</span><span id=__span-182-2><a id=__codelineno-182-2 name=__codelineno-182-2></a># GLOCAL CONFIGURATION #
</span><span id=__span-182-3><a id=__codelineno-182-3 name=__codelineno-182-3></a>########################
</span><span id=__span-182-4><a id=__codelineno-182-4 name=__codelineno-182-4></a>
</span><span id=__span-182-5><a id=__codelineno-182-5 name=__codelineno-182-5></a>topicprefix = /topic/
</span><span id=__span-182-6><a id=__codelineno-182-6 name=__codelineno-182-6></a>main_collective = mcollective
</span><span id=__span-182-7><a id=__codelineno-182-7 name=__codelineno-182-7></a>collectives = mcollective
</span><span id=__span-182-8><a id=__codelineno-182-8 name=__codelineno-182-8></a>libdir = /usr/share/mcollective/plugins
</span><span id=__span-182-9><a id=__codelineno-182-9 name=__codelineno-182-9></a>logfile = /var/log/mcollective.log
</span><span id=__span-182-10><a id=__codelineno-182-10 name=__codelineno-182-10></a>loglevel = info
</span><span id=__span-182-11><a id=__codelineno-182-11 name=__codelineno-182-11></a>daemonize = 1
</span><span id=__span-182-12><a id=__codelineno-182-12 name=__codelineno-182-12></a>classesfile = /var/lib/puppet/classes.txt
</span><span id=__span-182-13><a id=__codelineno-182-13 name=__codelineno-182-13></a>
</span><span id=__span-182-14><a id=__codelineno-182-14 name=__codelineno-182-14></a>###########
</span><span id=__span-182-15><a id=__codelineno-182-15 name=__codelineno-182-15></a># MODULES #
</span><span id=__span-182-16><a id=__codelineno-182-16 name=__codelineno-182-16></a>###########
</span><span id=__span-182-17><a id=__codelineno-182-17 name=__codelineno-182-17></a>
</span><span id=__span-182-18><a id=__codelineno-182-18 name=__codelineno-182-18></a># Security
</span><span id=__span-182-19><a id=__codelineno-182-19 name=__codelineno-182-19></a>securityprovider = psk
</span><span id=__span-182-20><a id=__codelineno-182-20 name=__codelineno-182-20></a>plugin.psk = unset
</span><span id=__span-182-21><a id=__codelineno-182-21 name=__codelineno-182-21></a>
</span><span id=__span-182-22><a id=__codelineno-182-22 name=__codelineno-182-22></a># Stomp
</span><span id=__span-182-23><a id=__codelineno-182-23 name=__codelineno-182-23></a>connector = stomp
</span><span id=__span-182-24><a id=__codelineno-182-24 name=__codelineno-182-24></a>plugin.stomp.host = mcollective.deimos.fr
</span><span id=__span-182-25><a id=__codelineno-182-25 name=__codelineno-182-25></a>plugin.stomp.port = 61613
</span><span id=__span-182-26><a id=__codelineno-182-26 name=__codelineno-182-26></a>plugin.stomp.user = mcollective
</span><span id=__span-182-27><a id=__codelineno-182-27 name=__codelineno-182-27></a>plugin.stomp.password = marionette
</span><span id=__span-182-28><a id=__codelineno-182-28 name=__codelineno-182-28></a>
</span><span id=__span-182-29><a id=__codelineno-182-29 name=__codelineno-182-29></a># AgentPuppetd
</span><span id=__span-182-30><a id=__codelineno-182-30 name=__codelineno-182-30></a>plugin.puppetd.puppetd = /usr/sbin/puppetd
</span><span id=__span-182-31><a id=__codelineno-182-31 name=__codelineno-182-31></a>plugin.puppetd.lockfile = /var/lib/puppet/state/puppetdlock
</span><span id=__span-182-32><a id=__codelineno-182-32 name=__codelineno-182-32></a>plugin.puppetd.statefile = /var/lib/puppet/state/state.yaml
</span><span id=__span-182-33><a id=__codelineno-182-33 name=__codelineno-182-33></a>plugin.puppet.pidfile = /var/run/puppet/agent.pid
</span><span id=__span-182-34><a id=__codelineno-182-34 name=__codelineno-182-34></a>plugin.puppetd.splaytime = 100
</span><span id=__span-182-35><a id=__codelineno-182-35 name=__codelineno-182-35></a>plugin.puppet.summary = /var/lib/puppet/state/last_run_summary.yaml
</span><span id=__span-182-36><a id=__codelineno-182-36 name=__codelineno-182-36></a>
</span><span id=__span-182-37><a id=__codelineno-182-37 name=__codelineno-182-37></a>#########
</span><span id=__span-182-38><a id=__codelineno-182-38 name=__codelineno-182-38></a># FACTS #
</span><span id=__span-182-39><a id=__codelineno-182-39 name=__codelineno-182-39></a>#########
</span><span id=__span-182-40><a id=__codelineno-182-40 name=__codelineno-182-40></a>
</span><span id=__span-182-41><a id=__codelineno-182-41 name=__codelineno-182-41></a>factsource = facter
</span><span id=__span-182-42><a id=__codelineno-182-42 name=__codelineno-182-42></a>plugin.yaml = /etc/mcollective/facts.yaml
</span><span id=__span-182-43><a id=__codelineno-182-43 name=__codelineno-182-43></a>plugin.facter.facterlib = /var/lib/puppet/lib/facter
</span><span id=__span-182-44><a id=__codelineno-182-44 name=__codelineno-182-44></a>fact_cache_time = 300
</span></code></pre></div></td></tr></table></div> <h3 id=bind>Bind</h3> <p>It can sometimes be useful to have a local DNS cache server to speed up certain processes and not be dependent on a third-party DNS if it fails for a few moments. For more info on Bind, follow this link. Let's create the directory structure:</p> <div class="language-bash highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-183-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-183-1><a id=__codelineno-183-1 name=__codelineno-183-1></a>mkdir<span class=w> </span>-p<span class=w> </span>/etc/puppet/modules/bind/<span class=o>{</span>manifests,files,templates<span class=o>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=initpp_21>init.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-184-1> 1</a></span>
<span class=normal><a href=#__codelineno-184-2> 2</a></span>
<span class=normal><a href=#__codelineno-184-3> 3</a></span>
<span class=normal><a href=#__codelineno-184-4> 4</a></span>
<span class=normal><a href=#__codelineno-184-5> 5</a></span>
<span class=normal><a href=#__codelineno-184-6> 6</a></span>
<span class=normal><a href=#__codelineno-184-7> 7</a></span>
<span class=normal><a href=#__codelineno-184-8> 8</a></span>
<span class=normal><a href=#__codelineno-184-9> 9</a></span>
<span class=normal><a href=#__codelineno-184-10>10</a></span>
<span class=normal><a href=#__codelineno-184-11>11</a></span>
<span class=normal><a href=#__codelineno-184-12>12</a></span>
<span class=normal><a href=#__codelineno-184-13>13</a></span>
<span class=normal><a href=#__codelineno-184-14>14</a></span>
<span class=normal><a href=#__codelineno-184-15>15</a></span>
<span class=normal><a href=#__codelineno-184-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-184-1><a id=__codelineno-184-1 name=__codelineno-184-1></a><span class=sr>/*</span>
</span><span id=__span-184-2><a id=__codelineno-184-2 name=__codelineno-184-2></a><span class=sr>Bind Module for Puppet</span>
</span><span id=__span-184-3><a id=__codelineno-184-3 name=__codelineno-184-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-184-4><a id=__codelineno-184-4 name=__codelineno-184-4></a><span class=sr>*/</span>
</span><span id=__span-184-5><a id=__codelineno-184-5 name=__codelineno-184-5></a><span class=k>class</span><span class=w> </span><span class=n>bind</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-184-6><a id=__codelineno-184-6 name=__codelineno-184-6></a><span class=c1># Check OS and request the appropriate function</span>
</span><span id=__span-184-7><a id=__codelineno-184-7 name=__codelineno-184-7></a><span class=w>    </span><span class=k>case</span><span class=w> </span><span class=vg>$:</span><span class=ss>:operatingsystem</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-184-8><a id=__codelineno-184-8 name=__codelineno-184-8></a><span class=w>        </span><span class=s1>&#39;RedHat&#39;</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-184-9><a id=__codelineno-184-9 name=__codelineno-184-9></a><span class=w>            </span><span class=kp>include</span><span class=w> </span><span class=o>::</span><span class=n>bind</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-184-10><a id=__codelineno-184-10 name=__codelineno-184-10></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-184-11><a id=__codelineno-184-11 name=__codelineno-184-11></a><span class=w>        </span><span class=c1>#&#39;sunos&#39;:  { include packages_defaults::solaris }</span>
</span><span id=__span-184-12><a id=__codelineno-184-12 name=__codelineno-184-12></a><span class=w>        </span><span class=n>default</span><span class=w> </span><span class=p>:</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-184-13><a id=__codelineno-184-13 name=__codelineno-184-13></a><span class=w>            </span><span class=n>notice</span><span class=p>(</span><span class=s2>&quot;Module ${module_name} is not supported on ${::operatingsystem}&quot;</span><span class=p>)</span>
</span><span id=__span-184-14><a id=__codelineno-184-14 name=__codelineno-184-14></a><span class=w>        </span><span class=p>}</span>
</span><span id=__span-184-15><a id=__codelineno-184-15 name=__codelineno-184-15></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-184-16><a id=__codelineno-184-16 name=__codelineno-184-16></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=redhatpp_16>redhat.pp</h4> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-185-1> 1</a></span>
<span class=normal><a href=#__codelineno-185-2> 2</a></span>
<span class=normal><a href=#__codelineno-185-3> 3</a></span>
<span class=normal><a href=#__codelineno-185-4> 4</a></span>
<span class=normal><a href=#__codelineno-185-5> 5</a></span>
<span class=normal><a href=#__codelineno-185-6> 6</a></span>
<span class=normal><a href=#__codelineno-185-7> 7</a></span>
<span class=normal><a href=#__codelineno-185-8> 8</a></span>
<span class=normal><a href=#__codelineno-185-9> 9</a></span>
<span class=normal><a href=#__codelineno-185-10>10</a></span>
<span class=normal><a href=#__codelineno-185-11>11</a></span>
<span class=normal><a href=#__codelineno-185-12>12</a></span>
<span class=normal><a href=#__codelineno-185-13>13</a></span>
<span class=normal><a href=#__codelineno-185-14>14</a></span>
<span class=normal><a href=#__codelineno-185-15>15</a></span>
<span class=normal><a href=#__codelineno-185-16>16</a></span>
<span class=normal><a href=#__codelineno-185-17>17</a></span>
<span class=normal><a href=#__codelineno-185-18>18</a></span>
<span class=normal><a href=#__codelineno-185-19>19</a></span>
<span class=normal><a href=#__codelineno-185-20>20</a></span>
<span class=normal><a href=#__codelineno-185-21>21</a></span>
<span class=normal><a href=#__codelineno-185-22>22</a></span>
<span class=normal><a href=#__codelineno-185-23>23</a></span>
<span class=normal><a href=#__codelineno-185-24>24</a></span>
<span class=normal><a href=#__codelineno-185-25>25</a></span>
<span class=normal><a href=#__codelineno-185-26>26</a></span>
<span class=normal><a href=#__codelineno-185-27>27</a></span>
<span class=normal><a href=#__codelineno-185-28>28</a></span>
<span class=normal><a href=#__codelineno-185-29>29</a></span>
<span class=normal><a href=#__codelineno-185-30>30</a></span>
<span class=normal><a href=#__codelineno-185-31>31</a></span>
<span class=normal><a href=#__codelineno-185-32>32</a></span>
<span class=normal><a href=#__codelineno-185-33>33</a></span>
<span class=normal><a href=#__codelineno-185-34>34</a></span>
<span class=normal><a href=#__codelineno-185-35>35</a></span>
<span class=normal><a href=#__codelineno-185-36>36</a></span>
<span class=normal><a href=#__codelineno-185-37>37</a></span>
<span class=normal><a href=#__codelineno-185-38>38</a></span>
<span class=normal><a href=#__codelineno-185-39>39</a></span>
<span class=normal><a href=#__codelineno-185-40>40</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-185-1><a id=__codelineno-185-1 name=__codelineno-185-1></a><span class=sr>/*</span>
</span><span id=__span-185-2><a id=__codelineno-185-2 name=__codelineno-185-2></a><span class=sr>Bind Module for Puppet</span>
</span><span id=__span-185-3><a id=__codelineno-185-3 name=__codelineno-185-3></a><span class=sr>Made by Pierre Mavro</span>
</span><span id=__span-185-4><a id=__codelineno-185-4 name=__codelineno-185-4></a><span class=sr>*/</span>
</span><span id=__span-185-5><a id=__codelineno-185-5 name=__codelineno-185-5></a><span class=k>class</span><span class=w> </span><span class=n>bind</span><span class=o>::</span><span class=n>redhat</span>
</span><span id=__span-185-6><a id=__codelineno-185-6 name=__codelineno-185-6></a><span class=p>{</span>
</span><span id=__span-185-7><a id=__codelineno-185-7 name=__codelineno-185-7></a><span class=w>    </span><span class=c1># Install bind package</span>
</span><span id=__span-185-8><a id=__codelineno-185-8 name=__codelineno-185-8></a><span class=w>    </span><span class=n>package</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-185-9><a id=__codelineno-185-9 name=__codelineno-185-9></a><span class=w>        </span><span class=s1>&#39;bind&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-185-10><a id=__codelineno-185-10 name=__codelineno-185-10></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>present</span>
</span><span id=__span-185-11><a id=__codelineno-185-11 name=__codelineno-185-11></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-185-12><a id=__codelineno-185-12 name=__codelineno-185-12></a>
</span><span id=__span-185-13><a id=__codelineno-185-13 name=__codelineno-185-13></a><span class=w>    </span><span class=c1># resolv.conf file</span>
</span><span id=__span-185-14><a id=__codelineno-185-14 name=__codelineno-185-14></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-185-15><a id=__codelineno-185-15 name=__codelineno-185-15></a><span class=w>        </span><span class=s2>&quot;/etc/resolv.conf&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-185-16><a id=__codelineno-185-16 name=__codelineno-185-16></a><span class=w>            </span><span class=n>source</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=s2>&quot;puppet:///modules/bind/resolvconf&quot;</span><span class=p>,</span>
</span><span id=__span-185-17><a id=__codelineno-185-17 name=__codelineno-185-17></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>744</span><span class=p>,</span>
</span><span id=__span-185-18><a id=__codelineno-185-18 name=__codelineno-185-18></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-185-19><a id=__codelineno-185-19 name=__codelineno-185-19></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-185-20><a id=__codelineno-185-20 name=__codelineno-185-20></a><span class=w>            </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s1>&#39;/etc/named.conf&#39;</span><span class=o>]</span>
</span><span id=__span-185-21><a id=__codelineno-185-21 name=__codelineno-185-21></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-185-22><a id=__codelineno-185-22 name=__codelineno-185-22></a>
</span><span id=__span-185-23><a id=__codelineno-185-23 name=__codelineno-185-23></a><span class=w>    </span><span class=c1># Bind main config file for cache server</span>
</span><span id=__span-185-24><a id=__codelineno-185-24 name=__codelineno-185-24></a><span class=w>    </span><span class=n>file</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-185-25><a id=__codelineno-185-25 name=__codelineno-185-25></a><span class=w>        </span><span class=s2>&quot;/etc/named.conf&quot;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-185-26><a id=__codelineno-185-26 name=__codelineno-185-26></a><span class=w>            </span><span class=n>content</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>template</span><span class=p>(</span><span class=s2>&quot;bind/named.conf.$::operatingsystem&quot;</span><span class=p>),</span>
</span><span id=__span-185-27><a id=__codelineno-185-27 name=__codelineno-185-27></a><span class=w>            </span><span class=n>mode</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=mi>640</span><span class=p>,</span>
</span><span id=__span-185-28><a id=__codelineno-185-28 name=__codelineno-185-28></a><span class=w>            </span><span class=n>owner</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>root</span><span class=p>,</span>
</span><span id=__span-185-29><a id=__codelineno-185-29 name=__codelineno-185-29></a><span class=w>            </span><span class=n>group</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>named</span><span class=p>,</span>
</span><span id=__span-185-30><a id=__codelineno-185-30 name=__codelineno-185-30></a><span class=w>            </span><span class=n>notify</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=no>Service</span><span class=o>[</span><span class=s2>&quot;named&quot;</span><span class=o>]</span>
</span><span id=__span-185-31><a id=__codelineno-185-31 name=__codelineno-185-31></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-185-32><a id=__codelineno-185-32 name=__codelineno-185-32></a>
</span><span id=__span-185-33><a id=__codelineno-185-33 name=__codelineno-185-33></a><span class=w>    </span><span class=c1># Service should start on boot and be running</span>
</span><span id=__span-185-34><a id=__codelineno-185-34 name=__codelineno-185-34></a><span class=w>    </span><span class=n>service</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-185-35><a id=__codelineno-185-35 name=__codelineno-185-35></a><span class=w>        </span><span class=s1>&#39;named&#39;</span><span class=w> </span><span class=p>:</span>
</span><span id=__span-185-36><a id=__codelineno-185-36 name=__codelineno-185-36></a><span class=w>            </span><span class=n>enable</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>,</span>
</span><span id=__span-185-37><a id=__codelineno-185-37 name=__codelineno-185-37></a><span class=w>            </span><span class=k>ensure</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=n>running</span><span class=p>,</span>
</span><span id=__span-185-38><a id=__codelineno-185-38 name=__codelineno-185-38></a><span class=w>            </span><span class=nb>require</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=no>Package</span><span class=o>[</span><span class=s1>&#39;bind&#39;</span><span class=o>]</span><span class=p>,</span><span class=w> </span><span class=no>File</span><span class=o>[</span><span class=s1>&#39;/etc/named.conf&#39;</span><span class=p>,</span><span class=w> </span><span class=s1>&#39;/etc/resolv.conf&#39;</span><span class=o>]</span><span class=w> </span><span class=o>]</span>
</span><span id=__span-185-39><a id=__codelineno-185-39 name=__codelineno-185-39></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-185-40><a id=__codelineno-185-40 name=__codelineno-185-40></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h4 id=files_11>files</h4> <p>We'll manage resolv.conf here:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-186-1>1</a></span>
<span class=normal><a href=#__codelineno-186-2>2</a></span>
<span class=normal><a href=#__codelineno-186-3>3</a></span>
<span class=normal><a href=#__codelineno-186-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-186-1><a id=__codelineno-186-1 name=__codelineno-186-1></a># Generated by Puppet
</span><span id=__span-186-2><a id=__codelineno-186-2 name=__codelineno-186-2></a>domain deimos.fr
</span><span id=__span-186-3><a id=__codelineno-186-3 name=__codelineno-186-3></a>search deimos.fr deimos.lan
</span><span id=__span-186-4><a id=__codelineno-186-4 name=__codelineno-186-4></a>nameserver 127.0.0.1
</span></code></pre></div></td></tr></table></div> <h4 id=templates_8>templates</h4> <p>And finally, the configuration of the template that will act with the information filled in vars.pp:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-187-1> 1</a></span>
<span class=normal><a href=#__codelineno-187-2> 2</a></span>
<span class=normal><a href=#__codelineno-187-3> 3</a></span>
<span class=normal><a href=#__codelineno-187-4> 4</a></span>
<span class=normal><a href=#__codelineno-187-5> 5</a></span>
<span class=normal><a href=#__codelineno-187-6> 6</a></span>
<span class=normal><a href=#__codelineno-187-7> 7</a></span>
<span class=normal><a href=#__codelineno-187-8> 8</a></span>
<span class=normal><a href=#__codelineno-187-9> 9</a></span>
<span class=normal><a href=#__codelineno-187-10>10</a></span>
<span class=normal><a href=#__codelineno-187-11>11</a></span>
<span class=normal><a href=#__codelineno-187-12>12</a></span>
<span class=normal><a href=#__codelineno-187-13>13</a></span>
<span class=normal><a href=#__codelineno-187-14>14</a></span>
<span class=normal><a href=#__codelineno-187-15>15</a></span>
<span class=normal><a href=#__codelineno-187-16>16</a></span>
<span class=normal><a href=#__codelineno-187-17>17</a></span>
<span class=normal><a href=#__codelineno-187-18>18</a></span>
<span class=normal><a href=#__codelineno-187-19>19</a></span>
<span class=normal><a href=#__codelineno-187-20>20</a></span>
<span class=normal><a href=#__codelineno-187-21>21</a></span>
<span class=normal><a href=#__codelineno-187-22>22</a></span>
<span class=normal><a href=#__codelineno-187-23>23</a></span>
<span class=normal><a href=#__codelineno-187-24>24</a></span>
<span class=normal><a href=#__codelineno-187-25>25</a></span>
<span class=normal><a href=#__codelineno-187-26>26</a></span>
<span class=normal><a href=#__codelineno-187-27>27</a></span>
<span class=normal><a href=#__codelineno-187-28>28</a></span>
<span class=normal><a href=#__codelineno-187-29>29</a></span>
<span class=normal><a href=#__codelineno-187-30>30</a></span>
<span class=normal><a href=#__codelineno-187-31>31</a></span>
<span class=normal><a href=#__codelineno-187-32>32</a></span>
<span class=normal><a href=#__codelineno-187-33>33</a></span>
<span class=normal><a href=#__codelineno-187-34>34</a></span>
<span class=normal><a href=#__codelineno-187-35>35</a></span>
<span class=normal><a href=#__codelineno-187-36>36</a></span>
<span class=normal><a href=#__codelineno-187-37>37</a></span>
<span class=normal><a href=#__codelineno-187-38>38</a></span>
<span class=normal><a href=#__codelineno-187-39>39</a></span>
<span class=normal><a href=#__codelineno-187-40>40</a></span>
<span class=normal><a href=#__codelineno-187-41>41</a></span>
<span class=normal><a href=#__codelineno-187-42>42</a></span>
<span class=normal><a href=#__codelineno-187-43>43</a></span>
<span class=normal><a href=#__codelineno-187-44>44</a></span>
<span class=normal><a href=#__codelineno-187-45>45</a></span>
<span class=normal><a href=#__codelineno-187-46>46</a></span>
<span class=normal><a href=#__codelineno-187-47>47</a></span>
<span class=normal><a href=#__codelineno-187-48>48</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-187-1><a id=__codelineno-187-1 name=__codelineno-187-1></a>// Generated by Puppet
</span><span id=__span-187-2><a id=__codelineno-187-2 name=__codelineno-187-2></a>//
</span><span id=__span-187-3><a id=__codelineno-187-3 name=__codelineno-187-3></a>// named.conf
</span><span id=__span-187-4><a id=__codelineno-187-4 name=__codelineno-187-4></a>//
</span><span id=__span-187-5><a id=__codelineno-187-5 name=__codelineno-187-5></a>// Provided by Red Hat bind package to configure the ISC BIND named(8) DNS
</span><span id=__span-187-6><a id=__codelineno-187-6 name=__codelineno-187-6></a>// server as a caching only nameserver (as a localhost DNS resolver only).
</span><span id=__span-187-7><a id=__codelineno-187-7 name=__codelineno-187-7></a>//
</span><span id=__span-187-8><a id=__codelineno-187-8 name=__codelineno-187-8></a>// See /usr/share/doc/bind*/sample/ for example named configuration files.
</span><span id=__span-187-9><a id=__codelineno-187-9 name=__codelineno-187-9></a>//
</span><span id=__span-187-10><a id=__codelineno-187-10 name=__codelineno-187-10></a>
</span><span id=__span-187-11><a id=__codelineno-187-11 name=__codelineno-187-11></a>options {
</span><span id=__span-187-12><a id=__codelineno-187-12 name=__codelineno-187-12></a>        listen-on port 53 { 127.0.0.1; };
</span><span id=__span-187-13><a id=__codelineno-187-13 name=__codelineno-187-13></a>        listen-on-v6 port 53 { ::1; };
</span><span id=__span-187-14><a id=__codelineno-187-14 name=__codelineno-187-14></a>        directory       &quot;/var/named&quot;;
</span><span id=__span-187-15><a id=__codelineno-187-15 name=__codelineno-187-15></a>        dump-file       &quot;/var/named/data/cache_dump.db&quot;;
</span><span id=__span-187-16><a id=__codelineno-187-16 name=__codelineno-187-16></a>        statistics-file &quot;/var/named/data/named_stats.txt&quot;;
</span><span id=__span-187-17><a id=__codelineno-187-17 name=__codelineno-187-17></a>        memstatistics-file &quot;/var/named/data/named_mem_stats.txt&quot;;
</span><span id=__span-187-18><a id=__codelineno-187-18 name=__codelineno-187-18></a>        allow-query     { localhost; };
</span><span id=__span-187-19><a id=__codelineno-187-19 name=__codelineno-187-19></a>        recursion yes;
</span><span id=__span-187-20><a id=__codelineno-187-20 name=__codelineno-187-20></a>
</span><span id=__span-187-21><a id=__codelineno-187-21 name=__codelineno-187-21></a>        dnssec-enable no;
</span><span id=__span-187-22><a id=__codelineno-187-22 name=__codelineno-187-22></a>        dnssec-validation no;
</span><span id=__span-187-23><a id=__codelineno-187-23 name=__codelineno-187-23></a>        dnssec-lookaside auto;
</span><span id=__span-187-24><a id=__codelineno-187-24 name=__codelineno-187-24></a>
</span><span id=__span-187-25><a id=__codelineno-187-25 name=__codelineno-187-25></a>        forwarders {
</span><span id=__span-187-26><a id=__codelineno-187-26 name=__codelineno-187-26></a>            &lt;% dns_servers.each do |dnsval| -%&gt;            &lt;%= dnsval %&gt;;
</span><span id=__span-187-27><a id=__codelineno-187-27 name=__codelineno-187-27></a>            &lt;% end -%&gt;        };
</span><span id=__span-187-28><a id=__codelineno-187-28 name=__codelineno-187-28></a>
</span><span id=__span-187-29><a id=__codelineno-187-29 name=__codelineno-187-29></a>        /* Path to ISC DLV key */
</span><span id=__span-187-30><a id=__codelineno-187-30 name=__codelineno-187-30></a>        bindkeys-file &quot;/etc/named.iscdlv.key&quot;;
</span><span id=__span-187-31><a id=__codelineno-187-31 name=__codelineno-187-31></a>
</span><span id=__span-187-32><a id=__codelineno-187-32 name=__codelineno-187-32></a>        managed-keys-directory &quot;/var/named/dynamic&quot;;
</span><span id=__span-187-33><a id=__codelineno-187-33 name=__codelineno-187-33></a>};
</span><span id=__span-187-34><a id=__codelineno-187-34 name=__codelineno-187-34></a>
</span><span id=__span-187-35><a id=__codelineno-187-35 name=__codelineno-187-35></a>logging {
</span><span id=__span-187-36><a id=__codelineno-187-36 name=__codelineno-187-36></a>        channel default_debug {
</span><span id=__span-187-37><a id=__codelineno-187-37 name=__codelineno-187-37></a>                file &quot;data/named.run&quot;;
</span><span id=__span-187-38><a id=__codelineno-187-38 name=__codelineno-187-38></a>                severity dynamic;
</span><span id=__span-187-39><a id=__codelineno-187-39 name=__codelineno-187-39></a>        };
</span><span id=__span-187-40><a id=__codelineno-187-40 name=__codelineno-187-40></a>};
</span><span id=__span-187-41><a id=__codelineno-187-41 name=__codelineno-187-41></a>
</span><span id=__span-187-42><a id=__codelineno-187-42 name=__codelineno-187-42></a>zone &quot;.&quot; IN {
</span><span id=__span-187-43><a id=__codelineno-187-43 name=__codelineno-187-43></a>        type hint;
</span><span id=__span-187-44><a id=__codelineno-187-44 name=__codelineno-187-44></a>        file &quot;named.ca&quot;;
</span><span id=__span-187-45><a id=__codelineno-187-45 name=__codelineno-187-45></a>};
</span><span id=__span-187-46><a id=__codelineno-187-46 name=__codelineno-187-46></a>
</span><span id=__span-187-47><a id=__codelineno-187-47 name=__codelineno-187-47></a>include &quot;/etc/named.rfc1912.zones&quot;;
</span><span id=__span-187-48><a id=__codelineno-187-48 name=__codelineno-187-48></a>include &quot;/etc/named.root.key&quot;;
</span></code></pre></div></td></tr></table></div> <h3 id=importing-a-module>Importing a module</h3> <p>Modules need to be imported into puppet for them to be handled. Here, we don't have to worry about it because according to the server configuration we've made, it will automatically load the modules in /etc/puppet/modules. However, if you want to authorize module by module, you need to import them manually:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-188-1>1</a></span>
<span class=normal><a href=#__codelineno-188-2>2</a></span>
<span class=normal><a href=#__codelineno-188-3>3</a></span>
<span class=normal><a href=#__codelineno-188-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-188-1><a id=__codelineno-188-1 name=__codelineno-188-1></a><span class=c1># /etc/puppet/manifests/modules.pp</span>
</span><span id=__span-188-2><a id=__codelineno-188-2 name=__codelineno-188-2></a>
</span><span id=__span-188-3><a id=__codelineno-188-3 name=__codelineno-188-3></a><span class=n>import</span><span class=w> </span><span class=s2>&quot;sudo&quot;</span>
</span><span id=__span-188-4><a id=__codelineno-188-4 name=__codelineno-188-4></a><span class=n>import</span><span class=w> </span><span class=s2>&quot;ssh&quot;</span>
</span></code></pre></div></td></tr></table></div> <p><strong>WARNING</strong></p> <p>Be careful because from the moment this is filled in, there's no need to restart puppet for the changes to be taken into account. So you'll need to be careful about what you make available at time t.</p> <h4 id=importing-all-modules-at-once>Importing all modules at once</h4> <p>This can have serious consequences, but know that it's possible to do it:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-189-1>1</a></span>
<span class=normal><a href=#__codelineno-189-2>2</a></span>
<span class=normal><a href=#__codelineno-189-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-189-1><a id=__codelineno-189-1 name=__codelineno-189-1></a><span class=c1># /etc/puppet/manifests/modules.pp</span>
</span><span id=__span-189-2><a id=__codelineno-189-2 name=__codelineno-189-2></a>
</span><span id=__span-189-3><a id=__codelineno-189-3 name=__codelineno-189-3></a><span class=n>import</span><span class=w> </span><span class=s2>&quot;*.pp&quot;</span>
</span></code></pre></div></td></tr></table></div> <h2 id=usage>Usage</h2> <h3 id=certificates>Certificates</h3> <p>Puppet works with certificates for client/server exchanges. So we'll need to generate SSL keys on the server and then exchange with all clients. The use of SSL keys therefore requires a good configuration of your DNS server. So check that:</p> <ul> <li>The server name is definitive</li> <li>The server name is accessible via puppet.mydomain.com (I'll continue the configuration for myself with puppet-prd.deimos.fr)</li> </ul> <h4 id=creating-a-certificate>Creating a certificate</h4> <ul> <li>So we'll create our certificate (<strong>normally already done when the installation is done on Debian</strong>):</li> </ul> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-190-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-190-1><a id=__codelineno-190-1 name=__codelineno-190-1></a>puppet cert generate puppet-prd.deimos.fr
</span></code></pre></div></td></tr></table></div> <p><strong>WARNING</strong></p> <p>It's imperative that <strong>ALL names filled in the certificate are reachable</strong> otherwise clients won't be able to synchronize with the server</p> <ul> <li>If you want to validate a certificate with multiple domain names, you'll need to proceed like this:</li> </ul> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-191-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-191-1><a id=__codelineno-191-1 name=__codelineno-191-1></a>puppet cert cert generate --dns_alt_names puppet:scar.deimos.fr puppet-prd.deimos.fr
</span></code></pre></div></td></tr></table></div> <p>Insert the names you need one after the other. I remind you that by default, clients will look for <strong>puppet.</strong>mydomain.com, so don't hesitate to add names if needed. You can then verify that the certificate contains both names:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-192-1>1</a></span>
<span class=normal><a href=#__codelineno-192-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-192-1><a id=__codelineno-192-1 name=__codelineno-192-1></a>&gt; openssl x509 -text -in /var/lib/puppet/ssl/certs/puppet-prd.deimos.fr.pem | grep DNS
</span><span id=__span-192-2><a id=__codelineno-192-2 name=__codelineno-192-2></a>DNS:puppet, DNS:scar.deimos.fr, DNS:puppet-prd.deimos.fr
</span></code></pre></div></td></tr></table></div> <p>You can see possible certificate errors by connecting:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-193-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-193-1><a id=__codelineno-193-1 name=__codelineno-193-1></a>openssl s_client -host puppet -port 8140 -cert /path/to/ssl/certs/node.domain.com.pem -key /path/to/ssl/private_keys/node.domain.com.pem -CAfile /path/to/ssl/certs/ca.pem
</span></code></pre></div></td></tr></table></div> <p><em>Note: Don't forget to restart your web server if you change certificates</em></p> <h4 id=adding-a-puppet-client-to-the-server>Adding a puppet client to the server</h4> <p>For the certificate, it's simple, we'll make a certificate request:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-194-1>1</a></span>
<span class=normal><a href=#__codelineno-194-2>2</a></span>
<span class=normal><a href=#__codelineno-194-3>3</a></span>
<span class=normal><a href=#__codelineno-194-4>4</a></span>
<span class=normal><a href=#__codelineno-194-5>5</a></span>
<span class=normal><a href=#__codelineno-194-6>6</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-194-1><a id=__codelineno-194-1 name=__codelineno-194-1></a>$ puppet agent --server puppet-prd.deimos.fr --waitforcert 60 --test
</span><span id=__span-194-2><a id=__codelineno-194-2 name=__codelineno-194-2></a>notice: Ignoring cache
</span><span id=__span-194-3><a id=__codelineno-194-3 name=__codelineno-194-3></a>info: Caching catalog at /var/lib/puppet/state/localconfig.yaml
</span><span id=__span-194-4><a id=__codelineno-194-4 name=__codelineno-194-4></a>notice: Starting catalog run
</span><span id=__span-194-5><a id=__codelineno-194-5 name=__codelineno-194-5></a>notice: //information_class/Exec[echo running on debian-puppet-prd.deimos.fr is a Debian with ip 192.168.0.106. Message is &#39;puppet c&#39;est super&#39;]/returns: executed successfully
</span><span id=__span-194-6><a id=__codelineno-194-6 name=__codelineno-194-6></a>notice: Finished catalog run in 0.45 seconds
</span></code></pre></div></td></tr></table></div> <p>Now we'll connect <strong>to the server</strong> and run this command:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-195-1>1</a></span>
<span class=normal><a href=#__codelineno-195-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-195-1><a id=__codelineno-195-1 name=__codelineno-195-1></a>$ puppet cert -l
</span><span id=__span-195-2><a id=__codelineno-195-2 name=__codelineno-195-2></a>debian-puppet-prd.deimos.fr
</span></code></pre></div></td></tr></table></div> <p>Here I see, for example, that I have a host that wants to exchange keys in order to then obtain the configurations due to it. Only it needs to be authorized. To do this:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-196-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-196-1><a id=__codelineno-196-1 name=__codelineno-196-1></a>puppet cert -s debian-puppet-prd.deimos.fr
</span></code></pre></div></td></tr></table></div> <p>The machine is now accepted and can fetch configs from the Puppet server.</p> <p>If you want to refuse a waiting node:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-197-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-197-1><a id=__codelineno-197-1 name=__codelineno-197-1></a>puppet cert -c debian-puppet-prd.deimos.fr
</span></code></pre></div></td></tr></table></div> <p>If you want to see the list of all authorized nodes, puppetmaster keeps them registered here:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-198-1>1</a></span>
<span class=normal><a href=#__codelineno-198-2>2</a></span>
<span class=normal><a href=#__codelineno-198-3>3</a></span>
<span class=normal><a href=#__codelineno-198-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-198-1><a id=__codelineno-198-1 name=__codelineno-198-1></a>0x0001 2010-03-08T15:45:48GMT 2015-03-07T15:45:48GMT /CN=puppet-prd.deimos.fr
</span><span id=__span-198-2><a id=__codelineno-198-2 name=__codelineno-198-2></a>0x0002 2010-03-08T16:36:16GMT 2015-03-07T16:36:16GMT /CN=node1.deimos.fr
</span><span id=__span-198-3><a id=__codelineno-198-3 name=__codelineno-198-3></a>0x0003 2010-03-08T16:36:25GMT 2015-03-07T16:36:25GMT /CN=node2.deimos.fr
</span><span id=__span-198-4><a id=__codelineno-198-4 name=__codelineno-198-4></a>0x0004 2010-04-14T12:41:24GMT 2015-04-13T12:41:24GMT /CN=node3.deimos.fr
</span></code></pre></div></td></tr></table></div> <h4 id=synchronizing-a-client>Synchronizing a client</h4> <p>Now that our machines are connected, we'll want to synchronize them from time to time. Here's how to do a manual synchronization from a client machine:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-199-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-199-1><a id=__codelineno-199-1 name=__codelineno-199-1></a>puppet agent -t
</span></code></pre></div></td></tr></table></div> <p>If you want to synchronize only one module, you can use the --tags option:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-200-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-200-1><a id=__codelineno-200-1 name=__codelineno-200-1></a>puppet agent -t --tags module1 module2...
</span></code></pre></div></td></tr></table></div> <h5 id=simulating>Simulating</h5> <p>If you need to test before actually deploying, there's the --noop option:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-201-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-201-1><a id=__codelineno-201-1 name=__codelineno-201-1></a>puppet agent -t --noop
</span></code></pre></div></td></tr></table></div> <p>You can also add the 'audit' directive in a manifest if you just want to audit a resource:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-202-1>1</a></span>
<span class=normal><a href=#__codelineno-202-2>2</a></span>
<span class=normal><a href=#__codelineno-202-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-202-1><a id=__codelineno-202-1 name=__codelineno-202-1></a><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;/etc/passwd&quot;</span><span class=p>:</span>
</span><span id=__span-202-2><a id=__codelineno-202-2 name=__codelineno-202-2></a><span class=w>    </span><span class=n>audit</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=o>[</span><span class=w> </span><span class=n>owner</span><span class=p>,</span><span class=w> </span><span class=n>mode</span><span class=w> </span><span class=o>]</span><span class=p>,</span>
</span><span id=__span-202-3><a id=__codelineno-202-3 name=__codelineno-202-3></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Here we ask to audit the user and the rights, but know that it's possible to replace with 'all' to audit everything!</p> <h4 id=revoking-a-certificate>Revoking a certificate</h4> <ul> <li>If you want to revoke a certificate, here's how to proceed on the server:</li> </ul> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-203-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-203-1><a id=__codelineno-203-1 name=__codelineno-203-1></a>puppet cert clean my_machine
</span></code></pre></div></td></tr></table></div> <ul> <li>Otherwise there's this method:</li> </ul> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-204-1>1</a></span>
<span class=normal><a href=#__codelineno-204-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-204-1><a id=__codelineno-204-1 name=__codelineno-204-1></a>puppet cert -r my_machine
</span><span id=__span-204-2><a id=__codelineno-204-2 name=__codelineno-204-2></a>puppet cert -c my_machine
</span></code></pre></div></td></tr></table></div> <p>Simple, right? :-)</p> <p>If you want to reassign again, delete the ssl folder on the client side in '/etc/puppet/' or '/var/lib/puppet/'. Then you can restart a certificate request.</p> <h4 id=revoking-all-server-certificates>Revoking all server certificates</h4> <p>If your puppet master is broken everywhere and you want to regenerate new keys and delete all the old ones:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-205-1>1</a></span>
<span class=normal><a href=#__codelineno-205-2>2</a></span>
<span class=normal><a href=#__codelineno-205-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-205-1><a id=__codelineno-205-1 name=__codelineno-205-1></a>puppet cert clean --all
</span><span id=__span-205-2><a id=__codelineno-205-2 name=__codelineno-205-2></a>rm -Rf /var/lib/puppet/ssl/certs/*
</span><span id=__span-205-3><a id=__codelineno-205-3 name=__codelineno-205-3></a>/etc/init.d/puppetmaster restart
</span></code></pre></div></td></tr></table></div> <h3 id=process-monitoring>Process monitoring</h3> <p>On clients, it's not necessary to use monitoring software, since the puppetd daemons are only launched manually or by CRON task. On the server, it's important that the puppetmaster process is always present. You can use the 'monit' software, which can automatically restart the process in case of problems.</p> <h4 id=determining-node-status>Determining node status</h4> <p>To see if there are problems on a node, you can manually run the following command:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-206-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-206-1><a id=__codelineno-206-1 name=__codelineno-206-1></a>puppetd --no-daemon --verbose --onetime
</span></code></pre></div></td></tr></table></div> <p>If you want to know the last state/result of a puppet update, you can use the 'report' system once activated (on the clients):</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-207-1>1</a></span>
<span class=normal><a href=#__codelineno-207-2>2</a></span>
<span class=normal><a href=#__codelineno-207-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-207-1><a id=__codelineno-207-1 name=__codelineno-207-1></a>...
</span><span id=__span-207-2><a id=__codelineno-207-2 name=__codelineno-207-2></a>report = true
</span><span id=__span-207-3><a id=__codelineno-207-3 name=__codelineno-207-3></a>...
</span></code></pre></div></td></tr></table></div> <p>By enabling reporting, each time the puppetd daemon is executed, a report will be sent to the puppetmaster in a YAML format file, in the /var/lib/puppet/reports/MACHINE_NAME directory.</p> <p>Here's an example of a report file, easily transformable into a dictionary with the yaml module of python (or ruby):</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-208-1> 1</a></span>
<span class=normal><a href=#__codelineno-208-2> 2</a></span>
<span class=normal><a href=#__codelineno-208-3> 3</a></span>
<span class=normal><a href=#__codelineno-208-4> 4</a></span>
<span class=normal><a href=#__codelineno-208-5> 5</a></span>
<span class=normal><a href=#__codelineno-208-6> 6</a></span>
<span class=normal><a href=#__codelineno-208-7> 7</a></span>
<span class=normal><a href=#__codelineno-208-8> 8</a></span>
<span class=normal><a href=#__codelineno-208-9> 9</a></span>
<span class=normal><a href=#__codelineno-208-10>10</a></span>
<span class=normal><a href=#__codelineno-208-11>11</a></span>
<span class=normal><a href=#__codelineno-208-12>12</a></span>
<span class=normal><a href=#__codelineno-208-13>13</a></span>
<span class=normal><a href=#__codelineno-208-14>14</a></span>
<span class=normal><a href=#__codelineno-208-15>15</a></span>
<span class=normal><a href=#__codelineno-208-16>16</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-208-1><a id=__codelineno-208-1 name=__codelineno-208-1></a><span class=o>---</span><span class=w> </span><span class=o>!</span><span class=n>ruby</span><span class=o>/</span><span class=ss>object</span><span class=p>:</span><span class=no>Puppet</span><span class=o>::</span><span class=no>Transaction</span><span class=o>::</span><span class=no>Report</span>
</span><span id=__span-208-2><a id=__codelineno-208-2 name=__codelineno-208-2></a><span class=ss>host</span><span class=p>:</span><span class=w> </span><span class=n>deb</span><span class=o>-</span><span class=n>puppet</span><span class=o>-</span><span class=n>client</span><span class=o>.</span><span class=n>deimos</span><span class=o>.</span><span class=n>fr</span>
</span><span id=__span-208-3><a id=__codelineno-208-3 name=__codelineno-208-3></a><span class=ss>logs</span><span class=p>:</span>
</span><span id=__span-208-4><a id=__codelineno-208-4 name=__codelineno-208-4></a><span class=o>-</span><span class=w> </span><span class=o>!</span><span class=n>ruby</span><span class=o>/</span><span class=ss>object</span><span class=p>:</span><span class=no>Puppet</span><span class=o>::</span><span class=no>Util</span><span class=o>::</span><span class=no>Log</span>
</span><span id=__span-208-5><a id=__codelineno-208-5 name=__codelineno-208-5></a><span class=w>  </span><span class=ss>level</span><span class=p>:</span><span class=w> </span><span class=ss>:info</span>
</span><span id=__span-208-6><a id=__codelineno-208-6 name=__codelineno-208-6></a><span class=w>  </span><span class=ss>message</span><span class=p>:</span><span class=w> </span><span class=no>Applying</span><span class=w> </span><span class=n>configuration</span><span class=w> </span><span class=n>version</span><span class=w> </span><span class=s1>&#39;1275982371&#39;</span>
</span><span id=__span-208-7><a id=__codelineno-208-7 name=__codelineno-208-7></a><span class=w>  </span><span class=ss>source</span><span class=p>:</span><span class=w> </span><span class=no>Puppet</span>
</span><span id=__span-208-8><a id=__codelineno-208-8 name=__codelineno-208-8></a><span class=w>  </span><span class=ss>tags</span><span class=p>:</span>
</span><span id=__span-208-9><a id=__codelineno-208-9 name=__codelineno-208-9></a><span class=w>  </span><span class=o>-</span><span class=w> </span><span class=n>info</span>
</span><span id=__span-208-10><a id=__codelineno-208-10 name=__codelineno-208-10></a><span class=w>  </span><span class=ss>time</span><span class=p>:</span><span class=w> </span><span class=mi>2010</span><span class=o>-</span><span class=mo>06</span><span class=o>-</span><span class=mi>08</span><span class=w> </span><span class=mi>11</span><span class=p>:</span><span class=mi>37</span><span class=p>:</span><span class=mi>59</span><span class=o>.</span><span class=mi>521132</span><span class=w> </span><span class=o>+</span><span class=mo>02</span><span class=p>:</span><span class=mo>00</span>
</span><span id=__span-208-11><a id=__codelineno-208-11 name=__codelineno-208-11></a><span class=o>-</span><span class=w> </span><span class=o>!</span><span class=n>ruby</span><span class=o>/</span><span class=ss>object</span><span class=p>:</span><span class=no>Puppet</span><span class=o>::</span><span class=no>Util</span><span class=o>::</span><span class=no>Log</span>
</span><span id=__span-208-12><a id=__codelineno-208-12 name=__codelineno-208-12></a><span class=w>  </span><span class=ss>file</span><span class=p>:</span> <span class=sr>/etc/</span><span class=n>puppet</span><span class=o>/</span><span class=n>modules</span><span class=o>/</span><span class=n>sudo</span><span class=o>/</span><span class=n>manifests</span><span class=o>/</span><span class=n>init</span><span class=o>.</span><span class=n>pp</span>
</span><span id=__span-208-13><a id=__codelineno-208-13 name=__codelineno-208-13></a><span class=w>  </span><span class=ss>level</span><span class=p>:</span><span class=w> </span><span class=ss>:err</span>
</span><span id=__span-208-14><a id=__codelineno-208-14 name=__codelineno-208-14></a><span class=w>  </span><span class=ss>line</span><span class=p>:</span><span class=w> </span><span class=mi>11</span>
</span><span id=__span-208-15><a id=__codelineno-208-15 name=__codelineno-208-15></a><span class=w>  </span><span class=ss>message</span><span class=p>:</span><span class=w> </span><span class=s2>&quot;Failed to retrieve current state of resource: Could not retrieve information from source(s) puppet:///sudo/sudoers at /etc/puppet/modules/sudo/manifests/init.pp:11&quot;</span>
</span><span id=__span-208-16><a id=__codelineno-208-16 name=__codelineno-208-16></a><span class=w>  </span><span class=ss>source</span><span class=p>:</span> <span class=sr>//su</span><span class=k>do</span><span class=o>/</span><span class=no>File</span><span class=o>[</span><span class=sr>/etc/su</span><span class=n>doers</span><span class=o>]</span>
</span></code></pre></div></td></tr></table></div> <p>A prettier method by graphical interface also exists, it's the Puppet Dashboard.</p> <h2 id=advanced-usage>Advanced usage</h2> <h3 id=monitoring-passenger>Monitoring Passenger</h3> <p>There are binaries that allow you to get information about your Passenger and tune it if needed:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-209-1>1</a></span>
<span class=normal><a href=#__codelineno-209-2>2</a></span>
<span class=normal><a href=#__codelineno-209-3>3</a></span>
<span class=normal><a href=#__codelineno-209-4>4</a></span>
<span class=normal><a href=#__codelineno-209-5>5</a></span>
<span class=normal><a href=#__codelineno-209-6>6</a></span>
<span class=normal><a href=#__codelineno-209-7>7</a></span>
<span class=normal><a href=#__codelineno-209-8>8</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-209-1><a id=__codelineno-209-1 name=__codelineno-209-1></a>----------- General information -----------
</span><span id=__span-209-2><a id=__codelineno-209-2 name=__codelineno-209-2></a>max      = 12
</span><span id=__span-209-3><a id=__codelineno-209-3 name=__codelineno-209-3></a>count    = 0
</span><span id=__span-209-4><a id=__codelineno-209-4 name=__codelineno-209-4></a>active   = 0
</span><span id=__span-209-5><a id=__codelineno-209-5 name=__codelineno-209-5></a>inactive = 0
</span><span id=__span-209-6><a id=__codelineno-209-6 name=__codelineno-209-6></a>Waiting on global queue: 0
</span><span id=__span-209-7><a id=__codelineno-209-7 name=__codelineno-209-7></a>
</span><span id=__span-209-8><a id=__codelineno-209-8 name=__codelineno-209-8></a>----------- Application groups -----------
</span></code></pre></div></td></tr></table></div> <p>And here's another piece of information:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-210-1> 1</a></span>
<span class=normal><a href=#__codelineno-210-2> 2</a></span>
<span class=normal><a href=#__codelineno-210-3> 3</a></span>
<span class=normal><a href=#__codelineno-210-4> 4</a></span>
<span class=normal><a href=#__codelineno-210-5> 5</a></span>
<span class=normal><a href=#__codelineno-210-6> 6</a></span>
<span class=normal><a href=#__codelineno-210-7> 7</a></span>
<span class=normal><a href=#__codelineno-210-8> 8</a></span>
<span class=normal><a href=#__codelineno-210-9> 9</a></span>
<span class=normal><a href=#__codelineno-210-10>10</a></span>
<span class=normal><a href=#__codelineno-210-11>11</a></span>
<span class=normal><a href=#__codelineno-210-12>12</a></span>
<span class=normal><a href=#__codelineno-210-13>13</a></span>
<span class=normal><a href=#__codelineno-210-14>14</a></span>
<span class=normal><a href=#__codelineno-210-15>15</a></span>
<span class=normal><a href=#__codelineno-210-16>16</a></span>
<span class=normal><a href=#__codelineno-210-17>17</a></span>
<span class=normal><a href=#__codelineno-210-18>18</a></span>
<span class=normal><a href=#__codelineno-210-19>19</a></span>
<span class=normal><a href=#__codelineno-210-20>20</a></span>
<span class=normal><a href=#__codelineno-210-21>21</a></span>
<span class=normal><a href=#__codelineno-210-22>22</a></span>
<span class=normal><a href=#__codelineno-210-23>23</a></span>
<span class=normal><a href=#__codelineno-210-24>24</a></span>
<span class=normal><a href=#__codelineno-210-25>25</a></span>
<span class=normal><a href=#__codelineno-210-26>26</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-210-1><a id=__codelineno-210-1 name=__codelineno-210-1></a>--------- Apache processes ---------
</span><span id=__span-210-2><a id=__codelineno-210-2 name=__codelineno-210-2></a>PID   PPID  VMSize    Private  Name
</span><span id=__span-210-3><a id=__codelineno-210-3 name=__codelineno-210-3></a>------------------------------------
</span><span id=__span-210-4><a id=__codelineno-210-4 name=__codelineno-210-4></a>1841  1     91.9 MB   0.6 MB   /usr/sbin/apache2 -k start
</span><span id=__span-210-5><a id=__codelineno-210-5 name=__codelineno-210-5></a>1846  1841  91.1 MB   0.6 MB   /usr/sbin/apache2 -k start
</span><span id=__span-210-6><a id=__codelineno-210-6 name=__codelineno-210-6></a>1903  1841  308.0 MB  0.5 MB   /usr/sbin/apache2 -k start
</span><span id=__span-210-7><a id=__codelineno-210-7 name=__codelineno-210-7></a>1904  1841  308.0 MB  0.5 MB   /usr/sbin/apache2 -k start
</span><span id=__span-210-8><a id=__codelineno-210-8 name=__codelineno-210-8></a>### Processes: 4
</span><span id=__span-210-9><a id=__codelineno-210-9 name=__codelineno-210-9></a>### Total private dirty RSS: 2.14 MB
</span><span id=__span-210-10><a id=__codelineno-210-10 name=__codelineno-210-10></a>
</span><span id=__span-210-11><a id=__codelineno-210-11 name=__codelineno-210-11></a>
</span><span id=__span-210-12><a id=__codelineno-210-12 name=__codelineno-210-12></a>-------- Nginx processes --------
</span><span id=__span-210-13><a id=__codelineno-210-13 name=__codelineno-210-13></a>
</span><span id=__span-210-14><a id=__codelineno-210-14 name=__codelineno-210-14></a>### Processes: 0
</span><span id=__span-210-15><a id=__codelineno-210-15 name=__codelineno-210-15></a>### Total private dirty RSS: 0.00 MB
</span><span id=__span-210-16><a id=__codelineno-210-16 name=__codelineno-210-16></a>
</span><span id=__span-210-17><a id=__codelineno-210-17 name=__codelineno-210-17></a>
</span><span id=__span-210-18><a id=__codelineno-210-18 name=__codelineno-210-18></a>---- Passenger processes ----
</span><span id=__span-210-19><a id=__codelineno-210-19 name=__codelineno-210-19></a>PID   VMSize   Private  Name
</span><span id=__span-210-20><a id=__codelineno-210-20 name=__codelineno-210-20></a>-----------------------------
</span><span id=__span-210-21><a id=__codelineno-210-21 name=__codelineno-210-21></a>1847  22.9 MB  0.3 MB   PassengerWatchdog
</span><span id=__span-210-22><a id=__codelineno-210-22 name=__codelineno-210-22></a>1852  31.6 MB  0.3 MB   PassengerHelperAgent
</span><span id=__span-210-23><a id=__codelineno-210-23 name=__codelineno-210-23></a>1857  43.1 MB  5.8 MB   Passenger spawn server
</span><span id=__span-210-24><a id=__codelineno-210-24 name=__codelineno-210-24></a>1860  79.9 MB  0.9 MB   PassengerLoggingAgent
</span><span id=__span-210-25><a id=__codelineno-210-25 name=__codelineno-210-25></a>### Processes: 4
</span><span id=__span-210-26><a id=__codelineno-210-26 name=__codelineno-210-26></a>### Total private dirty RSS: 7.26 MB
</span></code></pre></div></td></tr></table></div> <h3 id=checking-the-syntax-of-your-pp-files>Checking the syntax of your .pp files</h3> <p>When you create/edit a puppet module, it can be quickly very practical to check the syntax. Here's how:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-211-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-211-1><a id=__codelineno-211-1 name=__codelineno-211-1></a>puppet parser validate init.pp
</span></code></pre></div></td></tr></table></div> <p>And if you want to do it on a larger scale:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-212-1>1</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-212-1><a id=__codelineno-212-1 name=__codelineno-212-1></a>find /etc/puppet/ -name &#39;*.pp&#39; | xargs -n 1 -t puppet parser validate
</span></code></pre></div></td></tr></table></div> <h3 id=overriding-restrictions>Overriding restrictions</h3> <p>If, for example, we've defined a class and for certain hosts we want to modify this configuration, we need to do it like this:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-213-1>1</a></span>
<span class=normal><a href=#__codelineno-213-2>2</a></span>
<span class=normal><a href=#__codelineno-213-3>3</a></span>
<span class=normal><a href=#__codelineno-213-4>4</a></span>
<span class=normal><a href=#__codelineno-213-5>5</a></span>
<span class=normal><a href=#__codelineno-213-6>6</a></span>
<span class=normal><a href=#__codelineno-213-7>7</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-213-1><a id=__codelineno-213-1 name=__codelineno-213-1></a><span class=k>class</span><span class=w> </span><span class=n>somehost_postfix</span><span class=w> </span><span class=n>inherits</span><span class=w> </span><span class=n>postfix</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-213-2><a id=__codelineno-213-2 name=__codelineno-213-2></a><span class=w>    </span><span class=c1># blah blah blah</span>
</span><span id=__span-213-3><a id=__codelineno-213-3 name=__codelineno-213-3></a><span class=p>}</span>
</span><span id=__span-213-4><a id=__codelineno-213-4 name=__codelineno-213-4></a>
</span><span id=__span-213-5><a id=__codelineno-213-5 name=__codelineno-213-5></a><span class=n>node</span><span class=w> </span><span class=n>somehost</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-213-6><a id=__codelineno-213-6 name=__codelineno-213-6></a><span class=w>    </span><span class=kp>include</span><span class=w> </span><span class=n>somehost_postfix</span>
</span><span id=__span-213-7><a id=__codelineno-213-7 name=__codelineno-213-7></a><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <p>Let's say we have a defined postfix module. We want to apply a particular config to certain hosts defined here by 'somehost'. To bypass the configuration, you need to create a class 'somehost_postfix'. I insist here on the nomenclature of the name to give for this class since it's only like this that Puppet will recognize that you want to apply a particular configuration.</p> <h3 id=disabling-a-resource>Disabling a resource</h3> <p>To temporarily disable a resource, just set noop to true:</p> <div class="language-ruby highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-214-1>1</a></span>
<span class=normal><a href=#__codelineno-214-2>2</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-214-1><a id=__codelineno-214-1 name=__codelineno-214-1></a><span class=n>file</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=s2>&quot;/etc/passwd&quot;</span><span class=p>:</span>
</span><span id=__span-214-2><a id=__codelineno-214-2 name=__codelineno-214-2></a><span class=w>    </span><span class=n>noop</span><span class=w> </span><span class=o>=&gt;</span><span class=w> </span><span class=kp>true</span><span class=p>}</span>
</span></code></pre></div></td></tr></table></div> <h3 id=pre-and-post-puppet-run>Pre and Post puppet run</h3> <p>It's possible to run scripts before and after a Puppet run. This can be useful in the case of backing up certain files via etckeeper for example. Add this to your puppet.conf file on your clients:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-215-1>1</a></span>
<span class=normal><a href=#__codelineno-215-2>2</a></span>
<span class=normal><a href=#__codelineno-215-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-215-1><a id=__codelineno-215-1 name=__codelineno-215-1></a>[...]
</span><span id=__span-215-2><a id=__codelineno-215-2 name=__codelineno-215-2></a>prerun_command = /usr/local/bin/before-puppet-run.sh
</span><span id=__span-215-3><a id=__codelineno-215-3 name=__codelineno-215-3></a>postrun_command = /usr/local/bin/after-puppet-run.sh
</span></code></pre></div></td></tr></table></div> <h3 id=cft>CFT</h3> <p>CFT (pronounced shift) is a small software that will look at what you do during a given period to generate a manifest for you. For example, you launch it just before doing an installation with its configuration and it will generate the manifest once completed. An example is better than a long speech:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-216-1>1</a></span>
<span class=normal><a href=#__codelineno-216-2>2</a></span>
<span class=normal><a href=#__codelineno-216-3>3</a></span>
<span class=normal><a href=#__codelineno-216-4>4</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-216-1><a id=__codelineno-216-1 name=__codelineno-216-1></a>cft begin apache
</span><span id=__span-216-2><a id=__codelineno-216-2 name=__codelineno-216-2></a>[...]
</span><span id=__span-216-3><a id=__codelineno-216-3 name=__codelineno-216-3></a>cft finish apache
</span><span id=__span-216-4><a id=__codelineno-216-4 name=__codelineno-216-4></a>cft manifest apache
</span></code></pre></div></td></tr></table></div> <h3 id=generating-a-manifest-from-an-existing-system>Generating a manifest from an existing system</h3> <p>Here's a simple solution to generate a manifest from an already installed system by specifying a resource. Here are some examples:</p> <div class="language-text highlight"><table class=highlighttable><tr><td class=linenos><div class=linenodiv><pre><span></span><span class=normal><a href=#__codelineno-217-1>1</a></span>
<span class=normal><a href=#__codelineno-217-2>2</a></span>
<span class=normal><a href=#__codelineno-217-3>3</a></span></pre></div></td><td class=code><div><pre><span></span><code><span id=__span-217-1><a id=__codelineno-217-1 name=__codelineno-217-1></a>puppet resource user root
</span><span id=__span-217-2><a id=__codelineno-217-2 name=__codelineno-217-2></a>puppet resource service httpd
</span><span id=__span-217-3><a id=__codelineno-217-3 name=__codelineno-217-3></a>puppet resource package postfix
</span></code></pre></div></td></tr></table></div> <h3 id=puppet-push>Puppet Push</h3> <p>Puppet works in client -&gt; server mode. It's the client that contacts the server every 30 minutes (by default) and asks for synchronization. When you're in dumb mode or when you want to trigger at a specific time the update of your client machines to the server, there's a special mode (listen). The problem is that the puppet client can't run in client and listen mode. So you need 2 instances... in short, the nightmares begin.</p> <p>To overcome this problem, I've developed Puppet push which allows asking clients (via SSH) to synchronize. As you'll have understood, it's more than necessary to have a key exchange done beforehand with the clients. How to do it? No worries, we've seen that above.</p> <p>To access the latest version, follow this link: <a href="http://www.deimos.fr/gitweb/?p=puppet_push.git;a=tree">http://www.deimos.fr/gitweb/?p=puppet_push.git;a=tree</a></p> <h3 id=mcollective_1>MCollective</h3> <p>MCollective is a bit of a gas plant, but it's very powerful and works very well with Puppet. It allows you like Puppet Push to do several actions on nodes, but uses a dedicated protocol, it doesn't need SSH to communicate with the nodes. To learn more, look at this article.</p> <h2 id=faq>FAQ</h2> <h3 id=err-could-not-retrieve-catalog-from-remote-server-hostname-was-not-match-with-the-server-certificate>err: Could not retrieve catalog from remote server: hostname was not match with the server certificate</h3> <p>You have a problem with your certificates. The best thing is to regenerate a certificate with all the server's hostnames in this certificate: Creating a certificate</p> <h2 id=resources>Resources</h2> <ul> <li><a href=http://reductivelabs.com/products/puppet/ >http://reductivelabs.com/products/puppet/</a></li> <li><a href=http://www.rottenbytes.info>http://www.rottenbytes.info</a></li> <li><a href=https://git.black.co.at/ >Modules for Puppet</a></li> <li><a href=https://reductivelabs.com/trac/puppet/wiki/Recipes>Puppet recipes</a></li> <li><a href=https://reductivelabs.com/trac/puppet/wiki/TypeReference>Types of objects for Puppet</a></li> <li><a href=https://www.masterzen.fr/2010/11/14/puppet-ssl-explained/ >Puppet SSL Explained</a> <a href=../static/pdf/puppet_ssl_explained.pdf>(../../static/pdf)</a></li> <li><a href=http://puppetcookbook.com/ >http://puppetcookbook.com/</a></li> </ul> <aside class=md-source-file> <span class=md-source-file__fact> <span class=md-icon title="Last update"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1zM12.5 7v5.2l4 2.4-1 1L11 13V7zM11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 2, 2013 09:43:00 UTC">August 2, 2013</span> </span> <span class=md-source-file__fact> <span class=md-icon title=Created> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M14.47 15.08 11 13V7h1.5v5.25l3.08 1.83c-.41.28-.79.62-1.11 1m-1.39 4.84c-.36.05-.71.08-1.08.08-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8c0 .37-.03.72-.08 1.08.69.1 1.33.32 1.92.64.1-.56.16-1.13.16-1.72 0-5.5-4.5-10-10-10S2 6.5 2 12s4.47 10 10 10c.59 0 1.16-.06 1.72-.16-.32-.59-.54-1.23-.64-1.92M18 15v3h-3v2h3v3h2v-3h3v-2h-3v-3z"/></svg> </span> <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="August 2, 2013 09:43:00 UTC">August 2, 2013</span> </span> </aside> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../mcollective-run-actions-in-parallel-on-remote-machines/ class="md-footer__link md-footer__link--prev" aria-label="Previous: MCollective: Run Actions in Parallel on Remote Machines"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> MCollective: Run Actions in Parallel on Remote Machines </div> </div> </a> <a href=../puppet-dashboard-setting-up-a-graphical-interface-for-puppet/ class="md-footer__link md-footer__link--next" aria-label="Next: Puppet Dashboard: Setting up a Graphical Interface for Puppet"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Puppet Dashboard: Setting up a Graphical Interface for Puppet </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "..", "features": ["header.autohide", "navigation.footer", "navigation.instant", "navigation.instant.progress", "navigation.instant.prefetch", "navigation.path", "navigation.indexes", "navigation.top", "search.suggest", "search.share", "content.action.edit", "content.code.copy", "content.code.select", "content.tabs.link"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.13a4f30d.min.js></script> <script src=../javascripts/file-icons.js></script> </body> </html>